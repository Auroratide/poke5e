var Es=Object.defineProperty;var Ss=(r,e,n)=>e in r?Es(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Ne=(r,e,n)=>Ss(r,typeof e!="symbol"?e+"":e,n);import{S as se,i as ae,s as oe,u as Z,f as d,J as On,j as fe,l as D,a8 as Cr,M as pn,g as b,k as E,N as ot,n as y,o as z,p as O,w as N,z as $e,q as T,r as B,y as F,d as S,t as g,a as h,U as Ee,m as C,c as I,b as A,O as et,E as Jt,F as Xt,G as xt,H as en,A as tt,h as J,K as fi,I as Ue,B as me,C as de,e as Ve,T as ne,Z as ie,_ as le,Q as $n,a6 as Vt,ac as Cs,a5 as Xe,V as Bn,W as qn,a9 as ui,v as je,x as Ge,a2 as ci,Y as Ar,ab as Ir}from"../chunks/vLTVu5Rt.js";import{P as zt,h as ct,u as Tt,R as yr,b as As,A as Tr,G as Pr,D as mi,S as Is,a as Kn,T as ys}from"../chunks/DORfl961.js";import"../chunks/BxlXVsHr.js";import{p as Ts}from"../chunks/B0DgPtZG.js";import{b as Sn,M as bt,S as $t,T as ft,d as nt,R as Cn,F as Ot,A as Qe,m as hn,L as Dr,c as Ps,j as Ds,H as Un,i as tn,a as Nr,P as Fr,h as Hr,e as Ns,f as Fs,g as Hs,W as zr,k as zs,l as di,E as jn}from"../chunks/LwHcPcVW.js";import"../chunks/BbGsn18u.js";import{P as Ls}from"../chunks/Ju8bPPxT.js";import{I as Rs}from"../chunks/BvUrsL2v.js";import{c as Ms,d as An,w as Vs,g as xe}from"../chunks/HMZd54qo.js";import{L as kt}from"../chunks/DIDUta1c.js";import{a as Os}from"../chunks/CKUBSEdO.js";import{T as rt}from"../chunks/CbwfYOwi.js";import{A as Lr}from"../chunks/CicboZZZ.js";import{F as Lt}from"../chunks/BQReiRFO.js";import{c as It,S as Rr,f as gn,H as Rt,b as Mr,a as Vr,e as Or,d as Br,g as Bs,l as qs,u as Ks,C as Us}from"../chunks/DT3zQSOv.js";import"../chunks/CdRAs_Ty.js";import{b as Gn}from"../chunks/CddAmfA_.js";/* empty css                */import{S as qr}from"../chunks/cUlXyR5A.js";import{e as Ye,s as js}from"../chunks/D24S2vYJ.js";import"../chunks/COrNTkos.js";import{e as De,u as nn,o as ln}from"../chunks/jcJxWA-D.js";import{r as Bt,P as Kr,H as Gs}from"../chunks/CiZuAZ-A.js";import{C as _i}from"../chunks/zXea1dqa.js";import{V as Mt}from"../chunks/JnREZZBR.js";import{N as Ys,S as Ur}from"../chunks/Cy6Skw8u.js";import{c as pi,d as jr,f as vn}from"../chunks/BaNJctHK.js";import{S as Gr,a as Ws,h as $i}from"../chunks/wBnF1Xj5.js";import{f as hi}from"../chunks/p0vX3-a6.js";import{c as Yn,b as Qs}from"../chunks/D73IxSwp.js";import{a as Yr,T as Wr}from"../chunks/D18S8UDK.js";import{r as gi}from"../chunks/Bn7C2S5C.js";import{M as Qr}from"../chunks/B58d6eSZ.js";import{P as Zs,a as Zr,b as Js}from"../chunks/1BfI7Gl9.js";import{C as it}from"../chunks/Bl_L4bNc.js";import{B as Pe}from"../chunks/CNTVm9Ob.js";import{U as ve}from"../chunks/cC4i1hzz.js";import{P as ze}from"../chunks/D4y0A8zf.js";import{T as Xs}from"../chunks/Drf22URH.js";import{P as zn,e as xs,d as Jr}from"../chunks/DLn0St_8.js";import{T as ea}from"../chunks/CZ5XhVdt.js";import{P as bn}from"../chunks/_EEYJRTP.js";import{M as ta}from"../chunks/KeqAT6TR.js";import{M as na}from"../chunks/tAgQjgUl.js";import{S as Xr}from"../chunks/B8k0ZumK.js";import{f as vi,t as bi,a as ki}from"../chunks/Br4Lf97q.js";import{I as ia}from"../chunks/Ce8eHegr.js";import{D as xr}from"../chunks/Bf-g66YD.js";import{L as vt}from"../chunks/C2DumLO3.js";import{b as la,c as ra}from"../chunks/fiTa_PwR.js";import{T as at}from"../chunks/qn5y3u3q.js";import{S as sa,B as es}from"../chunks/DRHc6wVc.js";import{m as aa}from"../chunks/DUmci0IU.js";import{F as Ze,C as oa}from"../chunks/CxuJOEWz.js";import{T as fa}from"../chunks/BJVORMdy.js";import{c as ts,u as ua}from"../chunks/QbQrkOnC.js";import{k as ns}from"../chunks/CfRs93gm.js";function ca(r){let e,n,t,i,l,s,o="₽",a,f,u,c;return{c(){e=T("div"),n=T("label"),t=B(r[1]),i=F(),l=T("span"),s=T("span"),s.textContent=o,a=F(),f=T("input"),this.h()},l(m){e=y(m,"DIV",{class:!0});var _=z(e);n=y(_,"LABEL",{for:!0,class:!0});var p=z(n);t=O(p,r[1]),p.forEach(d),i=N(_),l=y(_,"SPAN",{class:!0});var $=z(l);s=y($,"SPAN",{class:!0,"data-svelte-h":!0}),$e(s)!=="svelte-1jrw84z"&&(s.textContent=o),a=N($),f=y($,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,min:!0,max:!0,step:!0,class:!0}),$.forEach(d),_.forEach(d),this.h()},h(){D(n,"for",r[7]),D(n,"class","svelte-158r6u9"),D(s,"class","currency svelte-158r6u9"),D(f,"type","number"),D(f,"id",r[7]),D(f,"name",r[6]),D(f,"placeholder",r[3]),D(f,"min",r[4]),D(f,"max",r[5]),D(f,"step","1"),f.disabled=r[2],D(f,"class","svelte-158r6u9"),D(l,"class","row svelte-158r6u9"),D(e,"class","money-field svelte-158r6u9")},m(m,_){b(m,e,_),E(e,n),E(n,t),E(e,i),E(e,l),E(l,s),E(l,a),E(l,f),pn(f,r[0]),u||(c=[ot(f,"input",r[10]),ot(f,"change",r[8])],u=!0)},p(m,[_]){_&2&&fe(t,m[1]),_&128&&D(n,"for",m[7]),_&128&&D(f,"id",m[7]),_&64&&D(f,"name",m[6]),_&8&&D(f,"placeholder",m[3]),_&16&&D(f,"min",m[4]),_&32&&D(f,"max",m[5]),_&4&&(f.disabled=m[2]),_&1&&Cr(f.value)!==m[0]&&pn(f,m[0])},i:Z,o:Z,d(m){m&&d(e),u=!1,On(c)}}}function ma(r,e,n){let t,i,{label:l}=e,{value:s}=e,{name:o=void 0}=e,{disabled:a=!1}=e,{placeholder:f=""}=e,{min:u=-2e9}=e,{max:c=2e9}=e;const m=()=>{s!=null&&n(0,s=Math.round(s))};function _(){s=Cr(this.value),n(0,s)}return r.$$set=p=>{"label"in p&&n(1,l=p.label),"value"in p&&n(0,s=p.value),"name"in p&&n(9,o=p.name),"disabled"in p&&n(2,a=p.disabled),"placeholder"in p&&n(3,f=p.placeholder),"min"in p&&n(4,u=p.min),"max"in p&&n(5,c=p.max)},r.$$.update=()=>{r.$$.dirty&514&&n(6,t=o??ns(l)),r.$$.dirty&64&&n(7,i=`${t}-input`)},[s,l,a,f,u,c,t,i,m,o,_]}class da extends se{constructor(e){super(),ae(this,e,ma,ca,oe,{label:1,value:0,name:9,disabled:2,placeholder:3,min:4,max:5})}}function _a(r){let e,n,t,i,l,s,o,a,f,u=`${r[3]+2.5}ch`,c,m,_;return s=new _i.Up({props:{label:"increment"}}),f=new _i.Down({props:{label:"decrement"}}),{c(){e=T("span"),n=T("input"),t=F(),i=T("span"),l=T("button"),A(s.$$.fragment),o=F(),a=T("button"),A(f.$$.fragment),this.h()},l(p){e=y(p,"SPAN",{class:!0});var $=z(e);n=y($,"INPUT",{id:!0,type:!0,autocomplete:!0,class:!0}),t=N($),i=y($,"SPAN",{class:!0});var k=z(i);l=y(k,"BUTTON",{tabindex:!0,class:!0});var v=z(l);I(s.$$.fragment,v),v.forEach(d),o=N(k),a=y(k,"BUTTON",{tabindex:!0,class:!0});var w=z(a);I(f.$$.fragment,w),w.forEach(d),k.forEach(d),$.forEach(d),this.h()},h(){D(n,"id",r[1]),D(n,"type","text"),n.value=r[0],n.disabled=r[2],D(n,"autocomplete","off"),D(n,"class","svelte-14jmlcf"),D(l,"tabindex","-1"),D(l,"class","svelte-14jmlcf"),D(a,"tabindex","-1"),D(a,"class","svelte-14jmlcf"),D(i,"class","buttons svelte-14jmlcf"),D(e,"class","numeric-resource-field svelte-14jmlcf"),Ee(e,"width",u)},m(p,$){b(p,e,$),E(e,n),E(e,t),E(e,i),E(i,l),C(s,l,null),E(i,o),E(i,a),C(f,a,null),c=!0,m||(_=[ot(n,"change",r[4]),ot(n,"input",r[5]),ot(n,"keydown",r[8]),ot(l,"click",r[7]),ot(a,"click",r[6])],m=!0)},p(p,[$]){(!c||$&2)&&D(n,"id",p[1]),(!c||$&1&&n.value!==p[0])&&(n.value=p[0]),(!c||$&4)&&(n.disabled=p[2]),$&8&&u!==(u=`${p[3]+2.5}ch`)&&Ee(e,"width",u)},i(p){c||(h(s.$$.fragment,p),h(f.$$.fragment,p),c=!0)},o(p){g(s.$$.fragment,p),g(f.$$.fragment,p),c=!1},d(p){p&&d(e),S(s),S(f),m=!1,On(_)}}}const pa=500;function $a(r,e,n){let t;const i=et();let{id:l}=e,{value:s}=e,{disabled:o=!1}=e;const a={current:-1},f=$=>{const k=$.target,v=/(\d+)\s*(\+|-)\s*(\d+)/,w=k.value.match(v);if(w!=null)n(0,s=parseFloat(w[1])+parseFloat(w[2]+w[3]));else{const P=parseFloat(k.value);n(0,s=isNaN(P)?0:P)}i("change",{value:s})},u=$=>{const k=$.target;n(3,t=k.value.length)},c=$=>{n(0,s+=$),clearTimeout(a.current),a.current=window.setTimeout(()=>{i("change",{value:s})},pa)},m=()=>c(-1),_=()=>c(1),p=$=>{const k=$.target,v=parseInt(k.value);isNaN(v)||($.key==="ArrowDown"?m():$.key==="ArrowUp"&&_())};return r.$$set=$=>{"id"in $&&n(1,l=$.id),"value"in $&&n(0,s=$.value),"disabled"in $&&n(2,o=$.disabled)},r.$$.update=()=>{var $;r.$$.dirty&1&&n(3,t=(($=s==null?void 0:s.toString())==null?void 0:$.length)??0)},[s,l,o,t,f,u,m,_,p]}class wt extends se{constructor(e){super(),ae(this,e,$a,_a,oe,{id:1,value:0,disabled:2})}}function ha(r){let e,n,t,i,l,s;const o=r[2].default,a=Jt(o,r,r[1],null);return{c(){e=T("details"),n=T("summary"),t=T("h2"),i=B(r[0]),l=F(),a&&a.c(),this.h()},l(f){e=y(f,"DETAILS",{class:!0});var u=z(e);n=y(u,"SUMMARY",{class:!0});var c=z(n);t=y(c,"H2",{class:!0});var m=z(t);i=O(m,r[0]),m.forEach(d),c.forEach(d),l=N(u),a&&a.l(u),u.forEach(d),this.h()},h(){D(t,"class","svelte-1lzlvae"),D(n,"class","svelte-1lzlvae"),D(e,"class","svelte-1lzlvae")},m(f,u){b(f,e,u),E(e,n),E(n,t),E(t,i),E(e,l),a&&a.m(e,null),s=!0},p(f,[u]){(!s||u&1)&&fe(i,f[0]),a&&a.p&&(!s||u&2)&&Xt(a,o,f,f[1],s?en(o,f[1],u,null):xt(f[1]),null)},i(f){s||(h(a,f),s=!0)},o(f){g(a,f),s=!1},d(f){f&&d(e),a&&a.d(f)}}}function ga(r,e,n){let{$$slots:t={},$$scope:i}=e,{title:l}=e;return r.$$set=s=>{"title"in s&&n(0,l=s.title),"$$scope"in s&&n(1,i=s.$$scope)},[l,i,t]}class va extends se{constructor(e){super(),ae(this,e,ga,ha,oe,{title:0})}}function wi(r,e,n){const t=r.slice();return t[13]=e[n],t}function Ei(r){let e,n,t,i=r[13]+"",l,s;return{c(){e=T("div"),n=T("span"),t=T("span"),l=B(i),s=F(),this.h()},l(o){e=y(o,"DIV",{class:!0});var a=z(e);n=y(a,"SPAN",{class:!0});var f=z(n);t=y(f,"SPAN",{});var u=z(t);l=O(u,i),u.forEach(d),s=N(f),f.forEach(d),a.forEach(d),this.h()},h(){Ee(t,"display","none"),D(n,"class","marker svelte-1u67ix7"),D(e,"class","notch svelte-1u67ix7")},m(o,a){b(o,e,a),E(e,n),E(n,t),E(t,l),E(n,s)},p(o,a){a&128&&i!==(i=o[13]+"")&&fe(l,i)},d(o){o&&d(e)}}}function ba(r){let e,n,t,i,l,s,o,a,f,u,c,m,_,p,$,k=`translateX(${r[8]}%)`,v,w,P=De(r[7]),H=[];for(let L=0;L<P.length;L+=1)H[L]=Ei(wi(r,P,L));return{c(){e=T("div"),n=T("label"),t=B(r[1]),i=F(),l=T("div"),s=T("input"),o=F(),a=T("div"),f=T("div"),u=F(),c=T("div");for(let L=0;L<H.length;L+=1)H[L].c();m=F(),_=T("span"),p=T("span"),$=B(r[0]),this.h()},l(L){e=y(L,"DIV",{class:!0});var M=z(e);n=y(M,"LABEL",{for:!0,class:!0});var R=z(n);t=O(R,r[1]),R.forEach(d),i=N(M),l=y(M,"DIV",{class:!0});var q=z(l);s=y(q,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,min:!0,max:!0,step:!0,class:!0}),o=N(q),a=y(q,"DIV",{class:!0,"aria-hidden":!0});var Y=z(a);f=y(Y,"DIV",{class:!0}),z(f).forEach(d),u=N(Y),c=y(Y,"DIV",{class:!0});var K=z(c);for(let V=0;V<H.length;V+=1)H[V].l(K);K.forEach(d),m=N(Y),_=y(Y,"SPAN",{class:!0});var W=z(_);p=y(W,"SPAN",{class:!0});var U=z(p);$=O(U,r[0]),U.forEach(d),W.forEach(d),Y.forEach(d),q.forEach(d),M.forEach(d),this.h()},h(){D(n,"for",r[9]),D(n,"class","svelte-1u67ix7"),D(s,"type","range"),D(s,"id",r[9]),D(s,"name",r[6]),D(s,"placeholder",r[3]),D(s,"min",r[4]),D(s,"max",r[5]),D(s,"step","1"),s.value=r[0],s.disabled=r[2],D(s,"class","svelte-1u67ix7"),D(f,"class","track svelte-1u67ix7"),D(c,"class","notches svelte-1u67ix7"),D(p,"class","knob svelte-1u67ix7"),D(_,"class","knob-container svelte-1u67ix7"),Ee(_,"transform",k),D(a,"class","range-display svelte-1u67ix7"),D(a,"aria-hidden","true"),D(l,"class","container svelte-1u67ix7"),D(e,"class","ranks-field svelte-1u67ix7")},m(L,M){b(L,e,M),E(e,n),E(n,t),E(e,i),E(e,l),E(l,s),E(l,o),E(l,a),E(a,f),E(a,u),E(a,c);for(let R=0;R<H.length;R+=1)H[R]&&H[R].m(c,null);E(a,m),E(a,_),E(_,p),E(p,$),v||(w=ot(s,"input",r[10]),v=!0)},p(L,[M]){if(M&2&&fe(t,L[1]),M&512&&D(n,"for",L[9]),M&512&&D(s,"id",L[9]),M&64&&D(s,"name",L[6]),M&8&&D(s,"placeholder",L[3]),M&16&&D(s,"min",L[4]),M&32&&D(s,"max",L[5]),M&1&&(s.value=L[0]),M&4&&(s.disabled=L[2]),M&128){P=De(L[7]);let R;for(R=0;R<P.length;R+=1){const q=wi(L,P,R);H[R]?H[R].p(q,M):(H[R]=Ei(q),H[R].c(),H[R].m(c,null))}for(;R<H.length;R+=1)H[R].d(1);H.length=P.length}M&1&&fe($,L[0]),M&256&&k!==(k=`translateX(${L[8]}%)`)&&Ee(_,"transform",k)},i:Z,o:Z,d(L){L&&d(e),tt(H,L),v=!1,w()}}}function ka(r,e,n){let t,i,l,s,{label:o}=e,{value:a}=e,{name:f=void 0}=e,{disabled:u=!1}=e,{placeholder:c=""}=e,{min:m=0}=e,{max:_}=e;const p=et(),$=k=>{n(0,a=parseInt(k.target.value)),p("input",{value:a})};return r.$$set=k=>{"label"in k&&n(1,o=k.label),"value"in k&&n(0,a=k.value),"name"in k&&n(11,f=k.name),"disabled"in k&&n(2,u=k.disabled),"placeholder"in k&&n(3,c=k.placeholder),"min"in k&&n(4,m=k.min),"max"in k&&n(5,_=k.max)},r.$$.update=()=>{r.$$.dirty&2050&&n(6,t=f??ns(o)),r.$$.dirty&64&&n(9,i=`${t}-input`),r.$$.dirty&49&&n(8,l=100*(a-m)/(_-m)),r.$$.dirty&48&&n(7,s=[...Array(_-m+1)].map((k,v)=>v))},[a,o,u,c,m,_,t,s,l,i,$,f]}class is extends se{constructor(e){super(),ae(this,e,ka,ba,oe,{label:1,value:0,name:11,disabled:2,placeholder:3,min:4,max:5})}}function Zt(r){setTimeout(()=>{var e;(e=document.querySelector(`#${r}-input`))==null||e.focus()},50)}function wa(r){let e;return{c(){e=T("hr"),this.h()},l(n){e=y(n,"HR",{class:!0}),this.h()},h(){D(e,"class","svelte-bk1q1p")},m(n,t){b(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&d(e)}}}class ls extends se{constructor(e){super(),ae(this,e,null,wa,oe,{})}}function Si(r){let e,n,t=`${r[1].hueRotate}deg`;return{c(){e=T("img"),this.h()},l(i){e=y(i,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){fi(e.src,n=r[2])||D(e,"src",n),D(e,"alt",r[0]),D(e,"class","svelte-qrc8zq"),Ue(e,"using-fallback",r[1].portraitFallback),Ee(e,"--hue-rotate",t)},m(i,l){b(i,e,l)},p(i,l){l&4&&!fi(e.src,n=i[2])&&D(e,"src",n),l&1&&D(e,"alt",i[0]),l&2&&Ue(e,"using-fallback",i[1].portraitFallback),l&2&&t!==(t=`${i[1].hueRotate}deg`)&&Ee(e,"--hue-rotate",t)},d(i){i&&d(e)}}}function Ea(r){var t;let e,n=((t=r[1].value)==null?void 0:t.href)!=null&&Si(r);return{c(){n&&n.c(),e=J()},l(i){n&&n.l(i),e=J()},m(i,l){n&&n.m(i,l),b(i,e,l)},p(i,[l]){var s;((s=i[1].value)==null?void 0:s.href)!=null?n?n.p(i,l):(n=Si(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Z,o:Z,d(i){i&&d(e),n&&n.d(i)}}}function Sa(r,e,n){let t,i,l,{media:s}=e,{alt:o}=e,{shiny:a=!1}=e;return r.$$set=f=>{"media"in f&&n(3,s=f.media),"alt"in f&&n(0,o=f.alt),"shiny"in f&&n(4,a=f.shiny)},r.$$.update=()=>{var f,u,c;r.$$.dirty&24&&n(1,t=s.sprite({shiny:a})),r.$$.dirty&2&&n(5,i=/^http/.test((f=t.value)==null?void 0:f.href)),r.$$.dirty&34&&n(2,l=i?(u=t.value)==null?void 0:u.href:`${Ms}${(c=t.value)==null?void 0:c.href}`)},[o,t,l,s,a,i]}class rs extends se{constructor(e){super(),ae(this,e,Sa,Ea,oe,{media:3,alt:0,shiny:4})}}function Ca(r){let e,n,t="Lv.",i,l,s;return{c(){e=T("span"),n=T("span"),n.textContent=t,i=F(),l=T("span"),s=B(r[0]),this.h()},l(o){e=y(o,"SPAN",{class:!0});var a=z(e);n=y(a,"SPAN",{class:!0,"data-svelte-h":!0}),$e(n)!=="svelte-2tek6b"&&(n.textContent=t),i=N(a),l=y(a,"SPAN",{class:!0});var f=z(l);s=O(f,r[0]),f.forEach(d),a.forEach(d),this.h()},h(){D(n,"class","level-text svelte-pgha3w"),D(l,"class","level-number svelte-pgha3w"),D(e,"class","level svelte-pgha3w")},m(o,a){b(o,e,a),E(e,n),E(e,i),E(e,l),E(l,s)},p(o,[a]){a&1&&fe(s,o[0])},i:Z,o:Z,d(o){o&&d(e)}}}function Aa(r,e,n){let{value:t}=e;return r.$$set=i=>{"value"in i&&n(0,t=i.value)},[t]}class ss extends se{constructor(e){super(),ae(this,e,Aa,Ca,oe,{value:0})}}function Ia(r){let e,n,t=`${Math.max(100*r[0]/r[1],0)}%`,i,l;return{c(){e=T("div"),n=T("div"),this.h()},l(s){e=y(s,"DIV",{role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuetext":!0,class:!0});var o=z(e);n=y(o,"DIV",{class:!0}),z(n).forEach(d),o.forEach(d),this.h()},h(){D(n,"class","bar svelte-1v8g74g"),Ee(n,"inline-size",t),D(e,"role","meter"),D(e,"aria-valuenow",r[0]),D(e,"aria-valuemin","0"),D(e,"aria-valuemax",r[1]),D(e,"aria-valuetext",i=r[0]+" / "+r[1]),D(e,"class",l="meter "+r[4]+" "+r[2]+" svelte-1v8g74g"),Ue(e,"full",r[3])},m(s,o){b(s,e,o),E(e,n)},p(s,[o]){o&3&&t!==(t=`${Math.max(100*s[0]/s[1],0)}%`)&&Ee(n,"inline-size",t),o&1&&D(e,"aria-valuenow",s[0]),o&2&&D(e,"aria-valuemax",s[1]),o&3&&i!==(i=s[0]+" / "+s[1])&&D(e,"aria-valuetext",i),o&20&&l!==(l="meter "+s[4]+" "+s[2]+" svelte-1v8g74g")&&D(e,"class",l),o&28&&Ue(e,"full",s[3])},i:Z,o:Z,d(s){s&&d(e)}}}function ya(r,e,n){let t,i,l,{current:s}=e,{max:o}=e,{variant:a="primary"}=e;return r.$$set=f=>{"current"in f&&n(0,s=f.current),"max"in f&&n(1,o=f.max),"variant"in f&&n(2,a=f.variant)},r.$$.update=()=>{r.$$.dirty&3&&n(5,t=Math.max(100*s/o,0)),r.$$.dirty&32&&n(4,i=t>=50?"healthy":t>=20?"warning":"danger"),r.$$.dirty&32&&n(3,l=t>=100)},[s,o,a,l,i,t]}class kn extends se{constructor(e){super(),ae(this,e,ya,Ia,oe,{current:0,max:1,variant:2})}}function Ta(r){let e,n,t,i,l;e=new Sn({props:{$$slots:{default:[Da]},$$scope:{ctx:r}}}),e.$on("remove",r[10]);function s(a){r[11](a)}let o={label:"Item Description",name:"item-description-"+r[0].id,disabled:r[1]};return r[0].description!==void 0&&(o.value=r[0].description),t=new bt({props:o}),ne.push(()=>ie(t,"value",s)),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(a){I(e.$$.fragment,a),n=N(a),I(t.$$.fragment,a)},m(a,f){C(e,a,f),b(a,n,f),C(t,a,f),l=!0},p(a,f){const u={};f&4103&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const c={};f&1&&(c.name="item-description-"+a[0].id),f&2&&(c.disabled=a[1]),!i&&f&1&&(i=!0,c.value=a[0].description,le(()=>i=!1)),t.$set(c)},i(a){l||(h(e.$$.fragment,a),h(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&d(n),S(e,a),S(t,a)}}}function Pa(r){let e,n;return e=new Sn({props:{$$slots:{default:[Na]},$$scope:{ctx:r}}}),e.$on("remove",r[8]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4111&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Da(r){let e,n,t;function i(s){r[9](s)}let l={label:"Name",name:r[2],disabled:r[1]};return r[0].name!==void 0&&(l.value=r[0].name),e=new ft({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.name=s[2]),o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.value=s[0].name,le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Na(r){let e,n,t;function i(s){r[7](s)}let l={label:"Item",name:r[2],options:r[3],disabled:r[1]};return r[0].itemId!==void 0&&(l.value=r[0].itemId),e=new $t({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.name=s[2]),o&8&&(a.options=s[3]),o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.value=s[0].itemId,le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Fa(r){let e,n,t,i,l;const s=[Pa,Ta],o=[];function a(f,u){return f[0].type==="standard"?0:1}return e=a(r),n=o[e]=s[e](r),i=new ls({}),{c(){n.c(),t=F(),A(i.$$.fragment)},l(f){n.l(f),t=N(f),I(i.$$.fragment,f)},m(f,u){o[e].m(f,u),b(f,t,u),C(i,f,u),l=!0},p(f,[u]){let c=e;e=a(f),e===c?o[e].p(f,u):(me(),g(o[c],1,1,()=>{o[c]=null}),de(),n=o[e],n?n.p(f,u):(n=o[e]=s[e](f),n.c()),h(n,1),n.m(t.parentNode,t))},i(f){l||(h(n),h(i.$$.fragment,f),l=!0)},o(f){g(n),g(i.$$.fragment,f),l=!1},d(f){f&&d(t),o[e].d(f),S(i,f)}}}const Ln=r=>`item-id-${r}`;function Ha(r,e,n){let t,i,l,s;Ve(r,Yn,$=>n(6,s=$));let{value:o}=e,{groupOrder:a=[]}=e,{disabled:f=!1}=e;function u($){r.$$.not_equal(o.itemId,$)&&(o.itemId=$,n(0,o))}function c($){$n.call(this,r,$)}function m($){r.$$.not_equal(o.name,$)&&(o.name=$,n(0,o))}function _($){$n.call(this,r,$)}function p($){r.$$.not_equal(o.description,$)&&(o.description=$,n(0,o))}return r.$$set=$=>{"value"in $&&n(0,o=$.value),"groupOrder"in $&&n(4,a=$.groupOrder),"disabled"in $&&n(1,f=$.disabled)},r.$$.update=()=>{r.$$.dirty&80&&n(5,t=Qs.groupByType(s??[],a)),r.$$.dirty&32&&n(3,i=t.map($=>({name:$.name,values:$.items.map(k=>({name:k.name,value:k.id}))}))),r.$$.dirty&1&&n(2,l=Ln(o.id))},[o,f,l,i,a,t,s,u,c,m,_,p]}class za extends se{constructor(e){super(),ae(this,e,Ha,Fa,oe,{value:0,groupOrder:4,disabled:1})}}function Ci(r,e,n){const t=r.slice();return t[10]=e[n],t}function Ai(r,e){let n,t,i;return t=new za({props:{value:e[10],disabled:e[2],groupOrder:e[1]}}),t.$on("remove",function(){Vt(e[3](e[10].id))&&e[3](e[10].id).apply(this,arguments)}),{key:r,first:null,c(){n=J(),A(t.$$.fragment),this.h()},l(l){n=J(),I(t.$$.fragment,l),this.h()},h(){this.first=n},m(l,s){b(l,n,s),C(t,l,s),i=!0},p(l,s){e=l;const o={};s&1&&(o.value=e[10]),s&4&&(o.disabled=e[2]),s&2&&(o.groupOrder=e[1]),t.$set(o)},i(l){i||(h(t.$$.fragment,l),i=!0)},o(l){g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(t,l)}}}function La(r){let e;return{c(){e=B("Add Item")},l(n){e=O(n,"Add Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Ra(r){let e;return{c(){e=B("Add Custom Item")},l(n){e=O(n,"Add Custom Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Ma(r){let e,n=[],t=new Map,i,l,s,o,a,f,u=De(r[0]);const c=m=>m[10].id;for(let m=0;m<u.length;m+=1){let _=Ci(r,u,m),p=c(_);t.set(p,n[m]=Ai(p,_))}return s=new Pe({props:{$$slots:{default:[La]},$$scope:{ctx:r}}}),s.$on("click",r[4]),a=new Pe({props:{$$slots:{default:[Ra]},$$scope:{ctx:r}}}),a.$on("click",r[5]),{c(){e=T("div");for(let m=0;m<n.length;m+=1)n[m].c();i=F(),l=T("div"),A(s.$$.fragment),o=F(),A(a.$$.fragment),this.h()},l(m){e=y(m,"DIV",{class:!0});var _=z(e);for(let $=0;$<n.length;$+=1)n[$].l(_);i=N(_),l=y(_,"DIV",{class:!0});var p=z(l);I(s.$$.fragment,p),o=N(p),I(a.$$.fragment,p),p.forEach(d),_.forEach(d),this.h()},h(){D(l,"class","row svelte-pqgyo1"),D(e,"class","inventory-editor svelte-pqgyo1")},m(m,_){b(m,e,_);for(let p=0;p<n.length;p+=1)n[p]&&n[p].m(e,null);E(e,i),E(e,l),C(s,l,null),E(l,o),C(a,l,null),f=!0},p(m,[_]){_&15&&(u=De(m[0]),me(),n=nn(n,_,c,1,m,u,t,e,ln,Ai,i,Ci),de());const p={};_&8192&&(p.$$scope={dirty:_,ctx:m}),s.$set(p);const $={};_&8192&&($.$$scope={dirty:_,ctx:m}),a.$set($)},i(m){if(!f){for(let _=0;_<u.length;_+=1)h(n[_]);h(s.$$.fragment,m),h(a.$$.fragment,m),f=!0}},o(m){for(let _=0;_<n.length;_+=1)g(n[_]);g(s.$$.fragment,m),g(a.$$.fragment,m),f=!1},d(m){m&&d(e);for(let _=0;_<n.length;_+=1)n[_].d();S(s),S(a)}}}function Va(r,e,n){let{values:t}=e,{groupOrder:i=[]}=e,{disabled:l}=e,{newStandardItem:s}=e,{newCustomItem:o}=e,a=-1001;const f=()=>(--a).toString(),u=_=>()=>{n(0,t=t.filter(p=>p.id!==_))},c=()=>{const _=f();n(0,t=[...t,s(_)]),Zt(Ln(_))},m=()=>{const _=f();n(0,t=[...t,o(_)]),Zt(Ln(_))};return r.$$set=_=>{"values"in _&&n(0,t=_.values),"groupOrder"in _&&n(1,i=_.groupOrder),"disabled"in _&&n(2,l=_.disabled),"newStandardItem"in _&&n(6,s=_.newStandardItem),"newCustomItem"in _&&n(7,o=_.newCustomItem)},[t,i,l,u,c,m,s,o]}class as extends se{constructor(e){super(),ae(this,e,Va,Ma,oe,{values:0,groupOrder:1,disabled:2,newStandardItem:6,newCustomItem:7})}}function Ii(r,e,n){const t=r.slice();return t[3]=e[n],t[4]=e,t[5]=n,t}function yi(r){let e,n,t,i,l;function s(a){r[2](a,r[3])}let o={label:r[3].abbr,min:0,max:30,disabled:r[1]};return r[0].data[r[3].abbr]!==void 0&&(o.value=r[0].data[r[3].abbr]),n=new nt({props:o}),ne.push(()=>ie(n,"value",s)),{c(){e=T("div"),A(n.$$.fragment),i=F(),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=z(e);I(n.$$.fragment,f),i=N(f),f.forEach(d),this.h()},h(){D(e,"class","upper")},m(a,f){b(a,e,f),C(n,e,null),E(e,i),l=!0},p(a,f){r=a;const u={};f&2&&(u.disabled=r[1]),!t&&f&1&&(t=!0,u.value=r[0].data[r[3].abbr],le(()=>t=!1)),n.$set(u)},i(a){l||(h(n.$$.fragment,a),l=!0)},o(a){g(n.$$.fragment,a),l=!1},d(a){a&&d(e),S(n)}}}function Oa(r){let e,n,t=De(It.list),i=[];for(let s=0;s<t.length;s+=1)i[s]=yi(Ii(r,t,s));const l=s=>g(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=J()},l(s){for(let o=0;o<i.length;o+=1)i[o].l(s);e=J()},m(s,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,o);b(s,e,o),n=!0},p(s,o){if(o&3){t=De(It.list);let a;for(a=0;a<t.length;a+=1){const f=Ii(s,t,a);i[a]?(i[a].p(f,o),h(i[a],1)):(i[a]=yi(f),i[a].c(),h(i[a],1),i[a].m(e.parentNode,e))}for(me(),a=t.length;a<i.length;a+=1)l(a);de()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)h(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)g(i[o]);n=!1},d(s){s&&d(e),tt(i,s)}}}function Ba(r){let e,n;return e=new Ze({props:{title:"Attributes",columns:3,$$slots:{default:[Oa]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&67&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function qa(r,e,n){let{values:t}=e,{disabled:i}=e;function l(s,o){r.$$.not_equal(t.data[o.abbr],s)&&(t.data[o.abbr]=s,n(0,t))}return r.$$set=s=>{"values"in s&&n(0,t=s.values),"disabled"in s&&n(1,i=s.disabled)},[t,i,l]}class os extends se{constructor(e){super(),ae(this,e,qa,Ba,oe,{values:0,disabled:1})}}function Ti(r,e,n){var o;const t=r.slice();t[6]=e[n],t[11]=n;const i=t[1][t[6].attr].modifier+(t[6].proficient?t[4]:0)+(t[6].expert?t[4]:0)+(((o=t[6].extraModifiers)==null?void 0:o[t[6].name])??0);t[7]=i;const l=t[11]%(2*t[2])>=t[2];t[8]=l;const s=t[11]%(2*t[3])>=t[3];return t[9]=s,t}function Ka(r){let e,n="⦿";return{c(){e=T("abbr"),e.textContent=n,this.h()},l(t){e=y(t,"ABBR",{title:!0,class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1dlfqet"&&(e.textContent=n),this.h()},h(){D(e,"title","Proficient"),D(e,"class","svelte-2tpkxs")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Ua(r){let e,n="★";return{c(){e=T("abbr"),e.textContent=n,this.h()},l(t){e=y(t,"ABBR",{title:!0,class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-yrnqc6"&&(e.textContent=n),this.h()},h(){D(e,"title","Expert"),D(e,"class","svelte-2tpkxs")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Pi(r){let e,n,t,i,l=r[6].name+"",s,o,a,f=r[7]>=0?"+":"",u,c=r[7]+"",m,_;function p(v,w){if(v[6].expert)return Ua;if(v[6].proficient)return Ka}let $=p(r),k=$&&$(r);return{c(){e=T("dt"),n=T("span"),k&&k.c(),t=F(),i=T("span"),s=B(l),o=F(),a=T("dd"),u=B(f),m=B(c),_=T("dd"),this.h()},l(v){e=y(v,"DT",{class:!0});var w=z(e);n=y(w,"SPAN",{class:!0});var P=z(n);k&&k.l(P),P.forEach(d),t=N(w),i=y(w,"SPAN",{});var H=z(i);s=O(H,l),H.forEach(d),o=N(w),w.forEach(d),a=y(v,"DD",{class:!0});var L=z(a);u=O(L,f),m=O(L,c),L.forEach(d),_=y(v,"DD",{"aria-hidden":!0,class:!0}),z(_).forEach(d),this.h()},h(){D(n,"class","icon svelte-2tpkxs"),D(e,"class","svelte-2tpkxs"),Ue(e,"even",r[9]),Ue(e,"even-lg",r[8]),D(a,"class","svelte-2tpkxs"),Ue(a,"even",r[9]),Ue(a,"even-lg",r[8]),D(_,"aria-hidden","true"),D(_,"class","svelte-2tpkxs"),Ue(_,"even",r[9]),Ue(_,"even-lg",r[8])},m(v,w){b(v,e,w),E(e,n),k&&k.m(n,null),E(e,t),E(e,i),E(i,s),E(e,o),b(v,a,w),E(a,u),E(a,m),b(v,_,w)},p(v,w){$!==($=p(v))&&(k&&k.d(1),k=$&&$(v),k&&(k.c(),k.m(n,null))),w&1&&l!==(l=v[6].name+"")&&fe(s,l),w&8&&Ue(e,"even",v[9]),w&4&&Ue(e,"even-lg",v[8]),w&19&&f!==(f=v[7]>=0?"+":"")&&fe(u,f),w&19&&c!==(c=v[7]+"")&&fe(m,c),w&8&&Ue(a,"even",v[9]),w&4&&Ue(a,"even-lg",v[8]),w&8&&Ue(_,"even",v[9]),w&4&&Ue(_,"even-lg",v[8])},d(v){v&&(d(e),d(a),d(_)),k&&k.d()}}}function ja(r){let e,n=De(r[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Pi(Ti(r,n,i));return{c(){e=T("dl");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=y(i,"DL",{class:!0});var l=z(e);for(let s=0;s<t.length;s+=1)t[s].l(l);l.forEach(d),this.h()},h(){D(e,"class","svelte-2tpkxs"),Ee(e,"--columns",r[3]),Ee(e,"--columns-lg",r[2])},m(i,l){b(i,e,l);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,[l]){if(l&31){n=De(i[0]);let s;for(s=0;s<n.length;s+=1){const o=Ti(i,n,s);t[s]?t[s].p(o,l):(t[s]=Pi(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}l&8&&Ee(e,"--columns",i[3]),l&4&&Ee(e,"--columns-lg",i[2])},i:Z,o:Z,d(i){i&&d(e),tt(t,i)}}}function Ga(r,e,n){let t,{values:i}=e,{attributes:l}=e,{level:s}=e,{columnsLg:o=1}=e,{columns:a=1}=e;return r.$$set=f=>{"values"in f&&n(0,i=f.values),"attributes"in f&&n(1,l=f.attributes),"level"in f&&n(5,s=f.level),"columnsLg"in f&&n(2,o=f.columnsLg),"columns"in f&&n(3,a=f.columns)},r.$$.update=()=>{r.$$.dirty&32&&n(4,t=s.proficiencyBonus)},[i,l,o,a,t,s]}class Di extends se{constructor(e){super(),ae(this,e,Ga,ja,oe,{values:0,attributes:1,level:5,columnsLg:2,columns:3})}}const Ya="stellar",Qt=class Qt extends xr{};Ne(Qt,"list",[].concat(zn.list).concat(Ya)),Ne(Qt,"isTeraType",e=>Qt.list.includes(e));let yt=Qt;function Wa(r){let e,n,t;function i(s){r[3](s)}let l={label:"Gender",values:r[2],disabled:r[1]};return r[0]!==void 0&&(l.checked=r[0]),e=new Cn({props:l}),ne.push(()=>ie(e,"checked",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.checked=s[0],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Qa(r){let e,n;return e=new Ze({props:{title:"Gender",columns:4,$$slots:{default:[Wa]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&19&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Za(r,e,n){let{value:t}=e,{disabled:i=!1}=e;const l=[zt.Male,zt.Female,zt.None,zt.Other].map(o=>({name:o,value:o}));function s(o){t=o,n(0,t)}return r.$$set=o=>{"value"in o&&n(0,t=o.value),"disabled"in o&&n(1,i=o.disabled)},[t,i,l,s]}class Ja extends se{constructor(e){super(),ae(this,e,Za,Qa,oe,{value:0,disabled:1})}}function Ni(r,e,n){const t=r.slice();return t[2]=e[n],t}function Fi(r){let e,n=r[2]+"",t;return{c(){e=T("p"),t=B(n)},l(i){e=y(i,"P",{});var l=z(e);t=O(l,n),l.forEach(d)},m(i,l){b(i,e,l),E(e,t)},p(i,l){l&1&&n!==(n=i[2]+"")&&fe(t,n)},d(i){i&&d(e)}}}function Xa(r){let e,n=De(r[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Fi(Ni(r,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=J()},l(i){for(let l=0;l<t.length;l+=1)t[l].l(i);e=J()},m(i,l){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,l);b(i,e,l)},p(i,[l]){if(l&1){n=De(i[0]);let s;for(s=0;s<n.length;s+=1){const o=Ni(i,n,s);t[s]?t[s].p(o,l):(t[s]=Fi(o),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:Z,o:Z,d(i){i&&d(e),tt(t,i)}}}function xa(r,e,n){let t,{value:i=""}=e;return r.$$set=l=>{"value"in l&&n(1,i=l.value)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=i.split(/\n+/))},[t,i]}class Wn extends se{constructor(e){super(),ae(this,e,xa,Xa,oe,{value:1})}}function Hi(r,e,n){const t=r.slice();return t[8]=e[n],t}const eo=r=>({species:r&1}),zi=r=>({species:r[8]}),to=r=>({}),Li=r=>({});function no(r){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function io(r){let e,n,t=De(Object.values(r[0])),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ri(Hi(r,t,s));const l=s=>g(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=J()},l(s){for(let o=0;o<i.length;o+=1)i[o].l(s);e=J()},m(s,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,o);b(s,e,o),n=!0},p(s,o){if(o&9){t=De(Object.values(s[0]));let a;for(a=0;a<t.length;a+=1){const f=Hi(s,t,a);i[a]?(i[a].p(f,o),h(i[a],1)):(i[a]=Ri(f),i[a].c(),h(i[a],1),i[a].m(e.parentNode,e))}for(me(),a=t.length;a<i.length;a+=1)l(a);de()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)h(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)g(i[o]);n=!1},d(s){s&&d(e),tt(i,s)}}}function Ri(r){let e;const n=r[4].default,t=Jt(n,r,r[3],zi);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,l){t&&t.m(i,l),e=!0},p(i,l){t&&t.p&&(!e||l&9)&&Xt(t,n,i,i[3],e?en(n,i[3],l,eo):xt(i[3]),zi)},i(i){e||(h(t,i),e=!0)},o(i){g(t,i),e=!1},d(i){t&&t.d(i)}}}function lo(r){let e;const n=r[4].loader,t=Jt(n,r,r[3],Li),i=t||ro();return{c(){i&&i.c()},l(l){i&&i.l(l)},m(l,s){i&&i.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Xt(t,n,l,l[3],e?en(n,l[3],s,to):xt(l[3]),Li)},i(l){e||(h(i,l),e=!0)},o(l){g(i,l),e=!1},d(l){i&&i.d(l)}}}function ro(r){let e,n;return e=new kt({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function so(r){let e,n,t,i={ctx:r,current:null,token:null,hasCatch:!1,pending:lo,then:io,catch:no,blocks:[,,,]};return ct(n=r[1],i),{c(){e=J(),i.block.c()},l(l){e=J(),i.block.l(l)},m(l,s){b(l,e,s),i.block.m(l,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(l,[s]){r=l,i.ctx=r,s&2&&n!==(n=r[1])&&ct(n,i)||Tt(i,r,s)},i(l){t||(h(i.block),t=!0)},o(l){for(let s=0;s<3;s+=1){const o=i.blocks[s];g(o)}t=!1},d(l){l&&d(e),i.block.d(l),i.token=null,i=null}}}function ao(r,e,n){let{$$slots:t={},$$scope:i}=e,{ids:l}=e,s=[],o={},a=[],f=new Promise(()=>{});function u(c){xs(c)(s)||(s=c,n(0,o={}),a.forEach(m=>m()),a=[],n(1,f=Promise.all(c.map(m=>Rr.get(m).then(_=>{a.push(_.subscribe(p=>{p!=null&&n(0,o={...o,[m.data]:p.value})}))})))))}return Cs(()=>{a.forEach(c=>c())}),r.$$set=c=>{"ids"in c&&n(2,l=c.ids),"$$scope"in c&&n(3,i=c.$$scope)},r.$$.update=()=>{r.$$.dirty&4&&u(l)},[o,f,l,i,t]}class Pt extends se{constructor(e){super(),ae(this,e,ao,so,oe,{ids:2})}}const oo={compute(r,e,n){return fo.map(i=>i.createIfApplicable(r,e,n)).filter(i=>i!=null)}};class Qn{constructor(e,n){this.oldAbility=e,this.newAbility=n}apply(e){return{...e,ability:this.newAbility}}toString(){return`Ability will change from {{ability:${this.oldAbility}}} to {{ability:${this.newAbility}}}`}static createIfApplicable(e,n,t){const i=n.abilities.findIndex(e.ability);if(!i.exists)return;const l=t.abilities.findApplicableAbility(i);if(l!=null&&e.ability!==l.id)return new Qn(e.ability,l.id)}}class Zn{constructor(e){this.gainedAc=e}apply(e){return{...e,ac:e.ac+this.gainedAc}}toString(){return`AC will increase by ${this.gainedAc}`}static createIfApplicable(e,n,t){if(n.data.ac!==t.data.ac)return new Zn(t.data.ac-n.data.ac)}}class Jn{constructor(e){Ne(this,"gainedHp");this.gainedHp=e.data*2}apply(e){return{...e,hp:{current:e.hp.max+this.gainedHp,max:e.hp.max+this.gainedHp}}}toString(){return`Max HP will increase by ${this.gainedHp}`}static createIfApplicable(e){return new Jn(e.level)}}class Xn{constructor(e){this.newProficiencies=e}apply(e){return{...e,proficiencies:e.proficiencies.addProficiencies(this.newProficiencies)}}toString(){return`Proficiency in ${this.newProficiencies.map(ts).join(", ")}`}static createIfApplicable(e,n,t){const i=Jr(t.skills.toList())(e.proficiencies.toList());if(i.length>0)return new Xn(i)}}class xn{constructor(e){this.newSaves=e}apply(e){return{...e,savingThrows:e.savingThrows.concat(this.newSaves)}}toString(){return`Proficiency in ${this.newSaves.map(ua).join(", ")}`}static createIfApplicable(e,n,t){const i=Jr(t.data.saves)(e.savingThrows);if(i.length>0)return new xn(i)}}class ei{constructor(e){this.newName=e}apply(e){return{...e,nickname:this.newName}}toString(){return""}static createIfApplicable(e,n,t){if(e.nickname===n.data.name)return new ei(t.data.name)}}class ti{constructor(e){this.newId=e}apply(e){return{...e,pokemonId:this.newId}}toString(){return""}static createIfApplicable(e,n,t){return new ti(t.id)}}class ni{constructor(e){this.newType=e}apply(e){return{...e,type:this.newType}}toString(){return`Type will change to ${this.newType.toString()}`}static createIfApplicable(e,n,t){const i=!e.type.equivalent(n.type),l=!n.type.equivalent(t.type);if(!(i||!l))return new ni(t.type)}}class ii{apply(e){return e}toString(){return"<strong>Note:</strong> This Pokémon's type will not change since its type was customized."}static createIfApplicable(e,n){return!e.type.equivalent(n.type)?new ii:void 0}}const fo=[ti,ei,ni,Jn,Zn,Xn,xn,Qn,ii];function Mi(r,e,n){const t=r.slice();t[20]=e[n];const i=t[20].toString();return t[21]=i,t}function Vi(r){let e,n,t,i,l,s;e=new Ze({props:{title:"Choose one",columns:2,$$slots:{default:[uo]},$$scope:{ctx:r}}});let o=r[4]&&Oi(r);return l=new Qe({props:{$$slots:{default:[_o]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),t=T("section"),o&&o.c(),i=F(),A(l.$$.fragment),this.h()},l(a){I(e.$$.fragment,a),n=N(a),t=y(a,"SECTION",{class:!0});var f=z(t);o&&o.l(f),f.forEach(d),i=N(a),I(l.$$.fragment,a),this.h()},h(){D(t,"class","svelte-1r7xq7f"),Ee(t,"min-height","12em")},m(a,f){C(e,a,f),b(a,n,f),b(a,t,f),o&&o.m(t,null),b(a,i,f),C(l,a,f),s=!0},p(a,f){const u={};f&16777288&&(u.$$scope={dirty:f,ctx:a}),e.$set(u),a[4]?o?(o.p(a,f),f&16&&h(o,1)):(o=Oi(a),o.c(),h(o,1),o.m(t,null)):o&&(me(),g(o,1,1,()=>{o=null}),de());const c={};f&16777472&&(c.$$scope={dirty:f,ctx:a}),l.$set(c)},i(a){s||(h(e.$$.fragment,a),h(o),h(l.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(o),g(l.$$.fragment,a),s=!1},d(a){a&&(d(n),d(t),d(i)),S(e,a),o&&o.d(),S(l,a)}}}function uo(r){var s;let e,n,t;function i(o){r[18](o)}let l={label:"Evolution Choices",values:((s=r[6])==null?void 0:s.map(r[17]))??[],required:!0};return r[3]!==void 0&&(l.checked=r[3]),e=new Cn({props:l}),ne.push(()=>ie(e,"checked",i)),{c(){A(e.$$.fragment)},l(o){I(e.$$.fragment,o)},m(o,a){C(e,o,a),t=!0},p(o,a){var u;const f={};a&64&&(f.values=((u=o[6])==null?void 0:u.map(o[17]))??[]),!n&&a&8&&(n=!0,f.checked=o[3],le(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Oi(r){let e,n,t,i,l="Evolving this pokemon will have these effects:",s,o,a;n=new yr({props:{value:r[4].toString()}});let f=De(r[7]),u=[];for(let m=0;m<f.length;m+=1)u[m]=qi(Mi(r,f,m));const c=m=>g(u[m],1,1,()=>{u[m]=null});return{c(){e=T("p"),A(n.$$.fragment),t=F(),i=T("p"),i.textContent=l,s=F(),o=T("ul");for(let m=0;m<u.length;m+=1)u[m].c()},l(m){e=y(m,"P",{});var _=z(e);I(n.$$.fragment,_),_.forEach(d),t=N(m),i=y(m,"P",{"data-svelte-h":!0}),$e(i)!=="svelte-stsmeq"&&(i.textContent=l),s=N(m),o=y(m,"UL",{});var p=z(o);for(let $=0;$<u.length;$+=1)u[$].l(p);p.forEach(d)},m(m,_){b(m,e,_),C(n,e,null),b(m,t,_),b(m,i,_),b(m,s,_),b(m,o,_);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(o,null);a=!0},p(m,_){const p={};if(_&16&&(p.value=m[4].toString()),n.$set(p),_&128){f=De(m[7]);let $;for($=0;$<f.length;$+=1){const k=Mi(m,f,$);u[$]?(u[$].p(k,_),h(u[$],1)):(u[$]=qi(k),u[$].c(),h(u[$],1),u[$].m(o,null))}for(me(),$=f.length;$<u.length;$+=1)c($);de()}},i(m){if(!a){h(n.$$.fragment,m);for(let _=0;_<f.length;_+=1)h(u[_]);a=!0}},o(m){g(n.$$.fragment,m),u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)g(u[_]);a=!1},d(m){m&&(d(e),d(t),d(i),d(s),d(o)),S(n),tt(u,m)}}}function Bi(r){let e,n,t;return n=new yr({props:{value:r[21]}}),{c(){e=T("li"),A(n.$$.fragment)},l(i){e=y(i,"LI",{});var l=z(e);I(n.$$.fragment,l),l.forEach(d)},m(i,l){b(i,e,l),C(n,e,null),t=!0},p(i,l){const s={};l&128&&(s.value=i[21]),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function qi(r){var i;let e,n,t=((i=r[21])==null?void 0:i.length)>0&&Bi(r);return{c(){t&&t.c(),e=J()},l(l){t&&t.l(l),e=J()},m(l,s){t&&t.m(l,s),b(l,e,s),n=!0},p(l,s){var o;((o=l[21])==null?void 0:o.length)>0?t?(t.p(l,s),s&128&&h(t,1)):(t=Bi(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(l){n||(h(t),n=!0)},o(l){g(t),n=!1},d(l){l&&d(e),t&&t.d(l)}}}function co(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function mo(r){let e;return{c(){e=B("Evolve!")},l(n){e=O(n,"Evolve!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function _o(r){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:r[8],$$slots:{default:[co]},$$scope:{ctx:r}}}),e.$on("click",r[9]),t=new Pe({props:{type:"submit",disabled:r[8],$$slots:{default:[mo]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s&256&&(o.disabled=l[8]),s&16777216&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&256&&(a.disabled=l[8]),s&16777216&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function po(r){var i;let e,n,t=((i=r[5])==null?void 0:i.length)>0&&Vi(r);return{c(){t&&t.c(),e=J()},l(l){t&&t.l(l),e=J()},m(l,s){t&&t.m(l,s),b(l,e,s),n=!0},p(l,s){var o;((o=l[5])==null?void 0:o.length)>0?t?(t.p(l,s),s&32&&h(t,1)):(t=Vi(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(l){n||(h(t),n=!0)},o(l){g(t),n=!1},d(l){l&&d(e),t&&t.d(l)}}}function $o(r){let e,n;return e=new Ot({props:{onsubmit:r[10],saving:r[2],$$slots:{default:[po]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&4&&(l.saving=t[2]),i&16777720&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ho(r,e,n){let t,i,l,s,o,a,f,u=Z,c=()=>(u(),u=Xe(w,W=>n(15,f=W)),w),m,_=Z,p=()=>(_(),_=Xe(P,W=>n(16,m=W)),P);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>_());const $=et();let{pokemon:k}=e,{species:v}=e,{allSpecies:w}=e;c();let{evolutions:P}=e;p();let{saving:H=!1}=e,L;const M=()=>{$("cancel")},R=()=>{const W=a.reduce((U,V)=>V.apply(U),k);$("submit",W)},q=W=>{var U;return((U=f==null?void 0:f.find(V=>V.id.data===W))==null?void 0:U.data.name)??""},Y=W=>({name:q(W),value:W});function K(W){L=W,n(3,L),n(6,l),n(5,i),n(16,m),n(13,v)}return r.$$set=W=>{"pokemon"in W&&n(12,k=W.pokemon),"species"in W&&n(13,v=W.species),"allSpecies"in W&&c(n(0,w=W.allSpecies)),"evolutions"in W&&p(n(1,P=W.evolutions)),"saving"in W&&n(2,H=W.saving)},r.$$.update=()=>{r.$$.dirty&4&&n(8,t=H),r.$$.dirty&73728&&n(5,i=m==null?void 0:m.evolvesTo(v.id)),r.$$.dirty&32&&n(6,l=i==null?void 0:i.map(W=>W.to.data)),r.$$.dirty&72&&n(3,L=(l==null?void 0:l.length)===1?l[0]:L),r.$$.dirty&40&&n(4,s=i==null?void 0:i.find(W=>W.to.data===L)),r.$$.dirty&32784&&n(14,o=f==null?void 0:f.find(W=>W.id.data===(s==null?void 0:s.to.data))),r.$$.dirty&28672&&n(7,a=o!=null?oo.compute(k,v,o):[])},[w,P,H,L,s,i,l,a,t,M,R,q,k,v,o,f,m,Y,K]}class go extends se{constructor(e){super(),ae(this,e,ho,$o,oe,{pokemon:12,species:13,allSpecies:0,evolutions:1,saving:2})}}function Ki(r,e,n){const t=r.slice();t[3]=e[n];const i=t[0].find(function(...s){return r[2](t[3],...s)});return t[4]=i,t}function Ui(r){let e,n;return e=new Qr({props:{value:r[4].description}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&3&&(l.value=t[4].description),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ji(r){let e,n;return e=new Wn({props:{value:r[3].description}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2&&(l.value=t[3].description),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Gi(r){let e,n="No description provided.";return{c(){e=T("p"),e.textContent=n},l(t){e=y(t,"P",{"data-svelte-h":!0}),$e(e)!=="svelte-1e2y3du"&&(e.textContent=n)},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Yi(r,e){let n,t,i,l=e[3].name+"",s,o,a,f=e[3].description.trim(),u,c=e[4]==null&&!e[3].description.trim(),m,_,p=e[4]!=null&&Ui(e),$=f&&ji(e),k=c&&Gi();return{key:r,first:null,c(){n=T("li"),t=T("p"),i=T("strong"),s=B(l),o=F(),p&&p.c(),a=F(),$&&$.c(),u=F(),k&&k.c(),m=F(),this.h()},l(v){n=y(v,"LI",{class:!0});var w=z(n);t=y(w,"P",{class:!0});var P=z(t);i=y(P,"STRONG",{});var H=z(i);s=O(H,l),H.forEach(d),P.forEach(d),o=N(w),p&&p.l(w),a=N(w),$&&$.l(w),u=N(w),k&&k.l(w),m=N(w),w.forEach(d),this.h()},h(){D(t,"class","no-margin svelte-11ocs32"),D(n,"class","svelte-11ocs32"),this.first=n},m(v,w){b(v,n,w),E(n,t),E(t,i),E(i,s),E(n,o),p&&p.m(n,null),E(n,a),$&&$.m(n,null),E(n,u),k&&k.m(n,null),E(n,m),_=!0},p(v,w){e=v,(!_||w&2)&&l!==(l=e[3].name+"")&&fe(s,l),e[4]!=null?p?(p.p(e,w),w&3&&h(p,1)):(p=Ui(e),p.c(),h(p,1),p.m(n,a)):p&&(me(),g(p,1,1,()=>{p=null}),de()),w&2&&(f=e[3].description.trim()),f?$?($.p(e,w),w&2&&h($,1)):($=ji(e),$.c(),h($,1),$.m(n,u)):$&&(me(),g($,1,1,()=>{$=null}),de()),w&3&&(c=e[4]==null&&!e[3].description.trim()),c?k||(k=Gi(),k.c(),k.m(n,m)):k&&(k.d(1),k=null)},i(v){_||(h(p),h($),_=!0)},o(v){g(p),g($),_=!1},d(v){v&&d(n),p&&p.d(),$&&$.d(),k&&k.d()}}}function vo(r){let e,n=[],t=new Map,i,l=De(r[1]);const s=o=>o[3].id;for(let o=0;o<l.length;o+=1){let a=Ki(r,l,o),f=s(a);t.set(f,n[o]=Yi(f,a))}return{c(){e=T("ul");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=y(o,"UL",{class:!0});var a=z(e);for(let f=0;f<n.length;f+=1)n[f].l(a);a.forEach(d),this.h()},h(){D(e,"class","svelte-11ocs32")},m(o,a){b(o,e,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);i=!0},p(o,[a]){a&3&&(l=De(o[1]),me(),n=nn(n,a,s,1,o,l,t,e,ln,Yi,null,Ki),de())},i(o){if(!i){for(let a=0;a<l.length;a+=1)h(n[a]);i=!0}},o(o){for(let a=0;a<n.length;a+=1)g(n[a]);i=!1},d(o){o&&d(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function bo(r,e,n){let{allFeats:t}=e,{values:i}=e;const l=(s,o)=>o.name===s.name;return r.$$set=s=>{"allFeats"in s&&n(0,t=s.allFeats),"values"in s&&n(1,i=s.values)},[t,i,l]}class fs extends se{constructor(e){super(),ae(this,e,bo,vo,oe,{allFeats:0,values:1})}}function ko(r){let e,n,t;function i(s){r[5](s)}let l={label:"Feat",name:"feat-name-"+r[0].id,options:r[2],disabled:r[3]};return r[0].name!==void 0&&(l.value=r[0].name),e=new $t({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&1&&(a.name="feat-name-"+s[0].id),o&4&&(a.options=s[2]),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0].name,le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function wo(r){let e,n,t;function i(s){r[4](s)}let l={label:"Feat",name:"feat-name-"+r[0].id,disabled:r[3]};return r[0].name!==void 0&&(l.value=r[0].name),e=new ft({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&1&&(a.name="feat-name-"+s[0].id),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0].name,le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Eo(r){let e,n,t,i;const l=[wo,ko],s=[];function o(a,f){return a[1]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function So(r){let e,n,t;function i(s){r[8](s)}let l={label:"Notes",name:"feat-description-"+r[0].id,placeholder:"Any additional notes",rows:3,disabled:r[3]};return r[0].description!==void 0&&(l.value=r[0].description),e=new bt({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&1&&(a.name="feat-description-"+s[0].id),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0].description,le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Co(r){let e,n,t;function i(s){r[7](s)}let l={label:"Feat Description",name:"feat-description-"+r[0].id,placeholder:"Provide a custom description",rows:6,disabled:r[3]};return r[0].description!==void 0&&(l.value=r[0].description),e=new bt({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&1&&(a.name="feat-description-"+s[0].id),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0].description,le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ao(r){let e,n,t,i,l,s,o,a;n=new Sn({props:{$$slots:{default:[Eo]},$$scope:{ctx:r}}}),n.$on("remove",r[6]);const f=[Co,So],u=[];function c(m,_){return m[1]?0:1}return i=c(r),l=u[i]=f[i](r),o=new ls({}),{c(){e=T("div"),A(n.$$.fragment),t=F(),l.c(),s=F(),A(o.$$.fragment),this.h()},l(m){e=y(m,"DIV",{class:!0});var _=z(e);I(n.$$.fragment,_),t=N(_),l.l(_),s=N(_),I(o.$$.fragment,_),_.forEach(d),this.h()},h(){D(e,"class","feat-editor svelte-1dezyrp")},m(m,_){b(m,e,_),C(n,e,null),E(e,t),u[i].m(e,null),E(e,s),C(o,e,null),a=!0},p(m,[_]){const p={};_&527&&(p.$$scope={dirty:_,ctx:m}),n.$set(p);let $=i;i=c(m),i===$?u[i].p(m,_):(me(),g(u[$],1,1,()=>{u[$]=null}),de(),l=u[i],l?l.p(m,_):(l=u[i]=f[i](m),l.c()),h(l,1),l.m(e,s))},i(m){a||(h(n.$$.fragment,m),h(l),h(o.$$.fragment,m),a=!0)},o(m){g(n.$$.fragment,m),g(l),g(o.$$.fragment,m),a=!1},d(m){m&&d(e),S(n),u[i].d(),S(o)}}}function Io(r,e,n){let{value:t}=e,{custom:i=!1}=e,{options:l}=e,{disabled:s=!1}=e;function o(m){r.$$.not_equal(t.name,m)&&(t.name=m,n(0,t))}function a(m){r.$$.not_equal(t.name,m)&&(t.name=m,n(0,t))}function f(m){$n.call(this,r,m)}function u(m){r.$$.not_equal(t.description,m)&&(t.description=m,n(0,t))}function c(m){r.$$.not_equal(t.description,m)&&(t.description=m,n(0,t))}return r.$$set=m=>{"value"in m&&n(0,t=m.value),"custom"in m&&n(1,i=m.custom),"options"in m&&n(2,l=m.options),"disabled"in m&&n(3,s=m.disabled)},[t,i,l,s,o,a,f,u,c]}class yo extends se{constructor(e){super(),ae(this,e,Io,Ao,oe,{value:0,custom:1,options:2,disabled:3})}}function Wi(r,e,n){const t=r.slice();return t[9]=e[n],t}function Qi(r){let e,n;return e=new yo({props:{value:r[9],options:r[2],disabled:r[1],custom:r[9].isCustom}}),e.$on("remove",function(){Vt(r[3](r[9].id))&&r[3](r[9].id).apply(this,arguments)}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){r=t;const l={};i&1&&(l.value=r[9]),i&4&&(l.options=r[2]),i&2&&(l.disabled=r[1]),i&1&&(l.custom=r[9].isCustom),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function To(r){let e;return{c(){e=B("Add Feat")},l(n){e=O(n,"Add Feat")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Po(r){let e;return{c(){e=B("Add Custom Feat")},l(n){e=O(n,"Add Custom Feat")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Do(r){let e,n,t,i,l,s,o=De(r[0]),a=[];for(let u=0;u<o.length;u+=1)a[u]=Qi(Wi(r,o,u));const f=u=>g(a[u],1,1,()=>{a[u]=null});return t=new Pe({props:{$$slots:{default:[To]},$$scope:{ctx:r}}}),t.$on("click",r[4]),l=new Pe({props:{$$slots:{default:[Po]},$$scope:{ctx:r}}}),l.$on("click",r[5]),{c(){for(let u=0;u<a.length;u+=1)a[u].c();e=F(),n=T("div"),A(t.$$.fragment),i=F(),A(l.$$.fragment),this.h()},l(u){for(let m=0;m<a.length;m+=1)a[m].l(u);e=N(u),n=y(u,"DIV",{class:!0});var c=z(n);I(t.$$.fragment,c),i=N(c),I(l.$$.fragment,c),c.forEach(d),this.h()},h(){D(n,"class","row svelte-d7pdnl")},m(u,c){for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(u,c);b(u,e,c),b(u,n,c),C(t,n,null),E(n,i),C(l,n,null),s=!0},p(u,c){if(c&15){o=De(u[0]);let p;for(p=0;p<o.length;p+=1){const $=Wi(u,o,p);a[p]?(a[p].p($,c),h(a[p],1)):(a[p]=Qi($),a[p].c(),h(a[p],1),a[p].m(e.parentNode,e))}for(me(),p=o.length;p<a.length;p+=1)f(p);de()}const m={};c&4096&&(m.$$scope={dirty:c,ctx:u}),t.$set(m);const _={};c&4096&&(_.$$scope={dirty:c,ctx:u}),l.$set(_)},i(u){if(!s){for(let c=0;c<o.length;c+=1)h(a[c]);h(t.$$.fragment,u),h(l.$$.fragment,u),s=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)g(a[c]);g(t.$$.fragment,u),g(l.$$.fragment,u),s=!1},d(u){u&&(d(e),d(n)),tt(a,u),S(t),S(l)}}}function No(r){let e,n;return e=new Ze({props:{title:"Feats",$$slots:{default:[Do]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&4103&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Fo(r,e,n){let t,{values:i}=e,{disabled:l}=e,{feats:s}=e,o=-1001;const a=()=>(--o).toString(),f=m=>()=>{n(0,i=i.filter(_=>_.id!==m))},u=()=>{const m=a();n(0,i=[...i,{id:m,name:s[0].name,description:"",isCustom:!1}]),Zt(`feat-name-${m}`)},c=()=>{const m=a();n(0,i=[...i,{id:m,name:"",description:"",isCustom:!0}]),Zt(`feat-name-${m}`)};return r.$$set=m=>{"values"in m&&n(0,i=m.values),"disabled"in m&&n(1,l=m.disabled),"feats"in m&&n(6,s=m.feats)},r.$$.update=()=>{r.$$.dirty&64&&n(2,t=s.map(m=>({name:m.name,value:m.name,placeholder:m.description,deprecated:m.removed??!1})))},[i,l,t,f,u,c,s]}class us extends se{constructor(e){super(),ae(this,e,Fo,No,oe,{values:0,disabled:1,feats:6})}}function Zi(r,e,n){const t=r.slice();return t[4]=e[n],t[5]=e,t[6]=n,t}function Ji(r){let e,n,t,i,l;function s(a){r[3](a,r[4])}let o={max:5,label:r[4].name+" ("+r[4].type+")",name:"specialization-"+r[4].type,disabled:r[1]};return r[0][r[4].type]!==void 0&&(o.value=r[0][r[4].type]),e=new is({props:o}),ne.push(()=>ie(e,"value",s)),{c(){n=T("div"),A(e.$$.fragment),this.h()},l(a){n=y(a,"DIV",{style:!0});var f=z(n);I(e.$$.fragment,f),this.h()},h(){Ee(n,"display","contents"),Ee(n,"--skin-local-bg",i="var(--skin-"+r[4].type+"-bg)")},m(a,f){b(a,n,f),C(e,n,null),l=!0},p(a,f){r=a,f&4&&i!==(i="var(--skin-"+r[4].type+"-bg)")&&Ee(n,"--skin-local-bg",i);const u={};f&4&&(u.label=r[4].name+" ("+r[4].type+")"),f&4&&(u.name="specialization-"+r[4].type),f&2&&(u.disabled=r[1]),!t&&f&5&&(t=!0,u.value=r[0][r[4].type],le(()=>t=!1)),e.$set(u)},i(a){l||(h(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){a&&e&&d(n),S(e,a)}}}function Ho(r){let e,n,t=De(Object.values(r[2])),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ji(Zi(r,t,s));const l=s=>g(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=J()},l(s){for(let o=0;o<i.length;o+=1)i[o].l(s);e=J()},m(s,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,o);b(s,e,o),n=!0},p(s,o){if(o&7){t=De(Object.values(s[2]));let a;for(a=0;a<t.length;a+=1){const f=Zi(s,t,a);i[a]?(i[a].p(f,o),h(i[a],1)):(i[a]=Ji(f),i[a].c(),h(i[a],1),i[a].m(e.parentNode,e))}for(me(),a=t.length;a<i.length;a+=1)l(a);de()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)h(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)g(i[o]);n=!1},d(s){s&&d(e),tt(i,s)}}}function zo(r){let e,n;return e=new Ze({props:{title:"Specializations",columns:2,columnsLg:3,$$slots:{default:[Ho]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&135&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Lo(r,e,n){let t;Ve(r,Gr,o=>n(2,t=o));let{values:i}=e,{disabled:l=!1}=e;function s(o,a){r.$$.not_equal(i[a.type],o)&&(i[a.type]=o,n(0,i))}return r.$$set=o=>{"values"in o&&n(0,i=o.values),"disabled"in o&&n(1,l=o.disabled)},[i,l,t,s]}class Ro extends se{constructor(e){super(),ae(this,e,Lo,zo,oe,{values:0,disabled:1})}}const Ct=[2,5,9,15];function Mo(r){return Yr.map(e=>e.name).includes(r)}function Vo(){return{name:"",resource:0,customFeatures:{level2:{description:""},level5:{name:"",description:""},level9:{name:"",description:""},level15:{name:"",description:""}}}}function Xi(r){let e,n,t;function i(s){r[4](s)}let l={label:"Level "+r[2]+" Feature Name",disabled:r[3]};return r[0]!==void 0&&(l.value=r[0]),e=new ft({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.label="Level "+s[2]+" Feature Name"),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Oo(r){let e,n,t,i,l=r[0]!=null&&Xi(r);function s(a){r[5](a)}let o={label:"Level "+r[2]+" Feature Description",disabled:r[3]};return r[1]!==void 0&&(o.value=r[1]),n=new bt({props:o}),ne.push(()=>ie(n,"value",s)),{c(){l&&l.c(),e=F(),A(n.$$.fragment)},l(a){l&&l.l(a),e=N(a),I(n.$$.fragment,a)},m(a,f){l&&l.m(a,f),b(a,e,f),C(n,a,f),i=!0},p(a,[f]){a[0]!=null?l?(l.p(a,f),f&1&&h(l,1)):(l=Xi(a),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(me(),g(l,1,1,()=>{l=null}),de());const u={};f&4&&(u.label="Level "+a[2]+" Feature Description"),f&8&&(u.disabled=a[3]),!t&&f&2&&(t=!0,u.value=a[1],le(()=>t=!1)),n.$set(u)},i(a){i||(h(l),h(n.$$.fragment,a),i=!0)},o(a){g(l),g(n.$$.fragment,a),i=!1},d(a){a&&d(e),l&&l.d(a),S(n,a)}}}function Bo(r,e,n){let{level:t}=e,{name:i=void 0}=e,{description:l}=e,{disabled:s=!1}=e;function o(f){i=f,n(0,i)}function a(f){l=f,n(1,l)}return r.$$set=f=>{"level"in f&&n(2,t=f.level),"name"in f&&n(0,i=f.name),"description"in f&&n(1,l=f.description),"disabled"in f&&n(3,s=f.disabled)},[i,l,t,s,o,a]}class fn extends se{constructor(e){super(),ae(this,e,Bo,Oo,oe,{level:2,name:0,description:1,disabled:3})}}function xi(r){let e,n,t,i,l,s,o,a,f,u,c,m,_,p,$,k,v;function w(V){r[7](V)}let P={level:"2",disabled:r[1]};r[0].customFeatures.level2.description!==void 0&&(P.description=r[0].customFeatures.level2.description),t=new fn({props:P}),ne.push(()=>ie(t,"description",w));function H(V){r[8](V)}function L(V){r[9](V)}let M={level:"5",disabled:r[1]};r[0].customFeatures.level5.name!==void 0&&(M.name=r[0].customFeatures.level5.name),r[0].customFeatures.level5.description!==void 0&&(M.description=r[0].customFeatures.level5.description),s=new fn({props:M}),ne.push(()=>ie(s,"name",H)),ne.push(()=>ie(s,"description",L));function R(V){r[10](V)}function q(V){r[11](V)}let Y={level:"9",disabled:r[1]};r[0].customFeatures.level9.name!==void 0&&(Y.name=r[0].customFeatures.level9.name),r[0].customFeatures.level9.description!==void 0&&(Y.description=r[0].customFeatures.level9.description),u=new fn({props:Y}),ne.push(()=>ie(u,"name",R)),ne.push(()=>ie(u,"description",q));function K(V){r[12](V)}function W(V){r[13](V)}let U={level:"15",disabled:r[1]};return r[0].customFeatures.level15.name!==void 0&&(U.name=r[0].customFeatures.level15.name),r[0].customFeatures.level15.description!==void 0&&(U.description=r[0].customFeatures.level15.description),p=new fn({props:U}),ne.push(()=>ie(p,"name",K)),ne.push(()=>ie(p,"description",W)),{c(){e=T("hr"),n=F(),A(t.$$.fragment),l=F(),A(s.$$.fragment),f=F(),A(u.$$.fragment),_=F(),A(p.$$.fragment)},l(V){e=y(V,"HR",{}),n=N(V),I(t.$$.fragment,V),l=N(V),I(s.$$.fragment,V),f=N(V),I(u.$$.fragment,V),_=N(V),I(p.$$.fragment,V)},m(V,x){b(V,e,x),b(V,n,x),C(t,V,x),b(V,l,x),C(s,V,x),b(V,f,x),C(u,V,x),b(V,_,x),C(p,V,x),v=!0},p(V,x){const G={};x&2&&(G.disabled=V[1]),!i&&x&1&&(i=!0,G.description=V[0].customFeatures.level2.description,le(()=>i=!1)),t.$set(G);const X={};x&2&&(X.disabled=V[1]),!o&&x&1&&(o=!0,X.name=V[0].customFeatures.level5.name,le(()=>o=!1)),!a&&x&1&&(a=!0,X.description=V[0].customFeatures.level5.description,le(()=>a=!1)),s.$set(X);const re={};x&2&&(re.disabled=V[1]),!c&&x&1&&(c=!0,re.name=V[0].customFeatures.level9.name,le(()=>c=!1)),!m&&x&1&&(m=!0,re.description=V[0].customFeatures.level9.description,le(()=>m=!1)),u.$set(re);const ue={};x&2&&(ue.disabled=V[1]),!$&&x&1&&($=!0,ue.name=V[0].customFeatures.level15.name,le(()=>$=!1)),!k&&x&1&&(k=!0,ue.description=V[0].customFeatures.level15.description,le(()=>k=!1)),p.$set(ue)},i(V){v||(h(t.$$.fragment,V),h(s.$$.fragment,V),h(u.$$.fragment,V),h(p.$$.fragment,V),v=!0)},o(V){g(t.$$.fragment,V),g(s.$$.fragment,V),g(u.$$.fragment,V),g(p.$$.fragment,V),v=!1},d(V){V&&(d(e),d(n),d(l),d(f),d(_)),S(t,V),S(s,V),S(u,V),S(p,V)}}}function qo(r){let e,n,t,i,l,s;function o(c){r[5](c)}function a(c){r[6](c)}let f={label:"Path Name",options:r[4],disabled:r[1]};r[2]!==void 0&&(f.value=r[2]),r[3]!==void 0&&(f.other=r[3]),e=new $t({props:f}),ne.push(()=>ie(e,"value",o)),ne.push(()=>ie(e,"other",a));let u=r[2]===hn&&xi(r);return{c(){A(e.$$.fragment),i=F(),u&&u.c(),l=J()},l(c){I(e.$$.fragment,c),i=N(c),u&&u.l(c),l=J()},m(c,m){C(e,c,m),b(c,i,m),u&&u.m(c,m),b(c,l,m),s=!0},p(c,m){const _={};m&2&&(_.disabled=c[1]),!n&&m&4&&(n=!0,_.value=c[2],le(()=>n=!1)),!t&&m&8&&(t=!0,_.other=c[3],le(()=>t=!1)),e.$set(_),c[2]===hn?u?(u.p(c,m),m&4&&h(u,1)):(u=xi(c),u.c(),h(u,1),u.m(l.parentNode,l)):u&&(me(),g(u,1,1,()=>{u=null}),de())},i(c){s||(h(e.$$.fragment,c),h(u),s=!0)},o(c){g(e.$$.fragment,c),g(u),s=!1},d(c){c&&(d(i),d(l)),S(e,c),u&&u.d(c)}}}function Ko(r){let e,n;return e=new Ze({props:{title:"Trainer Path",$$slots:{default:[qo]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&16399&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Uo(r,e,n){let{value:t}=e,{disabled:i=!1}=e,l=t.name===""||Mo(t.name)?t.name:hn,s=t.name;const o=[{name:"— None —",value:""}].concat(Yr.map(v=>({name:v.name,value:v.name})));function a(v){l=v,n(2,l)}function f(v){s=v,n(3,s)}function u(v){r.$$.not_equal(t.customFeatures.level2.description,v)&&(t.customFeatures.level2.description=v,n(0,t),n(2,l),n(3,s))}function c(v){r.$$.not_equal(t.customFeatures.level5.name,v)&&(t.customFeatures.level5.name=v,n(0,t),n(2,l),n(3,s))}function m(v){r.$$.not_equal(t.customFeatures.level5.description,v)&&(t.customFeatures.level5.description=v,n(0,t),n(2,l),n(3,s))}function _(v){r.$$.not_equal(t.customFeatures.level9.name,v)&&(t.customFeatures.level9.name=v,n(0,t),n(2,l),n(3,s))}function p(v){r.$$.not_equal(t.customFeatures.level9.description,v)&&(t.customFeatures.level9.description=v,n(0,t),n(2,l),n(3,s))}function $(v){r.$$.not_equal(t.customFeatures.level15.name,v)&&(t.customFeatures.level15.name=v,n(0,t),n(2,l),n(3,s))}function k(v){r.$$.not_equal(t.customFeatures.level15.description,v)&&(t.customFeatures.level15.description=v,n(0,t),n(2,l),n(3,s))}return r.$$set=v=>{"value"in v&&n(0,t=v.value),"disabled"in v&&n(1,i=v.disabled)},r.$$.update=()=>{r.$$.dirty&12&&(l===hn?n(0,t.name=s,t):n(0,t.name=l,t))},[t,i,l,s,o,a,f,u,c,m,_,p,$,k]}class jo extends se{constructor(e){super(),ae(this,e,Uo,Ko,oe,{value:0,disabled:1})}}function el(r){var i;let e,n=(((i=r[0])==null?void 0:i.features[r[3]].name)??r[1].customFeatures[r[3]].name)+"",t;return{c(){e=T("h3"),t=B(n)},l(l){e=y(l,"H3",{});var s=z(e);t=O(s,n),s.forEach(d)},m(l,s){b(l,e,s),E(e,t)},p(l,s){var o;s&11&&n!==(n=(((o=l[0])==null?void 0:o.features[l[3]].name)??l[1].customFeatures[l[3]].name)+"")&&fe(t,n)},d(l){l&&d(e)}}}function Go(r){let e,n;return e=new Wn({props:{value:r[1].customFeatures[r[3]].description}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&10&&(l.value=t[1].customFeatures[t[3]].description),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Yo(r){let e,n=gi(r[0].features[r[3]].description)+"",t;return{c(){e=new qn(!1),t=J(),this.h()},l(i){e=Bn(i,!1),t=J(),this.h()},h(){e.a=t},m(i,l){e.m(n,i,l),b(i,t,l)},p(i,l){l&9&&n!==(n=gi(i[0].features[i[3]].description)+"")&&e.p(n)},i:Z,o:Z,d(i){i&&(d(t),e.d())}}}function Wo(r){let e,n,t,i,l,s=r[2]!==Ct[0]&&el(r);const o=[Yo,Go],a=[];function f(u,c){return u[0]!=null?0:1}return t=f(r),i=a[t]=o[t](r),{c(){s&&s.c(),e=F(),n=T("div"),i.c(),this.h()},l(u){s&&s.l(u),e=N(u),n=y(u,"DIV",{class:!0});var c=z(n);i.l(c),c.forEach(d),this.h()},h(){D(n,"class","smaller svelte-t9ks1a")},m(u,c){s&&s.m(u,c),b(u,e,c),b(u,n,c),a[t].m(n,null),l=!0},p(u,[c]){u[2]!==Ct[0]?s?s.p(u,c):(s=el(u),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);let m=t;t=f(u),t===m?a[t].p(u,c):(me(),g(a[m],1,1,()=>{a[m]=null}),de(),i=a[t],i?i.p(u,c):(i=a[t]=o[t](u),i.c()),h(i,1),i.m(n,null))},i(u){l||(h(i),l=!0)},o(u){g(i),l=!1},d(u){u&&(d(e),d(n)),s&&s.d(u),a[t].d()}}}function Qo(r,e,n){let t,{standardPath:i}=e,{customPath:l}=e,{level:s}=e;return r.$$set=o=>{"standardPath"in o&&n(0,i=o.standardPath),"customPath"in o&&n(1,l=o.customPath),"level"in o&&n(2,s=o.level)},r.$$.update=()=>{r.$$.dirty&4&&n(3,t=`level${s}`)},[i,l,s,t]}class Zo extends se{constructor(e){super(),ae(this,e,Qo,Wo,oe,{standardPath:0,customPath:1,level:2})}}function tl(r,e,n){const t=r.slice();return t[9]=e[n],t}function nl(r){let e,n,t,i=r[0].name+"",l,s,o,a,f,u=r[2].data<Ct[0]&&il(),c=r[4]!=null&&r[2].data>=r[4].acquiredAtLevel&&ll(r),m=De(Ct),_=[];for(let $=0;$<m.length;$+=1)_[$]=sl(tl(r,m,$));const p=$=>g(_[$],1,1,()=>{_[$]=null});return{c(){e=T("section"),n=T("h2"),t=B("Path: "),l=B(i),s=F(),u&&u.c(),o=F(),c&&c.c(),a=F();for(let $=0;$<_.length;$+=1)_[$].c()},l($){e=y($,"SECTION",{});var k=z(e);n=y(k,"H2",{});var v=z(n);t=O(v,"Path: "),l=O(v,i),v.forEach(d),s=N(k),u&&u.l(k),o=N(k),c&&c.l(k),a=N(k);for(let w=0;w<_.length;w+=1)_[w].l(k);k.forEach(d)},m($,k){b($,e,k),E(e,n),E(n,t),E(n,l),E(e,s),u&&u.m(e,null),E(e,o),c&&c.m(e,null),E(e,a);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(e,null);f=!0},p($,k){if((!f||k&1)&&i!==(i=$[0].name+"")&&fe(l,i),$[2].data<Ct[0]?u||(u=il(),u.c(),u.m(e,o)):u&&(u.d(1),u=null),$[4]!=null&&$[2].data>=$[4].acquiredAtLevel?c?(c.p($,k),k&20&&h(c,1)):(c=ll($),c.c(),h(c,1),c.m(e,a)):c&&(me(),g(c,1,1,()=>{c=null}),de()),k&13){m=De(Ct);let v;for(v=0;v<m.length;v+=1){const w=tl($,m,v);_[v]?(_[v].p(w,k),h(_[v],1)):(_[v]=sl(w),_[v].c(),h(_[v],1),_[v].m(e,null))}for(me(),v=m.length;v<_.length;v+=1)p(v);de()}},i($){if(!f){h(c);for(let k=0;k<m.length;k+=1)h(_[k]);f=!0}},o($){g(c),_=_.filter(Boolean);for(let k=0;k<_.length;k+=1)g(_[k]);f=!1},d($){$&&d(e),u&&u.d(),c&&c.d(),tt(_,$)}}}function il(r){let e,n,t=Ct[0]+"",i,l;return{c(){e=T("p"),n=B("You gain access to your first trainer path feature at level "),i=B(t),l=B(".")},l(s){e=y(s,"P",{});var o=z(e);n=O(o,"You gain access to your first trainer path feature at level "),i=O(o,t),l=O(o,"."),o.forEach(d)},m(s,o){b(s,e,o),E(e,n),E(e,i),E(e,l)},d(s){s&&d(e)}}}function ll(r){let e,n,t,i;const l=[Xo,Jo],s=[];function o(a,f){return a[1]?0:1}return n=o(r),t=s[n]=l[n](r),{c(){e=T("p"),t.c(),this.h()},l(a){e=y(a,"P",{class:!0});var f=z(e);t.l(f),f.forEach(d),this.h()},h(){D(e,"class","row svelte-1o95qc1")},m(a,f){b(a,e,f),s[n].m(e,null),i=!0},p(a,f){let u=n;n=o(a),n===u?s[n].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),t=s[n],t?t.p(a,f):(t=s[n]=l[n](a),t.c()),h(t,1),t.m(e,null))},i(a){i||(h(t),i=!0)},o(a){g(t),i=!1},d(a){a&&d(e),s[n].d()}}}function Jo(r){let e,n=r[4].name+"",t,i,l,s,o=r[0].resource+"",a;return{c(){e=T("strong"),t=B(n),i=B(":"),l=F(),s=T("span"),a=B(o),this.h()},l(f){e=y(f,"STRONG",{});var u=z(e);t=O(u,n),i=O(u,":"),u.forEach(d),l=N(f),s=y(f,"SPAN",{});var c=z(s);a=O(c,o),c.forEach(d),this.h()},h(){Ee(s,"flex","1")},m(f,u){b(f,e,u),E(e,t),E(e,i),b(f,l,u),b(f,s,u),E(s,a)},p(f,u){u&16&&n!==(n=f[4].name+"")&&fe(t,n),u&1&&o!==(o=f[0].resource+"")&&fe(a,o)},i:Z,o:Z,d(f){f&&(d(e),d(l),d(s))}}}function Xo(r){let e,n=r[4].name+"",t,i,l,s,o,a;return o=new wt({props:{id:"trainer-path-resource",value:r[0].resource}}),o.$on("change",r[5]),{c(){e=T("label"),t=B(n),i=B(":"),l=F(),s=T("span"),A(o.$$.fragment),this.h()},l(f){e=y(f,"LABEL",{for:!0,class:!0});var u=z(e);t=O(u,n),i=O(u,":"),u.forEach(d),l=N(f),s=y(f,"SPAN",{});var c=z(s);I(o.$$.fragment,c),c.forEach(d),this.h()},h(){D(e,"for","trainer-path-resource"),D(e,"class","svelte-1o95qc1"),Ee(s,"flex","1")},m(f,u){b(f,e,u),E(e,t),E(e,i),b(f,l,u),b(f,s,u),C(o,s,null),a=!0},p(f,u){(!a||u&16)&&n!==(n=f[4].name+"")&&fe(t,n);const c={};u&1&&(c.value=f[0].resource),o.$set(c)},i(f){a||(h(o.$$.fragment,f),a=!0)},o(f){g(o.$$.fragment,f),a=!1},d(f){f&&(d(e),d(l),d(s)),S(o)}}}function rl(r){let e,n;return e=new Zo({props:{standardPath:r[3],customPath:r[0],level:r[9]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.standardPath=t[3]),i&1&&(l.customPath=t[0]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function sl(r){let e,n,t=r[2].data>=r[9]&&rl(r);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,l){t&&t.m(i,l),b(i,e,l),n=!0},p(i,l){i[2].data>=i[9]?t?(t.p(i,l),l&4&&h(t,1)):(t=rl(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function xo(r){let e,n,t=r[0].name!==""&&nl(r);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,l){t&&t.m(i,l),b(i,e,l),n=!0},p(i,[l]){i[0].name!==""?t?(t.p(i,l),l&1&&h(t,1)):(t=nl(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function ef(r,e,n){let t,i,l,s;Ve(r,Bt,m=>n(7,s=m));const o=et();let{value:a}=e,{editable:f}=e,{level:u}=e;const c=m=>{o("update",{resource:m.detail.value})};return r.$$set=m=>{"value"in m&&n(0,a=m.value),"editable"in m&&n(1,f=m.editable),"level"in m&&n(2,u=m.level)},r.$$.update=()=>{r.$$.dirty&128&&n(6,t=Wr[s]),r.$$.dirty&65&&n(3,i=t.find(m=>m.name===a.name)),r.$$.dirty&8&&n(4,l=i==null?void 0:i.resource)},[a,f,u,i,l,c,t,s]}class tf extends se{constructor(e){super(),ae(this,e,ef,xo,oe,{value:0,editable:1,level:2})}}function al(r,e,n){const t=r.slice();return t[6]=e[n],t}function nf(r){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function lf(r){let e;return{c(){e=B("Add Status")},l(n){e=O(n,"Add Status")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function rf(r){let e;return{c(){e=B("Edit Status")},l(n){e=O(n,"Edit Status")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function ol(r){let e,n=r[6].name+"",t;return{c(){e=T("option"),t=B(n),this.h()},l(i){e=y(i,"OPTION",{});var l=z(e);t=O(l,n),l.forEach(d),this.h()},h(){e.__value=r[6].id,pn(e,e.__value)},m(i,l){b(i,e,l),E(e,t)},p:Z,d(i){i&&d(e)}}}function sf(r){let e,n,t,i,l,s,o,a,f="None",u,c,m;function _(w,P){return w[0]==null?lf:nf}let p=_(r),$=p(r);l=new Mt({props:{$$slots:{default:[rf]},$$scope:{ctx:r}}});let k=De(r[2]),v=[];for(let w=0;w<k.length;w+=1)v[w]=ol(al(r,k,w));return{c(){e=T("div"),n=T("label"),t=T("span"),$.c(),i=F(),A(l.$$.fragment),s=F(),o=T("select"),a=T("option"),a.textContent=f;for(let w=0;w<v.length;w+=1)v[w].c();this.h()},l(w){e=y(w,"DIV",{class:!0});var P=z(e);n=y(P,"LABEL",{for:!0,class:!0});var H=z(n);t=y(H,"SPAN",{"aria-hidden":!0});var L=z(t);$.l(L),L.forEach(d),i=N(H),I(l.$$.fragment,H),H.forEach(d),s=N(P),o=y(P,"SELECT",{id:!0,class:!0});var M=z(o);a=y(M,"OPTION",{"data-svelte-h":!0}),$e(a)!=="svelte-89u4a7"&&(a.textContent=f);for(let R=0;R<v.length;R+=1)v[R].l(M);M.forEach(d),P.forEach(d),this.h()},h(){D(t,"aria-hidden","true"),D(n,"for",r[1]),D(n,"class","smaller interactive svelte-lpgedz"),Ue(n,"invert",r[0]==null),a.__value=null,pn(a,a.__value),D(o,"id",r[1]),D(o,"class","overlay svelte-lpgedz"),D(e,"class","overlapping interactive-container svelte-lpgedz")},m(w,P){b(w,e,P),E(e,n),E(n,t),$.m(t,null),E(n,i),C(l,n,null),E(e,s),E(e,o),E(o,a);for(let H=0;H<v.length;H+=1)v[H]&&v[H].m(o,null);ui(o,r[0]),u=!0,c||(m=[ot(o,"change",r[3]),ot(o,"keyup",r[4])],c=!0)},p(w,[P]){p!==(p=_(w))&&($.d(1),$=p(w),$&&($.c(),$.m(t,null)));const H={};if(P&512&&(H.$$scope={dirty:P,ctx:w}),l.$set(H),(!u||P&2)&&D(n,"for",w[1]),(!u||P&1)&&Ue(n,"invert",w[0]==null),P&4){k=De(w[2]);let L;for(L=0;L<k.length;L+=1){const M=al(w,k,L);v[L]?v[L].p(M,P):(v[L]=ol(M),v[L].c(),v[L].m(o,null))}for(;L<v.length;L+=1)v[L].d(1);v.length=k.length}(!u||P&2)&&D(o,"id",w[1]),(!u||P&5)&&ui(o,w[0])},i(w){u||(h(l.$$.fragment,w),u=!0)},o(w){g(l.$$.fragment,w),u=!1},d(w){w&&d(e),$.d(),S(l),tt(v,w),c=!1,On(m)}}}function af(r,e,n){const t=et(),i=Object.values(Ys);let{id:l}=e,{value:s}=e;const o=f=>{const u=f.target;n(0,s=u.value?u.value:null),t("change",{value:s})},a=f=>{if(f.key==="Enter"){const u=f.target;"showPicker"in HTMLSelectElement.prototype&&u.showPicker()}};return r.$$set=f=>{"id"in f&&n(1,l=f.id),"value"in f&&n(0,s=f.value)},[s,l,i,o,a]}class of extends se{constructor(e){super(),ae(this,e,af,sf,oe,{id:1,value:0})}}function ff(r){let e,n="HP";return{c(){e=T("label"),e.textContent=n,this.h()},l(t){e=y(t,"LABEL",{for:!0,"data-svelte-h":!0}),$e(e)!=="svelte-nr4t2i"&&(e.textContent=n),this.h()},h(){D(e,"for","current-hp")},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function uf(r){let e=r[0].current+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=t[0].current+"")&&fe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function cf(r){let e,n;return e=new wt({props:{id:"current-hp",value:r[11]}}),e.$on("change",r[13]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2048&&(l.value=t[11]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function mf(r){let e,n="Hit Dice";return{c(){e=T("label"),e.textContent=n,this.h()},l(t){e=y(t,"LABEL",{for:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1l1lthl"&&(e.textContent=n),this.h()},h(){D(e,"for","current-hit-dice")},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function df(r){let e=r[1].current+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&2&&e!==(e=t[1].current+"")&&fe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function _f(r){let e,n;return e=new wt({props:{id:"current-hit-dice",value:r[10]}}),e.$on("change",r[14]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&1024&&(l.value=t[10]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fl(r){let e,n,t,i,l,s,o,a,f,u,c,m,_="Exp:",p,$,k,v,w,P=r[4]!=null&&ul(r),H=r[6]&&cl(r);o=new kn({props:{variant:"tertiary",current:r[9],max:r[8]}}),u=new Kr({props:{id:"exp-remaining",$$slots:{activator:[$f],default:[pf]},$$scope:{ctx:r}}});const L=[gf,hf],M=[];function R(q,Y){return q[6]?0:1}return k=R(r),v=M[k]=L[k](r),{c(){e=T("span"),n=T("span"),P&&P.c(),t=F(),H&&H.c(),i=F(),l=T("span"),s=T("span"),A(o.$$.fragment),a=F(),f=T("span"),A(u.$$.fragment),c=F(),m=T("label"),m.textContent=_,p=F(),$=T("span"),v.c(),this.h()},l(q){e=y(q,"SPAN",{});var Y=z(e);n=y(Y,"SPAN",{class:!0});var K=z(n);P&&P.l(K),t=N(K),H&&H.l(K),K.forEach(d),Y.forEach(d),i=N(q),l=y(q,"SPAN",{class:!0});var W=z(l);s=y(W,"SPAN",{class:!0});var U=z(s);I(o.$$.fragment,U),U.forEach(d),a=N(W),f=y(W,"SPAN",{class:!0});var V=z(f);I(u.$$.fragment,V),c=N(V),m=y(V,"LABEL",{for:!0,"data-svelte-h":!0}),$e(m)!=="svelte-sbvefl"&&(m.textContent=_),p=N(V),$=y(V,"SPAN",{class:!0});var x=z($);v.l(x),x.forEach(d),V.forEach(d),W.forEach(d),this.h()},h(){D(n,"class","row svelte-15fcv4v"),D(s,"class","exp-bar svelte-15fcv4v"),D(m,"for","current-experience"),D($,"class","current-exp svelte-15fcv4v"),D(f,"class","exp-text svelte-15fcv4v"),D(l,"class","exp svelte-15fcv4v")},m(q,Y){b(q,e,Y),E(e,n),P&&P.m(n,null),E(n,t),H&&H.m(n,null),b(q,i,Y),b(q,l,Y),E(l,s),C(o,s,null),E(l,a),E(l,f),C(u,f,null),E(f,c),E(f,m),E(f,p),E(f,$),M[k].m($,null),w=!0},p(q,Y){q[4]!=null?P?(P.p(q,Y),Y&16&&h(P,1)):(P=ul(q),P.c(),h(P,1),P.m(n,t)):P&&(me(),g(P,1,1,()=>{P=null}),de()),q[6]?H?(H.p(q,Y),Y&64&&h(H,1)):(H=cl(q),H.c(),h(H,1),H.m(n,null)):H&&(me(),g(H,1,1,()=>{H=null}),de());const K={};Y&512&&(K.current=q[9]),Y&256&&(K.max=q[8]),o.$set(K);const W={};Y&524416&&(W.$$scope={dirty:Y,ctx:q}),u.$set(W);let U=k;k=R(q),k===U?M[k].p(q,Y):(me(),g(M[U],1,1,()=>{M[U]=null}),de(),v=M[k],v?v.p(q,Y):(v=M[k]=L[k](q),v.c()),h(v,1),v.m($,null))},i(q){w||(h(P),h(H),h(o.$$.fragment,q),h(u.$$.fragment,q),h(v),w=!0)},o(q){g(P),g(H),g(o.$$.fragment,q),g(u.$$.fragment,q),g(v),w=!1},d(q){q&&(d(e),d(i),d(l)),P&&P.d(),H&&H.d(),S(o),S(u),M[k].d()}}}function ul(r){let e,n;return e=new Ur({props:{value:r[4]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.value=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function cl(r){let e,n;return e=new of({props:{id:"current-status",value:r[12]}}),e.$on("change",r[15]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4096&&(l.value=t[12]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function pf(r){let e,n=vn(r[7])+"",t,i;return{c(){e=T("p"),t=B(n),i=B(" needed until level up."),this.h()},l(l){e=y(l,"P",{});var s=z(e);t=O(s,n),i=O(s," needed until level up."),s.forEach(d),this.h()},h(){Ee(e,"text-align","center")},m(l,s){b(l,e,s),E(e,t),E(e,i)},p(l,s){s&128&&n!==(n=vn(l[7])+"")&&fe(t,n)},d(l){l&&d(e)}}}function $f(r){let e,n;return e=new Gs({props:{slot:"activator",label:"Exp Needed"}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function hf(r){let e=vn(r[3])+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&8&&e!==(e=vn(t[3])+"")&&fe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function gf(r){let e,n;return e=new wt({props:{id:"current-experience",value:r[3]}}),e.$on("change",r[16]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.value=t[3]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function vf(r){let e,n,t,i,l,s,o,a,f,u,c,m,_,p=r[0].max+"",$,k,v,w,P,H,L,M,R,q,Y,K,W,U,V,x=r[1].max+"",G,X,re=r[2].data+"",ue,ke,te,ce;t=new kn({props:{current:r[11],max:r[0].max}}),s=new Mt({props:{$$slots:{default:[ff]},$$scope:{ctx:r}}});const Fe=[cf,uf],Te=[];function pe(we,Ie){return we[6]?0:1}f=pe(r),u=Te[f]=Fe[f](r),P=new kn({props:{variant:"secondary",current:r[10],max:r[1].max}}),M=new Mt({props:{$$slots:{default:[mf]},$$scope:{ctx:r}}});const he=[_f,df],ye=[];function Ce(we,Ie){return we[6]?0:1}Y=Ce(r),K=ye[Y]=he[Y](r);let ee=r[5]&&fl(r);return{c(){e=T("div"),n=T("span"),A(t.$$.fragment),i=F(),l=T("span"),A(s.$$.fragment),o=F(),a=T("span"),u.c(),c=F(),m=T("span"),_=B("/ "),$=B(p),k=F(),v=T("span"),w=T("span"),A(P.$$.fragment),H=F(),L=T("span"),A(M.$$.fragment),R=F(),q=T("span"),K.c(),W=F(),U=T("span"),V=B("/ "),G=B(x),X=B(" ("),ue=B(re),ke=B(")"),te=F(),ee&&ee.c(),this.h()},l(we){e=y(we,"DIV",{class:!0});var Ie=z(e);n=y(Ie,"SPAN",{class:!0});var Le=z(n);I(t.$$.fragment,Le),Le.forEach(d),i=N(Ie),l=y(Ie,"SPAN",{class:!0});var Re=z(l);I(s.$$.fragment,Re),o=N(Re),a=y(Re,"SPAN",{class:!0});var qe=z(a);u.l(qe),qe.forEach(d),c=N(Re),m=y(Re,"SPAN",{class:!0});var _e=z(m);_=O(_e,"/ "),$=O(_e,p),_e.forEach(d),Re.forEach(d),k=N(Ie),v=y(Ie,"SPAN",{class:!0});var Se=z(v);w=y(Se,"SPAN",{class:!0});var Oe=z(w);I(P.$$.fragment,Oe),Oe.forEach(d),H=N(Se),L=y(Se,"SPAN",{class:!0});var Ke=z(L);I(M.$$.fragment,Ke),R=N(Ke),q=y(Ke,"SPAN",{class:!0});var Je=z(q);K.l(Je),Je.forEach(d),W=N(Ke),U=y(Ke,"SPAN",{class:!0});var Me=z(U);V=O(Me,"/ "),G=O(Me,x),X=O(Me," ("),ue=O(Me,re),ke=O(Me,")"),Me.forEach(d),Ke.forEach(d),Se.forEach(d),te=N(Ie),ee&&ee.l(Ie),Ie.forEach(d),this.h()},h(){D(n,"class","bar svelte-15fcv4v"),D(a,"class","current-hp svelte-15fcv4v"),D(m,"class","max-hp"),D(l,"class","hp svelte-15fcv4v"),D(w,"class","hit-dice-bar svelte-15fcv4v"),D(q,"class","current-hit-dice svelte-15fcv4v"),D(U,"class","max-hit-dice"),D(L,"class","hit-dice-text svelte-15fcv4v"),D(v,"class","hit-dice svelte-15fcv4v"),D(e,"class","grid svelte-15fcv4v")},m(we,Ie){b(we,e,Ie),E(e,n),C(t,n,null),E(e,i),E(e,l),C(s,l,null),E(l,o),E(l,a),Te[f].m(a,null),E(l,c),E(l,m),E(m,_),E(m,$),E(e,k),E(e,v),E(v,w),C(P,w,null),E(v,H),E(v,L),C(M,L,null),E(L,R),E(L,q),ye[Y].m(q,null),E(L,W),E(L,U),E(U,V),E(U,G),E(U,X),E(U,ue),E(U,ke),E(e,te),ee&&ee.m(e,null),ce=!0},p(we,[Ie]){const Le={};Ie&2048&&(Le.current=we[11]),Ie&1&&(Le.max=we[0].max),t.$set(Le);const Re={};Ie&524288&&(Re.$$scope={dirty:Ie,ctx:we}),s.$set(Re);let qe=f;f=pe(we),f===qe?Te[f].p(we,Ie):(me(),g(Te[qe],1,1,()=>{Te[qe]=null}),de(),u=Te[f],u?u.p(we,Ie):(u=Te[f]=Fe[f](we),u.c()),h(u,1),u.m(a,null)),(!ce||Ie&1)&&p!==(p=we[0].max+"")&&fe($,p);const _e={};Ie&1024&&(_e.current=we[10]),Ie&2&&(_e.max=we[1].max),P.$set(_e);const Se={};Ie&524288&&(Se.$$scope={dirty:Ie,ctx:we}),M.$set(Se);let Oe=Y;Y=Ce(we),Y===Oe?ye[Y].p(we,Ie):(me(),g(ye[Oe],1,1,()=>{ye[Oe]=null}),de(),K=ye[Y],K?K.p(we,Ie):(K=ye[Y]=he[Y](we),K.c()),h(K,1),K.m(q,null)),(!ce||Ie&2)&&x!==(x=we[1].max+"")&&fe(G,x),(!ce||Ie&4)&&re!==(re=we[2].data+"")&&fe(ue,re),we[5]?ee?(ee.p(we,Ie),Ie&32&&h(ee,1)):(ee=fl(we),ee.c(),h(ee,1),ee.m(e,null)):ee&&(me(),g(ee,1,1,()=>{ee=null}),de())},i(we){ce||(h(t.$$.fragment,we),h(s.$$.fragment,we),h(u),h(P.$$.fragment,we),h(M.$$.fragment,we),h(K),h(ee),ce=!0)},o(we){g(t.$$.fragment,we),g(s.$$.fragment,we),g(u),g(P.$$.fragment,we),g(M.$$.fragment,we),g(K),g(ee),ce=!1},d(we){we&&d(e),S(t),S(s),Te[f].d(),S(P),S(M),ye[Y].d(),ee&&ee.d()}}}function bf(r,e,n){let t,i,l,s,o,a;const f=et();let{hp:u}=e,{hitDice:c}=e,{dieSize:m}=e,{exp:_}=e,{level:p}=e,{status:$}=e,{hasStatusAndExp:k=!1}=e,{editable:v}=e;const w=M=>{f("update",{currentHp:M.detail.value,currentHitDice:i,currentStatus:$,exp:_})},P=M=>{f("update",{currentHp:t,currentHitDice:M.detail.value,currentStatus:$,exp:_})},H=M=>{f("update",{currentHp:t,currentHitDice:i,currentStatus:M.detail.value,exp:_})},L=M=>{f("update",{currentHp:t,currentHitDice:i,currentStatus:$,exp:M.detail.value})};return r.$$set=M=>{"hp"in M&&n(0,u=M.hp),"hitDice"in M&&n(1,c=M.hitDice),"dieSize"in M&&n(2,m=M.dieSize),"exp"in M&&n(3,_=M.exp),"level"in M&&n(17,p=M.level),"status"in M&&n(4,$=M.status),"hasStatusAndExp"in M&&n(5,k=M.hasStatusAndExp),"editable"in M&&n(6,v=M.editable)},r.$$.update=()=>{r.$$.dirty&1&&n(11,t=u.current),r.$$.dirty&2&&n(10,i=c.current),r.$$.dirty&16&&n(12,l=$),r.$$.dirty&131072&&n(8,s=pi(jr(p.data),p.data)),r.$$.dirty&131080&&n(7,o=pi(_,p.data)),r.$$.dirty&384&&n(9,a=s-o)},[u,c,m,_,$,k,v,o,s,a,i,t,l,w,P,H,L,p]}class cs extends se{constructor(e){super(),ae(this,e,bf,vf,oe,{hp:0,hitDice:1,dieSize:2,exp:3,level:17,status:4,hasStatusAndExp:5,editable:6})}}function kf(r){let e,n='<abbr title="Armor Class">AC</abbr>',t,i,l=r[0].ac+"",s,o,a,f="Bonus",u,c,m,_;return{c(){e=T("dt"),e.innerHTML=n,t=F(),i=T("dd"),s=B(l),o=F(),a=T("dt"),a.textContent=f,u=F(),c=T("dd"),m=B("+"),_=B(r[1])},l(p){e=y(p,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-oq9y6j"&&(e.innerHTML=n),t=N(p),i=y(p,"DD",{});var $=z(i);s=O($,l),$.forEach(d),o=N(p),a=y(p,"DT",{"data-svelte-h":!0}),$e(a)!=="svelte-ehj2sb"&&(a.textContent=f),u=N(p),c=y(p,"DD",{});var k=z(c);m=O(k,"+"),_=O(k,r[1]),k.forEach(d)},m(p,$){b(p,e,$),b(p,t,$),b(p,i,$),E(i,s),b(p,o,$),b(p,a,$),b(p,u,$),b(p,c,$),E(c,m),E(c,_)},p(p,$){$&1&&l!==(l=p[0].ac+"")&&fe(s,l),$&2&&fe(_,p[1])},d(p){p&&(d(e),d(t),d(i),d(o),d(a),d(u),d(c))}}}function ml(r){let e,n="Species",t,i,l=r[0].biography.species+"",s;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(l)},l(o){e=y(o,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-1eptv2s"&&(e.textContent=n),t=N(o),i=y(o,"DD",{});var a=z(i);s=O(a,l),a.forEach(d)},m(o,a){b(o,e,a),b(o,t,a),b(o,i,a),E(i,s)},p(o,a){a&1&&l!==(l=o[0].biography.species+"")&&fe(s,l)},d(o){o&&(d(e),d(t),d(i))}}}function dl(r){let e,n="Gender",t,i,l=r[0].biography.gender+"",s,o,a,f;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(l),o=F(),a=T("dt"),f=T("dd")},l(u){e=y(u,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-ae5mer"&&(e.textContent=n),t=N(u),i=y(u,"DD",{});var c=z(i);s=O(c,l),c.forEach(d),o=N(u),a=y(u,"DT",{}),z(a).forEach(d),f=y(u,"DD",{}),z(f).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),E(i,s),b(u,o,c),b(u,a,c),b(u,f,c)},p(u,c){c&1&&l!==(l=u[0].biography.gender+"")&&fe(s,l)},d(u){u&&(d(e),d(t),d(i),d(o),d(a),d(f))}}}function _l(r){let e,n="Age",t,i,l=r[0].biography.age+"",s,o,a,f;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(l),o=F(),a=T("dt"),f=T("dd")},l(u){e=y(u,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-oehtmf"&&(e.textContent=n),t=N(u),i=y(u,"DD",{});var c=z(i);s=O(c,l),c.forEach(d),o=N(u),a=y(u,"DT",{}),z(a).forEach(d),f=y(u,"DD",{}),z(f).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),E(i,s),b(u,o,c),b(u,a,c),b(u,f,c)},p(u,c){c&1&&l!==(l=u[0].biography.age+"")&&fe(s,l)},d(u){u&&(d(e),d(t),d(i),d(o),d(a),d(f))}}}function pl(r){let e,n="Home Region",t,i,l=r[0].biography.homeRegion+"",s,o,a,f;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(l),o=F(),a=T("dt"),f=T("dd")},l(u){e=y(u,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-1rv9izp"&&(e.textContent=n),t=N(u),i=y(u,"DD",{});var c=z(i);s=O(c,l),c.forEach(d),o=N(u),a=y(u,"DT",{}),z(a).forEach(d),f=y(u,"DD",{}),z(f).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),E(i,s),b(u,o,c),b(u,a,c),b(u,f,c)},p(u,c){c&1&&l!==(l=u[0].biography.homeRegion+"")&&fe(s,l)},d(u){u&&(d(e),d(t),d(i),d(o),d(a),d(f))}}}function $l(r){let e,n="Background",t,i,l=r[0].biography.background+"",s,o,a,f;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(l),o=F(),a=T("dt"),f=T("dd")},l(u){e=y(u,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-yp07su"&&(e.textContent=n),t=N(u),i=y(u,"DD",{});var c=z(i);s=O(c,l),c.forEach(d),o=N(u),a=y(u,"DT",{}),z(a).forEach(d),f=y(u,"DD",{}),z(f).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),E(i,s),b(u,o,c),b(u,a,c),b(u,f,c)},p(u,c){c&1&&l!==(l=u[0].biography.background+"")&&fe(s,l)},d(u){u&&(d(e),d(t),d(i),d(o),d(a),d(f))}}}function wf(r){let e,n,t,i,l,s=r[0].biography.species&&ml(r),o=r[0].biography.gender&&dl(r),a=r[0].biography.age&&_l(r),f=r[0].biography.homeRegion&&pl(r),u=r[0].biography.background&&$l(r);return{c(){s&&s.c(),e=F(),o&&o.c(),n=F(),a&&a.c(),t=F(),f&&f.c(),i=F(),u&&u.c(),l=J()},l(c){s&&s.l(c),e=N(c),o&&o.l(c),n=N(c),a&&a.l(c),t=N(c),f&&f.l(c),i=N(c),u&&u.l(c),l=J()},m(c,m){s&&s.m(c,m),b(c,e,m),o&&o.m(c,m),b(c,n,m),a&&a.m(c,m),b(c,t,m),f&&f.m(c,m),b(c,i,m),u&&u.m(c,m),b(c,l,m)},p(c,m){c[0].biography.species?s?s.p(c,m):(s=ml(c),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c[0].biography.gender?o?o.p(c,m):(o=dl(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),c[0].biography.age?a?a.p(c,m):(a=_l(c),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),c[0].biography.homeRegion?f?f.p(c,m):(f=pl(c),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),c[0].biography.background?u?u.p(c,m):(u=$l(c),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},d(c){c&&(d(e),d(n),d(t),d(i),d(l)),s&&s.d(c),o&&o.d(c),a&&a.d(c),f&&f.d(c),u&&u.d(c)}}}function Ef(r){let e,n,t,i,l,s,o;return t=new Lt({props:{columns:1,$$slots:{default:[kf]},$$scope:{ctx:r}}}),s=new Lt({props:{columns:1,$$slots:{default:[wf]},$$scope:{ctx:r}}}),{c(){e=T("div"),n=T("div"),A(t.$$.fragment),i=F(),l=T("div"),A(s.$$.fragment),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=z(e);n=y(f,"DIV",{class:!0});var u=z(n);I(t.$$.fragment,u),u.forEach(d),i=N(f),l=y(f,"DIV",{class:!0});var c=z(l);I(s.$$.fragment,c),c.forEach(d),f.forEach(d),this.h()},h(){D(n,"class","svelte-ghg74y"),D(l,"class","svelte-ghg74y"),D(e,"class","two-columns svelte-ghg74y")},m(a,f){b(a,e,f),E(e,n),C(t,n,null),E(e,i),E(e,l),C(s,l,null),o=!0},p(a,[f]){const u={};f&7&&(u.$$scope={dirty:f,ctx:a}),t.$set(u);const c={};f&5&&(c.$$scope={dirty:f,ctx:a}),s.$set(c)},i(a){o||(h(t.$$.fragment,a),h(s.$$.fragment,a),o=!0)},o(a){g(t.$$.fragment,a),g(s.$$.fragment,a),o=!1},d(a){a&&d(e),S(t),S(s)}}}function Sf(r,e,n){let t,{trainer:i}=e;return r.$$set=l=>{"trainer"in l&&n(0,i=l.trainer)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=i.level.proficiencyBonus)},[i,t]}let Cf=class extends se{constructor(e){super(),ae(this,e,Sf,Ef,oe,{trainer:0})}};function hl(r){let e,n,t,i=r[4].athletics+"",l,s;return{c(){e=T("p"),n=T("small"),t=B("+"),l=B(i),s=B(" from trainer specialization included"),this.h()},l(o){e=y(o,"P",{class:!0});var a=z(e);n=y(a,"SMALL",{});var f=z(n);t=O(f,"+"),l=O(f,i),s=O(f," from trainer specialization included"),f.forEach(d),a.forEach(d),this.h()},h(){D(e,"class","footnote svelte-44t0bz")},m(o,a){b(o,e,a),E(e,n),E(n,t),E(n,l),E(n,s)},p(o,a){a&16&&i!==(i=o[4].athletics+"")&&fe(l,i)},d(o){o&&d(e)}}}function Af(r){var k;let e,n="Saves",t,i,l,s,o,a="Skills",f,u,c,m,_,p;l=new Di({props:{level:r[0],attributes:r[1],values:It.list.map(r[7]),columnsLg:3,columns:2}}),c=new Di({props:{level:r[0],attributes:r[1],values:gn.list.map(r[8]),columnsLg:2,columns:1}});let $=((k=r[4])==null?void 0:k.athletics)>0&&hl(r);return{c(){e=T("h3"),e.textContent=n,t=F(),i=T("div"),A(l.$$.fragment),s=F(),o=T("h3"),o.textContent=a,f=F(),u=T("div"),A(c.$$.fragment),m=F(),$&&$.c(),_=J(),this.h()},l(v){e=y(v,"H3",{"data-svelte-h":!0}),$e(e)!=="svelte-1dg7sjo"&&(e.textContent=n),t=N(v),i=y(v,"DIV",{class:!0});var w=z(i);I(l.$$.fragment,w),w.forEach(d),s=N(v),o=y(v,"H3",{"data-svelte-h":!0}),$e(o)!=="svelte-11ea0ie"&&(o.textContent=a),f=N(v),u=y(v,"DIV",{class:!0});var P=z(u);I(c.$$.fragment,P),P.forEach(d),m=N(v),$&&$.l(v),_=J(),this.h()},h(){D(i,"class","upper"),D(u,"class","cap")},m(v,w){b(v,e,w),b(v,t,w),b(v,i,w),C(l,i,null),b(v,s,w),b(v,o,w),b(v,f,w),b(v,u,w),C(c,u,null),b(v,m,w),$&&$.m(v,w),b(v,_,w),p=!0},p(v,[w]){var L;const P={};w&1&&(P.level=v[0]),w&2&&(P.attributes=v[1]),w&4&&(P.values=It.list.map(v[7])),l.$set(P);const H={};w&1&&(H.level=v[0]),w&2&&(H.attributes=v[1]),w&24&&(H.values=gn.list.map(v[8])),c.$set(H),((L=v[4])==null?void 0:L.athletics)>0?$?$.p(v,w):($=hl(v),$.c(),$.m(_.parentNode,_)):$&&($.d(1),$=null)},i(v){p||(h(l.$$.fragment,v),h(c.$$.fragment,v),p=!0)},o(v){g(l.$$.fragment,v),g(c.$$.fragment,v),p=!1},d(v){v&&(d(e),d(t),d(i),d(s),d(o),d(f),d(u),d(m),d(_)),S(l),S(c),$&&$.d(v)}}}function If(r,e,n){let t,{level:i}=e,{attributes:l}=e,{savingThrows:s}=e,{proficiencies:o}=e,{type:a=void 0}=e,{specializations:f=void 0}=e;const u=m=>({name:m.abbr,attr:m.abbr,proficient:s.includes(m.abbr),expert:!1}),c=m=>({name:m.name,attr:m.attribute,proficient:o.isProficient(m.name),expert:o.isExpert(m.name),extraModifiers:t});return r.$$set=m=>{"level"in m&&n(0,i=m.level),"attributes"in m&&n(1,l=m.attributes),"savingThrows"in m&&n(2,s=m.savingThrows),"proficiencies"in m&&n(3,o=m.proficiencies),"type"in m&&n(5,a=m.type),"specializations"in m&&n(6,f=m.specializations)},r.$$.update=()=>{r.$$.dirty&96&&n(4,t=a!=null&&f!=null?Ws(f,a.data):void 0)},[i,l,s,o,t,a,f,u,c]}class ms extends se{constructor(e){super(),ae(this,e,If,Af,oe,{level:0,attributes:1,savingThrows:2,proficiencies:3,type:5,specializations:6})}}const gl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA2UExURQAAAD03ByYiBN7PIf/7MqWXAP/72HJOENbTIU8CCFsECJwEEK0IEJQACL4NGMIOFdtyeQAAAB0iiU0AAAASdFJOU///////////////////////AOK/vxIAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABrSURBVDhPzZJBDoAgDAStiKAIyP8/a21q4EAoCTFhTpudCy1dUpM5NACsBAauCg2gmE1ln7XSbHf0XHZrY7X9tDVcdusDOYk3cVlo59xFYKhoH0Ik7uAn08LL23OPLXXsQ4VrEW6tzo86pQdALzDBuu1P9gAAAABJRU5ErkJggg==";function ds(r,e){var n;if(!(e==null||e.length===0))if(r.type==="standard"){const t=e.find(i=>i.id===r.itemId);return{...r,name:(t==null?void 0:t.name)??r.itemId,description:(n=t==null?void 0:t.description)==null?void 0:n.join(" "),media:{sprite:(t==null?void 0:t.media.sprite)??gl}}}else return{...r,media:{sprite:gl}}}function vl(r,e,n){const t=r.slice();t[5]=e[n];const i=ds(t[5],t[2]);return t[6]=i,t}function bl(r){let e,n,t,i,l=`url('${r[6].media.sprite}')`,s;const o=[Tf,yf],a=[];function f(u,c){return u[6].quantity!=null?0:1}return n=f(r),t=a[n]=o[n](r),{c(){e=T("li"),t.c(),i=F(),this.h()},l(u){e=y(u,"LI",{class:!0});var c=z(e);t.l(c),i=N(c),c.forEach(d),this.h()},h(){D(e,"class","svelte-1ualp4i"),Ue(e,"imaged",r[6].media.sprite!=null),Ee(e,"--img",l)},m(u,c){b(u,e,c),a[n].m(e,null),E(e,i),s=!0},p(u,c){let m=n;n=f(u),n===m?a[n].p(u,c):(me(),g(a[m],1,1,()=>{a[m]=null}),de(),t=a[n],t?t.p(u,c):(t=a[n]=o[n](u),t.c()),h(t,1),t.m(e,i)),(!s||c&5)&&Ue(e,"imaged",u[6].media.sprite!=null),c&5&&l!==(l=`url('${u[6].media.sprite}')`)&&Ee(e,"--img",l)},i(u){s||(h(t),s=!0)},o(u){g(t),s=!1},d(u){u&&d(e),a[n].d()}}}function yf(r){let e,n=r[6].name+"",t,i,l=r[6].description+"",s;return{c(){e=T("strong"),t=B(n),i=B(": "),s=B(l)},l(o){e=y(o,"STRONG",{});var a=z(e);t=O(a,n),a.forEach(d),i=O(o,": "),s=O(o,l)},m(o,a){b(o,e,a),E(e,t),b(o,i,a),b(o,s,a)},p(o,a){a&5&&n!==(n=o[6].name+"")&&fe(t,n),a&5&&l!==(l=o[6].description+"")&&fe(s,l)},i:Z,o:Z,d(o){o&&(d(e),d(i),d(s))}}}function Tf(r){let e,n,t=r[6].name+"",i,l,s,o,a,f,u,c,m,_,p,$=r[6].description+"",k,v;const w=[Df,Pf],P=[];function H(L,M){return L[1]?0:1}return c=H(r),m=P[c]=w[c](r),{c(){e=T("div"),n=T("strong"),i=B(t),l=F(),s=T("span"),o=T("label"),a=B("×"),u=F(),m.c(),_=F(),p=T("p"),k=B($),this.h()},l(L){e=y(L,"DIV",{});var M=z(e);n=y(M,"STRONG",{});var R=z(n);i=O(R,t),R.forEach(d),l=N(M),s=y(M,"SPAN",{class:!0});var q=z(s);o=y(q,"LABEL",{for:!0,"aria-label":!0});var Y=z(o);a=O(Y,"×"),Y.forEach(d),u=N(q),m.l(q),q.forEach(d),_=N(M),p=y(M,"P",{});var K=z(p);k=O(K,$),K.forEach(d),M.forEach(d),this.h()},h(){D(o,"for",f="quantity-"+r[6].id),D(o,"aria-label","Quantity"),D(s,"class","editable-quantity svelte-1ualp4i")},m(L,M){b(L,e,M),E(e,n),E(n,i),E(e,l),E(e,s),E(s,o),E(o,a),E(s,u),P[c].m(s,null),E(e,_),E(e,p),E(p,k),v=!0},p(L,M){(!v||M&5)&&t!==(t=L[6].name+"")&&fe(i,t),(!v||M&5&&f!==(f="quantity-"+L[6].id))&&D(o,"for",f);let R=c;c=H(L),c===R?P[c].p(L,M):(me(),g(P[R],1,1,()=>{P[R]=null}),de(),m=P[c],m?m.p(L,M):(m=P[c]=w[c](L),m.c()),h(m,1),m.m(s,null)),(!v||M&5)&&$!==($=L[6].description+"")&&fe(k,$)},i(L){v||(h(m),v=!0)},o(L){g(m),v=!1},d(L){L&&d(e),P[c].d()}}}function Pf(r){let e,n=r[6].quantity+"",t;return{c(){e=T("span"),t=B(n)},l(i){e=y(i,"SPAN",{});var l=z(e);t=O(l,n),l.forEach(d)},m(i,l){b(i,e,l),E(e,t)},p(i,l){l&5&&n!==(n=i[6].quantity+"")&&fe(t,n)},i:Z,o:Z,d(i){i&&d(e)}}}function Df(r){let e,n;return e=new wt({props:{id:"quantity-"+r[6].id,value:r[6].quantity}}),e.$on("change",function(){Vt(r[3](r[6]))&&r[3](r[6]).apply(this,arguments)}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){r=t;const l={};i&5&&(l.id="quantity-"+r[6].id),i&5&&(l.value=r[6].quantity),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function kl(r,e){let n,t,i,l=e[6]!=null&&bl(e);return{key:r,first:null,c(){n=J(),l&&l.c(),t=J(),this.h()},l(s){n=J(),l&&l.l(s),t=J(),this.h()},h(){this.first=n},m(s,o){b(s,n,o),l&&l.m(s,o),b(s,t,o),i=!0},p(s,o){e=s,e[6]!=null?l?(l.p(e,o),o&5&&h(l,1)):(l=bl(e),l.c(),h(l,1),l.m(t.parentNode,t)):l&&(me(),g(l,1,1,()=>{l=null}),de())},i(s){i||(h(l),i=!0)},o(s){g(l),i=!1},d(s){s&&(d(n),d(t)),l&&l.d(s)}}}function Nf(r){let e,n=[],t=new Map,i,l=De(r[0]);const s=o=>o[5].id;for(let o=0;o<l.length;o+=1){let a=vl(r,l,o),f=s(a);t.set(f,n[o]=kl(f,a))}return{c(){e=T("ul");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=y(o,"UL",{class:!0});var a=z(e);for(let f=0;f<n.length;f+=1)n[f].l(a);a.forEach(d),this.h()},h(){D(e,"class","svelte-1ualp4i")},m(o,a){b(o,e,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);i=!0},p(o,[a]){a&15&&(l=De(o[0]),me(),n=nn(n,a,s,1,o,l,t,e,ln,kl,null,vl),de())},i(o){if(!i){for(let a=0;a<l.length;a+=1)h(n[a]);i=!0}},o(o){for(let a=0;a<n.length;a+=1)g(n[a]);i=!1},d(o){o&&d(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Ff(r,e,n){let t;Ve(r,Yn,a=>n(2,t=a));const i=et();let{items:l}=e,{editable:s=!1}=e;const o=a=>f=>{i("update",{id:a.id,quantity:f.detail.value})};return r.$$set=a=>{"items"in a&&n(0,l=a.items),"editable"in a&&n(1,s=a.editable)},[l,s,t,o]}class _s extends se{constructor(e){super(),ae(this,e,Ff,Nf,oe,{items:0,editable:1})}}function Hf(r){let e=hi(r[0])+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=hi(t[0])+"")&&fe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function zf(r){let e,n,t="₽",i,l,s,o;return s=new wt({props:{id:"current-money",value:r[0]}}),s.$on("change",r[3]),{c(){e=T("span"),n=T("span"),n.textContent=t,i=F(),l=T("span"),A(s.$$.fragment),this.h()},l(a){e=y(a,"SPAN",{class:!0});var f=z(e);n=y(f,"SPAN",{"data-svelte-h":!0}),$e(n)!=="svelte-1a8pjbz"&&(n.textContent=t),i=N(f),l=y(f,"SPAN",{});var u=z(l);I(s.$$.fragment,u),u.forEach(d),f.forEach(d),this.h()},h(){Ee(l,"flex","1"),Ee(l,"--input-min-width","100%"),D(e,"class","row svelte-xu6ckl"),Ee(e,"gap","0.25em")},m(a,f){b(a,e,f),E(e,n),E(e,i),E(e,l),C(s,l,null),o=!0},p(a,f){const u={};f&1&&(u.value=a[0]),s.$set(u)},i(a){o||(h(s.$$.fragment,a),o=!0)},o(a){g(s.$$.fragment,a),o=!1},d(a){a&&d(e),S(s)}}}function Lf(r){let e,n="Inventory",t,i,l,s="Money:",o,a,f,u,c,m,_;const p=[zf,Hf],$=[];function k(v,w){return v[2]?0:1}return f=k(r),u=$[f]=p[f](r),m=new _s({props:{items:r[1],editable:r[2]}}),m.$on("update",r[4]),{c(){e=T("h2"),e.textContent=n,t=F(),i=T("p"),l=T("label"),l.textContent=s,o=F(),a=T("span"),u.c(),c=F(),A(m.$$.fragment),this.h()},l(v){e=y(v,"H2",{"data-svelte-h":!0}),$e(e)!=="svelte-jfg41u"&&(e.textContent=n),t=N(v),i=y(v,"P",{class:!0});var w=z(i);l=y(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$e(l)!=="svelte-18dsazk"&&(l.textContent=s),o=N(w),a=y(w,"SPAN",{});var P=z(a);u.l(P),P.forEach(d),w.forEach(d),c=N(v),I(m.$$.fragment,v),this.h()},h(){D(l,"for","current-money"),D(l,"class","svelte-xu6ckl"),Ee(a,"flex","1"),D(i,"class","row svelte-xu6ckl"),Ee(i,"gap","0.5em")},m(v,w){b(v,e,w),b(v,t,w),b(v,i,w),E(i,l),E(i,o),E(i,a),$[f].m(a,null),b(v,c,w),C(m,v,w),_=!0},p(v,[w]){let P=f;f=k(v),f===P?$[f].p(v,w):(me(),g($[P],1,1,()=>{$[P]=null}),de(),u=$[f],u?u.p(v,w):(u=$[f]=p[f](v),u.c()),h(u,1),u.m(a,null));const H={};w&2&&(H.items=v[1]),w&4&&(H.editable=v[2]),m.$set(H)},i(v){_||(h(u),h(m.$$.fragment,v),_=!0)},o(v){g(u),g(m.$$.fragment,v),_=!1},d(v){v&&(d(e),d(t),d(i),d(c)),$[f].d(),S(m,v)}}}function Rf(r,e,n){const t=et();let{money:i}=e,{inventory:l}=e,{editable:s}=e;const o=f=>{t("update",{money:f.detail.value})},a=f=>{const u=l.find(m=>m.id===f.detail.id);if(u==null){Ye.show("Could not update item quantity. It seems to be missing?");return}const c={...u,quantity:f.detail.quantity};t("update-item",c)};return r.$$set=f=>{"money"in f&&n(0,i=f.money),"inventory"in f&&n(1,l=f.inventory),"editable"in f&&n(2,s=f.editable)},[i,l,s,o,a]}class Mf extends se{constructor(e){super(),ae(this,e,Rf,Lf,oe,{money:0,inventory:1,editable:2})}}function wl(r,e,n){const t=r.slice();t[2]=e[n];const i=t[0][t[2].type];return t[3]=i,t}function El(r){let e,n,t,i,l,s,o,a=r[2].type+"",f,u,c,m,_=r[2].name+"",p,$,k,v,w,P=r[3]+"",H,L=`var(--skin-${r[2].type}-bg)`,M,R;return l=new As({props:{type:r[2].type}}),{c(){e=T("li"),n=T("span"),t=T("span"),i=T("span"),A(l.$$.fragment),s=F(),o=T("span"),f=B(a),u=F(),c=T("span"),m=T("span"),p=B(_),$=F(),k=T("span"),v=T("strong"),w=B("×"),H=B(P),M=F(),this.h()},l(q){e=y(q,"LI",{class:!0});var Y=z(e);n=y(Y,"SPAN",{class:!0});var K=z(n);t=y(K,"SPAN",{class:!0});var W=z(t);i=y(W,"SPAN",{class:!0});var U=z(i);I(l.$$.fragment,U),U.forEach(d),s=N(W),o=y(W,"SPAN",{class:!0});var V=z(o);f=O(V,a),V.forEach(d),W.forEach(d),u=N(K),c=y(K,"SPAN",{class:!0});var x=z(c);m=y(x,"SPAN",{class:!0});var G=z(m);p=O(G,_),G.forEach(d),$=N(x),k=y(x,"SPAN",{class:!0});var X=z(k);v=y(X,"STRONG",{});var re=z(v);w=O(re,"×"),H=O(re,P),re.forEach(d),X.forEach(d),x.forEach(d),K.forEach(d),M=N(Y),Y.forEach(d),this.h()},h(){D(i,"class","type-icon svelte-soeuz1"),D(o,"class","type-name svelte-soeuz1"),D(t,"class","header svelte-soeuz1"),D(m,"class","specialization-name"),D(k,"class","specialization-count"),D(c,"class","main svelte-soeuz1"),D(n,"class","tag svelte-soeuz1"),Ee(n,"--skin-local-bg",L),D(e,"class","svelte-soeuz1")},m(q,Y){b(q,e,Y),E(e,n),E(n,t),E(t,i),C(l,i,null),E(t,s),E(t,o),E(o,f),E(n,u),E(n,c),E(c,m),E(m,p),E(c,$),E(c,k),E(k,v),E(v,w),E(v,H),E(e,M),R=!0},p(q,Y){const K={};Y&2&&(K.type=q[2].type),l.$set(K),(!R||Y&2)&&a!==(a=q[2].type+"")&&fe(f,a),(!R||Y&2)&&_!==(_=q[2].name+"")&&fe(p,_),(!R||Y&3)&&P!==(P=q[3]+"")&&fe(H,P),Y&2&&L!==(L=`var(--skin-${q[2].type}-bg)`)&&Ee(n,"--skin-local-bg",L)},i(q){R||(h(l.$$.fragment,q),R=!0)},o(q){g(l.$$.fragment,q),R=!1},d(q){q&&d(e),S(l)}}}function Sl(r){let e,n,t=r[3]>0&&El(r);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,l){t&&t.m(i,l),b(i,e,l),n=!0},p(i,l){i[3]>0?t?(t.p(i,l),l&3&&h(t,1)):(t=El(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Vf(r){let e,n,t=De(Object.values(r[1])),i=[];for(let s=0;s<t.length;s+=1)i[s]=Sl(wl(r,t,s));const l=s=>g(i[s],1,1,()=>{i[s]=null});return{c(){e=T("ul");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=y(s,"UL",{class:!0});var o=z(e);for(let a=0;a<i.length;a+=1)i[a].l(o);o.forEach(d),this.h()},h(){D(e,"class","svelte-soeuz1")},m(s,o){b(s,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(s,[o]){if(o&3){t=De(Object.values(s[1]));let a;for(a=0;a<t.length;a+=1){const f=wl(s,t,a);i[a]?(i[a].p(f,o),h(i[a],1)):(i[a]=Sl(f),i[a].c(),h(i[a],1),i[a].m(e,null))}for(me(),a=t.length;a<i.length;a+=1)l(a);de()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)h(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)g(i[o]);n=!1},d(s){s&&d(e),tt(i,s)}}}function Of(r,e,n){let t;Ve(r,Gr,l=>n(1,t=l));let{specializations:i}=e;return r.$$set=l=>{"specializations"in l&&n(0,i=l.specializations)},[i,t]}class Bf extends se{constructor(e){super(),ae(this,e,Of,Vf,oe,{specializations:0})}}const ps=An(Bt,r=>r==="2018"?new Rt("d8"):new Rt("d6")),$s=An(Zs,r=>Zr.concat(r));function qf(r){let e,n="Trainer Id",t,i,l=r[0].readKey+"",s;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(l)},l(o){e=y(o,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-13n2wjg"&&(e.textContent=n),t=N(o),i=y(o,"DD",{});var a=z(i);s=O(a,l),a.forEach(d)},m(o,a){b(o,e,a),b(o,t,a),b(o,i,a),E(i,s)},p(o,a){a&1&&l!==(l=o[0].readKey+"")&&fe(s,l)},d(o){o&&(d(e),d(t),d(i))}}}function Kf(r){let e,n,t,i,l,s,o;return e=new Lt({props:{columns:2,$$slots:{default:[qf]},$$scope:{ctx:r}}}),i=new cs({props:{hp:r[0].hp,hitDice:r[0].hitDice,dieSize:r[3],editable:r[1],status:null,level:r[0].level,exp:0}}),i.$on("update",r[5]),s=new Cf({props:{trainer:r[0]}}),{c(){A(e.$$.fragment),n=F(),t=T("div"),A(i.$$.fragment),l=F(),A(s.$$.fragment),this.h()},l(a){I(e.$$.fragment,a),n=N(a),t=y(a,"DIV",{class:!0});var f=z(t);I(i.$$.fragment,f),l=N(f),I(s.$$.fragment,f),f.forEach(d),this.h()},h(){D(t,"class","column svelte-ab94zr")},m(a,f){C(e,a,f),b(a,n,f),b(a,t,f),C(i,t,null),E(t,l),C(s,t,null),o=!0},p(a,f){const u={};f&1025&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const c={};f&1&&(c.hp=a[0].hp),f&1&&(c.hitDice=a[0].hitDice),f&8&&(c.dieSize=a[3]),f&2&&(c.editable=a[1]),f&1&&(c.level=a[0].level),i.$set(c);const m={};f&1&&(m.trainer=a[0]),s.$set(m)},i(a){o||(h(e.$$.fragment,a),h(i.$$.fragment,a),h(s.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),g(i.$$.fragment,a),g(s.$$.fragment,a),o=!1},d(a){a&&(d(n),d(t)),S(e,a),S(i),S(s)}}}function Uf(r){let e,n;return e=new Lr({props:{slot:"art",src:r[0].avatar.href,alt:"Trainer Avatar"}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&1&&(l.src=t[0].avatar.href),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Cl(r){let e,n="Specializations",t,i,l;return i=new Bf({props:{specializations:r[0].specializations}}),{c(){e=T("h3"),e.textContent=n,t=F(),A(i.$$.fragment)},l(s){e=y(s,"H3",{"data-svelte-h":!0}),$e(e)!=="svelte-1uai780"&&(e.textContent=n),t=N(s),I(i.$$.fragment,s)},m(s,o){b(s,e,o),b(s,t,o),C(i,s,o),l=!0},p(s,o){const a={};o&1&&(a.specializations=s[0].specializations),i.$set(a)},i(s){l||(h(i.$$.fragment,s),l=!0)},o(s){g(i.$$.fragment,s),l=!1},d(s){s&&(d(e),d(t)),S(i,s)}}}function Al(r){let e,n,t="Feats",i,l,s;return l=new fs({props:{allFeats:r[4],values:r[0].feats}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"H2",{"data-svelte-h":!0}),$e(n)!=="svelte-2ri5u1"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&16&&(f.allFeats=o[4]),a&1&&(f.values=o[0].feats),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function Il(r){let e,n,t="About",i,l,s;return l=new Wn({props:{value:r[0].description}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"H2",{"data-svelte-h":!0}),$e(n)!=="svelte-1h16os9"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&1&&(f.value=o[0].description),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function jf(r){let e,n,t,i,l,s,o,a=$i(r[0].specializations),f,u,c,m,_,p,$,k,v;e=new qr({props:{hasImage:r[2],$$slots:{art:[Uf],default:[Kf]},$$scope:{ctx:r}}}),i=new Tr({props:{attributes:r[0].attributes}}),s=new ms({props:{level:r[0].level,attributes:r[0].attributes,savingThrows:r[0].savingThrows,proficiencies:r[0].proficiencies}});let w=a&&Cl(r);u=new tf({props:{value:r[0].path,level:r[0].level,editable:r[1]}}),u.$on("update",r[7]);let P=r[0].feats.length>0&&Al(r);p=new Mf({props:{money:r[0].money,inventory:r[0].inventory,editable:r[1]}}),p.$on("update",r[6]),p.$on("update-item",r[8]);let H=r[0].description&&Il(r);return{c(){A(e.$$.fragment),n=F(),t=T("section"),A(i.$$.fragment),l=F(),A(s.$$.fragment),o=F(),w&&w.c(),f=F(),A(u.$$.fragment),c=F(),P&&P.c(),m=F(),_=T("section"),A(p.$$.fragment),$=F(),H&&H.c(),k=J(),this.h()},l(L){I(e.$$.fragment,L),n=N(L),t=y(L,"SECTION",{class:!0});var M=z(t);I(i.$$.fragment,M),l=N(M),I(s.$$.fragment,M),o=N(M),w&&w.l(M),M.forEach(d),f=N(L),I(u.$$.fragment,L),c=N(L),P&&P.l(L),m=N(L),_=y(L,"SECTION",{});var R=z(_);I(p.$$.fragment,R),R.forEach(d),$=N(L),H&&H.l(L),k=J(),this.h()},h(){D(t,"class","stats")},m(L,M){C(e,L,M),b(L,n,M),b(L,t,M),C(i,t,null),E(t,l),C(s,t,null),E(t,o),w&&w.m(t,null),b(L,f,M),C(u,L,M),b(L,c,M),P&&P.m(L,M),b(L,m,M),b(L,_,M),C(p,_,null),b(L,$,M),H&&H.m(L,M),b(L,k,M),v=!0},p(L,[M]){const R={};M&4&&(R.hasImage=L[2]),M&1035&&(R.$$scope={dirty:M,ctx:L}),e.$set(R);const q={};M&1&&(q.attributes=L[0].attributes),i.$set(q);const Y={};M&1&&(Y.level=L[0].level),M&1&&(Y.attributes=L[0].attributes),M&1&&(Y.savingThrows=L[0].savingThrows),M&1&&(Y.proficiencies=L[0].proficiencies),s.$set(Y),M&1&&(a=$i(L[0].specializations)),a?w?(w.p(L,M),M&1&&h(w,1)):(w=Cl(L),w.c(),h(w,1),w.m(t,null)):w&&(me(),g(w,1,1,()=>{w=null}),de());const K={};M&1&&(K.value=L[0].path),M&1&&(K.level=L[0].level),M&2&&(K.editable=L[1]),u.$set(K),L[0].feats.length>0?P?(P.p(L,M),M&1&&h(P,1)):(P=Al(L),P.c(),h(P,1),P.m(m.parentNode,m)):P&&(me(),g(P,1,1,()=>{P=null}),de());const W={};M&1&&(W.money=L[0].money),M&1&&(W.inventory=L[0].inventory),M&2&&(W.editable=L[1]),p.$set(W),L[0].description?H?(H.p(L,M),M&1&&h(H,1)):(H=Il(L),H.c(),h(H,1),H.m(k.parentNode,k)):H&&(me(),g(H,1,1,()=>{H=null}),de())},i(L){v||(h(e.$$.fragment,L),h(i.$$.fragment,L),h(s.$$.fragment,L),h(w),h(u.$$.fragment,L),h(P),h(p.$$.fragment,L),h(H),v=!0)},o(L){g(e.$$.fragment,L),g(i.$$.fragment,L),g(s.$$.fragment,L),g(w),g(u.$$.fragment,L),g(P),g(p.$$.fragment,L),g(H),v=!1},d(L){L&&(d(n),d(t),d(f),d(c),d(m),d(_),d($),d(k)),S(e,L),S(i),S(s),w&&w.d(),S(u,L),P&&P.d(L),S(p),H&&H.d(L)}}}function Gf(r,e,n){let t,i,l;Ve(r,ps,_=>n(3,i=_)),Ve(r,$s,_=>n(4,l=_));const s=et();let{trainer:o}=e,{editable:a}=e;const f=_=>{s("update",{...o,hp:{current:_.detail.currentHp,max:o.hp.max},hitDice:{current:_.detail.currentHitDice,max:o.hitDice.max}})},u=_=>{s("update",{...o,money:_.detail.money})},c=_=>{s("update",{...o,path:{...o.path,resource:_.detail.resource}})},m=_=>{s("update-item",_.detail)};return r.$$set=_=>{"trainer"in _&&n(0,o=_.trainer),"editable"in _&&n(1,a=_.editable)},r.$$.update=()=>{r.$$.dirty&1&&n(2,t=o.avatar!=null)},[o,a,t,i,l,f,u,c,m]}let Yf=class extends se{constructor(e){super(),ae(this,e,Gf,jf,oe,{trainer:0,editable:1})}};function Wf(r){let e;return{c(){e=B("Access Key")},l(n){e=O(n,"Access Key")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Qf(r){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function yl(r){let e,n,t,i;return e=new Pe({props:{href:ve.trainers(r[1].info.readKey,void 0,ze.restTrainer),variant:"success",$$slots:{default:[Zf]},$$scope:{ctx:r}}}),t=new Pe({props:{href:ve.trainers(r[1].info.readKey,void 0,ze.editTrainer),$$slots:{default:[Jf]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s&2&&(o.href=ve.trainers(l[1].info.readKey,void 0,ze.restTrainer)),s&32&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&2&&(a.href=ve.trainers(l[1].info.readKey,void 0,ze.editTrainer)),s&32&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function Zf(r){let e;return{c(){e=B("Rest")},l(n){e=O(n,"Rest")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Jf(r){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Xf(r){let e,n,t,i,l,s;e=new Pe({props:{href:ve.trainers(r[1].info.readKey,void 0,ze.accessKey),variant:"ghost",$$slots:{default:[Wf]},$$scope:{ctx:r}}}),t=new Pe({props:{href:ve.trainers(r[1].info.readKey,void 0,ze.removeTrainer),variant:"ghost",$$slots:{default:[Qf]},$$scope:{ctx:r}}});let o=r[1].update&&yl(r);return{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment),i=F(),o&&o.c(),l=J()},l(a){I(e.$$.fragment,a),n=N(a),I(t.$$.fragment,a),i=N(a),o&&o.l(a),l=J()},m(a,f){C(e,a,f),b(a,n,f),C(t,a,f),b(a,i,f),o&&o.m(a,f),b(a,l,f),s=!0},p(a,f){const u={};f&2&&(u.href=ve.trainers(a[1].info.readKey,void 0,ze.accessKey)),f&32&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const c={};f&2&&(c.href=ve.trainers(a[1].info.readKey,void 0,ze.removeTrainer)),f&32&&(c.$$scope={dirty:f,ctx:a}),t.$set(c),a[1].update?o?(o.p(a,f),f&2&&h(o,1)):(o=yl(a),o.c(),h(o,1),o.m(l.parentNode,l)):o&&(me(),g(o,1,1,()=>{o=null}),de())},i(a){s||(h(e.$$.fragment,a),h(t.$$.fragment,a),h(o),s=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),g(o),s=!1},d(a){a&&(d(n),d(i),d(l)),S(e,a),S(t,a),o&&o.d(a)}}}function xf(r){let e,n,t,i;return e=new Yf({props:{trainer:r[1].info,editable:r[2]}}),e.$on("update",r[3]),e.$on("update-item",r[4]),t=new Qe({props:{$$slots:{default:[Xf]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s&2&&(o.trainer=l[1].info),s&4&&(o.editable=l[2]),e.$set(o);const a={};s&34&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function eu(r){let e,n,t;return n=new ss({props:{value:r[1].info.level.data}}),{c(){e=T("div"),A(n.$$.fragment),this.h()},l(i){e=y(i,"DIV",{slot:!0});var l=z(e);I(n.$$.fragment,l),l.forEach(d),this.h()},h(){D(e,"slot","header-extra"),Ee(e,"padding-inline-end","0.5em")},m(i,l){b(i,e,l),C(n,e,null),t=!0},p(i,l){const s={};l&2&&(s.value=i[1].info.level.data),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function tu(r){let e,n,t,i;return e=new rt({props:{value:r[1].info.name}}),t=new it({props:{title:r[1].info.name,$$slots:{"header-extra":[eu],default:[xf]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&2&&(o.value=l[1].info.name),e.$set(o);const a={};s&2&&(a.title=l[1].info.name),s&38&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function nu(r,e,n){let t,i,l=Z,s=()=>(l(),l=Xe(o,u=>n(1,i=u)),o);r.$$.on_destroy.push(()=>l());let{trainer:o}=e;s();const a=u=>{var c;(c=i.update)==null||c.info(u.detail,{optimistic:!0})},f=u=>{var c;(c=i.update)==null||c.inventoryItem(u.detail,{optimistic:!0})};return r.$$set=u=>{"trainer"in u&&s(n(0,o=u.trainer))},r.$$.update=()=>{r.$$.dirty&2&&n(2,t=i.update!=null)},[o,i,t,a,f]}let iu=class extends se{constructor(e){super(),ae(this,e,nu,tu,oe,{trainer:0})}};function lu(r){let e,n,t,i=r[1].data.name+"",l,s,o,a,f,u,c;return a=new Pr({props:{gender:r[0].gender}}),u=new ss({props:{value:r[0].level.data}}),{c(){e=T("div"),n=T("span"),t=T("span"),l=B(i),s=F(),o=T("span"),A(a.$$.fragment),f=F(),A(u.$$.fragment),this.h()},l(m){e=y(m,"DIV",{class:!0});var _=z(e);n=y(_,"SPAN",{class:!0});var p=z(n);t=y(p,"SPAN",{});var $=z(t);l=O($,i),$.forEach(d),s=N(p),o=y(p,"SPAN",{class:!0});var k=z(o);I(a.$$.fragment,k),k.forEach(d),p.forEach(d),f=N(_),I(u.$$.fragment,_),_.forEach(d),this.h()},h(){D(o,"class","gender svelte-wwmcf3"),D(n,"class","name svelte-wwmcf3"),D(e,"class","grid svelte-wwmcf3")},m(m,_){b(m,e,_),E(e,n),E(n,t),E(t,l),E(n,s),E(n,o),C(a,o,null),E(e,f),C(u,e,null),c=!0},p(m,[_]){(!c||_&2)&&i!==(i=m[1].data.name+"")&&fe(l,i);const p={};_&1&&(p.gender=m[0].gender),a.$set(p);const $={};_&1&&($.value=m[0].level.data),u.$set($)},i(m){c||(h(a.$$.fragment,m),h(u.$$.fragment,m),c=!0)},o(m){g(a.$$.fragment,m),g(u.$$.fragment,m),c=!1},d(m){m&&d(e),S(a),S(u)}}}function ru(r,e,n){let{pokemon:t}=e,{species:i}=e;return r.$$set=l=>{"pokemon"in l&&n(0,t=l.pokemon),"species"in l&&n(1,i=l.species)},[t,i]}class su extends se{constructor(e){super(),ae(this,e,ru,lu,oe,{pokemon:0,species:1})}}function Tl(r){let e,n="Tera",t,i,l,s;return l=new ea({props:{type:r[0].teraType}}),{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),A(l.$$.fragment)},l(o){e=y(o,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-zqzgk0"&&(e.textContent=n),t=N(o),i=y(o,"DD",{});var a=z(i);I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),b(o,t,a),b(o,i,a),C(l,i,null),s=!0},p(o,a){const f={};a&1&&(f.type=o[0].teraType),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&(d(e),d(t),d(i)),S(l)}}}function au(r){let e,n='<abbr title="Armor Class">AC</abbr>',t,i,l=r[0].ac+"",s,o,a,f="Nature",u,c,m=r[0].nature.data+"",_,p,$,k="Bonus",v,w,P,H,L,M,R="Size",q,Y,K=(r[0].customSize??r[1].data.size)+"",W,U,V,x,G,X,re,ue;V=new mi({props:{label:"Speed",values:r[3]}}),G=new mi({props:{label:"Senses",values:r[2]}});let ke=r[0].teraType!=null&&Tl(r);return{c(){e=T("dt"),e.innerHTML=n,t=F(),i=T("dd"),s=B(l),o=F(),a=T("dt"),a.textContent=f,u=F(),c=T("dd"),_=B(m),p=F(),$=T("dt"),$.textContent=k,v=F(),w=T("dd"),P=B("+"),H=B(r[4]),L=F(),M=T("dt"),M.textContent=R,q=F(),Y=T("dd"),W=B(K),U=F(),A(V.$$.fragment),x=F(),A(G.$$.fragment),X=F(),ke&&ke.c(),re=J(),this.h()},l(te){e=y(te,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-oq9y6j"&&(e.innerHTML=n),t=N(te),i=y(te,"DD",{});var ce=z(i);s=O(ce,l),ce.forEach(d),o=N(te),a=y(te,"DT",{"data-svelte-h":!0}),$e(a)!=="svelte-1u0or05"&&(a.textContent=f),u=N(te),c=y(te,"DD",{class:!0});var Fe=z(c);_=O(Fe,m),Fe.forEach(d),p=N(te),$=y(te,"DT",{"data-svelte-h":!0}),$e($)!=="svelte-ehj2sb"&&($.textContent=k),v=N(te),w=y(te,"DD",{});var Te=z(w);P=O(Te,"+"),H=O(Te,r[4]),Te.forEach(d),L=N(te),M=y(te,"DT",{"data-svelte-h":!0}),$e(M)!=="svelte-rw0fwr"&&(M.textContent=R),q=N(te),Y=y(te,"DD",{class:!0});var pe=z(Y);W=O(pe,K),pe.forEach(d),U=N(te),I(V.$$.fragment,te),x=N(te),I(G.$$.fragment,te),X=N(te),ke&&ke.l(te),re=J(),this.h()},h(){D(c,"class","cap"),D(Y,"class","cap")},m(te,ce){b(te,e,ce),b(te,t,ce),b(te,i,ce),E(i,s),b(te,o,ce),b(te,a,ce),b(te,u,ce),b(te,c,ce),E(c,_),b(te,p,ce),b(te,$,ce),b(te,v,ce),b(te,w,ce),E(w,P),E(w,H),b(te,L,ce),b(te,M,ce),b(te,q,ce),b(te,Y,ce),E(Y,W),b(te,U,ce),C(V,te,ce),b(te,x,ce),C(G,te,ce),b(te,X,ce),ke&&ke.m(te,ce),b(te,re,ce),ue=!0},p(te,ce){(!ue||ce&1)&&l!==(l=te[0].ac+"")&&fe(s,l),(!ue||ce&1)&&m!==(m=te[0].nature.data+"")&&fe(_,m),(!ue||ce&16)&&fe(H,te[4]),(!ue||ce&3)&&K!==(K=(te[0].customSize??te[1].data.size)+"")&&fe(W,K);const Fe={};ce&8&&(Fe.values=te[3]),V.$set(Fe);const Te={};ce&4&&(Te.values=te[2]),G.$set(Te),te[0].teraType!=null?ke?(ke.p(te,ce),ce&1&&h(ke,1)):(ke=Tl(te),ke.c(),h(ke,1),ke.m(re.parentNode,re)):ke&&(me(),g(ke,1,1,()=>{ke=null}),de())},i(te){ue||(h(V.$$.fragment,te),h(G.$$.fragment,te),h(ke),ue=!0)},o(te){g(V.$$.fragment,te),g(G.$$.fragment,te),g(ke),ue=!1},d(te){te&&(d(e),d(t),d(i),d(o),d(a),d(u),d(c),d(p),d($),d(v),d(w),d(L),d(M),d(q),d(Y),d(U),d(x),d(X),d(re)),S(V,te),S(G,te),ke&&ke.d(te)}}}function ou(r){let e,n;return e=new Lt({props:{columns:2,$$slots:{default:[au]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&63&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fu(r,e,n){let t,i,l,{pokemon:s}=e,{species:o}=e;return r.$$set=a=>{"pokemon"in a&&n(0,s=a.pokemon),"species"in a&&n(1,o=a.species)},r.$$.update=()=>{r.$$.dirty&1&&n(4,t=s.level.proficiencyBonus),r.$$.dirty&3&&n(3,i=o.speed.mergeWith(s.speeds)),r.$$.dirty&3&&n(2,l=o.senses.mergeWith(s.senses))},[s,o,l,i,t]}class uu extends se{constructor(e){super(),ae(this,e,fu,ou,oe,{pokemon:0,species:1})}}function cu(r,e){if(r.power.data==="none"||r.power.data==="varies")return;const n=r.power.bestAttribute(e.attributes)[0];if(n==null)return;const t=e.attributes[n].modifier,i=e.level.proficiencyBonus,l=e.type.includes(r.type);return{toHit:i+t,dc:8+i+t,dmg:t+(l?t:0)}}function Pl(r,e,n){const t=r.slice();t[12]=e[n],t[15]=n;const i=t[15]!==t[4].length-1;return t[13]=i,t}function mu(r){let e,n=r[1].name+"",t,i;return{c(){e=T("label"),t=B(n),i=B(" PP"),this.h()},l(l){e=y(l,"LABEL",{for:!0});var s=z(e);t=O(s,n),i=O(s," PP"),s.forEach(d),this.h()},h(){D(e,"for","current-hp")},m(l,s){b(l,e,s),E(e,t),E(e,i)},p(l,s){s&2&&n!==(n=l[1].name+"")&&fe(t,n)},d(l){l&&d(e)}}}function du(r){let e;return{c(){e=B(r[6])},l(n){e=O(n,r[6])},m(n,t){b(n,e,t)},p(n,t){t&64&&fe(e,n[6])},i:Z,o:Z,d(n){n&&d(e)}}}function _u(r){let e,n;return e=new wt({props:{id:"current-pp-"+r[0].moveId,value:r[6]}}),e.$on("change",r[7]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&1&&(l.id="current-pp-"+t[0].moveId),i&64&&(l.value=t[6]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Dl(r){let e,n,t,i=r[5].dc+"",l,s,o,a;return n=new bn({props:{value:r[5].toHit}}),o=new bn({props:{value:r[5].dmg}}),{c(){e=B("To Hit: "),A(n.$$.fragment),t=B(", DC: "),l=B(i),s=B(", Dmg: "),A(o.$$.fragment)},l(f){e=O(f,"To Hit: "),I(n.$$.fragment,f),t=O(f,", DC: "),l=O(f,i),s=O(f,", Dmg: "),I(o.$$.fragment,f)},m(f,u){b(f,e,u),C(n,f,u),b(f,t,u),b(f,l,u),b(f,s,u),C(o,f,u),a=!0},p(f,u){const c={};u&32&&(c.value=f[5].toHit),n.$set(c),(!a||u&32)&&i!==(i=f[5].dc+"")&&fe(l,i);const m={};u&32&&(m.value=f[5].dmg),o.$set(m)},i(f){a||(h(n.$$.fragment,f),h(o.$$.fragment,f),a=!0)},o(f){g(n.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){f&&(d(e),d(t),d(l),d(s)),S(n,f),S(o,f)}}}function pu(r){let e,n=De(r[4]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Hl(Pl(r,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=J()},l(i){for(let l=0;l<t.length;l+=1)t[l].l(i);e=J()},m(i,l){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,l);b(i,e,l)},p(i,l){if(l&24){n=De(i[4]);let s;for(s=0;s<n.length;s+=1){const o=Pl(i,n,s);t[s]?t[s].p(o,l):(t[s]=Hl(o),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),tt(t,i)}}}function $u(r){let e=r[1].power.toString()+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&2&&e!==(e=t[1].power.toString()+"")&&fe(n,e)},d(t){t&&d(n)}}}function hu(r){let e,n=r[12]+"",t,i,l=r[13]&&Nl();return{c(){e=T("span"),t=B(n),l&&l.c(),i=J()},l(s){e=y(s,"SPAN",{});var o=z(e);t=O(o,n),o.forEach(d),l&&l.l(s),i=J()},m(s,o){b(s,e,o),E(e,t),l&&l.m(s,o),b(s,i,o)},p(s,o){o&16&&n!==(n=s[12]+"")&&fe(t,n),s[13]?l||(l=Nl(),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(s){s&&(d(e),d(i)),l&&l.d(s)}}}function gu(r){let e,n=r[12]+"",t,i,l=r[13]&&Fl();return{c(){e=T("strong"),t=B(n),l&&l.c(),i=J()},l(s){e=y(s,"STRONG",{});var o=z(e);t=O(o,n),o.forEach(d),l&&l.l(s),i=J()},m(s,o){b(s,e,o),E(e,t),l&&l.m(s,o),b(s,i,o)},p(s,o){o&16&&n!==(n=s[12]+"")&&fe(t,n),s[13]?l||(l=Fl(),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(s){s&&(d(e),d(i)),l&&l.d(s)}}}function Nl(r){let e,n=", ";return{c(){e=T("span"),e.textContent=n},l(t){e=y(t,"SPAN",{"data-svelte-h":!0}),$e(e)!=="svelte-1okzske"&&(e.textContent=n)},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Fl(r){let e,n=", ";return{c(){e=T("span"),e.textContent=n},l(t){e=y(t,"SPAN",{"data-svelte-h":!0}),$e(e)!=="svelte-1okzske"&&(e.textContent=n)},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Hl(r){let e,n;function t(s,o){return o&24&&(e=null),e==null&&(e=!!s[3].includes(s[12])),e?gu:hu}let i=t(r,-1),l=i(r);return{c(){l.c(),n=J()},l(s){l.l(s),n=J()},m(s,o){l.m(s,o),b(s,n,o)},p(s,o){i===(i=t(s,o))&&l?l.p(s,o):(l.d(1),l=i(s),l&&(l.c(),l.m(n.parentNode,n)))},d(s){s&&d(n),l.d(s)}}}function vu(r){let e,n="Power",t,i,l,s,o="Range",a,f,u=r[1].range+"",c,m,_,p="Time",$,k,v=r[1].time+"",w,P,H,L="Duration",M,R,q=r[1].duration+"",Y;function K(V,x){return V[4].length===0?$u:pu}let W=K(r),U=W(r);return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),U.c(),l=F(),s=T("dt"),s.textContent=o,a=F(),f=T("dd"),c=B(u),m=F(),_=T("dt"),_.textContent=p,$=F(),k=T("dd"),w=B(v),P=F(),H=T("dt"),H.textContent=L,M=F(),R=T("dd"),Y=B(q),this.h()},l(V){e=y(V,"DT",{"data-svelte-h":!0}),$e(e)!=="svelte-1xb6xl9"&&(e.textContent=n),t=N(V),i=y(V,"DD",{class:!0});var x=z(i);U.l(x),x.forEach(d),l=N(V),s=y(V,"DT",{"data-svelte-h":!0}),$e(s)!=="svelte-jar7ex"&&(s.textContent=o),a=N(V),f=y(V,"DD",{class:!0});var G=z(f);c=O(G,u),G.forEach(d),m=N(V),_=y(V,"DT",{"data-svelte-h":!0}),$e(_)!=="svelte-k4tc9n"&&(_.textContent=p),$=N(V),k=y(V,"DD",{});var X=z(k);w=O(X,v),X.forEach(d),P=N(V),H=y(V,"DT",{"data-svelte-h":!0}),$e(H)!=="svelte-18qrpyy"&&(H.textContent=L),M=N(V),R=y(V,"DD",{class:!0});var re=z(R);Y=O(re,q),re.forEach(d),this.h()},h(){D(i,"class","upper"),D(f,"class","cap"),D(R,"class","cap")},m(V,x){b(V,e,x),b(V,t,x),b(V,i,x),U.m(i,null),b(V,l,x),b(V,s,x),b(V,a,x),b(V,f,x),E(f,c),b(V,m,x),b(V,_,x),b(V,$,x),b(V,k,x),E(k,w),b(V,P,x),b(V,H,x),b(V,M,x),b(V,R,x),E(R,Y)},p(V,x){W===(W=K(V))&&U?U.p(V,x):(U.d(1),U=W(V),U&&(U.c(),U.m(i,null))),x&2&&u!==(u=V[1].range+"")&&fe(c,u),x&2&&v!==(v=V[1].time+"")&&fe(w,v),x&2&&q!==(q=V[1].duration+"")&&fe(Y,q)},d(V){V&&(d(e),d(t),d(i),d(l),d(s),d(a),d(f),d(m),d(_),d($),d(k),d(P),d(H),d(M),d(R)),U.d()}}}function zl(r){let e,n,t,i=r[0].notes+"",l;return{c(){e=T("hr"),n=F(),t=T("div"),l=B(i),this.h()},l(s){e=y(s,"HR",{}),n=N(s),t=y(s,"DIV",{class:!0});var o=z(t);l=O(o,i),o.forEach(d),this.h()},h(){D(t,"class","space-inner smaller-font svelte-1yoj80o")},m(s,o){b(s,e,o),b(s,n,o),b(s,t,o),E(t,l)},p(s,o){o&1&&i!==(i=s[0].notes+"")&&fe(l,i)},d(s){s&&(d(e),d(n),d(t))}}}function bu(r){let e,n,t,i,l,s=r[1].name+"",o,a,f,u,c,m,_,p,$,k,v,w,P=r[0].pp.max+"",H,L,M,R,q=r[1].type+"",Y,K,W,U=`var(--skin-${r[1].type}-bg)`,V,x,G,X,re,ue,ke,te,ce;c=new Mt({props:{$$slots:{default:[mu]},$$scope:{ctx:r}}});const Fe=[_u,du],Te=[];function pe(Ce,ee){return Ce[2]?0:1}p=pe(r),$=Te[p]=Fe[p](r);let he=r[5]!=null&&Dl(r);G=new Lt({props:{columns:1,$$slots:{default:[vu]},$$scope:{ctx:r}}}),ke=new ta({props:{move:r[1]}});let ye=r[0].notes!==void 0&&r[0].notes.length>0&&zl(r);return{c(){e=T("div"),n=T("div"),t=T("div"),i=T("span"),l=T("a"),o=B(s),f=F(),u=T("span"),A(c.$$.fragment),m=F(),_=T("span"),$.c(),k=F(),v=T("span"),w=B("/ "),H=B(P),L=F(),M=T("div"),R=T("span"),Y=B(q),K=F(),W=T("span"),he&&he.c(),V=F(),x=T("div"),A(G.$$.fragment),X=F(),re=T("div"),ue=F(),A(ke.$$.fragment),te=F(),ye&&ye.c(),this.h()},l(Ce){e=y(Ce,"DIV",{class:!0});var ee=z(e);n=y(ee,"DIV",{class:!0});var we=z(n);t=y(we,"DIV",{class:!0});var Ie=z(t);i=y(Ie,"SPAN",{class:!0});var Le=z(i);l=y(Le,"A",{href:!0,class:!0});var Re=z(l);o=O(Re,s),Re.forEach(d),Le.forEach(d),f=N(Ie),u=y(Ie,"SPAN",{class:!0});var qe=z(u);I(c.$$.fragment,qe),m=N(qe),_=y(qe,"SPAN",{class:!0});var _e=z(_);$.l(_e),_e.forEach(d),k=N(qe),v=y(qe,"SPAN",{class:!0});var Se=z(v);w=O(Se,"/ "),H=O(Se,P),Se.forEach(d),qe.forEach(d),Ie.forEach(d),L=N(we),M=y(we,"DIV",{class:!0});var Oe=z(M);R=y(Oe,"SPAN",{class:!0});var Ke=z(R);Y=O(Ke,q),Ke.forEach(d),K=N(Oe),W=y(Oe,"SPAN",{});var Je=z(W);he&&he.l(Je),Je.forEach(d),Oe.forEach(d),we.forEach(d),V=N(ee),x=y(ee,"DIV",{class:!0});var Me=z(x);I(G.$$.fragment,Me),X=N(Me),re=y(Me,"DIV",{}),z(re).forEach(d),ue=N(Me),I(ke.$$.fragment,Me),Me.forEach(d),te=N(ee),ye&&ye.l(ee),ee.forEach(d),this.h()},h(){D(l,"href",a=ve.moves(r[0].moveId)),D(l,"class","svelte-1yoj80o"),D(i,"class","flex-span svelte-1yoj80o"),D(_,"class","current"),D(v,"class","max"),D(u,"class","pp svelte-1yoj80o"),D(t,"class","hrow space-after-tiny svelte-1yoj80o"),D(R,"class","capitalize flex-span svelte-1yoj80o"),D(M,"class","hrow tiny-font svelte-1yoj80o"),D(n,"class","vstack bg-by-type rounded space-inner svelte-1yoj80o"),Ee(n,"--bg",U),Ee(re,"margin-block-end","0.5em"),D(x,"class","space-inner smaller-font svelte-1yoj80o"),D(e,"class","vstack space-after svelte-1yoj80o")},m(Ce,ee){b(Ce,e,ee),E(e,n),E(n,t),E(t,i),E(i,l),E(l,o),E(t,f),E(t,u),C(c,u,null),E(u,m),E(u,_),Te[p].m(_,null),E(u,k),E(u,v),E(v,w),E(v,H),E(n,L),E(n,M),E(M,R),E(R,Y),E(M,K),E(M,W),he&&he.m(W,null),E(e,V),E(e,x),C(G,x,null),E(x,X),E(x,re),E(x,ue),C(ke,x,null),E(e,te),ye&&ye.m(e,null),ce=!0},p(Ce,[ee]){(!ce||ee&2)&&s!==(s=Ce[1].name+"")&&fe(o,s),(!ce||ee&1&&a!==(a=ve.moves(Ce[0].moveId)))&&D(l,"href",a);const we={};ee&65538&&(we.$$scope={dirty:ee,ctx:Ce}),c.$set(we);let Ie=p;p=pe(Ce),p===Ie?Te[p].p(Ce,ee):(me(),g(Te[Ie],1,1,()=>{Te[Ie]=null}),de(),$=Te[p],$?$.p(Ce,ee):($=Te[p]=Fe[p](Ce),$.c()),h($,1),$.m(_,null)),(!ce||ee&1)&&P!==(P=Ce[0].pp.max+"")&&fe(H,P),(!ce||ee&2)&&q!==(q=Ce[1].type+"")&&fe(Y,q),Ce[5]!=null?he?(he.p(Ce,ee),ee&32&&h(he,1)):(he=Dl(Ce),he.c(),h(he,1),he.m(W,null)):he&&(me(),g(he,1,1,()=>{he=null}),de()),ee&2&&U!==(U=`var(--skin-${Ce[1].type}-bg)`)&&Ee(n,"--bg",U);const Le={};ee&65562&&(Le.$$scope={dirty:ee,ctx:Ce}),G.$set(Le);const Re={};ee&2&&(Re.move=Ce[1]),ke.$set(Re),Ce[0].notes!==void 0&&Ce[0].notes.length>0?ye?ye.p(Ce,ee):(ye=zl(Ce),ye.c(),ye.m(e,null)):ye&&(ye.d(1),ye=null)},i(Ce){ce||(h(c.$$.fragment,Ce),h($),h(he),h(G.$$.fragment,Ce),h(ke.$$.fragment,Ce),ce=!0)},o(Ce){g(c.$$.fragment,Ce),g($),g(he),g(G.$$.fragment,Ce),g(ke.$$.fragment,Ce),ce=!1},d(Ce){Ce&&d(e),S(c),Te[p].d(),he&&he.d(),S(G),S(ke),ye&&ye.d()}}}function ku(r,e,n){let t,i,l,s;const o=et();let{move:a}=e,{moveData:f}=e,{level:u}=e,{pokemonType:c}=e,{attributes:m}=e,{editable:_}=e;const p=$=>{o("update",{value:$.detail.value??0})};return r.$$set=$=>{"move"in $&&n(0,a=$.move),"moveData"in $&&n(1,f=$.moveData),"level"in $&&n(8,u=$.level),"pokemonType"in $&&n(9,c=$.pokemonType),"attributes"in $&&n(10,m=$.attributes),"editable"in $&&n(2,_=$.editable)},r.$$.update=()=>{r.$$.dirty&1&&n(6,t=a.pp.current),r.$$.dirty&1794&&n(5,i=cu(f,{attributes:m,level:u,type:c.data})),r.$$.dirty&2&&n(4,l=f.power.attributeList()),r.$$.dirty&1026&&n(3,s=f.power.bestAttribute(m))},[a,f,_,s,l,i,t,p,u,c,m]}class wu extends se{constructor(e){super(),ae(this,e,ku,bu,oe,{move:0,moveData:1,level:8,pokemonType:9,attributes:10,editable:2})}}function Ll(r,e,n){const t=r.slice();t[6]=e[n];const i=t[2].find(function(...s){return r[4](t[6],...s)});return t[7]=i,t}function Rl(r){let e,n,t,i;const l=[Su,Eu],s=[];function o(a,f){return a[2]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Eu(r){let e,n;return e=new kt({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Su(r){let e,n="Moves",t,i,l,s=De(r[0].moves),o=[];for(let f=0;f<s.length;f+=1)o[f]=Ml(Ll(r,s,f));const a=f=>g(o[f],1,1,()=>{o[f]=null});return{c(){e=T("h2"),e.textContent=n,t=F(),i=T("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=y(f,"H2",{"data-svelte-h":!0}),$e(e)!=="svelte-cbzy28"&&(e.textContent=n),t=N(f),i=y(f,"UL",{});var u=z(i);for(let c=0;c<o.length;c+=1)o[c].l(u);u.forEach(d),this.h()},h(){Ee(i,"list-style","none"),Ee(i,"padding","0")},m(f,u){b(f,e,u),b(f,t,u),b(f,i,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,null);l=!0},p(f,u){if(u&15){s=De(f[0].moves);let c;for(c=0;c<s.length;c+=1){const m=Ll(f,s,c);o[c]?(o[c].p(m,u),h(o[c],1)):(o[c]=Ml(m),o[c].c(),h(o[c],1),o[c].m(i,null))}for(me(),c=s.length;c<o.length;c+=1)a(c);de()}},i(f){if(!l){for(let u=0;u<s.length;u+=1)h(o[u]);l=!0}},o(f){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)g(o[u]);l=!1},d(f){f&&(d(e),d(t),d(i)),tt(o,f)}}}function Ml(r){let e,n,t,i;return n=new wu({props:{move:r[6],moveData:r[7],editable:r[1],level:r[0].level,attributes:r[0].attributes,pokemonType:r[0].type}}),n.$on("update",function(){Vt(r[3](r[6]))&&r[3](r[6]).apply(this,arguments)}),{c(){e=T("li"),A(n.$$.fragment),t=F()},l(l){e=y(l,"LI",{});var s=z(e);I(n.$$.fragment,s),t=N(s),s.forEach(d)},m(l,s){b(l,e,s),C(n,e,null),E(e,t),i=!0},p(l,s){r=l;const o={};s&1&&(o.move=r[6]),s&5&&(o.moveData=r[7]),s&2&&(o.editable=r[1]),s&1&&(o.level=r[0].level),s&1&&(o.attributes=r[0].attributes),s&1&&(o.pokemonType=r[0].type),n.$set(o)},i(l){i||(h(n.$$.fragment,l),i=!0)},o(l){g(n.$$.fragment,l),i=!1},d(l){l&&d(e),S(n)}}}function Cu(r){let e,n,t=r[0].moves.length>0&&Rl(r);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,l){t&&t.m(i,l),b(i,e,l),n=!0},p(i,[l]){i[0].moves.length>0?t?(t.p(i,l),l&1&&h(t,1)):(t=Rl(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Au(r,e,n){let t;Ve(r,Gn,f=>n(2,t=f));const i=et();let{pokemon:l}=e,{editable:s=!1}=e;const o=f=>u=>{i("update",{...f,pp:{current:u.detail.value,max:f.pp.max}})},a=(f,u)=>u.id===f.moveId;return r.$$set=f=>{"pokemon"in f&&n(0,l=f.pokemon),"editable"in f&&n(1,s=f.editable)},[l,s,t,o,a]}class Iu extends se{constructor(e){super(),ae(this,e,Au,Cu,oe,{pokemon:0,editable:1})}}function Vl(r){let e,n,t=r[0].name+"",i,l,s=r[0].description+"",o;return{c(){e=T("p"),n=T("strong"),i=B(t),l=B(": "),o=B(s),this.h()},l(a){e=y(a,"P",{class:!0});var f=z(e);n=y(f,"STRONG",{});var u=z(n);i=O(u,t),u.forEach(d),l=O(f,": "),o=O(f,s),f.forEach(d),this.h()},h(){D(e,"class","svelte-1f7kwjm")},m(a,f){b(a,e,f),E(e,n),E(n,i),E(e,l),E(e,o)},p(a,f){f&1&&t!==(t=a[0].name+"")&&fe(i,t),f&1&&s!==(s=a[0].description+"")&&fe(o,s)},d(a){a&&d(e)}}}function yu(r){let e,n=r[0]&&Vl(r);return{c(){n&&n.c(),e=J()},l(t){n&&n.l(t),e=J()},m(t,i){n&&n.m(t,i),b(t,e,i)},p(t,[i]){t[0]?n?n.p(t,i):(n=Vl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Z,o:Z,d(t){t&&d(e),n&&n.d(t)}}}function Tu(r,e,n){let t,i;Ve(r,Mr,s=>n(2,i=s));let{pokemon:l}=e;return r.$$set=s=>{"pokemon"in s&&n(1,l=s.pokemon)},r.$$.update=()=>{r.$$.dirty&6&&n(0,t=i==null?void 0:i.find(s=>s.id===l.ability))},[t,l,i]}class Pu extends se{constructor(e){super(),ae(this,e,Tu,yu,oe,{pokemon:1})}}function Du(r){let e,n="General Notes",t,i,l,s;return l=new Qr({props:{value:r[0].notes}}),{c(){e=T("h2"),e.textContent=n,t=F(),i=T("div"),A(l.$$.fragment),this.h()},l(o){e=y(o,"H2",{"data-svelte-h":!0}),$e(e)!=="svelte-1da4q7t"&&(e.textContent=n),t=N(o),i=y(o,"DIV",{class:!0});var a=z(i);I(l.$$.fragment,a),a.forEach(d),this.h()},h(){D(i,"class","font-sm svelte-lh5oha")},m(o,a){b(o,e,a),b(o,t,a),b(o,i,a),C(l,i,null),s=!0},p(o,[a]){const f={};a&1&&(f.value=o[0].notes),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&(d(e),d(t),d(i)),S(l)}}}function Nu(r,e,n){let{pokemon:t}=e;return r.$$set=i=>{"pokemon"in i&&n(0,t=i.pokemon)},[t]}class Fu extends se{constructor(e){super(),ae(this,e,Nu,Du,oe,{pokemon:0})}}function Ol(r){let e,n,t,i,l;function s(f,u){return f[0].items.length===1?zu:Hu}let o=s(r),a=o(r);return i=new _s({props:{items:r[0].items}}),{c(){e=T("h3"),n=B("Held "),a.c(),t=F(),A(i.$$.fragment)},l(f){e=y(f,"H3",{});var u=z(e);n=O(u,"Held "),a.l(u),u.forEach(d),t=N(f),I(i.$$.fragment,f)},m(f,u){b(f,e,u),E(e,n),a.m(e,null),b(f,t,u),C(i,f,u),l=!0},p(f,u){o!==(o=s(f))&&(a.d(1),a=o(f),a&&(a.c(),a.m(e,null)));const c={};u&1&&(c.items=f[0].items),i.$set(c)},i(f){l||(h(i.$$.fragment,f),l=!0)},o(f){g(i.$$.fragment,f),l=!1},d(f){f&&(d(e),d(t)),a.d(),S(i,f)}}}function Hu(r){let e;return{c(){e=B("Items")},l(n){e=O(n,"Items")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function zu(r){let e;return{c(){e=B("Item")},l(n){e=O(n,"Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Lu(r){let e,n,t=r[0].items.length>0&&Ol(r);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,l){t&&t.m(i,l),b(i,e,l),n=!0},p(i,[l]){i[0].items.length>0?t?(t.p(i,l),l&1&&h(t,1)):(t=Ol(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Ru(r,e,n){let{pokemon:t}=e;return r.$$set=i=>{"pokemon"in i&&n(0,t=i.pokemon)},[t]}class Mu extends se{constructor(e){super(),ae(this,e,Ru,Lu,oe,{pokemon:0})}}function Vu(r){let e,n,t,i=`var(--skin-bond-${r[0]}-bg)`,l=`var(--skin-bond-${r[0]}-bg-dark)`,s;const o=r[2].default,a=Jt(o,r,r[1],null);return{c(){e=Ge("svg"),n=Ge("title"),t=B(r[0]),a&&a.c(),this.h()},l(f){e=je(f,"svg",{xmlns:!0,viewBox:!0,class:!0});var u=z(e);n=je(u,"title",{});var c=z(n);t=O(c,r[0]),c.forEach(d),a&&a.l(u),u.forEach(d),this.h()},h(){D(e,"xmlns","http://www.w3.org/2000/svg"),D(e,"viewBox","0 0 120 120"),D(e,"class","svelte-1utg1ud"),Ee(e,"--bg",i),Ee(e,"--bg-dark",l)},m(f,u){b(f,e,u),E(e,n),E(n,t),a&&a.m(e,null),s=!0},p(f,[u]){(!s||u&1)&&fe(t,f[0]),a&&a.p&&(!s||u&2)&&Xt(a,o,f,f[1],s?en(o,f[1],u,null):xt(f[1]),null),u&1&&i!==(i=`var(--skin-bond-${f[0]}-bg)`)&&Ee(e,"--bg",i),u&1&&l!==(l=`var(--skin-bond-${f[0]}-bg-dark)`)&&Ee(e,"--bg-dark",l)},i(f){s||(h(a,f),s=!0)},o(f){g(a,f),s=!1},d(f){f&&d(e),a&&a.d(f)}}}function Ou(r,e,n){let{$$slots:t={},$$scope:i}=e,{name:l}=e;return r.$$set=s=>{"name"in s&&n(0,l=s.name),"$$scope"in s&&n(1,i=s.$$scope)},[l,i,t]}class Dt extends se{constructor(e){super(),ae(this,e,Ou,Vu,oe,{name:0})}}function Bu(r){let e,n,t;return{c(){e=Ge("path"),n=F(),t=Ge("path"),this.h()},l(i){e=je(i,"path",{class:!0,d:!0}),z(e).forEach(d),n=N(i),t=je(i,"path",{class:!0,d:!0}),z(t).forEach(d),this.h()},h(){D(e,"class","face-feature"),D(e,"d","M 32 40 L 52 50 A 10 10 0 0 1 32 40 Z"),D(t,"class","face-feature"),D(t,"d","M 88 40 L 68 50 A 10 10 0 0 0 88 40 Z")},m(i,l){b(i,e,l),b(i,n,l),b(i,t,l)},p:Z,i:Z,o:Z,d(i){i&&(d(e),d(n),d(t))}}}class qu extends se{constructor(e){super(),ae(this,e,null,Bu,oe,{})}}function Ku(r){let e,n,t,i,l,s;return t=new qu({}),{c(){e=Ge("path"),n=F(),A(t.$$.fragment),i=F(),l=Ge("path"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),z(e).forEach(d),n=N(o),I(t.$$.fragment,o),i=N(o),l=je(o,"path",{class:!0,d:!0}),z(l).forEach(d),this.h()},h(){D(e,"d",`M 93.926517,89.396983
		C 92.687534,90.635966 74.012417,84.720747 72.393608,85.391279 70.774799,86.061812 61.752186,103.44981 60,103.44981
		c -1.752186,0 -10.774797,-17.387997 -12.393605,-18.058529 -1.618809,-0.670533 -20.293929,5.244685 -21.532911,4.005702 -1.238983,-1.238982 4.676236,-19.9141 4.005703,-21.532908
		C 29.408655,66.245266 12.02066,57.222653 12.02066,55.470467
		c 0,-1.752186 17.387994,-10.774797 18.058526,-12.393606 0.670533,-1.618809 -5.244685,-20.293928 -4.005703,-21.532911 1.238983,-1.238982 19.9141,4.676236 21.532909,4.005704
		C 49.225201,24.879121 58.247814,7.4911271 60,7.491127
		c 1.752186,-10e-8 10.774797,17.387993 12.393605,18.058526 1.618809,0.670532 20.293929,-5.244686 21.532911,-4.005703 1.238983,1.238983 -4.676236,19.9141 -4.005703,21.532909 0.670532,1.618808 18.058527,10.641421 18.058527,12.393607 0,1.752186 -17.387994,10.774797 -18.058526,12.393606 -0.670533,1.618809 5.244685,20.293928 4.005703,21.532911
		z`),D(e,"transform","scale(1.2) translate(-10 -5)"),D(l,"class","face-feature"),D(l,"d","M 40 85 L 80 85 A 20.5 20.5 0 0 0 40 85 Z")},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,l,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(l)),S(t,o)}}}function Uu(r){let e,n;return e=new Dt({props:{name:"disloyal",$$slots:{default:[Ku]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&1&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class ju extends se{constructor(e){super(),ae(this,e,null,Uu,oe,{})}}function Gu(r){let e,n,t;return{c(){e=Ge("rect"),n=F(),t=Ge("rect"),this.h()},l(i){e=je(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),z(e).forEach(d),n=N(i),t=je(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),z(t).forEach(d),this.h()},h(){D(e,"class","face-feature"),D(e,"x","32"),D(e,"y","42"),D(e,"width","16"),D(e,"height","10"),D(t,"class","face-feature"),D(t,"x","72"),D(t,"y","42"),D(t,"width","16"),D(t,"height","10")},m(i,l){b(i,e,l),b(i,n,l),b(i,t,l)},p:Z,i:Z,o:Z,d(i){i&&(d(e),d(n),d(t))}}}class Yu extends se{constructor(e){super(),ae(this,e,null,Gu,oe,{})}}function Wu(r){let e,n,t,i,l,s;return t=new Yu({}),{c(){e=Ge("path"),n=F(),A(t.$$.fragment),i=F(),l=Ge("path"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),z(e).forEach(d),n=N(o),I(t.$$.fragment,o),i=N(o),l=je(o,"path",{class:!0,transform:!0,d:!0}),z(l).forEach(d),this.h()},h(){D(e,"d",`
		m 15.16496,21.167139
		c -1.285888,0.742408 -8.1346728,-2.33475 -9.6194879,-2.33475 -1.4848155,0 -8.333602,3.077157 -9.61949,2.33475 -1.2858876,-0.742408 -2.0453833,-8.212208 -2.7877908,-9.498096 -0.7424077,-1.285888 -6.8316973,-5.6785327 -6.8316973,-7.1633481 0,-1.4848151 6.0892893,-5.8774579 6.8316969,-7.1633455 0.7424078,-1.2858879 1.501905,-8.7556894 2.7877929,-9.4980974 1.2858876,-0.742407 8.1346724,2.3347502 9.6194875,2.3347503 1.4848154,10e-8 8.3336017,-3.0771573 9.6194897,-2.3347493 1.285888,0.742408 2.045384,8.2122081 2.787791,9.4980957 0.742408,1.2858879 6.831697,5.6785326 6.831697,7.1633481 0,1.4848151 -6.089289,5.8774582 -6.831697,7.1633452 -0.742407,1.285888 -1.501905,8.75569 -2.787792,9.498097
		z`),D(e,"transform","scale(3) translate(14.4 15.5)"),D(l,"class","face-feature"),D(l,"transform","scale(3) translate(-40 -34)"),D(l,"d",`m 60.068359,56.544922 -7.460937,4.095703
		a 1.5,1.5 0 0 0 -0.591797,2.037109 1.5,1.5 0 0 0 2.037109,0.591797
		l 6.00586,-3.296875 5.880859,3.279297
		a 1.5,1.5 0 0 0 2.041016,-0.580078 1.5,1.5 0 0 0 -0.580078,-2.041016
		z`)},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,l,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(l)),S(t,o)}}}function Qu(r){let e,n;return e=new Dt({props:{name:"indifferent",$$slots:{default:[Wu]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&1&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class Zu extends se{constructor(e){super(),ae(this,e,null,Qu,oe,{})}}function Ju(r){let e,n,t;return{c(){e=Ge("circle"),n=F(),t=Ge("circle"),this.h()},l(i){e=je(i,"circle",{class:!0,r:!0,cx:!0,cy:!0}),z(e).forEach(d),n=N(i),t=je(i,"circle",{class:!0,r:!0,cx:!0,cy:!0}),z(t).forEach(d),this.h()},h(){D(e,"class","face-feature"),D(e,"r","8"),D(e,"cx","40"),D(e,"cy","45"),D(t,"class","face-feature"),D(t,"r","8"),D(t,"cx","80"),D(t,"cy","45")},m(i,l){b(i,e,l),b(i,n,l),b(i,t,l)},p:Z,i:Z,o:Z,d(i){i&&(d(e),d(n),d(t))}}}class rn extends se{constructor(e){super(),ae(this,e,null,Ju,oe,{})}}function Xu(r){let e,n,t,i,l,s;return t=new rn({}),{c(){e=Ge("circle"),n=F(),A(t.$$.fragment),i=F(),l=Ge("path"),this.h()},l(o){e=je(o,"circle",{r:!0,cx:!0,cy:!0}),z(e).forEach(d),n=N(o),I(t.$$.fragment,o),i=N(o),l=je(o,"path",{class:!0,transform:!0,d:!0}),z(l).forEach(d),this.h()},h(){D(e,"r","55"),D(e,"cx","60"),D(e,"cy","60"),D(l,"class","face-feature"),D(l,"transform","rotate(180 60 60) scale(1.1) translate(-5 -22.5)"),D(l,"d",`m 41.901123,51.063924
		c -1.034447,-0.28063 -2.128164,-0.09818 -3.039817,0.507106 -1.894916,1.258154 -2.50168,3.963112 -1.355385,6.042317 0,0 7.816855,11.419163 22.446085,11.451349 14.63367,0.03256 22.532267,-11.365399 22.532267,-11.365399 1.155803,-2.074313 0.559405,-4.783824 -1.331882,-6.050912 -1.888741,-1.269524 -4.357947,-0.61924 -5.515548,1.452562 0,0 -6.085402,7.18367 -15.669165,7.162423
		C 50.37947,60.24225 44.369019,53.057975 44.369019,53.057975 43.819416,52.061114 42.931921,51.344022 41.901123,51.063924
		Z`)},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,l,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(l)),S(t,o)}}}function xu(r){let e,n;return e=new Dt({props:{name:"upset",$$slots:{default:[Xu]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&1&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class ec extends se{constructor(e){super(),ae(this,e,null,xu,oe,{})}}function tc(r){let e,n,t,i,l,s;return t=new rn({}),{c(){e=Ge("path"),n=F(),A(t.$$.fragment),i=F(),l=Ge("rect"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),z(e).forEach(d),n=N(o),I(t.$$.fragment,o),i=N(o),l=je(o,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0}),z(l).forEach(d),this.h()},h(){D(e,"d",r[0]),D(e,"transform","translate(7 4.5) rotate(30 60 60)"),D(l,"class","face-feature"),D(l,"x","37.5"),D(l,"y","75"),D(l,"width","45"),D(l,"height","10"),D(l,"rx","5")},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,l,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(l)),S(t,o)}}}function nc(r){let e,n;return e=new Dt({props:{name:"neutral",$$slots:{default:[tc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&262144&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const mt=6,Hn=60,un=0,ic=0;function lc(r){const e=P=>Math.sin(P*Math.PI/180),n=P=>Math.cos(P*Math.PI/180),t=Hn*n(30),i=Hn*e(30),l=t-mt*n(30),s=mt*e(30),o=t+mt*n(30),a=2*t,f=i+Hn,u=a-mt*n(30),c=i-mt*e(30),m=i+mt,_=f+i,p=f-mt,$=f+mt*e(30),k=_-mt*e(30),v=mt*n(30);return[`
		M ${l},${s}
		Q ${t},${ic} ${o},${s}

		L ${u},${c}
		Q ${a},${i} ${a},${m}

		L ${a},${p}
		Q ${a},${f} ${u},${$}

		L ${o},${k}
		Q ${t},${_} ${l},${k}
		
		L ${v},${$}
		Q ${un},${f} ${un},${p}
		
		L ${un},${m}
		Q ${un},${i} ${v},${c}
		Z
	`]}class rc extends se{constructor(e){super(),ae(this,e,lc,nc,oe,{})}}function sc(r){let e,n,t,i,l,s;return t=new rn({}),{c(){e=Ge("circle"),n=F(),A(t.$$.fragment),i=F(),l=Ge("path"),this.h()},l(o){e=je(o,"circle",{r:!0,cx:!0,cy:!0}),z(e).forEach(d),n=N(o),I(t.$$.fragment,o),i=N(o),l=je(o,"path",{class:!0,transform:!0,d:!0}),z(l).forEach(d),this.h()},h(){D(e,"r","55"),D(e,"cx","60"),D(e,"cy","60"),D(l,"class","face-feature"),D(l,"transform","scale(1.1) translate(-5 15)"),D(l,"d",`m 41.901123,51.063924
		c -1.034447,-0.28063 -2.128164,-0.09818 -3.039817,0.507106 -1.894916,1.258154 -2.50168,3.963112 -1.355385,6.042317 0,0 7.816855,11.419163 22.446085,11.451349 14.63367,0.03256 22.532267,-11.365399 22.532267,-11.365399 1.155803,-2.074313 0.559405,-4.783824 -1.331882,-6.050912 -1.888741,-1.269524 -4.357947,-0.61924 -5.515548,1.452562 0,0 -6.085402,7.18367 -15.669165,7.162423
		C 50.37947,60.24225 44.369019,53.057975 44.369019,53.057975 43.819416,52.061114 42.931921,51.344022 41.901123,51.063924
		Z`)},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,l,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(l)),S(t,o)}}}function ac(r){let e,n;return e=new Dt({props:{name:"content",$$slots:{default:[sc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&1&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class oc extends se{constructor(e){super(),ae(this,e,null,ac,oe,{})}}function fc(r){let e,n,t,i,l,s;return t=new rn({}),{c(){e=Ge("path"),n=F(),A(t.$$.fragment),i=F(),l=Ge("path"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),z(e).forEach(d),n=N(o),I(t.$$.fragment,o),i=N(o),l=je(o,"path",{class:!0,d:!0}),z(l).forEach(d),this.h()},h(){D(e,"d",`M 25.62686 0
		A 12.302804 12.302804 0 0 0 13.323735 12.302608
		A 12.302804 12.302804 0 0 0 13.365076 12.880351
		A 12.302804 12.302804 0 0 0 12.302608 12.831775
		A 12.302804 12.302804 0 0 0 0 25.1349
		A 12.302804 12.302804 0 0 0 4.8798055 34.906913
		A 12.302804 12.302804 0 0 0 0 44.678927
		A 12.302804 12.302804 0 0 0 12.302608 56.982052
		A 12.302804 12.302804 0 0 0 13.504602 56.895752
		A 12.302804 12.302804 0 0 0 13.323735 58.900798
		A 12.302804 12.302804 0 0 0 25.62686 71.203923
		A 12.302804 12.302804 0 0 0 35.131706 66.681201
		A 12.302804 12.302804 0 0 0 44.636035 71.203923
		A 12.302804 12.302804 0 0 0 56.93916 58.900798
		A 12.302804 12.302804 0 0 0 56.752091 56.787231
		A 12.302804 12.302804 0 0 0 58.821216 56.982052
		A 12.302804 12.302804 0 0 0 71.124341 44.678927
		A 12.302804 12.302804 0 0 0 66.26779 34.889343
		A 12.302804 12.302804 0 0 0 71.124341 25.1349
		A 12.302804 12.302804 0 0 0 58.821216 12.831775
		A 12.302804 12.302804 0 0 0 56.889551 12.996623
		A 12.302804 12.302804 0 0 0 56.93916 12.302608
		A 12.302804 12.302804 0 0 0 44.636035 0
		A 12.302804 12.302804 0 0 0 35.143591 4.5067017
		A 12.302804 12.302804 0 0 0 25.62686 0
		z`),D(e,"transform","scale(1.55) translate(3.5 3.5)"),D(l,"class","face-feature"),D(l,"d","M 37.5 75 L 82.5 75 A 24 24 0 0 1 37.5 75 Z")},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,l,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(l)),S(t,o)}}}function uc(r){let e,n;return e=new Dt({props:{name:"pleased",$$slots:{default:[fc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&1&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class cc extends se{constructor(e){super(),ae(this,e,null,uc,oe,{})}}function mc(r){let e,n,t,i,l,s;return t=new rn({}),{c(){e=Ge("path"),n=F(),A(t.$$.fragment),i=F(),l=Ge("path"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),z(e).forEach(d),n=N(o),I(t.$$.fragment,o),i=N(o),l=je(o,"path",{class:!0,d:!0}),z(l).forEach(d),this.h()},h(){D(e,"d","M16.5 3C19.538 3 22 5.5 22 9c0 7-7.5 11-10 12.5C9.5 20 2 16 2 9c0-3.5 2.5-6 5.5-6C9.36 3 11 4 12 5c1-1 2.64-2 4.5-2z"),D(e,"transform","scale(5.5 5.75) translate(-1 -1.25)"),D(l,"class","face-feature"),D(l,"d","M 33 70 L 87 70 A 28 28 0 0 1 33 70 Z")},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,l,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(l)),S(t,o)}}}function dc(r){let e,n;return e=new Dt({props:{name:"loyal",$$slots:{default:[mc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&1&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class _c extends se{constructor(e){super(),ae(this,e,null,dc,oe,{})}}function pc(r){let e,n,t;var i=r[0];function l(s,o){return{}}return i&&(e=ci(i,l())),{c(){e&&A(e.$$.fragment),n=J()},l(s){e&&I(e.$$.fragment,s),n=J()},m(s,o){e&&C(e,s,o),b(s,n,o),t=!0},p(s,[o]){if(o&1&&i!==(i=s[0])){if(e){me();const a=e;g(a.$$.fragment,1,0,()=>{S(a,1)}),de()}i?(e=ci(i,l()),A(e.$$.fragment),h(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}},i(s){t||(e&&h(e.$$.fragment,s),t=!0)},o(s){e&&g(e.$$.fragment,s),t=!1},d(s){s&&d(n),e&&S(e,s)}}}function $c(r,e,n){let t;const i=[ju,Zu,ec,rc,oc,cc,_c];let{level:l}=e;return r.$$set=s=>{"level"in s&&n(1,l=s.level)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=i[Math.round(l+3)])},[t,l]}class hs extends se{constructor(e){super(),ae(this,e,$c,pc,oe,{level:1})}}const hc={[-3]:"-1 to all saving throws. Roll higher than 15 on a d20 before using a move or it fails.",[-2]:"-1 to all saving throws. Roll higher than 10 on a d20 before using a move or it fails.",[-1]:"-1 to all saving throws.",0:"",1:"+1 to all saving throws.",2:"+1 to all saving throws. Increase max HP by half of level. Gain one skill proficiency.",3:"+1 to all saving throws. Increase max HP by level. Gain one skill proficiency. Gain expertise in an existing proficiency."},gc={[-3]:"When the trainer issues a command, roll a d20. On 10 or lower, the Pokémon disobeys the command.",[-2]:"When the trainer issues a command, roll a d20. On 10 or lower, the Pokémon hesitates and follows the command with disadvantage.",[-1]:"",0:"",1:"",2:"",3:""},vc=An(Bt,r=>r==="2018"?hc:gc);function bc(r){let e,n,t,i,l,s,o,a;return t=new hs({props:{level:r[0].level}}),o=new bn({props:{value:r[0].level}}),{c(){e=T("p"),n=T("span"),A(t.$$.fragment),i=F(),l=T("strong"),s=B("Bond: "),A(o.$$.fragment),this.h()},l(f){e=y(f,"P",{class:!0});var u=z(e);n=y(u,"SPAN",{class:!0});var c=z(n);I(t.$$.fragment,c),c.forEach(d),i=N(u),l=y(u,"STRONG",{class:!0});var m=z(l);s=O(m,"Bond: "),I(o.$$.fragment,m),m.forEach(d),u.forEach(d),this.h()},h(){D(n,"class","icon svelte-bcvswd"),D(l,"class","small-text svelte-bcvswd"),D(e,"class","row svelte-bcvswd")},m(f,u){b(f,e,u),E(e,n),C(t,n,null),E(e,i),E(e,l),E(l,s),C(o,l,null),a=!0},p(f,u){const c={};u&1&&(c.level=f[0].level),t.$set(c);const m={};u&1&&(m.value=f[0].level),o.$set(m)},i(f){a||(h(t.$$.fragment,f),h(o.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){f&&d(e),S(t),S(o)}}}function kc(r){let e,n;return e=new Kr({props:{id:"bond-effect-popover",block:!0,$$slots:{activator:[Ec],default:[wc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&133&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function wc(r){let e,n;return{c(){e=T("p"),n=B(r[2]),this.h()},l(t){e=y(t,"P",{class:!0});var i=z(e);n=O(i,r[2]),i.forEach(d),this.h()},h(){D(e,"class","small-text svelte-bcvswd")},m(t,i){b(t,e,i),E(e,n)},p(t,i){i&4&&fe(n,t[2])},d(t){t&&d(e)}}}function Ec(r){let e,n,t,i,l,s,o,a;return t=new hs({props:{level:r[0].level}}),o=new bn({props:{value:r[0].level}}),{c(){e=T("p"),n=T("span"),A(t.$$.fragment),i=F(),l=T("strong"),s=B("Bond: "),A(o.$$.fragment),this.h()},l(f){e=y(f,"P",{class:!0,slot:!0});var u=z(e);n=y(u,"SPAN",{class:!0});var c=z(n);I(t.$$.fragment,c),c.forEach(d),i=N(u),l=y(u,"STRONG",{class:!0});var m=z(l);s=O(m,"Bond: "),I(o.$$.fragment,m),m.forEach(d),u.forEach(d),this.h()},h(){D(n,"class","icon svelte-bcvswd"),D(l,"class","small-text dotted svelte-bcvswd"),D(e,"class","row svelte-bcvswd"),D(e,"slot","activator")},m(f,u){b(f,e,u),E(e,n),C(t,n,null),E(e,i),E(e,l),E(l,s),C(o,l,null),a=!0},p(f,u){const c={};u&1&&(c.level=f[0].level),t.$set(c);const m={};u&1&&(m.value=f[0].level),o.$set(m)},i(f){a||(h(t.$$.fragment,f),h(o.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){f&&d(e),S(t),S(o)}}}function Bl(r){let e,n,t="Points:",i,l,s,o,a,f,u,c=r[0].points.max+"",m,_;const p=[Cc,Sc],$=[];function k(v,w){return v[1]?0:1}return s=k(r),o=$[s]=p[s](r),{c(){e=T("p"),n=T("label"),n.textContent=t,i=F(),l=T("span"),o.c(),a=F(),f=T("span"),u=B("/ "),m=B(c),this.h()},l(v){e=y(v,"P",{class:!0});var w=z(e);n=y(w,"LABEL",{for:!0,"data-svelte-h":!0}),$e(n)!=="svelte-1sirhaw"&&(n.textContent=t),i=N(w),l=y(w,"SPAN",{});var P=z(l);o.l(P),P.forEach(d),a=N(w),f=y(w,"SPAN",{class:!0});var H=z(f);u=O(H,"/ "),m=O(H,c),H.forEach(d),w.forEach(d),this.h()},h(){D(n,"for","current-bond-points"),D(f,"class","max-hit-dice"),D(e,"class","bond-points smaller-text row svelte-bcvswd")},m(v,w){b(v,e,w),E(e,n),E(e,i),E(e,l),$[s].m(l,null),E(e,a),E(e,f),E(f,u),E(f,m),_=!0},p(v,w){let P=s;s=k(v),s===P?$[s].p(v,w):(me(),g($[P],1,1,()=>{$[P]=null}),de(),o=$[s],o?o.p(v,w):(o=$[s]=p[s](v),o.c()),h(o,1),o.m(l,null)),(!_||w&1)&&c!==(c=v[0].points.max+"")&&fe(m,c)},i(v){_||(h(o),_=!0)},o(v){g(o),_=!1},d(v){v&&d(e),$[s].d()}}}function Sc(r){let e=r[0].points.max+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=t[0].points.max+"")&&fe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function Cc(r){let e,n;return e=new wt({props:{id:"current-bond-points",value:r[3]}}),e.$on("change",r[4]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.value=t[3]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ac(r){let e,n,t,i,l;const s=[kc,bc],o=[];function a(u,c){return u[2]?0:1}n=a(r),t=o[n]=s[n](r);let f=r[0].points.max>0&&Bl(r);return{c(){e=T("div"),t.c(),i=F(),f&&f.c(),this.h()},l(u){e=y(u,"DIV",{class:!0});var c=z(e);t.l(c),i=N(c),f&&f.l(c),c.forEach(d),this.h()},h(){D(e,"class","bond-info svelte-bcvswd")},m(u,c){b(u,e,c),o[n].m(e,null),E(e,i),f&&f.m(e,null),l=!0},p(u,[c]){let m=n;n=a(u),n===m?o[n].p(u,c):(me(),g(o[m],1,1,()=>{o[m]=null}),de(),t=o[n],t?t.p(u,c):(t=o[n]=s[n](u),t.c()),h(t,1),t.m(e,i)),u[0].points.max>0?f?(f.p(u,c),c&1&&h(f,1)):(f=Bl(u),f.c(),h(f,1),f.m(e,null)):f&&(me(),g(f,1,1,()=>{f=null}),de())},i(u){l||(h(t),h(f),l=!0)},o(u){g(t),g(f),l=!1},d(u){u&&d(e),o[n].d(),f&&f.d()}}}function Ic(r,e,n){let t,i,l;Ve(r,vc,u=>n(5,l=u));const s=et();let{value:o}=e,{editable:a}=e;const f=u=>{s("update",{currentBondPoints:u.detail.value})};return r.$$set=u=>{"value"in u&&n(0,o=u.value),"editable"in u&&n(1,a=u.editable)},r.$$.update=()=>{r.$$.dirty&1&&n(3,t=o.points.current),r.$$.dirty&33&&n(2,i=l[o.level])},[o,a,i,t,f,l]}class gs extends se{constructor(e){super(),ae(this,e,Ic,Ac,oe,{value:0,editable:1})}}function yc(r){let e,n="Health and Status";return{c(){e=T("h2"),e.textContent=n},l(t){e=y(t,"H2",{"data-svelte-h":!0}),$e(e)!=="svelte-d0ovz7"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function ql(r){let e,n;return e=new gs({props:{value:r[1].bond,editable:r[3]}}),e.$on("update",r[8]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2&&(l.value=t[1].bond),i&8&&(l.editable=t[3]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Tc(r){let e,n,t,i,l,s,o,a,f,u,c;e=new Mt({props:{$$slots:{default:[yc]},$$scope:{ctx:r}}}),i=new su({props:{pokemon:r[1],species:r[2]}}),s=new cs({props:{hp:r[1].hp,hitDice:r[1].hitDice,level:r[1].level,exp:r[1].exp,dieSize:r[1].customHitDiceSize??r[2].hitDice,status:r[1].status,hasStatusAndExp:!0,editable:r[3]}}),s.$on("update",r[6]),a=new uu({props:{pokemon:r[1],species:r[2]}});let m=!r[4]&&ql(r);return{c(){A(e.$$.fragment),n=F(),t=T("div"),A(i.$$.fragment),l=F(),A(s.$$.fragment),o=F(),A(a.$$.fragment),f=F(),m&&m.c(),u=J(),this.h()},l(_){I(e.$$.fragment,_),n=N(_),t=y(_,"DIV",{});var p=z(t);I(i.$$.fragment,p),l=N(p),I(s.$$.fragment,p),p.forEach(d),o=N(_),I(a.$$.fragment,_),f=N(_),m&&m.l(_),u=J(),this.h()},h(){Ee(t,"margin-bottom","0.5em")},m(_,p){C(e,_,p),b(_,n,p),b(_,t,p),C(i,t,null),E(t,l),C(s,t,null),b(_,o,p),C(a,_,p),b(_,f,p),m&&m.m(_,p),b(_,u,p),c=!0},p(_,p){const $={};p&1024&&($.$$scope={dirty:p,ctx:_}),e.$set($);const k={};p&2&&(k.pokemon=_[1]),p&4&&(k.species=_[2]),i.$set(k);const v={};p&2&&(v.hp=_[1].hp),p&2&&(v.hitDice=_[1].hitDice),p&2&&(v.level=_[1].level),p&2&&(v.exp=_[1].exp),p&6&&(v.dieSize=_[1].customHitDiceSize??_[2].hitDice),p&2&&(v.status=_[1].status),p&8&&(v.editable=_[3]),s.$set(v);const w={};p&2&&(w.pokemon=_[1]),p&4&&(w.species=_[2]),a.$set(w),_[4]?m&&(me(),g(m,1,1,()=>{m=null}),de()):m?(m.p(_,p),p&16&&h(m,1)):(m=ql(_),m.c(),h(m,1),m.m(u.parentNode,u))},i(_){c||(h(e.$$.fragment,_),h(i.$$.fragment,_),h(s.$$.fragment,_),h(a.$$.fragment,_),h(m),c=!0)},o(_){g(e.$$.fragment,_),g(i.$$.fragment,_),g(s.$$.fragment,_),g(a.$$.fragment,_),g(m),c=!1},d(_){_&&(d(n),d(t),d(o),d(f),d(u)),S(e,_),S(i),S(s),S(a,_),m&&m.d(_)}}}function Pc(r){let e,n;return e=new Kn({props:{slot:"art",media:r[2].media,avatar:r[1].avatar,alt:"",shiny:r[1].isShiny}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4&&(l.media=t[2].media),i&2&&(l.avatar=t[1].avatar),i&2&&(l.shiny=t[1].isShiny),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Dc(r){let e,n;return e=new gs({props:{slot:"after-art",value:r[1].bond,editable:r[3]}}),e.$on("update",r[8]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2&&(l.value=t[1].bond),i&8&&(l.editable=t[3]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Nc(r){let e,n="Stats";return{c(){e=T("h2"),e.textContent=n},l(t){e=y(t,"H2",{"data-svelte-h":!0}),$e(e)!=="svelte-c6kcpv"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function Fc(r){let e,n;return e=new ys({props:{type:r[1].type}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2&&(l.type=t[1].type),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Kl(r){let e,n,t="Feats",i,l,s;return l=new fs({props:{allFeats:r[5],values:r[1].feats}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=F(),A(l.$$.fragment),this.h()},l(o){e=y(o,"SECTION",{class:!0});var a=z(e);n=y(a,"H2",{"data-svelte-h":!0}),$e(n)!=="svelte-2ri5u1"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d),this.h()},h(){D(e,"class","svelte-uir09i")},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&32&&(f.allFeats=o[5]),a&2&&(f.values=o[1].feats),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function Ul(r){let e,n,t,i,l;return i=new Fu({props:{pokemon:r[1]}}),{c(){e=T("hr"),n=F(),t=T("section"),A(i.$$.fragment),this.h()},l(s){e=y(s,"HR",{}),n=N(s),t=y(s,"SECTION",{class:!0});var o=z(t);I(i.$$.fragment,o),o.forEach(d),this.h()},h(){D(t,"class","svelte-uir09i")},m(s,o){b(s,e,o),b(s,n,o),b(s,t,o),C(i,t,null),l=!0},p(s,o){const a={};o&2&&(a.pokemon=s[1]),i.$set(a)},i(s){l||(h(i.$$.fragment,s),l=!0)},o(s){g(i.$$.fragment,s),l=!1},d(s){s&&(d(e),d(n),d(t)),S(i)}}}function Hc(r){var x;let e,n,t,i,l,s,o,a,f,u,c,m,_,p="Abilities & Items",$,k,v,w,P,H,L,M,R,q,Y,K,W;e=new qr({props:{hasImage:r[4],$$slots:{"after-art":[Dc],art:[Pc],default:[Tc]},$$scope:{ctx:r}}}),i=new Mt({props:{$$slots:{default:[Nc]},$$scope:{ctx:r}}}),s=new Tr({props:{attributes:r[1].attributes}}),a=new ms({props:{level:r[1].level,attributes:r[1].attributes,savingThrows:r[1].savingThrows,proficiencies:r[1].proficiencies,type:r[1].type,specializations:r[0].specializations}}),u=new Lt({props:{$$slots:{default:[Fc]},$$scope:{ctx:r}}}),k=new Pu({props:{pokemon:r[1]}}),w=new Mu({props:{pokemon:r[1]}}),H=new Is({props:{value:r[2].forms}});let U=r[1].feats.length>0&&Kl(r);q=new Iu({props:{pokemon:r[1],editable:r[3]}}),q.$on("update",r[7]);let V=((x=r[1].notes)==null?void 0:x.length)>0&&Ul(r);return{c(){A(e.$$.fragment),n=F(),t=T("section"),A(i.$$.fragment),l=F(),A(s.$$.fragment),o=F(),A(a.$$.fragment),f=F(),A(u.$$.fragment),c=F(),m=T("section"),_=T("h2"),_.textContent=p,$=F(),A(k.$$.fragment),v=F(),A(w.$$.fragment),P=F(),A(H.$$.fragment),L=F(),U&&U.c(),M=F(),R=T("section"),A(q.$$.fragment),Y=F(),V&&V.c(),K=J(),this.h()},l(G){I(e.$$.fragment,G),n=N(G),t=y(G,"SECTION",{class:!0});var X=z(t);I(i.$$.fragment,X),l=N(X),I(s.$$.fragment,X),o=N(X),I(a.$$.fragment,X),f=N(X),I(u.$$.fragment,X),X.forEach(d),c=N(G),m=y(G,"SECTION",{class:!0});var re=z(m);_=y(re,"H2",{"data-svelte-h":!0}),$e(_)!=="svelte-182wouu"&&(_.textContent=p),$=N(re),I(k.$$.fragment,re),v=N(re),I(w.$$.fragment,re),re.forEach(d),P=N(G),I(H.$$.fragment,G),L=N(G),U&&U.l(G),M=N(G),R=y(G,"SECTION",{class:!0});var ue=z(R);I(q.$$.fragment,ue),ue.forEach(d),Y=N(G),V&&V.l(G),K=J(),this.h()},h(){D(t,"class","stats svelte-uir09i"),D(m,"class","svelte-uir09i"),D(R,"class","svelte-uir09i")},m(G,X){C(e,G,X),b(G,n,X),b(G,t,X),C(i,t,null),E(t,l),C(s,t,null),E(t,o),C(a,t,null),E(t,f),C(u,t,null),b(G,c,X),b(G,m,X),E(m,_),E(m,$),C(k,m,null),E(m,v),C(w,m,null),b(G,P,X),C(H,G,X),b(G,L,X),U&&U.m(G,X),b(G,M,X),b(G,R,X),C(q,R,null),b(G,Y,X),V&&V.m(G,X),b(G,K,X),W=!0},p(G,[X]){var ye;const re={};X&16&&(re.hasImage=G[4]),X&1054&&(re.$$scope={dirty:X,ctx:G}),e.$set(re);const ue={};X&1024&&(ue.$$scope={dirty:X,ctx:G}),i.$set(ue);const ke={};X&2&&(ke.attributes=G[1].attributes),s.$set(ke);const te={};X&2&&(te.level=G[1].level),X&2&&(te.attributes=G[1].attributes),X&2&&(te.savingThrows=G[1].savingThrows),X&2&&(te.proficiencies=G[1].proficiencies),X&2&&(te.type=G[1].type),X&1&&(te.specializations=G[0].specializations),a.$set(te);const ce={};X&1026&&(ce.$$scope={dirty:X,ctx:G}),u.$set(ce);const Fe={};X&2&&(Fe.pokemon=G[1]),k.$set(Fe);const Te={};X&2&&(Te.pokemon=G[1]),w.$set(Te);const pe={};X&4&&(pe.value=G[2].forms),H.$set(pe),G[1].feats.length>0?U?(U.p(G,X),X&2&&h(U,1)):(U=Kl(G),U.c(),h(U,1),U.m(M.parentNode,M)):U&&(me(),g(U,1,1,()=>{U=null}),de());const he={};X&2&&(he.pokemon=G[1]),X&8&&(he.editable=G[3]),q.$set(he),((ye=G[1].notes)==null?void 0:ye.length)>0?V?(V.p(G,X),X&2&&h(V,1)):(V=Ul(G),V.c(),h(V,1),V.m(K.parentNode,K)):V&&(me(),g(V,1,1,()=>{V=null}),de())},i(G){W||(h(e.$$.fragment,G),h(i.$$.fragment,G),h(s.$$.fragment,G),h(a.$$.fragment,G),h(u.$$.fragment,G),h(k.$$.fragment,G),h(w.$$.fragment,G),h(H.$$.fragment,G),h(U),h(q.$$.fragment,G),h(V),W=!0)},o(G){g(e.$$.fragment,G),g(i.$$.fragment,G),g(s.$$.fragment,G),g(a.$$.fragment,G),g(u.$$.fragment,G),g(k.$$.fragment,G),g(w.$$.fragment,G),g(H.$$.fragment,G),g(U),g(q.$$.fragment,G),g(V),W=!1},d(G){G&&(d(n),d(t),d(c),d(m),d(P),d(L),d(M),d(R),d(Y),d(K)),S(e,G),S(i),S(s),S(a),S(u),S(k),S(w),S(H,G),U&&U.d(G),S(q),V&&V.d(G)}}}function zc(r,e,n){let t,i;Ve(r,$s,_=>n(5,i=_));const l=et();let{trainer:s}=e,{pokemon:o}=e,{species:a}=e,{editable:f}=e;const u=_=>{l("update-health",{...o,hp:{current:_.detail.currentHp,max:o.hp.max},hitDice:{current:_.detail.currentHitDice,max:o.hitDice.max},status:_.detail.currentStatus,exp:_.detail.exp})},c=_=>{l("update-pp",_.detail)},m=_=>{l("update-bond",{...o,bond:{...o.bond,points:{current:_.detail.currentBondPoints,max:o.bond.points.max}}})};return r.$$set=_=>{"trainer"in _&&n(0,s=_.trainer),"pokemon"in _&&n(1,o=_.pokemon),"species"in _&&n(2,a=_.species),"editable"in _&&n(3,f=_.editable)},r.$$.update=()=>{r.$$.dirty&6&&n(4,t=o.avatar!=null||a.media!=null&&a.media.hasAnyMedia())},[s,o,a,f,t,i,u,c,m]}class Lc extends se{constructor(e){super(),ae(this,e,zc,Hc,oe,{trainer:0,pokemon:1,species:2,editable:3})}}function Rc(r){let e,n,t="Cannot find pokemon",i,l,s,o,a,f,u=r[0].name+"",c,m,_,p,$,k,v,w,P=r[0].name+"",H,L,M;return $=new na({}),{c(){e=T("div"),n=T("h1"),n.textContent=t,i=F(),l=T("p"),s=B("No pokemon with id "),o=T("strong"),a=B(r[1]),f=B(" belongs to "),c=B(u),m=B("."),_=F(),p=T("p"),A($.$$.fragment),k=F(),v=T("p"),w=B("Select one of "),H=B(P),L=B("'s pokemon to view its details."),this.h()},l(R){e=y(R,"DIV",{class:!0});var q=z(e);n=y(q,"H1",{class:!0,"data-svelte-h":!0}),$e(n)!=="svelte-a6ssar"&&(n.textContent=t),i=N(q),l=y(q,"P",{});var Y=z(l);s=O(Y,"No pokemon with id "),o=y(Y,"STRONG",{});var K=z(o);a=O(K,r[1]),K.forEach(d),f=O(Y," belongs to "),c=O(Y,u),m=O(Y,"."),Y.forEach(d),_=N(q),p=y(q,"P",{class:!0});var W=z(p);I($.$$.fragment,W),W.forEach(d),k=N(q),v=y(q,"P",{});var U=z(v);w=O(U,"Select one of "),H=O(U,P),L=O(U,"'s pokemon to view its details."),U.forEach(d),q.forEach(d),this.h()},h(){D(n,"class","large-font space-bottom svelte-47myc3"),D(p,"class","missingno svelte-47myc3"),D(e,"class","centered padded svelte-47myc3")},m(R,q){b(R,e,q),E(e,n),E(e,i),E(e,l),E(l,s),E(l,o),E(o,a),E(l,f),E(l,c),E(l,m),E(e,_),E(e,p),C($,p,null),E(e,k),E(e,v),E(v,w),E(v,H),E(v,L),M=!0},p(R,[q]){(!M||q&2)&&fe(a,R[1]),(!M||q&1)&&u!==(u=R[0].name+"")&&fe(c,u),(!M||q&1)&&P!==(P=R[0].name+"")&&fe(H,P)},i(R){M||(h($.$$.fragment,R),M=!0)},o(R){g($.$$.fragment,R),M=!1},d(R){R&&d(e),S($)}}}function Mc(r,e,n){let{trainer:t}=e,{pokemonId:i}=e;return r.$$set=l=>{"trainer"in l&&n(0,t=l.trainer),"pokemonId"in l&&n(1,i=l.pokemonId)},[t,i]}class Vc extends se{constructor(e){super(),ae(this,e,Mc,Rc,oe,{trainer:0,pokemonId:1})}}function Oc(r){let e,n,t,i;return e=new rt({props:{value:"Cannot find pokemon"}}),t=new Vc({props:{trainer:r[0].info,pokemonId:r[1]}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s&1&&(o.trainer=l[0].info),s&2&&(o.pokemonId=l[1]),t.$set(o)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function Bc(r){let e,n,t;e=new rt({props:{value:(r[2]?`${r[2]} `:"")+r[3].nickname}});const i=r[5].default,l=Jt(i,r,r[4],null);return{c(){A(e.$$.fragment),n=F(),l&&l.c()},l(s){I(e.$$.fragment,s),n=N(s),l&&l.l(s)},m(s,o){C(e,s,o),b(s,n,o),l&&l.m(s,o),t=!0},p(s,o){const a={};o&12&&(a.value=(s[2]?`${s[2]} `:"")+s[3].nickname),e.$set(a),l&&l.p&&(!t||o&16)&&Xt(l,i,s,s[4],t?en(i,s[4],o,null):xt(s[4]),null)},i(s){t||(h(e.$$.fragment,s),h(l,s),t=!0)},o(s){g(e.$$.fragment,s),g(l,s),t=!1},d(s){s&&d(n),S(e,s),l&&l.d(s)}}}function qc(r){let e,n,t,i;const l=[Bc,Oc],s=[];function o(a,f){return a[3]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,[f]){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Kc(r,e,n){let t,{$$slots:i={},$$scope:l}=e,{trainer:s}=e,{id:o}=e,{titlePrefix:a=void 0}=e;return r.$$set=f=>{"trainer"in f&&n(0,s=f.trainer),"id"in f&&n(1,o=f.id),"titlePrefix"in f&&n(2,a=f.titlePrefix),"$$scope"in f&&n(4,l=f.$$scope)},r.$$.update=()=>{r.$$.dirty&3&&n(3,t=s.pokemon.find(f=>f.id===o))},[s,o,a,t,l,i]}class sn extends se{constructor(e){super(),ae(this,e,Kc,qc,oe,{trainer:0,id:1,titlePrefix:2})}}function Uc(r){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function jl(r){let e,n;return e=new Pe({props:{href:ve.trainers(r[3].info.readKey,r[2].id,ze.evolvePokemon),variant:"ghost",$$slots:{default:[jc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&12&&(l.href=ve.trainers(t[3].info.readKey,t[2].id,ze.evolvePokemon)),i&64&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function jc(r){let e;return{c(){e=B("Evolve")},l(n){e=O(n,"Evolve")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Gc(r){let e;return{c(){e=B("Rest")},l(n){e=O(n,"Rest")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Yc(r){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Wc(r){var u;let e,n,t=((u=r[4])==null?void 0:u.evolvesTo(r[0].id).length)>0,i,l,s,o,a;e=new Pe({props:{href:ve.trainers(r[3].info.readKey,r[2].id,ze.removePokemon),variant:"ghost",$$slots:{default:[Uc]},$$scope:{ctx:r}}});let f=t&&jl(r);return l=new Pe({props:{href:ve.trainers(r[3].info.readKey,r[2].id,ze.restPokemon),variant:"success",$$slots:{default:[Gc]},$$scope:{ctx:r}}}),o=new Pe({props:{href:ve.trainers(r[3].info.readKey,r[2].id,ze.editPokemon),$$slots:{default:[Yc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),f&&f.c(),i=F(),A(l.$$.fragment),s=F(),A(o.$$.fragment)},l(c){I(e.$$.fragment,c),n=N(c),f&&f.l(c),i=N(c),I(l.$$.fragment,c),s=N(c),I(o.$$.fragment,c)},m(c,m){C(e,c,m),b(c,n,m),f&&f.m(c,m),b(c,i,m),C(l,c,m),b(c,s,m),C(o,c,m),a=!0},p(c,m){var k;const _={};m&12&&(_.href=ve.trainers(c[3].info.readKey,c[2].id,ze.removePokemon)),m&64&&(_.$$scope={dirty:m,ctx:c}),e.$set(_),m&17&&(t=((k=c[4])==null?void 0:k.evolvesTo(c[0].id).length)>0),t?f?(f.p(c,m),m&17&&h(f,1)):(f=jl(c),f.c(),h(f,1),f.m(i.parentNode,i)):f&&(me(),g(f,1,1,()=>{f=null}),de());const p={};m&12&&(p.href=ve.trainers(c[3].info.readKey,c[2].id,ze.restPokemon)),m&64&&(p.$$scope={dirty:m,ctx:c}),l.$set(p);const $={};m&12&&($.href=ve.trainers(c[3].info.readKey,c[2].id,ze.editPokemon)),m&64&&($.$$scope={dirty:m,ctx:c}),o.$set($)},i(c){a||(h(e.$$.fragment,c),h(f),h(l.$$.fragment,c),h(o.$$.fragment,c),a=!0)},o(c){g(e.$$.fragment,c),g(f),g(l.$$.fragment,c),g(o.$$.fragment,c),a=!1},d(c){c&&(d(n),d(i),d(s)),S(e,c),f&&f.d(c),S(l,c),S(o,c)}}}function Qc(r){let e,n;return e=new Qe({props:{$$slots:{default:[Wc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&93&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Zc(r,e,n){let t,i=Z,l=()=>(i(),i=Xe(f,c=>n(3,t=c)),f),s;r.$$.on_destroy.push(()=>i());const o=Vr.all();Ve(r,o,c=>n(4,s=c));let{species:a}=e,{trainer:f}=e;l();let{pokemon:u}=e;return r.$$set=c=>{"species"in c&&n(0,a=c.species),"trainer"in c&&l(n(1,f=c.trainer)),"pokemon"in c&&n(2,u=c.pokemon)},[a,f,u,t,s,o]}class Jc extends se{constructor(e){super(),ae(this,e,Zc,Qc,oe,{species:0,trainer:1,pokemon:2})}}function Gl(r){let e,n;return e=new Jc({props:{trainer:r[0],species:r[8],pokemon:r[3]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&1&&(l.trainer=t[0]),i&256&&(l.species=t[8]),i&8&&(l.pokemon=t[3]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Xc(r){let e,n,t,i;e=new Lc({props:{trainer:r[2].info,pokemon:r[3],species:r[8],editable:r[4]}}),e.$on("update-health",r[5]),e.$on("update-pp",r[6]),e.$on("update-bond",r[7]);let l=r[4]&&Gl(r);return{c(){A(e.$$.fragment),n=F(),l&&l.c(),t=J()},l(s){I(e.$$.fragment,s),n=N(s),l&&l.l(s),t=J()},m(s,o){C(e,s,o),b(s,n,o),l&&l.m(s,o),b(s,t,o),i=!0},p(s,o){const a={};o&4&&(a.trainer=s[2].info),o&8&&(a.pokemon=s[3]),o&256&&(a.species=s[8]),o&16&&(a.editable=s[4]),e.$set(a),s[4]?l?(l.p(s,o),o&16&&h(l,1)):(l=Gl(s),l.c(),h(l,1),l.m(t.parentNode,t)):l&&(me(),g(l,1,1,()=>{l=null}),de())},i(s){i||(h(e.$$.fragment,s),h(l),i=!0)},o(s){g(e.$$.fragment,s),g(l),i=!1},d(s){s&&(d(n),d(t)),S(e,s),l&&l.d(s)}}}function xc(r){let e,n;return e=new Xs({props:{slot:"header-extra",type:r[3].type.data}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.type=t[3].type.data),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function em(r){let e,n;return e=new it({props:{title:r[3].nickname,$$slots:{"header-extra":[xc],default:[Xc]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.title=t[3].nickname),i&797&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tm(r){var t;let e,n;return e=new Pt({props:{ids:[(t=r[3])==null?void 0:t.pokemonId],$$slots:{default:[em,({species:i})=>({8:i}),({species:i})=>i?256:0]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,l){C(e,i,l),n=!0},p(i,l){var o;const s={};l&8&&(s.ids=[(o=i[3])==null?void 0:o.pokemonId]),l&797&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function nm(r){let e,n;return e=new sn({props:{trainer:r[2],id:r[1],$$slots:{default:[tm]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&4&&(l.trainer=t[2]),i&2&&(l.id=t[1]),i&541&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function im(r,e,n){let t,i,l,s=Z,o=()=>(s(),s=Xe(a,_=>n(2,l=_)),a);r.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let{id:f}=e;const u=_=>{var p;(p=l.update)==null||p.pokemon(_.detail,{optimistic:!0})},c=_=>{var p;(p=l.update)==null||p.move(_.detail,{optimistic:!0})},m=_=>{var p;(p=l.update)==null||p.pokemon(_.detail,{optimistic:!0})};return r.$$set=_=>{"trainer"in _&&o(n(0,a=_.trainer)),"id"in _&&n(1,f=_.id)},r.$$.update=()=>{r.$$.dirty&4&&n(4,t=l.update!=null),r.$$.dirty&6&&n(3,i=l.pokemon.find(_=>_.id===f))},[a,f,l,i,t,u,c,m]}class lm extends se{constructor(e){super(),ae(this,e,im,nm,oe,{trainer:0,id:1})}}function Yl(r){let e;return{c(){e=T("span"),this.h()},l(n){e=y(n,"SPAN",{class:!0}),z(e).forEach(d),this.h()},h(){D(e,"class","shadow svelte-e0vu9q")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function rm(r){var o,a,f;let e,n,t=((o=r[4])==null?void 0:o.media.sprite().value)!=null,i,l;e=new rs({props:{media:(a=r[4])==null?void 0:a.media,alt:(f=r[4])==null?void 0:f.data.name,shiny:r[1].isShiny}});let s=t&&Yl();return{c(){A(e.$$.fragment),n=F(),s&&s.c(),i=J()},l(u){I(e.$$.fragment,u),n=N(u),s&&s.l(u),i=J()},m(u,c){C(e,u,c),b(u,n,c),s&&s.m(u,c),b(u,i,c),l=!0},p(u,c){var _,p,$;const m={};c&16&&(m.media=(_=u[4])==null?void 0:_.media),c&16&&(m.alt=(p=u[4])==null?void 0:p.data.name),c&2&&(m.shiny=u[1].isShiny),e.$set(m),c&16&&(t=(($=u[4])==null?void 0:$.media.sprite().value)!=null),t?s||(s=Yl(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i(u){l||(h(e.$$.fragment,u),l=!0)},o(u){g(e.$$.fragment,u),l=!1},d(u){u&&(d(n),d(i)),S(e,u),s&&s.d(u)}}}function sm(r){let e;return{c(){e=T("div"),this.h()},l(n){e=y(n,"DIV",{slot:!0}),z(e).forEach(d),this.h()},h(){D(e,"slot","loader")},m(n,t){b(n,e,t)},p:Z,d(n){n&&d(e)}}}function Wl(r){let e,n,t;return n=new ia({props:{src:r[2].media.sprite,alt:"Holding "+r[2].name}}),{c(){e=T("span"),A(n.$$.fragment),this.h()},l(i){e=y(i,"SPAN",{class:!0});var l=z(e);I(n.$$.fragment,l),l.forEach(d),this.h()},h(){D(e,"class","held-item svelte-e0vu9q")},m(i,l){b(i,e,l),C(n,e,null),t=!0},p(i,l){const s={};l&4&&(s.src=i[2].media.sprite),l&4&&(s.alt="Holding "+i[2].name),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function Ql(r){let e,n;return e=new Ur({props:{abbr:!0,value:r[1].status}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2&&(l.value=t[1].status),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function am(r){let e,n,t,i,l,s,o=r[1].nickname+"",a,f,u,c,m,_,p,$,k,v=r[1].hp.current+"",w,P,H=r[1].hp.max+"",L,M,R,q,Y,K,W=r[1].level.data+"",U,V,x;t=new Pt({props:{ids:[r[1].pokemonId],$$slots:{loader:[sm],default:[rm,({species:re})=>({4:re}),({species:re})=>re?16:0]},$$scope:{ctx:r}}});let G=r[2]!=null&&Wl(r);c=new Pr({props:{gender:r[1].gender}}),p=new kn({props:{current:r[1].hp.current,max:r[1].hp.max}});let X=r[1].status!=null&&Ql(r);return{c(){e=T("a"),n=T("span"),A(t.$$.fragment),i=F(),G&&G.c(),l=F(),s=T("span"),a=B(o),f=F(),u=T("span"),A(c.$$.fragment),m=F(),_=T("span"),A(p.$$.fragment),$=F(),k=T("span"),w=B(v),P=B("/"),L=B(H),M=F(),R=T("span"),X&&X.c(),q=F(),Y=T("span"),K=B("Lv. "),U=B(W),this.h()},l(re){e=y(re,"A",{href:!0,class:!0});var ue=z(e);n=y(ue,"SPAN",{class:!0});var ke=z(n);I(t.$$.fragment,ke),i=N(ke),G&&G.l(ke),ke.forEach(d),l=N(ue),s=y(ue,"SPAN",{});var te=z(s);a=O(te,o),te.forEach(d),f=N(ue),u=y(ue,"SPAN",{class:!0});var ce=z(u);I(c.$$.fragment,ce),ce.forEach(d),m=N(ue),_=y(ue,"SPAN",{class:!0});var Fe=z(_);I(p.$$.fragment,Fe),Fe.forEach(d),$=N(ue),k=y(ue,"SPAN",{});var Te=z(k);w=O(Te,v),P=O(Te,"/"),L=O(Te,H),Te.forEach(d),M=N(ue),R=y(ue,"SPAN",{class:!0});var pe=z(R);X&&X.l(pe),pe.forEach(d),q=N(ue),Y=y(ue,"SPAN",{class:!0});var he=z(Y);K=O(he,"Lv. "),U=O(he,W),he.forEach(d),ue.forEach(d),this.h()},h(){D(n,"class","max-height holding-item jumping-animation svelte-e0vu9q"),Ee(n,"grid-area","sprite"),Ee(s,"grid-area","name"),D(u,"class","right away-from-edge flex svelte-e0vu9q"),Ee(u,"grid-area","gender"),D(_,"class","away-from-edge svelte-e0vu9q"),Ee(_,"grid-area","hpbar"),Ee(k,"grid-area","hp"),D(R,"class","smaller-text svelte-e0vu9q"),Ee(R,"grid-area","status"),D(Y,"class","right svelte-e0vu9q"),Ee(Y,"grid-area","lv"),D(e,"href",V=ve.trainers(r[0],r[1].id)),D(e,"class","selectable-bubble gridded svelte-e0vu9q")},m(re,ue){b(re,e,ue),E(e,n),C(t,n,null),E(n,i),G&&G.m(n,null),E(e,l),E(e,s),E(s,a),E(e,f),E(e,u),C(c,u,null),E(e,m),E(e,_),C(p,_,null),E(e,$),E(e,k),E(k,w),E(k,P),E(k,L),E(e,M),E(e,R),X&&X.m(R,null),E(e,q),E(e,Y),E(Y,K),E(Y,U),x=!0},p(re,[ue]){const ke={};ue&2&&(ke.ids=[re[1].pokemonId]),ue&50&&(ke.$$scope={dirty:ue,ctx:re}),t.$set(ke),re[2]!=null?G?(G.p(re,ue),ue&4&&h(G,1)):(G=Wl(re),G.c(),h(G,1),G.m(n,null)):G&&(me(),g(G,1,1,()=>{G=null}),de()),(!x||ue&2)&&o!==(o=re[1].nickname+"")&&fe(a,o);const te={};ue&2&&(te.gender=re[1].gender),c.$set(te);const ce={};ue&2&&(ce.current=re[1].hp.current),ue&2&&(ce.max=re[1].hp.max),p.$set(ce),(!x||ue&2)&&v!==(v=re[1].hp.current+"")&&fe(w,v),(!x||ue&2)&&H!==(H=re[1].hp.max+"")&&fe(L,H),re[1].status!=null?X?(X.p(re,ue),ue&2&&h(X,1)):(X=Ql(re),X.c(),h(X,1),X.m(R,null)):X&&(me(),g(X,1,1,()=>{X=null}),de()),(!x||ue&2)&&W!==(W=re[1].level.data+"")&&fe(U,W),(!x||ue&3&&V!==(V=ve.trainers(re[0],re[1].id)))&&D(e,"href",V)},i(re){x||(h(t.$$.fragment,re),h(G),h(c.$$.fragment,re),h(p.$$.fragment,re),h(X),x=!0)},o(re){g(t.$$.fragment,re),g(G),g(c.$$.fragment,re),g(p.$$.fragment,re),g(X),x=!1},d(re){re&&d(e),S(t),G&&G.d(),S(c),S(p),X&&X.d()}}}function om(r,e,n){let t,i;Ve(r,Yn,o=>n(3,i=o));let{trainer:l}=e,{pokemon:s}=e;return r.$$set=o=>{"trainer"in o&&n(0,l=o.trainer),"pokemon"in o&&n(1,s=o.pokemon)},r.$$.update=()=>{r.$$.dirty&10&&n(2,t=s.items.length>0?ds(s.items[0],i):void 0)},[l,s,t,i]}class fm extends se{constructor(e){super(),ae(this,e,om,am,oe,{trainer:0,pokemon:1})}}function Zl(r,e,n){const t=r.slice();return t[10]=e[n],t}function um(r){let e,n="See Trainer List >";return{c(){e=T("a"),e.textContent=n,this.h()},l(t){e=y(t,"A",{href:!0,class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1vgtvyl"&&(e.textContent=n),this.h()},h(){D(e,"href",ve.trainers()),D(e,"class","dark-font svelte-19jifka")},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function cm(r){let e,n;return{c(){e=T("a"),n=B("View trainer profile >"),this.h()},l(t){e=y(t,"A",{href:!0,class:!0});var i=z(e);n=O(i,"View trainer profile >"),i.forEach(d),this.h()},h(){D(e,"href",r[4]),D(e,"class","dark-font svelte-19jifka")},m(t,i){b(t,e,i),E(e,n)},p(t,i){i&16&&D(e,"href",t[4])},d(t){t&&d(e)}}}function mm(r){let e;function n(l,s){return l[1]?cm:um}let t=n(r),i=t(r);return{c(){e=T("span"),i.c(),this.h()},l(l){e=y(l,"SPAN",{slot:!0});var s=z(e);i.l(s),s.forEach(d),this.h()},h(){D(e,"slot","link")},m(l,s){b(l,e,s),i.m(e,null)},p(l,s){t===(t=n(l))&&i?i.p(l,s):(i.d(1),i=t(l),i&&(i.c(),i.m(e,null)))},d(l){l&&d(e),i.d()}}}function dm(r){let e;return{c(){e=B("+ Add Pokemon")},l(n){e=O(n,"+ Add Pokemon")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function _m(r){let e,n,t;return n=new Pe({props:{href:r[4]+"&action=add-pokemon",$$slots:{default:[dm]},$$scope:{ctx:r}}}),{c(){e=T("span"),A(n.$$.fragment),this.h()},l(i){e=y(i,"SPAN",{slot:!0});var l=z(e);I(n.$$.fragment,l),l.forEach(d),this.h()},h(){D(e,"slot","action"),Ee(e,"visibility",r[6]?"visible":"hidden"),Ee(e,"display","flex")},m(i,l){b(i,e,l),C(n,e,null),t=!0},p(i,l){const s={};l&16&&(s.href=i[4]+"&action=add-pokemon"),l&8192&&(s.$$scope={dirty:l,ctx:i}),n.$set(s),l&64&&Ee(e,"visibility",i[6]?"visible":"hidden")},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function Jl(r,e){let n,t,i,l;return t=new fm({props:{trainer:e[2].info.readKey,pokemon:e[10]}}),{key:r,first:null,c(){n=T("li"),A(t.$$.fragment),i=F(),this.h()},l(s){n=y(s,"LI",{class:!0});var o=z(n);I(t.$$.fragment,o),i=N(o),o.forEach(d),this.h()},h(){D(n,"class","space-after svelte-19jifka"),this.first=n},m(s,o){b(s,n,o),C(t,n,null),E(n,i),l=!0},p(s,o){e=s;const a={};o&4&&(a.trainer=e[2].info.readKey),o&32&&(a.pokemon=e[10]),t.$set(a)},i(s){l||(h(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&d(n),S(t)}}}function pm(r){let e,n,t,i,l,s,o,a,f,u=[],c=new Map,m;e=new Dr({props:{title:r[2].info.name+"'s Pokemon",target:"/trainers",$$slots:{action:[_m],link:[mm]},$$scope:{ctx:r}}});function _(v){r[7](v)}let p={id:"filter-pokemon",label:"Search",matched:r[5].length,max:r[2].pokemon.length};r[3]!==void 0&&(p.value=r[3]),i=new Xr({props:p}),ne.push(()=>ie(i,"value",_));let $=De(r[5]);const k=v=>v[10].id;for(let v=0;v<$.length;v+=1){let w=Zl(r,$,v),P=k(w);c.set(P,u[v]=Jl(P,w))}return{c(){A(e.$$.fragment),n=F(),t=T("div"),A(i.$$.fragment),s=F(),o=T("div"),a=T("div"),f=T("ul");for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){I(e.$$.fragment,v),n=N(v),t=y(v,"DIV",{class:!0});var w=z(t);I(i.$$.fragment,w),w.forEach(d),s=N(v),o=y(v,"DIV",{class:!0});var P=z(o);a=y(P,"DIV",{class:!0});var H=z(a);f=y(H,"UL",{class:!0});var L=z(f);for(let M=0;M<u.length;M+=1)u[M].l(L);L.forEach(d),H.forEach(d),P.forEach(d),this.h()},h(){D(t,"class","space-bottom svelte-19jifka"),D(f,"class","nolist no-space partial-width svelte-19jifka"),D(a,"class","scrollable svelte-19jifka"),D(o,"class","relative svelte-19jifka")},m(v,w){C(e,v,w),b(v,n,w),b(v,t,w),C(i,t,null),b(v,s,w),b(v,o,w),E(o,a),E(a,f);for(let P=0;P<u.length;P+=1)u[P]&&u[P].m(f,null);m=!0},p(v,[w]){const P={};w&4&&(P.title=v[2].info.name+"'s Pokemon"),w&8274&&(P.$$scope={dirty:w,ctx:v}),e.$set(P);const H={};w&32&&(H.matched=v[5].length),w&4&&(H.max=v[2].pokemon.length),!l&&w&8&&(l=!0,H.value=v[3],le(()=>l=!1)),i.$set(H),w&36&&($=De(v[5]),me(),u=nn(u,w,k,1,v,$,c,f,ln,Jl,null,Zl),de())},i(v){if(!m){h(e.$$.fragment,v),h(i.$$.fragment,v);for(let w=0;w<$.length;w+=1)h(u[w]);m=!0}},o(v){g(e.$$.fragment,v),g(i.$$.fragment,v);for(let w=0;w<u.length;w+=1)g(u[w]);m=!1},d(v){v&&(d(n),d(t),d(s),d(o)),S(e,v),S(i);for(let w=0;w<u.length;w+=1)u[w].d()}}}function $m(r,e,n){let t,i,l,s,o=Z,a=()=>(o(),o=Xe(u,$=>n(2,s=$)),u),f;Ve(r,vi,$=>n(3,f=$)),r.$$.on_destroy.push(()=>o());let{trainer:u}=e;a();let{currentPokemon:c}=e;const m=$=>(k,v)=>$(k).localeCompare($(v)),_=$=>k=>k.nickname.toLocaleLowerCase().includes($)||k.pokemonId.data.replace("-"," ").includes($);function p($){f=$,vi.set(f)}return r.$$set=$=>{"trainer"in $&&a(n(0,u=$.trainer)),"currentPokemon"in $&&n(1,c=$.currentPokemon)},r.$$.update=()=>{r.$$.dirty&4&&n(6,t=s.update!=null),r.$$.dirty&12&&n(5,i=s.pokemon.filter(_(f.toLocaleLowerCase())).sort(m($=>$.nickname))),r.$$.dirty&4&&n(4,l=ve.trainers(s.info.readKey))},[u,c,s,f,l,i,t,p]}class hm extends se{constructor(e){super(),ae(this,e,$m,pm,oe,{trainer:0,currentPokemon:1})}}const li=An(Bt,r=>r==="2018"?la:ra);class ri extends xr{isStandard(){return Ar(li).includes(this.data)}}function gm(r){let e,n,t,i;function l(a){r[6](a)}function s(a){r[7](a)}let o={label:"Nature",options:r[3],disabled:r[0]};return r[1]!==void 0&&(o.value=r[1]),r[2]!==void 0&&(o.other=r[2]),e=new $t({props:o}),ne.push(()=>ie(e,"value",l)),ne.push(()=>ie(e,"other",s)),{c(){A(e.$$.fragment)},l(a){I(e.$$.fragment,a)},m(a,f){C(e,a,f),i=!0},p(a,[f]){const u={};f&8&&(u.options=a[3]),f&1&&(u.disabled=a[0]),!n&&f&2&&(n=!0,u.value=a[1],le(()=>n=!1)),!t&&f&4&&(t=!0,u.other=a[2],le(()=>t=!1)),e.$set(u)},i(a){i||(h(e.$$.fragment,a),i=!0)},o(a){g(e.$$.fragment,a),i=!1},d(a){S(e,a)}}}const Xl="other";function vm(r,e,n){let t,i;Ve(r,li,c=>n(5,i=c));let{value:l}=e,{disabled:s=!1}=e,o=l.isStandard()?l.data:Xl,a=l.data;function f(c){o=c,n(1,o)}function u(c){a=c,n(2,a)}return r.$$set=c=>{"value"in c&&n(4,l=c.value),"disabled"in c&&n(0,s=c.disabled)},r.$$.update=()=>{r.$$.dirty&32&&n(3,t=i.map(c=>({name:c,value:c}))),r.$$.dirty&6&&n(4,l=new ri(o===Xl?a:o))},[s,o,a,t,l,i,f,u]}class bm extends se{constructor(e){super(),ae(this,e,vm,gm,oe,{value:4,disabled:0})}}const dn="trainer_avatars";class km{constructor(e,n){Ne(this,"allTrainers",async()=>Promise.all(at.getReadKeys().map(e=>this.getOneTrainerInfo(e))).then(e=>e.filter(n=>n!=null)));Ne(this,"getTrainer",async e=>{const n=await this.getOneTrainerInfo(e);if(!n)return;at.addReadKey(e);const t=await this.getTrainersPokemon(n.id),i=at.getWriteKey(e);return{info:n,pokemon:t,writeKey:i}});Ne(this,"getOneTrainerInfo",async e=>{const n=await this.supabase.rpc("get_trainer",{_read_key:e}).maybeSingle().then(({data:l,error:s})=>{if(s)throw new He("Could not get trainer.",s);if(l)return wm(l,this.getStorageResource)});if(n==null)return;const[t,i]=await Promise.all([this.getTrainerInventory(n.readKey),this.getTrainerFeats(n.readKey)]);return n.inventory=t,n.feats=i,n});Ne(this,"getTrainersPokemon",async e=>await this.supabase.rpc("get_pokemon",{_trainer_id:e}).select().then(({data:n,error:t})=>{if(t)throw new He("Could not trainer's pokemon.",t);return n.map(i=>Em(i,this.getUserAssetResource))}).then(n=>Promise.all(n.map(t=>this.getMoveset(t.id).then(i=>({...t,moves:i}))))).then(n=>Promise.all(n.map(t=>this.getHeldItems(t.id).then(i=>({...t,items:i}))))).then(n=>Promise.all(n.map(t=>this.getPokemonFeats(t.id).then(i=>({...t,feats:i}))))));Ne(this,"newTrainer",async e=>{const n={...e,level:new vt(1),ac:10,hp:{current:8,max:8},hitDice:{current:1,max:1},attributes:new It({str:10,dex:10,con:10,int:10,wis:10,cha:10}),proficiencies:new gn({athletics:0,acrobatics:0,"sleight of hand":0,stealth:0,arcana:0,history:0,investigation:0,nature:0,religion:0,"animal handling":1,insight:0,medicine:0,perception:0,survival:0,deception:0,intimidation:0,performance:0,persuasion:0}),savingThrows:["cha"],biography:{species:"Human",gender:null,age:null,homeRegion:null,background:null},money:0,inventory:[],specializations:{ghost:0,fairy:0,normal:0,fighting:0,flying:0,poison:0,fire:0,grass:0,water:0,electric:0,psychic:0,dark:0,bug:0,ice:0,dragon:0,steel:0,rock:0,ground:0},path:Vo(),feats:[]},{data:t,error:i}=await this.supabase.rpc("new_trainer",{_name:n.name,_description:n.description,_level:n.level.data,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_species:n.biography.species,_gender:n.biography.gender,_age:n.biography.age,_home_region:n.biography.homeRegion,_background:n.biography.background,_money:n.money,_special_normal:n.specializations.normal??0,_special_fighting:n.specializations.fighting??0,_special_flying:n.specializations.flying??0,_special_poison:n.specializations.poison??0,_special_ground:n.specializations.ground??0,_special_rock:n.specializations.rock??0,_special_bug:n.specializations.bug??0,_special_ghost:n.specializations.ghost??0,_special_steel:n.specializations.steel??0,_special_fire:n.specializations.fire??0,_special_water:n.specializations.water??0,_special_grass:n.specializations.grass??0,_special_electric:n.specializations.electric??0,_special_psychic:n.specializations.psychic??0,_special_ice:n.specializations.ice??0,_special_dragon:n.specializations.dragon??0,_special_dark:n.specializations.dark??0,_special_fairy:n.specializations.fairy??0,_path_name:n.path.name,_path_resource:n.path.resource,_path_rank_1_name:"",_path_rank_1_desc:n.path.customFeatures.level2.description,_path_rank_2_name:n.path.customFeatures.level5.name,_path_rank_2_desc:n.path.customFeatures.level5.description,_path_rank_3_name:n.path.customFeatures.level9.name,_path_rank_3_desc:n.path.customFeatures.level9.description,_path_rank_4_name:n.path.customFeatures.level15.name,_path_rank_4_desc:n.path.customFeatures.level15.description}).single();if(i)throw new He("Could not create trainer.",i);return at.addReadKey(t.ret_read_key),at.addWriteKey(t.ret_read_key,t.ret_write_key),{info:{...n,id:t.ret_id,readKey:t.ret_read_key},pokemon:[],writeKey:t.ret_write_key}});Ne(this,"updateTrainerInfo",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_trainer",{_write_key:e,_name:n.name,_description:n.description,_level:n.level.data,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_species:n.biography.species,_gender:n.biography.gender,_age:n.biography.age,_home_region:n.biography.homeRegion,_background:n.biography.background,_money:n.money,_special_normal:n.specializations.normal??0,_special_fighting:n.specializations.fighting??0,_special_flying:n.specializations.flying??0,_special_poison:n.specializations.poison??0,_special_ground:n.specializations.ground??0,_special_rock:n.specializations.rock??0,_special_bug:n.specializations.bug??0,_special_ghost:n.specializations.ghost??0,_special_steel:n.specializations.steel??0,_special_fire:n.specializations.fire??0,_special_water:n.specializations.water??0,_special_grass:n.specializations.grass??0,_special_electric:n.specializations.electric??0,_special_psychic:n.specializations.psychic??0,_special_ice:n.specializations.ice??0,_special_dragon:n.specializations.dragon??0,_special_dark:n.specializations.dark??0,_special_fairy:n.specializations.fairy??0,_path_name:n.path.name,_path_resource:n.path.resource,_path_rank_1_name:"",_path_rank_1_desc:n.path.customFeatures.level2.description,_path_rank_2_name:n.path.customFeatures.level5.name,_path_rank_2_desc:n.path.customFeatures.level5.description,_path_rank_3_name:n.path.customFeatures.level9.name,_path_rank_3_desc:n.path.customFeatures.level9.description,_path_rank_4_name:n.path.customFeatures.level15.name,_path_rank_4_desc:n.path.customFeatures.level15.description}).single();if(i)throw new He("Could not update trainer.",i);if(t<=0)throw new He("Either this trainer does not exist or you do not have permission to edit them.");return t>0});Ne(this,"updateTrainerAvatar",async(e,n,t)=>{const i=await this.generateTrainerAvatarFilename(e,n),{error:l}=await this.supabase.storage.from(dn).upload(i,n);if(l)throw new He("Could not upload file for trainer.");return await this.removeOldTrainerAvatar(t),this.getStorageResource(dn,i)});Ne(this,"removeTrainerAvatar",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("remove_trainer_avatar",{_write_key:e}).single();if(t!=null&&t<=0)throw new He("You do not have permission to edit this trainer.");if(i)throw new He("Could not remove trainer's avatar image",i);await this.removeOldTrainerAvatar(n)});Ne(this,"generateTrainerAvatarFilename",async(e,n)=>{const t=n.name.split(".").at(-1),{data:i,error:l}=await this.supabase.rpc("new_trainer_avatar_filename",{_write_key:e,_extension:"."+t}).single();if(l)throw new He("Could not generate filename for trainer avatar.",l);return i});Ne(this,"removeOldTrainerAvatar",async e=>{if(e!=null){const{error:n}=await this.supabase.storage.from(dn).remove([e.name]);n&&console.warn("Could not remove old trainer avatar. Ignoring this error.")}});Ne(this,"removeTrainer",async(e,n)=>{at.removeWriteKey(n),at.removeReadKey(n)});Ne(this,"deleteTrainer",async(e,n,t)=>{const{data:i,error:l}=await this.supabase.rpc("delete_trainer",{_write_key:e,_id:n}).single();if(l)throw new He("Could not delete trainer.",l);if(i<=0)throw new He("Either this trainer does not exist or you do not have permission to edit them.");return at.removeWriteKey(t),at.removeReadKey(t),i>0});Ne(this,"updatePokemon",async(e,n)=>{var l;const{data:t,error:i}=await this.supabase.rpc("update_pokemon",{_write_key:e,_id:parseInt(n.id),_species:n.pokemonId.data,_nickname:n.nickname,_type:n.type.data,_nature:n.nature.data,_level:n.level.data,_gender:n.gender,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_ability:n.ability??"",_notes:n.notes,_tera_type:n.teraType.data,_exp:n.exp,_status:n.status,_held_item:null,_is_shiny:n.isShiny,_custom_size:n.customSize??null,_hit_dice_size:((l=n.customHitDiceSize)==null?void 0:l.data)??null,_speed_walking:n.speeds.data.walking??null,_speed_climbing:n.speeds.data.climbing??null,_speed_swimming:n.speeds.data.swimming??null,_speed_flying:n.speeds.data.flying??null,_speed_hover:n.speeds.data.hover??null,_speed_burrowing:n.speeds.data.burrowing??null,_sense_darkvision:n.senses.data.darkvision??null,_sense_blindsight:n.senses.data.blindsight??null,_sense_tremorsense:n.senses.data.tremorsense??null,_sense_truesight:n.senses.data.truesight??null,_bond_level:n.bond.level,_bond_points_cur:n.bond.points.current,_bond_points_max:n.bond.points.max}).single();if(i)throw new He("Could not update pokemon.",i);if(t<=0)throw new He("Either this pokemon does not exist or you do not have permission to edit them.");return t>0});Ne(this,"updatePokemonAvatar",async(e,n,t)=>{const{data:i,error:l}=await this.supabase.functions.invoke("user-assets",{method:"POST",body:{type:"pokemon-avatar",params:{id:n.id,key:e,mimetype:t.type,sizeInBytes:t.size}}});if(l)throw new He("Could not upload file for pokemon.");return await this.userAssets.upload(i.values.uploadUrl,t),this.getUserAssetResource(i.values.filename)});Ne(this,"removePokemonAvatar",async(e,n)=>{const{error:t}=await this.supabase.functions.invoke("user-assets",{method:"DELETE",body:{type:"pokemon-avatar",params:{id:n.id,key:e}}});if(t)throw console.error(t),new He("Could not delete file for pokemon.")});Ne(this,"addPokemonToTeam",async(e,n,t)=>{var o,a;const i={trainerId:n,pokemonId:t.id,nickname:t.data.name,type:t.type,nature:new ri(Ar(li)[0]),level:new vt(t.data.minLevel),exp:jr(t.data.minLevel),gender:zt.None,attributes:t.attributes,ac:t.data.ac,ability:(o=t.abilities.toList()[0])==null?void 0:o.id,hp:{current:t.data.hp,max:t.data.hp},hitDice:{current:t.data.minLevel,max:t.data.minLevel},proficiencies:t.skills.copy(),savingThrows:t.data.saves,moves:[],items:[],notes:t.data.notes??"",teraType:new yt(t.type.primary),status:null,isShiny:!1,feats:[],customSize:void 0,customHitDiceSize:void 0,speeds:new Br({}),senses:new Or({}),bond:{level:0,points:{current:0,max:0}}},{data:l,error:s}=await this.supabase.rpc("add_pokemon",{_write_key:e,_nickname:t.data.name,_species:t.id.data,_nature:i.nature.data,_type:t.type.data,_level:t.data.minLevel,_gender:zt.None,_strength:t.attributes.str.score,_dexterity:t.attributes.dex.score,_constitution:t.attributes.con.score,_intelligence:t.attributes.int.score,_wisdom:t.attributes.wis.score,_charisma:t.attributes.cha.score,_ac:t.data.ac,_hp_cur:t.data.hp,_hp_max:t.data.hp,_hit_dice_cur:t.data.minLevel,_hit_dice_max:t.data.minLevel,_rank_athletics:i.proficiencies.data.athletics,_rank_acrobatics:i.proficiencies.data.acrobatics,_rank_sleight_of_hand:i.proficiencies.data["sleight of hand"],_rank_stealth:i.proficiencies.data.stealth,_rank_arcana:i.proficiencies.data.arcana,_rank_history:i.proficiencies.data.history,_rank_investigation:i.proficiencies.data.investigation,_rank_nature:i.proficiencies.data.nature,_rank_religion:i.proficiencies.data.religion,_rank_animal_handling:i.proficiencies.data["animal handling"],_rank_insight:i.proficiencies.data.insight,_rank_medicine:i.proficiencies.data.medicine,_rank_perception:i.proficiencies.data.perception,_rank_survival:i.proficiencies.data.survival,_rank_deception:i.proficiencies.data.deception,_rank_intimidation:i.proficiencies.data.intimidation,_rank_performance:i.proficiencies.data.performance,_rank_persuasion:i.proficiencies.data.persuasion,_save_str:t.data.saves.includes("str"),_save_dex:t.data.saves.includes("dex"),_save_con:t.data.saves.includes("con"),_save_int:t.data.saves.includes("int"),_save_wis:t.data.saves.includes("wis"),_save_cha:t.data.saves.includes("cha"),_ability:((a=t.abilities.toList()[0])==null?void 0:a.id)??"",_notes:i.notes??"",_tera_type:t.type.primary,_exp:i.exp,_status:null,_held_item:null,_is_shiny:!1,_custom_size:null,_hit_dice_size:null,_speed_walking:null,_speed_climbing:null,_speed_swimming:null,_speed_flying:null,_speed_hover:null,_speed_burrowing:null,_sense_darkvision:null,_sense_blindsight:null,_sense_tremorsense:null,_sense_truesight:null,_bond_level:0,_bond_points_cur:0,_bond_points_max:0}).single();if(s)throw new He("Could not add pokemon.",s);return{...i,id:l.toString()}});Ne(this,"removePokemon",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("remove_pokemon",{_write_key:e,_id:n}).single();if(i)throw new He("Could not remove pokemon.",i);return t>0});Ne(this,"updateListOfThings",async({thingName:e,writeKey:n,newThings:t,getExistingThings:i,removeFunctionName:l,updateFunctionName:s,addFunctionName:o,mapThingToDbArgument:a})=>{const f=await i(),u=t.map(_=>_.id),c=f.map(_=>_.id),m=c.filter(_=>!u.includes(_));return await Promise.all(m.map(_=>this.supabase.rpc(l,{_write_key:n,_id:_}).single().then(({data:p,error:$})=>{if($)throw new He(`Could not delete ${e}.`,$);if(p<=0)throw new He("Either this trainer/pokemon does not exist or you do not have permission to edit them.");return p>0}))),await Promise.all(t.map((_,p)=>c.includes(_.id)?this.supabase.rpc(s,a(_,p,"update")).single().then(({data:$,error:k})=>{if(k)throw new He(`Could not update ${e}.`,k);if($<=0)throw new He("Either this trainer/pokemon does not exist or you do not have permission to edit them.");return{..._}}):this.supabase.rpc(o,a(_,p,"add")).single().then(({data:$,error:k})=>{if(k)throw new He(`Could not add ${e}.`,k);return{..._,id:$}})))});Ne(this,"updateMoveset",async(e,n,t)=>this.updateListOfThings({thingName:"move",writeKey:e,newThings:t,getExistingThings:()=>this.getMoveset(n),removeFunctionName:"remove_move",updateFunctionName:"update_move",addFunctionName:"add_move",mapThingToDbArgument:(i,l,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_move_id:i.moveId,_pp_cur:i.pp.current,_pp_max:i.pp.max,_notes:i.notes,_rank:l})}));Ne(this,"updateOneMove",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_move",{_write_key:e,_id:n.id,_move_id:n.moveId,_pp_cur:n.pp.current,_pp_max:n.pp.max,_notes:n.notes}).single();if(i)throw new He("Could not update pokemon.",i);if(t<=0)throw new He("Either this pokemon does not exist or you do not have permission to edit them.");return t>0});Ne(this,"updateAllHeldItems",async(e,n,t)=>this.updateListOfThings({thingName:"held item",writeKey:e,newThings:t,getExistingThings:()=>this.getHeldItems(n),removeFunctionName:"remove_held_item",updateFunctionName:"update_held_item",addFunctionName:"add_held_item",mapThingToDbArgument:(i,l,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_item_id:i.type==="standard"?i.itemId:null,_custom_name:i.type==="custom"?i.name:null,_description:i.type==="custom"?i.description:null,_rank:l})}));Ne(this,"updateTrainerInventory",async(e,n)=>this.updateListOfThings({thingName:"inventory item",writeKey:e,newThings:n,getExistingThings:()=>this.getTrainerInventory(at.getReadKey(e)),removeFunctionName:"remove_inventory_item",updateFunctionName:"update_inventory_item",addFunctionName:"add_inventory_item",mapThingToDbArgument:(t,i,l)=>({_write_key:e,_id:l==="update"?t.id:void 0,_item_id:t.type==="standard"?t.itemId:null,_quantity:t.quantity,_custom_name:t.type==="custom"?t.name:null,_description:t.type==="custom"?t.description:null,_rank:i})}));Ne(this,"updateTrainerFeats",async(e,n)=>this.updateListOfThings({thingName:"feat",writeKey:e,newThings:n,getExistingThings:()=>this.getTrainerFeats(at.getReadKey(e)),removeFunctionName:"remove_trainer_feat",updateFunctionName:"update_trainer_feat",addFunctionName:"add_trainer_feat",mapThingToDbArgument:(t,i,l)=>({_write_key:e,_id:l==="update"?t.id:void 0,_feat_name:t.name,_description:t.description,_is_custom:t.isCustom,_rank:i})}));Ne(this,"updatePokemonFeats",async(e,n,t)=>this.updateListOfThings({thingName:"feat",writeKey:e,newThings:t,getExistingThings:()=>this.getPokemonFeats(n),removeFunctionName:"remove_pokemon_feat",updateFunctionName:"update_pokemon_feat",addFunctionName:"add_pokemon_feat",mapThingToDbArgument:(i,l,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_feat_name:i.name,_description:i.description,_is_custom:i.isCustom,_rank:l})}));Ne(this,"updateTrainerItem",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_inventory_item",{_write_key:e,_id:n.id,_item_id:n.type==="standard"?n.itemId:null,_quantity:n.quantity,_custom_name:n.type==="custom"?n.name:null,_description:n.type==="custom"?n.description:null}).single();if(i)throw new He("Could not update inventory item.",i);if(t<=0)throw new He("Either this trainer does not exist or you do not have permission to edit them.");return t>0});Ne(this,"verifyWriteKey",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("verify_write_key",{_id:e.id,_write_key:n}).single();if(i)throw new He("Could not verify trainer.",i);return t>0&&at.addWriteKey(e.readKey,n),t>0});Ne(this,"getMoveset",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_moveset",{_pokemon_id:e}).select();if(t)throw new He("Could not get moveset.",t);return(n==null?void 0:n.map(i=>Sm(i)))??[]});Ne(this,"getHeldItems",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_held_items",{_pokemon_id:e}).select();if(t)throw new He("Could not get held items.",t);return(n==null?void 0:n.map(i=>Cm(i)))??[]});Ne(this,"getTrainerInventory",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_inventory_items",{_read_key:e}).select();if(t)throw new He("Could not get inventory items.",t);return(n==null?void 0:n.map(i=>Am(i)))??[]});Ne(this,"getTrainerFeats",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_trainer_feats",{_read_key:e}).select();if(t)throw new He("Could not get trainer feats.",t);return(n==null?void 0:n.map(i=>Im(i)))??[]});Ne(this,"getPokemonFeats",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_pokemon_feats",{_pokemon_id:e}).select();if(t)throw new He("Could not get pokemon feats.",t);return(n==null?void 0:n.map(i=>ym(i)))??[]});Ne(this,"getStorageResource",(e,n)=>({name:n,href:this.supabase.storage.from(e).getPublicUrl(n).data.publicUrl}));Ne(this,"getUserAssetResource",e=>({name:e,href:this.userAssets.getAssetUrl(e)}));this.supabase=e,this.userAssets=n}}const wm=(r,e)=>({id:r.id,readKey:r.read_key,name:r.name,description:r.description,level:new vt(r.level),attributes:new It({str:r.strength,dex:r.dexterity,con:r.constitution,int:r.intelligence,wis:r.wisdom,cha:r.charisma}),ac:r.ac,hp:{current:r.hp_cur,max:r.hp_max},hitDice:{current:r.hit_dice_cur,max:r.hit_dice_max},proficiencies:bs({athletics:[r.prof_athletics,r.rank_athletics],acrobatics:[r.prof_acrobatics,r.rank_acrobatics],"sleight of hand":[r.prof_sleight_of_hand,r.rank_sleight_of_hand],stealth:[r.prof_stealth,r.rank_stealth],arcana:[r.prof_arcana,r.rank_arcana],history:[r.prof_history,r.rank_history],investigation:[r.prof_investigation,r.rank_investigation],nature:[r.prof_nature,r.rank_nature],religion:[r.prof_religion,r.rank_religion],"animal handling":[r.prof_animal_handling,r.rank_animal_handling],insight:[r.prof_insight,r.rank_insight],medicine:[r.prof_medicine,r.rank_medicine],perception:[r.prof_perception,r.rank_perception],survival:[r.prof_survival,r.rank_survival],deception:[r.prof_deception,r.rank_deception],intimidation:[r.prof_intimidation,r.rank_intimidation],performance:[r.prof_performance,r.rank_performance],persuasion:[r.prof_persuasion,r.rank_persuasion]}),savingThrows:vs({str:r.save_str,dex:r.save_dex,con:r.save_con,int:r.save_int,wis:r.save_wis,cha:r.save_cha}),biography:{species:r.species,gender:r.gender,age:r.age,homeRegion:r.home_region,background:r.background},money:r.money,inventory:[],avatar:r.avatar_filename!=null?e(dn,r.avatar_filename):null,specializations:{normal:r.special_normal,fighting:r.special_fighting,flying:r.special_flying,poison:r.special_poison,ground:r.special_ground,rock:r.special_rock,bug:r.special_bug,ghost:r.special_ghost,steel:r.special_steel,fire:r.special_fire,water:r.special_water,grass:r.special_grass,electric:r.special_electric,psychic:r.special_psychic,ice:r.special_ice,dragon:r.special_dragon,dark:r.special_dark,fairy:r.special_fairy},path:{name:r.path_name,resource:r.path_resource,customFeatures:{level2:{description:r.path_rank_1_desc},level5:{name:r.path_rank_2_name,description:r.path_rank_2_desc},level9:{name:r.path_rank_3_name,description:r.path_rank_3_desc},level15:{name:r.path_rank_4_name,description:r.path_rank_4_desc}}},feats:[]}),vs=r=>Object.entries(r).filter(([,e])=>e).map(([e])=>e),bs=r=>new gn(Object.entries(r).reduce((e,[n,[t,i]])=>({...e,[n]:i>0?i:t?1:0}),{})),Em=(r,e)=>({id:r.id.toString(),trainerId:r.trainer_id,pokemonId:new Bs(r.species),nickname:r.nickname,type:new zn(r.type.filter(zn.isPokeType)),nature:new ri(r.nature),level:new vt(r.level),exp:r.exp,gender:r.gender,attributes:new It({str:r.strength,dex:r.dexterity,con:r.constitution,int:r.intelligence,wis:r.wisdom,cha:r.charisma}),ac:r.ac,hp:{current:r.hp_cur,max:r.hp_max},hitDice:{current:r.hit_dice_cur,max:r.hit_dice_max},ability:r.ability,proficiencies:bs({athletics:[r.prof_athletics,r.rank_athletics],acrobatics:[r.prof_acrobatics,r.rank_acrobatics],"sleight of hand":[r.prof_sleight_of_hand,r.rank_sleight_of_hand],stealth:[r.prof_stealth,r.rank_stealth],arcana:[r.prof_arcana,r.rank_arcana],history:[r.prof_history,r.rank_history],investigation:[r.prof_investigation,r.rank_investigation],nature:[r.prof_nature,r.rank_nature],religion:[r.prof_religion,r.rank_religion],"animal handling":[r.prof_animal_handling,r.rank_animal_handling],insight:[r.prof_insight,r.rank_insight],medicine:[r.prof_medicine,r.rank_medicine],perception:[r.prof_perception,r.rank_perception],survival:[r.prof_survival,r.rank_survival],deception:[r.prof_deception,r.rank_deception],intimidation:[r.prof_intimidation,r.rank_intimidation],performance:[r.prof_performance,r.rank_performance],persuasion:[r.prof_persuasion,r.rank_persuasion]}),savingThrows:vs({str:r.save_str,dex:r.save_dex,con:r.save_con,int:r.save_int,wis:r.save_wis,cha:r.save_cha}),moves:[],items:[],notes:r.notes,teraType:yt.isTeraType(r.tera_type)?new yt(r.tera_type):void 0,status:r.status,isShiny:r.is_shiny,feats:[],customSize:qs(r.custom_size)?r.custom_size:void 0,customHitDiceSize:Rt.isHitDice(r.hit_dice_size)?new Rt(r.hit_dice_size):void 0,speeds:new Br({walking:r.speed_walking,climbing:r.speed_climbing,swimming:r.speed_swimming,flying:r.speed_flying,hover:r.speed_hover,burrowing:r.speed_burrowing}),senses:new Or({darkvision:r.sense_darkvision,blindsight:r.sense_blindsight,tremorsense:r.sense_tremorsense,truesight:r.sense_truesight}),bond:{level:r.bond_level,points:{current:r.bond_points_cur,max:r.bond_points_max}},avatar:r.avatar_filename?e(r.avatar_filename):void 0}),Sm=r=>({id:r.id.toString(),moveId:r.move_id,pp:{current:r.pp_cur,max:r.pp_max},notes:r.notes}),Cm=r=>({id:r.id.toString(),type:r.item_id!=null?"standard":"custom",itemId:r.item_id,name:r.custom_name,description:r.description}),Am=r=>({id:r.id.toString(),type:r.item_id!=null?"standard":"custom",itemId:r.item_id,quantity:r.quantity,name:r.custom_name,description:r.description}),Im=r=>({id:r.id.toString(),name:r.feat_name,description:r.description,isCustom:r.is_custom}),ym=r=>({id:r.id.toString(),name:r.feat_name,description:r.description,isCustom:r.is_custom});class He extends Error{constructor(e,n){super(e+(n!=null&&n.code?` Code: ${n.code}`:"")),this.diagnostics=n}}const Be=new km(js,Ks),Tm=()=>{const{subscribe:r,update:e}=Vs({}),n={};let t;const i=(s,o)=>{e(a=>({...a,[s]:{...a[s],...o(a[s])}}))},l=s=>()=>Be.removeTrainer(s.id,s.readKey).then(()=>{e(o=>{const{[s.readKey]:a,...f}=o;return f})});return{get:s=>(n[s]==null&&(n[s]=Be.getTrainer(s).then(o=>{var c;if(o==null)return;const a=m=>({info:async(_,p={})=>{const $=m.info;let k=_.avatar;p.updateAvatar!=null&&(p.updateAvatar.type==="new"?k=await Be.updateTrainerAvatar(m.writeKey,p.updateAvatar.value,_.avatar).catch(w=>{throw Ye.show(w.message),w}):(await Be.removeTrainerAvatar(m.writeKey,_.avatar).catch(w=>{throw Ye.show(w.message),w}),k=null));const v=w=>i(s,P=>({...P,info:{...P.info,...w,avatar:k}}));return p.optimistic?(v(_),Be.updateTrainerInfo(m.writeKey,_).then(()=>{}).catch(w=>{throw v($),Ye.show(w.message),w})):Be.updateTrainerInfo(m.writeKey,_).then(()=>{v(_)}).catch(w=>{throw Ye.show(w.message),w})},inventory:_=>Be.updateTrainerInventory(m.writeKey,_.inventory).then(p=>{i(s,$=>({...$,info:{...$.info,inventory:p}}))}).catch(p=>{throw Ye.show(p.message),p}),inventoryItem:(_,p={})=>{let $;const k=v=>{i(s,w=>{const P=w.info.inventory.findIndex(H=>H.id===v.id);return $=w.info.inventory[P],w.info.inventory[P]=v,{...w}})};return p.optimistic?(k(_),Be.updateTrainerItem(m.writeKey,_).then(()=>{}).catch(v=>{throw k($),Ye.show(v.message),v})):Be.updateTrainerItem(m.writeKey,_).then(()=>{k(_)}).catch(v=>{throw Ye.show(v.message),v})},trainerFeats:_=>Be.updateTrainerFeats(m.writeKey,_.feats).then(p=>{i(s,$=>({...$,info:{...$.info,feats:p}}))}).catch(p=>{throw Ye.show(p.message),p}),retire:()=>Be.deleteTrainer(m.writeKey,m.info.id,m.info.readKey).then(()=>{e(_=>{const{[m.info.readKey]:p,...$}=_;return $})}).catch(_=>{throw Ye.show(_.message),_}),pokemon:async(_,p={})=>{let $,k=_.avatar;p.updateAvatar!=null&&(p.updateAvatar.type==="new"?k=await Be.updatePokemonAvatar(m.writeKey,_,p.updateAvatar.value).catch(w=>{throw Ye.show(w.message),w}):(await Be.removePokemonAvatar(m.writeKey,_).catch(w=>{throw Ye.show(w.message),w}),k=null));const v=w=>i(s,P=>{const H=[...P.pokemon],L=H.findIndex(M=>M.id===w.id);return $=H[L],H[L]={...P.pokemon[L],...w,avatar:k},{...P,pokemon:H}});return p.optimistic?(v(_),Be.updatePokemon(m.writeKey,_).then(()=>{}).catch(w=>{throw v($),Ye.show(w.message),w})):Be.updatePokemon(m.writeKey,_).then(()=>{v(_)}).catch(w=>{throw Ye.show(w.message),w})},moveset:_=>Be.updateMoveset(m.writeKey,_.id,_.moves).then(p=>{i(s,$=>{const k=[...$.pokemon],v=k.findIndex(w=>w.id===_.id);return k[v]={...$.pokemon[v],moves:p},{...$,pokemon:k}})}).catch(p=>{throw Ye.show(p.message),p}),move:(_,p={})=>{let $;const k=v=>{i(s,w=>{const P=w.pokemon.find(L=>L.moves.map(M=>M.id).includes(v.id));if(!P)return w;const H=P.moves.findIndex(L=>L.id===v.id);return $=P.moves[H],P.moves[H]=v,{...w}})};return p.optimistic?(k(_),Be.updateOneMove(m.writeKey,_).then(()=>{}).catch(v=>{throw k($),Ye.show(v.message),v})):Be.updateOneMove(m.writeKey,_).then(()=>{k(_)}).catch(v=>{throw Ye.show(v.message),v})},heldItems:_=>Be.updateAllHeldItems(m.writeKey,_.id,_.items).then(p=>{i(s,$=>{const k=[...$.pokemon],v=k.findIndex(w=>w.id===_.id);return k[v]={...$.pokemon[v],items:p},{...$,pokemon:k}})}).catch(p=>{throw Ye.show(p.message),p}),pokemonFeats:_=>Be.updatePokemonFeats(m.writeKey,_.id,_.feats).then(p=>{i(s,$=>{const k=[...$.pokemon],v=k.findIndex(w=>w.id===_.id);return k[v]={...$.pokemon[v],feats:p},{...$,pokemon:k}})}).catch(p=>{throw Ye.show(p.message),p}),addToTeam:_=>Be.addPokemonToTeam(m.writeKey,m.info.id,_).then(p=>(i(s,$=>{const k=[...$.pokemon,p];return{...$,pokemon:k}}),p)).catch(p=>{throw Ye.show(p.message),p}),removeFromTeam:_=>Be.removePokemon(m.writeKey,_).then(()=>{i(s,p=>{const $=p.pokemon.filter(k=>k.id!==_);return{...p,pokemon:$}})}).catch(p=>{throw Ye.show(p.message),p})});let f;((c=o.writeKey)==null?void 0:c.length)>0&&(f=a(o));let u=!1;return{subscribe:m=>r(_=>{m(_[s]??{...o,update:f,remove:l(o.info)}),u||(u=!0,e(p=>({...p,[s]:{...o,update:f,remove:l(o.info)}})))}),verifyAccess:m=>Be.verifyWriteKey(o.info,m).then(_=>(_&&i(s,p=>({...p,writeKey:m,update:a({...p,writeKey:m})})),_))}})),n[s]),all:()=>(t==null&&(t=Be.allTrainers().then(s=>{let o=!1;return{subscribe:a=>r(f=>{a(Object.values(f).map(u=>u.info)),o||(o=!0,e(u=>s.reduce((c,m)=>({[m.readKey]:{info:m,pokemon:[],remove:l(m)},...c}),u)))})}})),t),new:s=>Be.newTrainer(s).then(o=>(i(o.info.readKey,()=>o),o))}},wn=Tm();function Pm(r){let e,n="<p>You do not have permission to add pokemon to this trainer.</p>";return{c(){e=T("section"),e.innerHTML=n},l(t){e=y(t,"SECTION",{"data-svelte-h":!0}),$e(e)!=="svelte-lyju69"&&(e.innerHTML=n)},m(t,i){b(t,e,i)},p:Z,i:Z,o:Z,d(t){t&&d(e)}}}function Dm(r){let e,n,t="Start typing the pokemon's species, then select from the provided list.",i,l,s,o,a,f,u=`Or you can add a <a href="${ve.fakemon()}">Fakémon</a> by its ID.`,c,m,_,p,$;s=new Ps({props:{label:"Species",value:"",name:"species",allSpecies:r[6],disabled:r[3],explicitSubmit:!0}}),s.$on("change",r[9]),m=new Ds({}),m.$on("found",r[8]);let k=r[4]!=null&&xl(r);return{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),l=T("div"),A(s.$$.fragment),o=F(),a=T("section"),f=T("p"),f.innerHTML=u,c=F(),A(m.$$.fragment),_=F(),p=T("div"),k&&k.c(),this.h()},l(v){e=y(v,"SECTION",{});var w=z(e);n=y(w,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-1nt5sai"&&(n.textContent=t),i=N(w),l=y(w,"DIV",{class:!0});var P=z(l);I(s.$$.fragment,P),P.forEach(d),w.forEach(d),o=N(v),a=y(v,"SECTION",{});var H=z(a);f=y(H,"P",{"data-svelte-h":!0}),$e(f)!=="svelte-1wz33xn"&&(f.innerHTML=u),c=N(H),I(m.$$.fragment,H),_=N(H),p=y(H,"DIV",{class:!0});var L=z(p);k&&k.l(L),L.forEach(d),H.forEach(d),this.h()},h(){D(l,"class","font-lg svelte-39ptmf"),D(p,"class","min-height svelte-39ptmf")},m(v,w){b(v,e,w),E(e,n),E(e,i),E(e,l),C(s,l,null),b(v,o,w),b(v,a,w),E(a,f),E(a,c),C(m,a,null),E(a,_),E(a,p),k&&k.m(p,null),$=!0},p(v,w){const P={};w&64&&(P.allSpecies=v[6]),w&8&&(P.disabled=v[3]),s.$set(P),v[4]!=null?k?(k.p(v,w),w&16&&h(k,1)):(k=xl(v),k.c(),h(k,1),k.m(p,null)):k&&(me(),g(k,1,1,()=>{k=null}),de())},i(v){$||(h(s.$$.fragment,v),h(m.$$.fragment,v),h(k),$=!0)},o(v){g(s.$$.fragment,v),g(m.$$.fragment,v),g(k),$=!1},d(v){v&&(d(e),d(o),d(a)),S(s),S(m),k&&k.d()}}}function xl(r){let e,n,t;return n=new Pe({props:{$$slots:{default:[Nm]},$$scope:{ctx:r}}}),n.$on("click",function(){Vt(r[7](r[4].species))&&r[7](r[4].species).apply(this,arguments)}),{c(){e=T("p"),A(n.$$.fragment),this.h()},l(i){e=y(i,"P",{class:!0});var l=z(e);I(n.$$.fragment,l),l.forEach(d),this.h()},h(){D(e,"class","font-lg svelte-39ptmf")},m(i,l){b(i,e,l),C(n,e,null),t=!0},p(i,l){r=i;const s={};l&2064&&(s.$$scope={dirty:l,ctx:r}),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function Nm(r){let e=r[4].species.data.name+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&16&&e!==(e=t[4].species.data.name+"")&&fe(n,e)},d(t){t&&d(n)}}}function Fm(r){let e,n,t,i;const l=[Dm,Pm],s=[];function o(a,f){return a[5]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Hm(r){let e,n,t,i;return e=new rt({props:{value:"Add Pokemon"}}),t=new it({props:{title:"Add to "+r[2].info.name+"'s team",$$slots:{default:[Fm]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&4&&(o.title="Add to "+l[2].info.name+"'s team"),s&2168&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function zm(r,e,n){let t,i,l,s=Z,o=()=>(s(),s=Xe(c,w=>n(2,l=w)),c),a,f=Z,u=()=>(f(),f=Xe(m,w=>n(6,a=w)),m);r.$$.on_destroy.push(()=>s()),r.$$.on_destroy.push(()=>f());let{trainer:c}=e;o();let{allSpecies:m}=e;u();let _=!1;const p=w=>()=>{var P;n(3,_=!0),(P=l.update)==null||P.addToTeam(w).then(({id:H})=>{xe(ve.trainers(i,H))}).catch(()=>{n(3,_=!1)})};let $;const k=w=>{n(4,$=w.detail.value)},v=w=>p(w.detail.species)();return r.$$set=w=>{"trainer"in w&&o(n(0,c=w.trainer)),"allSpecies"in w&&u(n(1,m=w.allSpecies))},r.$$.update=()=>{r.$$.dirty&4&&n(5,t=l.update!=null),r.$$.dirty&4&&(i=l.info.readKey)},[c,m,l,_,$,t,a,p,k,v]}class Lm extends se{constructor(e){super(),ae(this,e,zm,Hm,oe,{trainer:0,allSpecies:1})}}const Rm="https://poke5e.app";function Mm(r){let e;return{c(){e=B("Create Trainer")},l(n){e=O(n,"Create Trainer")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function er(r){let e,n,t,i,l="The Poke 5e App has recently moved to <strong>poke5e.app</strong>! If you had trainer data, it should have been automatically transfered to here.",s,o,a="If that didn't happen, learn how you can recover your trainer data by clicking the link below:",f,u,c,m;return c=new Pe({props:{href:ve.trainerRecovery(),$$slots:{default:[Vm]},$$scope:{ctx:r}}}),{c(){e=T("hr"),n=F(),t=T("section"),i=T("p"),i.innerHTML=l,s=F(),o=T("p"),o.textContent=a,f=F(),u=T("p"),A(c.$$.fragment),this.h()},l(_){e=y(_,"HR",{}),n=N(_),t=y(_,"SECTION",{class:!0});var p=z(t);i=y(p,"P",{"data-svelte-h":!0}),$e(i)!=="svelte-1wnxvdx"&&(i.innerHTML=l),s=N(p),o=y(p,"P",{"data-svelte-h":!0}),$e(o)!=="svelte-b7czmg"&&(o.textContent=a),f=N(p),u=y(p,"P",{class:!0});var $=z(u);I(c.$$.fragment,$),$.forEach(d),p.forEach(d),this.h()},h(){D(u,"class","more-space svelte-14tpsu8"),D(t,"class","center more-space svelte-14tpsu8")},m(_,p){b(_,e,p),b(_,n,p),b(_,t,p),E(t,i),E(t,s),E(t,o),E(t,f),E(t,u),C(c,u,null),m=!0},i(_){m||(h(c.$$.fragment,_),m=!0)},o(_){g(c.$$.fragment,_),m=!1},d(_){_&&(d(e),d(n),d(t)),S(c)}}}function Vm(r){let e;return{c(){e=B("Recover Trainers")},l(n){e=O(n,"Recover Trainers")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Om(r){let e,n,t,i="Here, you can manage trainers and their pokemon for your campaign!",l,s,o="Create a trainer to get started:",a,f,u,c,m;u=new Pe({props:{href:ve.trainers(void 0,void 0,ze.newTrainer),$$slots:{default:[Mm]},$$scope:{ctx:r}}});let _=r[0]&&er(r);return{c(){e=T("div"),n=T("section"),t=T("p"),t.textContent=i,l=F(),s=T("p"),s.textContent=o,a=F(),f=T("p"),A(u.$$.fragment),c=F(),_&&_.c(),this.h()},l(p){e=y(p,"DIV",{class:!0});var $=z(e);n=y($,"SECTION",{class:!0});var k=z(n);t=y(k,"P",{"data-svelte-h":!0}),$e(t)!=="svelte-j1q6qh"&&(t.textContent=i),l=N(k),s=y(k,"P",{"data-svelte-h":!0}),$e(s)!=="svelte-uodcok"&&(s.textContent=o),a=N(k),f=y(k,"P",{class:!0});var v=z(f);I(u.$$.fragment,v),v.forEach(d),k.forEach(d),c=N($),_&&_.l($),$.forEach(d),this.h()},h(){D(f,"class","larger more-space svelte-14tpsu8"),D(n,"class","larger center more-space svelte-14tpsu8"),D(e,"class","scrollable svelte-14tpsu8")},m(p,$){b(p,e,$),E(e,n),E(n,t),E(n,l),E(n,s),E(n,a),E(n,f),C(u,f,null),E(e,c),_&&_.m(e,null),m=!0},p(p,[$]){const k={};$&4&&(k.$$scope={dirty:$,ctx:p}),u.$set(k),p[0]?_?$&1&&h(_,1):(_=er(p),_.c(),h(_,1),_.m(e,null)):_&&(me(),g(_,1,1,()=>{_=null}),de())},i(p){m||(h(u.$$.fragment,p),h(_),m=!0)},o(p){g(u.$$.fragment,p),g(_),m=!1},d(p){p&&d(e),S(u),_&&_.d()}}}function Bm(r,e,n){let t,i;return Ve(r,aa,l=>n(1,i=l)),r.$$.update=()=>{r.$$.dirty&2&&n(0,t=window.location.origin===Rm&&(i==="done"||i==="failed"))},[t,i]}class qm extends se{constructor(e){super(),ae(this,e,Bm,Om,oe,{})}}function Km(r){let e,n;return{c(){e=T("a"),n=B("Find by trainer ID >"),this.h()},l(t){e=y(t,"A",{slot:!0,href:!0,class:!0});var i=z(e);n=O(i,"Find by trainer ID >"),i.forEach(d),this.h()},h(){D(e,"slot","link"),D(e,"href",ve.trainers(void 0,void 0,ze.findTrainer)),D(e,"class","dark-font svelte-1nzhjm0")},m(t,i){b(t,e,i),E(e,n)},p:Z,d(t){t&&d(e)}}}function Um(r){let e;return{c(){e=B("+ New Trainer")},l(n){e=O(n,"+ New Trainer")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function jm(r){let e,n;return e=new Pe({props:{slot:"action",href:ve.trainers(void 0,void 0,ze.newTrainer),$$slots:{default:[Um]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4096&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Gm(r){let e,n,t;function i(s){r[9](s)}let l={items:r[4],headers:[{key:"name",name:"Name",ratio:1,sort:r[7](Xm)}],$$slots:{default:[Zm,({item:s,cellVisibility:o})=>({10:s,11:o}),({item:s,cellVisibility:o})=>(s?1024:0)|(o?2048:0)]},$$scope:{ctx:r}};return r[6]!==void 0&&(l.currentSorter=r[6]),e=new sa({props:l}),ne.push(()=>ie(e,"currentSorter",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&16&&(a.items=s[4]),o&7168&&(a.$$scope={dirty:o,ctx:s}),!n&&o&64&&(n=!0,a.currentSorter=s[6],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ym(r){let e,n,t=r[1]&&tr();return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,l){t&&t.m(i,l),b(i,e,l),n=!0},p(i,l){i[1]?t?l&2&&h(t,1):(t=tr(),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Wm(r){let e,n=r[10].name+"",t,i;return{c(){e=T("a"),t=B(n),this.h()},l(l){e=y(l,"A",{href:!0});var s=z(e);t=O(s,n),s.forEach(d),this.h()},h(){D(e,"href",i=ve.trainers(r[10].readKey))},m(l,s){b(l,e,s),E(e,t)},p(l,s){s&1024&&n!==(n=l[10].name+"")&&fe(t,n),s&1024&&i!==(i=ve.trainers(l[10].readKey))&&D(e,"href",i)},d(l){l&&d(e)}}}function Qm(r){let e,n;return e=new es.Cell({props:{cellVisibility:r[11][0],primary:!0,$$slots:{default:[Wm]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2048&&(l.cellVisibility=t[11][0]),i&5120&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Zm(r){let e,n;return e=new es.Row({props:{interactive:!0,mainBg:"var(--skin-bg-dark)",$$slots:{default:[Qm]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&7168&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tr(r){let e,n;return e=new qm({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Jm(r){let e,n,t,i,l,s,o,a,f,u;e=new Dr({props:{title:"Trainer List",target:"/trainers",$$slots:{action:[jm],link:[Km]},$$scope:{ctx:r}}});function c(k){r[8](k)}let m={id:"filter-pokemon",label:"Search",matched:r[4].length,max:r[3].length};r[2]!==void 0&&(m.value=r[2]),i=new Xr({props:m}),ne.push(()=>ie(i,"value",c));const _=[Ym,Gm],p=[];function $(k,v){return k[5]?0:1}return o=$(r),a=p[o]=_[o](r),{c(){A(e.$$.fragment),n=F(),t=T("div"),A(i.$$.fragment),s=F(),a.c(),f=J(),this.h()},l(k){I(e.$$.fragment,k),n=N(k),t=y(k,"DIV",{class:!0});var v=z(t);I(i.$$.fragment,v),v.forEach(d),s=N(k),a.l(k),f=J(),this.h()},h(){D(t,"class","space-bottom svelte-1nzhjm0")},m(k,v){C(e,k,v),b(k,n,v),b(k,t,v),C(i,t,null),b(k,s,v),p[o].m(k,v),b(k,f,v),u=!0},p(k,[v]){const w={};v&4096&&(w.$$scope={dirty:v,ctx:k}),e.$set(w);const P={};v&16&&(P.matched=k[4].length),v&8&&(P.max=k[3].length),!l&&v&4&&(l=!0,P.value=k[2],le(()=>l=!1)),i.$set(P);let H=o;o=$(k),o===H?p[o].p(k,v):(me(),g(p[H],1,1,()=>{p[H]=null}),de(),a=p[o],a?a.p(k,v):(a=p[o]=_[o](k),a.c()),h(a,1),a.m(f.parentNode,f))},i(k){u||(h(e.$$.fragment,k),h(i.$$.fragment,k),h(a),u=!0)},o(k){g(e.$$.fragment,k),g(i.$$.fragment,k),g(a),u=!1},d(k){k&&(d(n),d(t),d(s),d(f)),S(e,k),S(i),p[o].d(k)}}}const Xm=r=>r.name;function xm(r,e,n){let t,i,l,s,o=Z,a=()=>(o(),o=Xe(u,$=>n(3,s=$)),u),f;Ve(r,bi,$=>n(2,l=$)),Ve(r,ki,$=>n(6,f=$)),r.$$.on_destroy.push(()=>o());let{trainers:u}=e;a();let{showGetStarted:c=!1}=e;const m=$=>(k,v)=>$(k).localeCompare($(v));function _($){l=$,bi.set(l)}function p($){f=$,ki.set(f)}return r.$$set=$=>{"trainers"in $&&a(n(0,u=$.trainers)),"showGetStarted"in $&&n(1,c=$.showGetStarted)},r.$$.update=()=>{r.$$.dirty&8&&n(5,t=s.length===0),r.$$.dirty&12&&n(4,i=s.filter($=>$.name.toLocaleLowerCase().includes(l.toLocaleLowerCase())))},[u,c,l,s,i,t,f,m,_,p]}class ed extends se{constructor(e){super(),ae(this,e,xm,Jm,oe,{trainers:0,showGetStarted:1})}}function td(r){let e,n,t,i,l,s;function o(c){r[6](c)}let a={label:"Name",disabled:r[3],required:!0};r[1]!==void 0&&(a.value=r[1]),e=new ft({props:a}),ne.push(()=>ie(e,"value",o));function f(c){r[7](c)}let u={label:"Description",rows:6,disabled:r[3]};return r[2]!==void 0&&(u.value=r[2]),i=new bt({props:u}),ne.push(()=>ie(i,"value",f)),{c(){A(e.$$.fragment),t=F(),A(i.$$.fragment)},l(c){I(e.$$.fragment,c),t=N(c),I(i.$$.fragment,c)},m(c,m){C(e,c,m),b(c,t,m),C(i,c,m),s=!0},p(c,m){const _={};m&8&&(_.disabled=c[3]),!n&&m&2&&(n=!0,_.value=c[1],le(()=>n=!1)),e.$set(_);const p={};m&8&&(p.disabled=c[3]),!l&&m&4&&(l=!0,p.value=c[2],le(()=>l=!1)),i.$set(p)},i(c){s||(h(e.$$.fragment,c),h(i.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),g(i.$$.fragment,c),s=!1},d(c){c&&d(t),S(e,c),S(i,c)}}}function nd(r){let e;return{c(){e=B("Once your trainer is created, you will be able to edit their stats, Pokémon, and inventory!")},l(n){e=O(n,"Once your trainer is created, you will be able to edit their stats, Pokémon, and inventory!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function id(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function ld(r){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function rd(r){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:r[3],$$slots:{default:[id]},$$scope:{ctx:r}}}),e.$on("click",r[5]),t=new Pe({props:{type:"submit",disabled:r[3],$$slots:{default:[ld]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s&8&&(o.disabled=l[3]),s&256&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&8&&(a.disabled=l[3]),s&256&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function sd(r){let e,n,t,i,l,s;return e=new Ze({props:{title:"Basic Info",$$slots:{default:[td]},$$scope:{ctx:r}}}),t=new Un({props:{$$slots:{default:[nd]},$$scope:{ctx:r}}}),l=new Qe({props:{$$slots:{default:[rd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment),i=F(),A(l.$$.fragment)},l(o){I(e.$$.fragment,o),n=N(o),I(t.$$.fragment,o),i=N(o),I(l.$$.fragment,o)},m(o,a){C(e,o,a),b(o,n,a),C(t,o,a),b(o,i,a),C(l,o,a),s=!0},p(o,a){const f={};a&270&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&256&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a&264&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){s||(h(e.$$.fragment,o),h(t.$$.fragment,o),h(l.$$.fragment,o),s=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),g(l.$$.fragment,o),s=!1},d(o){o&&(d(n),d(i)),S(e,o),S(t,o),S(l,o)}}}function ad(r){let e,n;return e=new Ot({props:{onsubmit:r[4],saving:r[0],$$slots:{default:[sd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&1&&(l.saving=t[0]),i&270&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function od(r){let e,n,t,i;return e=new rt({props:{value:"Create Trainer"}}),t=new it({props:{title:"Create a New Trainer",$$slots:{default:[ad]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&271&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function fd(r,e,n){let t,i="",l="",s=!1;const o=()=>{n(0,s=!0),wn.new({name:i,description:l}).then(({info:c})=>{xe(ve.trainers(c.readKey))}).catch(()=>{n(0,s=!1)})},a=()=>{xe(ve.trainers())};function f(c){i=c,n(1,i)}function u(c){l=c,n(2,l)}return r.$$.update=()=>{r.$$.dirty&1&&n(3,t=s)},[s,i,l,t,o,a,f,u]}class ud extends se{constructor(e){super(),ae(this,e,fd,od,oe,{})}}function cd(r){let e,n,t="You do not have permission to remove this pokemon.",i,l,s;return l=new Qe({props:{$$slots:{default:[_d]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-tjgn9a"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&276&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function md(r){let e,n;return e=new tn({props:{saving:r[3],$$slots:{default:[gd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.saving=t[3]),i&404&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function dd(r){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function _d(r){let e,n;return e=new Pe({props:{href:ve.trainers(r[2].info.readKey,r[4].id),$$slots:{default:[dd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&20&&(l.href=ve.trainers(t[2].info.readKey,t[4].id)),i&256&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function nr(r){let e,n,t;return n=new Kn({props:{media:r[7].media,alt:r[7].data.name}}),{c(){e=T("p"),A(n.$$.fragment),this.h()},l(i){e=y(i,"P",{class:!0});var l=z(e);I(n.$$.fragment,l),l.forEach(d),this.h()},h(){D(e,"class","centered greyscale svelte-li4qwo")},m(i,l){b(i,e,l),C(n,e,null),t=!0},p(i,l){const s={};l&128&&(s.media=i[7].media),l&128&&(s.alt=i[7].data.name),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function pd(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function $d(r){let e;return{c(){e=B("Delete")},l(n){e=O(n,"Delete")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function hd(r){let e,n,t,i;return e=new Pe({props:{href:ve.trainers(r[2].info.readKey,r[4].id),variant:"ghost",$$slots:{default:[pd]},$$scope:{ctx:r}}}),t=new Pe({props:{variant:"danger",$$slots:{default:[$d]},$$scope:{ctx:r}}}),t.$on("click",r[6]),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s&20&&(o.href=ve.trainers(l[2].info.readKey,l[4].id)),s&256&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&256&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function gd(r){var w;let e,n,t,i=r[4].nickname+"",l,s,o=r[2].info.name+"",a,f,u,c,m="Removal is permanent and cannot be undone!",_,p,$,k,v=((w=r[7].media)==null?void 0:w.data.values.normalPortrait)&&nr(r);return $=new Qe({props:{$$slots:{default:[hd]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to remove "),l=B(i),s=B(" from "),a=B(o),f=B("'s team?"),u=F(),c=T("p"),c.textContent=m,_=F(),v&&v.c(),p=F(),A($.$$.fragment)},l(P){e=y(P,"SECTION",{});var H=z(e);n=y(H,"P",{});var L=z(n);t=O(L,"Are you sure you want to remove "),l=O(L,i),s=O(L," from "),a=O(L,o),f=O(L,"'s team?"),L.forEach(d),u=N(H),c=y(H,"P",{"data-svelte-h":!0}),$e(c)!=="svelte-raeweb"&&(c.textContent=m),_=N(H),v&&v.l(H),p=N(H),I($.$$.fragment,H),H.forEach(d)},m(P,H){b(P,e,H),E(e,n),E(n,t),E(n,l),E(n,s),E(n,a),E(n,f),E(e,u),E(e,c),E(e,_),v&&v.m(e,null),E(e,p),C($,e,null),k=!0},p(P,H){var M;(!k||H&16)&&i!==(i=P[4].nickname+"")&&fe(l,i),(!k||H&4)&&o!==(o=P[2].info.name+"")&&fe(a,o),(M=P[7].media)!=null&&M.data.values.normalPortrait?v?(v.p(P,H),H&128&&h(v,1)):(v=nr(P),v.c(),h(v,1),v.m(e,p)):v&&(me(),g(v,1,1,()=>{v=null}),de());const L={};H&276&&(L.$$scope={dirty:H,ctx:P}),$.$set(L)},i(P){k||(h(v),h($.$$.fragment,P),k=!0)},o(P){g(v),g($.$$.fragment,P),k=!1},d(P){P&&d(e),v&&v.d(),S($)}}}function vd(r){let e,n,t,i;const l=[md,cd],s=[];function o(a,f){return a[5]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function bd(r){let e,n;return e=new it({props:{title:"Remove "+r[4].nickname+"?",$$slots:{default:[vd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.title="Remove "+t[4].nickname+"?"),i&444&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function kd(r){var t;let e,n;return e=new Pt({props:{ids:[(t=r[4])==null?void 0:t.pokemonId],$$slots:{default:[bd,({species:i})=>({7:i}),({species:i})=>i?128:0]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,l){C(e,i,l),n=!0},p(i,l){var o;const s={};l&16&&(s.ids=[(o=i[4])==null?void 0:o.pokemonId]),l&444&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function wd(r){let e,n;return e=new sn({props:{trainer:r[2],id:r[1],titlePrefix:"Remove",$$slots:{default:[kd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&4&&(l.trainer=t[2]),i&2&&(l.id=t[1]),i&316&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ed(r,e,n){let t,i,l,s=Z,o=()=>(s(),s=Xe(a,m=>n(2,l=m)),a);r.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let{id:f}=e,u=!1;const c=()=>{var m;n(3,u=!0),(m=l.update)==null||m.removeFromTeam(f).then(()=>{xe(ve.trainers(l.info.readKey))}).catch(()=>{n(3,u=!1)})};return r.$$set=m=>{"trainer"in m&&o(n(0,a=m.trainer)),"id"in m&&n(1,f=m.id)},r.$$.update=()=>{r.$$.dirty&4&&n(5,t=l.update!=null),r.$$.dirty&6&&n(4,i=l.pokemon.find(m=>m.id===f))},[a,f,l,u,i,t,c]}class Sd extends se{constructor(e){super(),ae(this,e,Ed,wd,oe,{trainer:0,id:1})}}function Cd(r){let e,n,t,i,l,s,o,a,f,u,c,m,_,p,$,k,v,w,P,H,L,M,R,q,Y,K,W,U,V,x,G,X;function re(_e){r[14](_e)}let ue={label:"Nickname",disabled:r[11]};r[0]!==void 0&&(ue.value=r[0]),t=new ft({props:ue}),ne.push(()=>ie(t,"value",re));function ke(_e){r[15](_e)}let te={label:"Tera",options:r[13],disabled:r[11]};r[2].data!==void 0&&(te.value=r[2].data),o=new $t({props:te}),ne.push(()=>ie(o,"value",ke));function ce(_e){r[16](_e)}let Fe={disabled:r[11]};r[1]!==void 0&&(Fe.value=r[1]),c=new bm({props:Fe}),ne.push(()=>ie(c,"value",ce)),p=new nt({props:{label:"Level",value:r[3],min:1,max:20,disabled:r[11]}}),p.$on("change",r[12]);function Te(_e){r[17](_e)}let pe={label:"AC",min:0,max:99,disabled:r[11]};r[4]!==void 0&&(pe.value=r[4]),k=new nt({props:pe}),ne.push(()=>ie(k,"value",Te));function he(_e){r[18](_e)}let ye={label:"Max HP",min:0,disabled:r[11]};r[5]!==void 0&&(ye.value=r[5]),P=new nt({props:ye}),ne.push(()=>ie(P,"value",he));function Ce(_e){r[19](_e)}let ee={label:"Max Hit Dice",min:0,max:20,disabled:r[11]};r[6]!==void 0&&(ee.value=r[6]),M=new nt({props:ee}),ne.push(()=>ie(M,"value",Ce));function we(_e){r[20](_e)}let Ie={label:"Shiny",disabled:r[11]};r[7]!==void 0&&(Ie.value=r[7]),Y=new fa({props:Ie}),ne.push(()=>ie(Y,"value",we));function Le(_e){r[21](_e)}function Re(_e){r[22](_e)}let qe={label:"Custom Image",previousValue:r[10],maxbytes:Id,disabled:r[11]};return r[8]!==void 0&&(qe.currentValue=r[8]),r[9]!==void 0&&(qe.isValid=r[9]),V=new Nr({props:qe}),ne.push(()=>ie(V,"currentValue",Le)),ne.push(()=>ie(V,"isValid",Re)),{c(){e=T("div"),n=T("div"),A(t.$$.fragment),l=F(),s=T("div"),A(o.$$.fragment),f=F(),u=T("div"),A(c.$$.fragment),_=F(),A(p.$$.fragment),$=F(),A(k.$$.fragment),w=F(),A(P.$$.fragment),L=F(),A(M.$$.fragment),q=F(),A(Y.$$.fragment),W=F(),U=T("div"),A(V.$$.fragment),this.h()},l(_e){e=y(_e,"DIV",{class:!0});var Se=z(e);n=y(Se,"DIV",{});var Oe=z(n);I(t.$$.fragment,Oe),Oe.forEach(d),l=N(Se),s=y(Se,"DIV",{});var Ke=z(s);I(o.$$.fragment,Ke),Ke.forEach(d),f=N(Se),u=y(Se,"DIV",{});var Je=z(u);I(c.$$.fragment,Je),Je.forEach(d),_=N(Se),I(p.$$.fragment,Se),$=N(Se),I(k.$$.fragment,Se),w=N(Se),I(P.$$.fragment,Se),L=N(Se),I(M.$$.fragment,Se),q=N(Se),I(Y.$$.fragment,Se),W=N(Se),U=y(Se,"DIV",{class:!0});var Me=z(U);I(V.$$.fragment,Me),Me.forEach(d),Se.forEach(d),this.h()},h(){Ee(n,"grid-area","field1"),Ee(s,"grid-area","field2"),Ee(u,"grid-area","field3"),D(U,"class","image-field svelte-1oudq7k"),Ee(U,"grid-area","avatar"),D(e,"class","grid svelte-1oudq7k")},m(_e,Se){b(_e,e,Se),E(e,n),C(t,n,null),E(e,l),E(e,s),C(o,s,null),E(e,f),E(e,u),C(c,u,null),E(e,_),C(p,e,null),E(e,$),C(k,e,null),E(e,w),C(P,e,null),E(e,L),C(M,e,null),E(e,q),C(Y,e,null),E(e,W),E(e,U),C(V,U,null),X=!0},p(_e,Se){const Oe={};Se&2048&&(Oe.disabled=_e[11]),!i&&Se&1&&(i=!0,Oe.value=_e[0],le(()=>i=!1)),t.$set(Oe);const Ke={};Se&2048&&(Ke.disabled=_e[11]),!a&&Se&4&&(a=!0,Ke.value=_e[2].data,le(()=>a=!1)),o.$set(Ke);const Je={};Se&2048&&(Je.disabled=_e[11]),!m&&Se&2&&(m=!0,Je.value=_e[1],le(()=>m=!1)),c.$set(Je);const Me={};Se&8&&(Me.value=_e[3]),Se&2048&&(Me.disabled=_e[11]),p.$set(Me);const We={};Se&2048&&(We.disabled=_e[11]),!v&&Se&16&&(v=!0,We.value=_e[4],le(()=>v=!1)),k.$set(We);const dt={};Se&2048&&(dt.disabled=_e[11]),!H&&Se&32&&(H=!0,dt.value=_e[5],le(()=>H=!1)),P.$set(dt);const ut={};Se&2048&&(ut.disabled=_e[11]),!R&&Se&64&&(R=!0,ut.value=_e[6],le(()=>R=!1)),M.$set(ut);const _t={};Se&2048&&(_t.disabled=_e[11]),!K&&Se&128&&(K=!0,_t.value=_e[7],le(()=>K=!1)),Y.$set(_t);const lt={};Se&1024&&(lt.previousValue=_e[10]),Se&2048&&(lt.disabled=_e[11]),!x&&Se&256&&(x=!0,lt.currentValue=_e[8],le(()=>x=!1)),!G&&Se&512&&(G=!0,lt.isValid=_e[9],le(()=>G=!1)),V.$set(lt)},i(_e){X||(h(t.$$.fragment,_e),h(o.$$.fragment,_e),h(c.$$.fragment,_e),h(p.$$.fragment,_e),h(k.$$.fragment,_e),h(P.$$.fragment,_e),h(M.$$.fragment,_e),h(Y.$$.fragment,_e),h(V.$$.fragment,_e),X=!0)},o(_e){g(t.$$.fragment,_e),g(o.$$.fragment,_e),g(c.$$.fragment,_e),g(p.$$.fragment,_e),g(k.$$.fragment,_e),g(P.$$.fragment,_e),g(M.$$.fragment,_e),g(Y.$$.fragment,_e),g(V.$$.fragment,_e),X=!1},d(_e){_e&&d(e),S(t),S(o),S(c),S(p),S(k),S(P),S(M),S(Y),S(V)}}}function Ad(r){let e,n;return e=new Ze({props:{title:"Basic Info",$$slots:{default:[Cd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&8392703&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const Id=524288;function yd(r,e,n){let{nickname:t}=e,{nature:i}=e,{tera:l}=e,{level:s}=e,{ac:o}=e,{maxHp:a}=e,{maxHitDice:f}=e,{isShiny:u}=e,{originalAvatarSrc:c}=e,{avatar:m}=e,{isValid:_=!0}=e,{disabled:p=!1}=e;const $=K=>{s===f&&n(6,f=K.detail.value),n(3,s=K.detail.value)},k=yt.list.map(K=>({name:K,value:K}));function v(K){t=K,n(0,t)}function w(K){r.$$.not_equal(l.data,K)&&(l.data=K,n(2,l))}function P(K){i=K,n(1,i)}function H(K){o=K,n(4,o)}function L(K){a=K,n(5,a)}function M(K){f=K,n(6,f)}function R(K){u=K,n(7,u)}function q(K){m=K,n(8,m)}function Y(K){_=K,n(9,_)}return r.$$set=K=>{"nickname"in K&&n(0,t=K.nickname),"nature"in K&&n(1,i=K.nature),"tera"in K&&n(2,l=K.tera),"level"in K&&n(3,s=K.level),"ac"in K&&n(4,o=K.ac),"maxHp"in K&&n(5,a=K.maxHp),"maxHitDice"in K&&n(6,f=K.maxHitDice),"isShiny"in K&&n(7,u=K.isShiny),"originalAvatarSrc"in K&&n(10,c=K.originalAvatarSrc),"avatar"in K&&n(8,m=K.avatar),"isValid"in K&&n(9,_=K.isValid),"disabled"in K&&n(11,p=K.disabled)},[t,i,l,s,o,a,f,u,m,_,c,p,$,k,v,w,P,H,L,M,R,q,Y]}let Td=class extends se{constructor(e){super(),ae(this,e,yd,Ad,oe,{nickname:0,nature:1,tera:2,level:3,ac:4,maxHp:5,maxHitDice:6,isShiny:7,originalAvatarSrc:10,avatar:8,isValid:9,disabled:11})}};function Pd(r){let e,n,t;function i(s){r[7](s)}let l={label:"Ability",options:r[2],disabled:r[1]};return r[0]!==void 0&&(l.value=r[0]),e=new $t({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.options=s[2]),o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.value=s[0],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Dd(r){let e,n;return e=new Ze({props:{title:"Ability",$$slots:{default:[Pd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&519&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const Nd="";function Fd(r,e,n){let t,i,l,s;Ve(r,Mr,m=>n(6,s=m));const o={name:"- None -",value:Nd};let{ability:a}=e,{species:f}=e,{disabled:u}=e;function c(m){a=m,n(0,a)}return r.$$set=m=>{"ability"in m&&n(0,a=m.ability),"species"in m&&n(3,f=m.species),"disabled"in m&&n(1,u=m.disabled)},r.$$.update=()=>{r.$$.dirty&8&&n(5,t=f.abilities.toList().map(m=>m.id)),r.$$.dirty&96&&n(4,i=s==null?void 0:s.filter(m=>!t.includes(m.id))),r.$$.dirty&88&&n(2,l=[{name:"Learnable Abilities",values:f.abilities.toList().map(m=>{const _=s==null?void 0:s.find(p=>p.id===m.id);return{name:(_==null?void 0:_.name)+(m.hidden?" (hidden)":""),value:m.id,deprecated:(_==null?void 0:_.deprecated)??!1}})},{name:"All Other Abilities",values:[o].concat(i.map(m=>({name:m.name,value:m.id,deprecated:m.deprecated??!1})))}])},[a,u,l,f,i,t,s,c]}class Hd extends se{constructor(e){super(),ae(this,e,Fd,Dd,oe,{ability:0,species:3,disabled:1})}}function zd(r){let e,n,t;function i(s){r[4](s)}let l={disabled:r[1],newStandardItem:r[2],newCustomItem:r[3],groupOrder:["berry","held item","evolution","medicine","pokeball"]};return r[0]!==void 0&&(l.values=r[0]),e=new as({props:l}),ne.push(()=>ie(e,"values",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.values=s[0],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ld(r){let e,n;return e=new Ze({props:{title:"Inventory",$$slots:{default:[zd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&35&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Rd(r,e,n){let{items:t}=e,{disabled:i}=e;const l=a=>({id:a,type:"standard",itemId:"lum-berry"}),s=a=>({id:a,type:"custom",name:"",description:""});function o(a){t=a,n(0,t)}return r.$$set=a=>{"items"in a&&n(0,t=a.items),"disabled"in a&&n(1,i=a.disabled)},[t,i,l,s,o]}class Md extends se{constructor(e){super(),ae(this,e,Rd,Ld,oe,{items:0,disabled:1})}}const cn=(r,e)=>r.localeCompare(e),Yt=r=>({name:r,moves:[]});class si{constructor(e){this.groups=e}nonemptyGroups(){return this.groups.filter(e=>e.moves.length>0)}static groupMoves(e,n,t){var k,v;const i=e.filter(w=>w.isTm()),l=(w,P,H)=>w>=P?H??[]:[],s=(w,P,H)=>w<P?H??[]:[],o=n.moves.data.start.concat(l(t.data,2,n.moves.data.level2),l(t.data,6,n.moves.data.level6),l(t.data,10,n.moves.data.level10),l(t.data,14,n.moves.data.level14),l(t.data,18,n.moves.data.level18)).toSorted(cn),a=[].concat(s(t.data,2,n.moves.data.level2),s(t.data,6,n.moves.data.level6),s(t.data,10,n.moves.data.level10),s(t.data,14,n.moves.data.level14),s(t.data,18,n.moves.data.level18)).toSorted(cn),f=((k=n.moves.data.tm)==null?void 0:k.map(w=>i.find(P=>P.tm.id===w)).map(w=>w==null?void 0:w.id).filter(w=>w!=null).toSorted(cn))??[],u=((v=n.moves.data.egg)==null?void 0:v.toSorted(cn))??[],c=Yt("Learnable at Current Level"),m=Yt("Learnable at Later Levels"),_=Yt("TMs"),p=Yt("Egg Moves"),$=Yt("All Other Moves");return e.forEach(w=>{const P=[];o.includes(w.id)&&P.push(c),a.includes(w.id)&&P.push(m),f.includes(w.id)&&P.push(_),u.includes(w.id)&&P.push(p),P.forEach(H=>H.moves.push(w)),P.length===0&&$.moves.push(w)}),new si([c,m,_,p,$])}}function Vd(r){let e,n,t;function i(s){r[9](s)}let l={label:"Move",name:r[2],options:r[3],disabled:r[1]};return r[0].moveId!==void 0&&(l.value=r[0].moveId),e=new $t({props:l}),ne.push(()=>ie(e,"value",i)),e.$on("change",r[4]),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.name=s[2]),o&8&&(a.options=s[3]),o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.value=s[0].moveId,le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Od(r){let e,n,t,i,l,s,o,a,f;n=new Sn({props:{$$slots:{default:[Vd]},$$scope:{ctx:r}}}),n.$on("remove",r[10]);function u(p){r[11](p)}let c={label:"Max PP",name:"move-pp-"+r[0].id,disabled:r[1]};r[0].pp.max!==void 0&&(c.value=r[0].pp.max),i=new nt({props:c}),ne.push(()=>ie(i,"value",u));function m(p){r[12](p)}let _={label:"Notes",name:"move-notes-"+r[0].id,disabled:r[1]};return r[0].notes!==void 0&&(_.value=r[0].notes),o=new bt({props:_}),ne.push(()=>ie(o,"value",m)),{c(){e=T("div"),A(n.$$.fragment),t=F(),A(i.$$.fragment),s=F(),A(o.$$.fragment),this.h()},l(p){e=y(p,"DIV",{class:!0});var $=z(e);I(n.$$.fragment,$),t=N($),I(i.$$.fragment,$),s=N($),I(o.$$.fragment,$),$.forEach(d),this.h()},h(){D(e,"class","move-editor svelte-k0a7do")},m(p,$){b(p,e,$),C(n,e,null),E(e,t),C(i,e,null),E(e,s),C(o,e,null),f=!0},p(p,[$]){const k={};$&8207&&(k.$$scope={dirty:$,ctx:p}),n.$set(k);const v={};$&1&&(v.name="move-pp-"+p[0].id),$&2&&(v.disabled=p[1]),!l&&$&1&&(l=!0,v.value=p[0].pp.max,le(()=>l=!1)),i.$set(v);const w={};$&1&&(w.name="move-notes-"+p[0].id),$&2&&(w.disabled=p[1]),!a&&$&1&&(a=!0,w.value=p[0].notes,le(()=>a=!1)),o.$set(w)},i(p){f||(h(n.$$.fragment,p),h(i.$$.fragment,p),h(o.$$.fragment,p),f=!0)},o(p){g(n.$$.fragment,p),g(i.$$.fragment,p),g(o.$$.fragment,p),f=!1},d(p){p&&d(e),S(n),S(i),S(o)}}}const ks=r=>`move-id-${r}`;function Bd(r,e,n){let t,i,l,s;Ve(r,Gn,k=>n(8,s=k));let{value:o}=e,{species:a}=e,{level:f}=e,{disabled:u=!1}=e;const c=()=>{var v;const k=((v=s.find(w=>w.id===o.moveId))==null?void 0:v.pp)??0;n(0,o.pp.current=k,o),n(0,o.pp.max=k,o)};function m(k){r.$$.not_equal(o.moveId,k)&&(o.moveId=k,n(0,o))}function _(k){$n.call(this,r,k)}function p(k){r.$$.not_equal(o.pp.max,k)&&(o.pp.max=k,n(0,o))}function $(k){r.$$.not_equal(o.notes,k)&&(o.notes=k,n(0,o))}return r.$$set=k=>{"value"in k&&n(0,o=k.value),"species"in k&&n(5,a=k.species),"level"in k&&n(6,f=k.level),"disabled"in k&&n(1,u=k.disabled)},r.$$.update=()=>{r.$$.dirty&352&&n(7,t=si.groupMoves(s??[],a,f)),r.$$.dirty&128&&n(3,i=t.nonemptyGroups().map(k=>({name:k.name,values:k.moves.map(v=>({name:v.name,value:v.id}))}))),r.$$.dirty&1&&n(2,l=ks(o.id))},[o,u,l,i,c,a,f,t,s,m,_,p,$]}class qd extends se{constructor(e){super(),ae(this,e,Bd,Od,oe,{value:0,species:5,level:6,disabled:1})}}function ir(r,e,n){const t=r.slice();return t[9]=e[n],t}function lr(r,e){let n,t,i,l,s;return t=new qd({props:{value:e[9],species:e[1],disabled:e[3],level:e[2]}}),t.$on("remove",function(){Vt(e[4](e[9].id))&&e[4](e[9].id).apply(this,arguments)}),{key:r,first:null,c(){n=J(),A(t.$$.fragment),i=F(),l=T("hr"),this.h()},l(o){n=J(),I(t.$$.fragment,o),i=N(o),l=y(o,"HR",{class:!0}),this.h()},h(){D(l,"class","svelte-bk1q1p"),this.first=n},m(o,a){b(o,n,a),C(t,o,a),b(o,i,a),b(o,l,a),s=!0},p(o,a){e=o;const f={};a&1&&(f.value=e[9]),a&2&&(f.species=e[1]),a&8&&(f.disabled=e[3]),a&4&&(f.level=e[2]),t.$set(f)},i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(n),d(i),d(l)),S(t,o)}}}function Kd(r){let e;return{c(){e=B("Add Move")},l(n){e=O(n,"Add Move")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Ud(r){let e=[],n=new Map,t,i,l,s=De(r[0]);const o=a=>a[9].id;for(let a=0;a<s.length;a+=1){let f=ir(r,s,a),u=o(f);n.set(u,e[a]=lr(u,f))}return i=new Pe({props:{$$slots:{default:[Kd]},$$scope:{ctx:r}}}),i.$on("click",r[5]),{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=F(),A(i.$$.fragment)},l(a){for(let f=0;f<e.length;f+=1)e[f].l(a);t=N(a),I(i.$$.fragment,a)},m(a,f){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,f);b(a,t,f),C(i,a,f),l=!0},p(a,f){f&31&&(s=De(a[0]),me(),e=nn(e,f,o,1,a,s,n,t.parentNode,ln,lr,t,ir),de());const u={};f&4096&&(u.$$scope={dirty:f,ctx:a}),i.$set(u)},i(a){if(!l){for(let f=0;f<s.length;f+=1)h(e[f]);h(i.$$.fragment,a),l=!0}},o(a){for(let f=0;f<e.length;f+=1)g(e[f]);g(i.$$.fragment,a),l=!1},d(a){a&&d(t);for(let f=0;f<e.length;f+=1)e[f].d(a);S(i,a)}}}function jd(r){let e,n;return e=new Ze({props:{title:"Moves",$$slots:{default:[Ud]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&4111&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Gd(r,e,n){let t;Ve(r,Gn,m=>n(7,t=m));let{values:i}=e,{species:l}=e,{level:s}=e,{disabled:o}=e,a=-1001;const f=()=>(--a).toString(),u=m=>()=>{n(0,i=i.filter(_=>_.id!==m))},c=()=>{var $,k,v,w,P,H,L;const m=((v=(k=($=l==null?void 0:l.moves)==null?void 0:$.data)==null?void 0:k.start)==null?void 0:v[0])??"tackle",_=((w=t==null?void 0:t.find(M=>M.id===m))==null?void 0:w.pp)??20,p=f();n(0,i=[...i,{id:p,moveId:((L=(H=(P=l==null?void 0:l.moves)==null?void 0:P.data)==null?void 0:H.start)==null?void 0:L[0])??"tackle",pp:{current:_,max:_},notes:""}]),Zt(ks(p))};return r.$$set=m=>{"values"in m&&n(0,i=m.values),"species"in m&&n(1,l=m.species),"level"in m&&n(2,s=m.level),"disabled"in m&&n(3,o=m.disabled)},[i,l,s,o,u,c]}class Yd extends se{constructor(e){super(),ae(this,e,Gd,jd,oe,{values:0,species:1,level:2,disabled:3})}}function Wd(r){let e,n,t,i,l,s;function o(c){r[5](c)}let a={label:"Size",options:r[3],disabled:r[2]};r[0]!==void 0&&(a.value=r[0]),e=new $t({props:a}),ne.push(()=>ie(e,"value",o));function f(c){r[6](c)}let u={label:"Hit Dice",options:r[4],disabled:r[2]};return r[1]!==void 0&&(u.value=r[1]),i=new $t({props:u}),ne.push(()=>ie(i,"value",f)),{c(){A(e.$$.fragment),t=F(),A(i.$$.fragment)},l(c){I(e.$$.fragment,c),t=N(c),I(i.$$.fragment,c)},m(c,m){C(e,c,m),b(c,t,m),C(i,c,m),s=!0},p(c,m){const _={};m&4&&(_.disabled=c[2]),!n&&m&1&&(n=!0,_.value=c[0],le(()=>n=!1)),e.$set(_);const p={};m&4&&(p.disabled=c[2]),!l&&m&2&&(l=!0,p.value=c[1],le(()=>l=!1)),i.$set(p)},i(c){s||(h(e.$$.fragment,c),h(i.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),g(i.$$.fragment,c),s=!1},d(c){c&&d(t),S(e,c),S(i,c)}}}function Qd(r){let e,n;return e=new Ze({props:{title:"Custom Basic Info",columns:2,$$slots:{default:[Wd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&135&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Zd(r,e,n){let{customSize:t}=e,{customHitDiceSize:i}=e,{disabled:l=!1}=e;const s=[{name:"— Default —",value:void 0}].concat(Object.values(Us).map(u=>({name:ts(u),value:u}))),o=[{name:"— Default —",value:void 0}].concat(Rt.list.map(u=>({name:u,value:u})));function a(u){t=u,n(0,t)}function f(u){i=u,n(1,i)}return r.$$set=u=>{"customSize"in u&&n(0,t=u.customSize),"customHitDiceSize"in u&&n(1,i=u.customHitDiceSize),"disabled"in u&&n(2,l=u.disabled)},[t,i,l,s,o,a,f]}class Jd extends se{constructor(e){super(),ae(this,e,Zd,Qd,oe,{customSize:0,customHitDiceSize:1,disabled:2})}}function Xd(r){let e,n,t,i,l;e=new is({props:{label:"Bond Level",min:-3,max:3,value:r[0].level,disabled:r[1]}}),e.$on("input",r[2]);function s(a){r[3](a)}let o={label:"Max Bond Points",min:0,disabled:r[1]};return r[0].points.max!==void 0&&(o.value=r[0].points.max),t=new nt({props:o}),ne.push(()=>ie(t,"value",s)),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(a){I(e.$$.fragment,a),n=N(a),I(t.$$.fragment,a)},m(a,f){C(e,a,f),b(a,n,f),C(t,a,f),l=!0},p(a,f){const u={};f&1&&(u.value=a[0].level),f&2&&(u.disabled=a[1]),e.$set(u);const c={};f&2&&(c.disabled=a[1]),!i&&f&1&&(i=!0,c.value=a[0].points.max,le(()=>i=!1)),t.$set(c)},i(a){l||(h(e.$$.fragment,a),h(t.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),l=!1},d(a){a&&d(n),S(e,a),S(t,a)}}}function xd(r){let e,n;return e=new Ze({props:{title:"Bond",columns:2,$$slots:{default:[Xd]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&19&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function e_(r,e,n){let{value:t}=e,{disabled:i=!1}=e;const l=o=>{Math.max(0,t.level)===t.points.max&&n(0,t.points.max=Math.max(0,o.detail.value),t),n(0,t.level=o.detail.value,t)};function s(o){r.$$.not_equal(t.points.max,o)&&(t.points.max=o,n(0,t))}return r.$$set=o=>{"value"in o&&n(0,t=o.value),"disabled"in o&&n(1,i=o.disabled)},[t,i,l,s]}class t_ extends se{constructor(e){super(),ae(this,e,e_,xd,oe,{value:0,disabled:1})}}function n_(r){let e,n,t;function i(s){r[52](s)}let l={label:"Notes",placeholder:"Use this for any general notes not covered by the above fields...",disabled:r[27]};return r[14]!==void 0&&(l.value=r[14]),e=new bt({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o[0]&134217728&&(a.disabled=s[27]),!n&&o[0]&16384&&(n=!0,a.value=s[14],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function i_(r){let e,n,t,i,l,s,o,a,f,u,c,m,_;function p(R){r[53](R)}let $={disabled:r[27]};r[15].data!==void 0&&($.value=r[15].data),e=new Ns({props:$}),ne.push(()=>ie(e,"value",p));function k(R){r[54](R)}function v(R){r[55](R)}let w={disabled:r[27]};r[18]!==void 0&&(w.customSize=r[18]),r[19]!==void 0&&(w.customHitDiceSize=r[19]),i=new Jd({props:w}),ne.push(()=>ie(i,"customSize",k)),ne.push(()=>ie(i,"customHitDiceSize",v));function P(R){r[56](R)}let H={disabled:r[27]};r[20]!==void 0&&(H.values=r[20]),a=new Fs({props:H}),ne.push(()=>ie(a,"values",P));function L(R){r[57](R)}let M={disabled:r[27]};return r[21]!==void 0&&(M.values=r[21]),c=new Hs({props:M}),ne.push(()=>ie(c,"values",L)),{c(){A(e.$$.fragment),t=F(),A(i.$$.fragment),o=F(),A(a.$$.fragment),u=F(),A(c.$$.fragment)},l(R){I(e.$$.fragment,R),t=N(R),I(i.$$.fragment,R),o=N(R),I(a.$$.fragment,R),u=N(R),I(c.$$.fragment,R)},m(R,q){C(e,R,q),b(R,t,q),C(i,R,q),b(R,o,q),C(a,R,q),b(R,u,q),C(c,R,q),_=!0},p(R,q){const Y={};q[0]&134217728&&(Y.disabled=R[27]),!n&&q[0]&32768&&(n=!0,Y.value=R[15].data,le(()=>n=!1)),e.$set(Y);const K={};q[0]&134217728&&(K.disabled=R[27]),!l&&q[0]&262144&&(l=!0,K.customSize=R[18],le(()=>l=!1)),!s&&q[0]&524288&&(s=!0,K.customHitDiceSize=R[19],le(()=>s=!1)),i.$set(K);const W={};q[0]&134217728&&(W.disabled=R[27]),!f&&q[0]&1048576&&(f=!0,W.values=R[20],le(()=>f=!1)),a.$set(W);const U={};q[0]&134217728&&(U.disabled=R[27]),!m&&q[0]&2097152&&(m=!0,U.values=R[21],le(()=>m=!1)),c.$set(U)},i(R){_||(h(e.$$.fragment,R),h(i.$$.fragment,R),h(a.$$.fragment,R),h(c.$$.fragment,R),_=!0)},o(R){g(e.$$.fragment,R),g(i.$$.fragment,R),g(a.$$.fragment,R),g(c.$$.fragment,R),_=!1},d(R){R&&(d(t),d(o),d(u)),S(e,R),S(i,R),S(a,R),S(c,R)}}}function l_(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function r_(r){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function s_(r){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:r[27],$$slots:{default:[l_]},$$scope:{ctx:r}}}),e.$on("click",r[30]),t=new Pe({props:{type:"submit",disabled:r[27]||!r[24],$$slots:{default:[r_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s[0]&134217728&&(o.disabled=l[27]),s[1]&268435456&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s[0]&150994944&&(a.disabled=l[27]||!l[24]),s[1]&268435456&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function a_(r){var St;let e,n,t,i,l,s,o,a,f,u,c,m,_,p,$,k,v,w,P,H,L,M,R,q,Y,K,W,U,V,x,G,X,re,ue,ke,te,ce,Fe,Te,pe,he,ye,Ce,ee,we;function Ie(j){r[33](j)}function Le(j){r[34](j)}function Re(j){r[35](j)}function qe(j){r[36](j)}function _e(j){r[37](j)}function Se(j){r[38](j)}function Oe(j){r[39](j)}function Ke(j){r[40](j)}function Je(j){r[41](j)}function Me(j){r[42](j)}let We={originalAvatarSrc:(St=r[29])==null?void 0:St.href,disabled:r[27]};r[2]!==void 0&&(We.nickname=r[2]),r[3]!==void 0&&(We.nature=r[3]),r[4]!==void 0&&(We.tera=r[4]),r[5]!==void 0&&(We.level=r[5]),r[6]!==void 0&&(We.ac=r[6]),r[7]!==void 0&&(We.maxHp=r[7]),r[8]!==void 0&&(We.maxHitDice=r[8]),r[16]!==void 0&&(We.isShiny=r[16]),r[23]!==void 0&&(We.avatar=r[23]),r[24]!==void 0&&(We.isValid=r[24]),e=new Td({props:We}),ne.push(()=>ie(e,"nickname",Ie)),ne.push(()=>ie(e,"nature",Le)),ne.push(()=>ie(e,"tera",Re)),ne.push(()=>ie(e,"level",qe)),ne.push(()=>ie(e,"ac",_e)),ne.push(()=>ie(e,"maxHp",Se)),ne.push(()=>ie(e,"maxHitDice",Oe)),ne.push(()=>ie(e,"isShiny",Ke)),ne.push(()=>ie(e,"avatar",Je)),ne.push(()=>ie(e,"isValid",Me));function dt(j){r[43](j)}let ut={disabled:r[27]};r[9]!==void 0&&(ut.value=r[9]),_=new Ja({props:ut}),ne.push(()=>ie(_,"value",dt));function _t(j){r[44](j)}let lt={disabled:r[27]};r[10]!==void 0&&(lt.values=r[10]),k=new os({props:lt}),ne.push(()=>ie(k,"values",_t));function qt(j){r[45](j)}let Et={species:r[0],disabled:r[27]};r[11]!==void 0&&(Et.ability=r[11]),P=new Hd({props:Et}),ne.push(()=>ie(P,"ability",qt));function ht(j){r[46](j)}let be={disabled:r[27]};r[22]!==void 0&&(be.value=r[22]),M=new t_({props:be}),ne.push(()=>ie(M,"value",ht));function Q(j){r[47](j)}let Ae={disabled:r[27]};r[12]!==void 0&&(Ae.values=r[12]),Y=new Fr({props:Ae}),ne.push(()=>ie(Y,"values",Q));function pt(j){r[48](j)}let gt={disabled:r[27]};r[13]!==void 0&&(gt.values=r[13]),U=new Hr({props:gt}),ne.push(()=>ie(U,"values",pt));function Kt(j){r[49](j)}let Nt={species:r[0],level:new vt(r[5]),disabled:r[27]};r[25]!==void 0&&(Nt.values=r[25]),G=new Yd({props:Nt}),ne.push(()=>ie(G,"values",Kt));function Ut(j){r[50](j)}let Ft={feats:r[28],disabled:r[27]};r[17]!==void 0&&(Ft.values=r[17]),ue=new us({props:Ft}),ne.push(()=>ie(ue,"values",Ut));function jt(j){r[51](j)}let Ht={disabled:r[27]};return r[26]!==void 0&&(Ht.items=r[26]),ce=new Md({props:Ht}),ne.push(()=>ie(ce,"items",jt)),pe=new Ze({props:{title:"General",$$slots:{default:[n_]},$$scope:{ctx:r}}}),ye=new va({props:{title:"Advanced",$$slots:{default:[i_]},$$scope:{ctx:r}}}),ee=new Qe({props:{error:r[24]?void 0:"One or more fields above have an issue.",$$slots:{default:[s_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),m=F(),A(_.$$.fragment),$=F(),A(k.$$.fragment),w=F(),A(P.$$.fragment),L=F(),A(M.$$.fragment),q=F(),A(Y.$$.fragment),W=F(),A(U.$$.fragment),x=F(),A(G.$$.fragment),re=F(),A(ue.$$.fragment),te=F(),A(ce.$$.fragment),Te=F(),A(pe.$$.fragment),he=F(),A(ye.$$.fragment),Ce=F(),A(ee.$$.fragment)},l(j){I(e.$$.fragment,j),m=N(j),I(_.$$.fragment,j),$=N(j),I(k.$$.fragment,j),w=N(j),I(P.$$.fragment,j),L=N(j),I(M.$$.fragment,j),q=N(j),I(Y.$$.fragment,j),W=N(j),I(U.$$.fragment,j),x=N(j),I(G.$$.fragment,j),re=N(j),I(ue.$$.fragment,j),te=N(j),I(ce.$$.fragment,j),Te=N(j),I(pe.$$.fragment,j),he=N(j),I(ye.$$.fragment,j),Ce=N(j),I(ee.$$.fragment,j)},m(j,ge){C(e,j,ge),b(j,m,ge),C(_,j,ge),b(j,$,ge),C(k,j,ge),b(j,w,ge),C(P,j,ge),b(j,L,ge),C(M,j,ge),b(j,q,ge),C(Y,j,ge),b(j,W,ge),C(U,j,ge),b(j,x,ge),C(G,j,ge),b(j,re,ge),C(ue,j,ge),b(j,te,ge),C(ce,j,ge),b(j,Te,ge),C(pe,j,ge),b(j,he,ge),C(ye,j,ge),b(j,Ce,ge),C(ee,j,ge),we=!0},p(j,ge){const st={};ge[0]&134217728&&(st.disabled=j[27]),!n&&ge[0]&4&&(n=!0,st.nickname=j[2],le(()=>n=!1)),!t&&ge[0]&8&&(t=!0,st.nature=j[3],le(()=>t=!1)),!i&&ge[0]&16&&(i=!0,st.tera=j[4],le(()=>i=!1)),!l&&ge[0]&32&&(l=!0,st.level=j[5],le(()=>l=!1)),!s&&ge[0]&64&&(s=!0,st.ac=j[6],le(()=>s=!1)),!o&&ge[0]&128&&(o=!0,st.maxHp=j[7],le(()=>o=!1)),!a&&ge[0]&256&&(a=!0,st.maxHitDice=j[8],le(()=>a=!1)),!f&&ge[0]&65536&&(f=!0,st.isShiny=j[16],le(()=>f=!1)),!u&&ge[0]&8388608&&(u=!0,st.avatar=j[23],le(()=>u=!1)),!c&&ge[0]&16777216&&(c=!0,st.isValid=j[24],le(()=>c=!1)),e.$set(st);const In={};ge[0]&134217728&&(In.disabled=j[27]),!p&&ge[0]&512&&(p=!0,In.value=j[9],le(()=>p=!1)),_.$set(In);const yn={};ge[0]&134217728&&(yn.disabled=j[27]),!v&&ge[0]&1024&&(v=!0,yn.values=j[10],le(()=>v=!1)),k.$set(yn);const an={};ge[0]&1&&(an.species=j[0]),ge[0]&134217728&&(an.disabled=j[27]),!H&&ge[0]&2048&&(H=!0,an.ability=j[11],le(()=>H=!1)),P.$set(an);const Tn={};ge[0]&134217728&&(Tn.disabled=j[27]),!R&&ge[0]&4194304&&(R=!0,Tn.value=j[22],le(()=>R=!1)),M.$set(Tn);const Pn={};ge[0]&134217728&&(Pn.disabled=j[27]),!K&&ge[0]&4096&&(K=!0,Pn.values=j[12],le(()=>K=!1)),Y.$set(Pn);const Dn={};ge[0]&134217728&&(Dn.disabled=j[27]),!V&&ge[0]&8192&&(V=!0,Dn.values=j[13],le(()=>V=!1)),U.$set(Dn);const Gt={};ge[0]&1&&(Gt.species=j[0]),ge[0]&32&&(Gt.level=new vt(j[5])),ge[0]&134217728&&(Gt.disabled=j[27]),!X&&ge[0]&33554432&&(X=!0,Gt.values=j[25],le(()=>X=!1)),G.$set(Gt);const on={};ge[0]&268435456&&(on.feats=j[28]),ge[0]&134217728&&(on.disabled=j[27]),!ke&&ge[0]&131072&&(ke=!0,on.values=j[17],le(()=>ke=!1)),ue.$set(on);const Nn={};ge[0]&134217728&&(Nn.disabled=j[27]),!Fe&&ge[0]&67108864&&(Fe=!0,Nn.items=j[26],le(()=>Fe=!1)),ce.$set(Nn);const ai={};ge[0]&134234112|ge[1]&268435456&&(ai.$$scope={dirty:ge,ctx:j}),pe.$set(ai);const oi={};ge[0]&138182656|ge[1]&268435456&&(oi.$$scope={dirty:ge,ctx:j}),ye.$set(oi);const Fn={};ge[0]&16777216&&(Fn.error=j[24]?void 0:"One or more fields above have an issue."),ge[0]&150994944|ge[1]&268435456&&(Fn.$$scope={dirty:ge,ctx:j}),ee.$set(Fn)},i(j){we||(h(e.$$.fragment,j),h(_.$$.fragment,j),h(k.$$.fragment,j),h(P.$$.fragment,j),h(M.$$.fragment,j),h(Y.$$.fragment,j),h(U.$$.fragment,j),h(G.$$.fragment,j),h(ue.$$.fragment,j),h(ce.$$.fragment,j),h(pe.$$.fragment,j),h(ye.$$.fragment,j),h(ee.$$.fragment,j),we=!0)},o(j){g(e.$$.fragment,j),g(_.$$.fragment,j),g(k.$$.fragment,j),g(P.$$.fragment,j),g(M.$$.fragment,j),g(Y.$$.fragment,j),g(U.$$.fragment,j),g(G.$$.fragment,j),g(ue.$$.fragment,j),g(ce.$$.fragment,j),g(pe.$$.fragment,j),g(ye.$$.fragment,j),g(ee.$$.fragment,j),we=!1},d(j){j&&(d(m),d($),d(w),d(L),d(q),d(W),d(x),d(re),d(te),d(Te),d(he),d(Ce)),S(e,j),S(_,j),S(k,j),S(P,j),S(M,j),S(Y,j),S(U,j),S(G,j),S(ue,j),S(ce,j),S(pe,j),S(ye,j),S(ee,j)}}}function o_(r){let e,n;return e=new Ot({props:{onsubmit:r[31],saving:r[1],$$slots:{default:[a_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i[0]&2&&(l.saving=t[1]),i[0]&536870909|i[1]&268435456&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function f_(r,e,n){var Et,ht;let t,i;Ve(r,Js,be=>n(28,i=be));const l=et();let{pokemon:s}=e,{species:o}=e,{saving:a=!1}=e,f=s.nickname,u=s.nature.copy(),c=((Et=s.teraType)==null?void 0:Et.copy())??new yt(""),m=s.level.data,_=s.ac,p=s.hp.max,$=s.hitDice.max,k=s.gender,v=s.attributes.copy(),w=s.ability,P=s.proficiencies.copy(),H=[...s.savingThrows],L=s.notes,M=s.type.copy(),R=s.isShiny,q=s.feats.map(be=>structuredClone(be)),Y=s.customSize,K=(ht=s.customHitDiceSize)==null?void 0:ht.data,W=s.speeds.copy(),U=s.senses.copy(),V=structuredClone(s.bond),x=s.avatar,G,X=!0,re=structuredClone(s.moves),ue=structuredClone(s.items);const ke=()=>{l("cancel")},te=()=>{l("update",{pokemon:{...s,nickname:f.length>0?f:o.data.name,type:M,nature:u,teraType:c,level:new vt(m),ac:_,hp:{current:s.hp.current+(p-s.hp.max),max:p},hitDice:{current:s.hitDice.current+($-s.hitDice.max),max:$},gender:k,isShiny:R,attributes:v,ability:w,proficiencies:P,savingThrows:H,moves:re,items:ue,notes:L,feats:q,customSize:Y,customHitDiceSize:K?new Rt(K):void 0,speeds:W,senses:U,bond:{...V,points:{current:Math.max(0,s.bond.points.current+(V.points.max-s.bond.points.max)),max:V.points.max}},avatar:x},updateAvatar:G})};function ce(be){f=be,n(2,f)}function Fe(be){u=be,n(3,u)}function Te(be){c=be,n(4,c)}function pe(be){m=be,n(5,m)}function he(be){_=be,n(6,_)}function ye(be){p=be,n(7,p)}function Ce(be){$=be,n(8,$)}function ee(be){R=be,n(16,R)}function we(be){G=be,n(23,G)}function Ie(be){X=be,n(24,X)}function Le(be){k=be,n(9,k)}function Re(be){v=be,n(10,v)}function qe(be){w=be,n(11,w)}function _e(be){V=be,n(22,V)}function Se(be){P=be,n(12,P)}function Oe(be){H=be,n(13,H)}function Ke(be){re=be,n(25,re)}function Je(be){q=be,n(17,q)}function Me(be){ue=be,n(26,ue)}function We(be){L=be,n(14,L)}function dt(be){r.$$.not_equal(M.data,be)&&(M.data=be,n(15,M))}function ut(be){Y=be,n(18,Y)}function _t(be){K=be,n(19,K)}function lt(be){W=be,n(20,W)}function qt(be){U=be,n(21,U)}return r.$$set=be=>{"pokemon"in be&&n(32,s=be.pokemon),"species"in be&&n(0,o=be.species),"saving"in be&&n(1,a=be.saving)},r.$$.update=()=>{r.$$.dirty[0]&2&&n(27,t=a)},[o,a,f,u,c,m,_,p,$,k,v,w,P,H,L,M,R,q,Y,K,W,U,V,G,X,re,ue,t,i,x,ke,te,s,ce,Fe,Te,pe,he,ye,Ce,ee,we,Ie,Le,Re,qe,_e,Se,Oe,Ke,Je,Me,We,dt,ut,_t,lt,qt]}let u_=class extends se{constructor(e){super(),ae(this,e,f_,o_,oe,{pokemon:32,species:0,saving:1},null,[-1,-1])}};function c_(r){let e,n,t="You do not have permission to edit this pokemon.",i,l,s;return l=new Qe({props:{$$slots:{default:[__]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-1ag681u"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&518&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function m_(r){let e,n;return e=new u_({props:{pokemon:r[4],species:r[8],saving:r[3]}}),e.$on("cancel",r[7]),e.$on("update",r[6]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.pokemon=t[4]),i&256&&(l.species=t[8]),i&8&&(l.saving=t[3]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function d_(r){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function __(r){let e,n;return e=new Pe({props:{href:ve.trainers(r[2].info.readKey,r[1]),$$slots:{default:[d_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&6&&(l.href=ve.trainers(t[2].info.readKey,t[1])),i&512&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function p_(r){let e,n,t,i;const l=[m_,c_],s=[];function o(a,f){return a[5]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function $_(r){let e,n;return e=new it({props:{title:"Edit "+r[4].nickname,$$slots:{default:[p_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.title="Edit "+t[4].nickname),i&830&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function h_(r){var t;let e,n;return e=new Pt({props:{ids:[(t=r[4])==null?void 0:t.pokemonId],$$slots:{default:[$_,({species:i})=>({8:i}),({species:i})=>i?256:0]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,l){C(e,i,l),n=!0},p(i,l){var o;const s={};l&16&&(s.ids=[(o=i[4])==null?void 0:o.pokemonId]),l&830&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function g_(r){let e,n;return e=new sn({props:{trainer:r[2],id:r[1],titlePrefix:"Edit",$$slots:{default:[h_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&4&&(l.trainer=t[2]),i&2&&(l.id=t[1]),i&574&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function v_(r,e,n){let t,i,l,s=Z,o=()=>(s(),s=Xe(a,_=>n(2,l=_)),a);r.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let{id:f}=e,u=!1;const c=_=>{var p;n(3,u=!0),(p=l.update)==null||p.pokemon(_.detail.pokemon,{updateAvatar:_.detail.updateAvatar}).then(()=>{var $,k,v;return Promise.all([(($=l.update)==null?void 0:$.moveset(_.detail.pokemon))??Promise.resolve(),((k=l.update)==null?void 0:k.heldItems(_.detail.pokemon))??Promise.resolve(),((v=l.update)==null?void 0:v.pokemonFeats(_.detail.pokemon))??Promise.resolve()])}).then(()=>{n(3,u=!1),xe(ve.trainers(l.info.readKey,f))}).catch(()=>{n(3,u=!1)})},m=()=>{xe(ve.trainers(l.info.readKey,f))};return r.$$set=_=>{"trainer"in _&&o(n(0,a=_.trainer)),"id"in _&&n(1,f=_.id)},r.$$.update=()=>{r.$$.dirty&4&&n(5,t=l.update!=null),r.$$.dirty&6&&n(4,i=l.pokemon.find(_=>_.id===f))},[a,f,l,u,i,t,c,m]}class b_ extends se{constructor(e){super(),ae(this,e,v_,g_,oe,{trainer:0,id:1})}}function k_(r){let e,n,t="You do not have permission to evolve this pokemon.",i,l,s;return l=new Qe({props:{$$slots:{default:[S_]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-756k5x"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&2058&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function w_(r){let e,n;return e=new go({props:{pokemon:r[5],species:r[10],allSpecies:r[2],evolutions:r[7],saving:r[4]}}),e.$on("cancel",r[9]),e.$on("submit",r[8]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&32&&(l.pokemon=t[5]),i&1024&&(l.species=t[10]),i&4&&(l.allSpecies=t[2]),i&16&&(l.saving=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function E_(r){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function S_(r){let e,n;return e=new Pe({props:{href:ve.trainers(r[3].info.readKey,r[1]),$$slots:{default:[E_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&10&&(l.href=ve.trainers(t[3].info.readKey,t[1])),i&2048&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function C_(r){let e,n,t,i;const l=[w_,k_],s=[];function o(a,f){return a[6]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function A_(r){let e,n;return e=new it({props:{title:"Evolve "+r[5].nickname,$$slots:{default:[C_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&32&&(l.title="Evolve "+t[5].nickname),i&3198&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function I_(r){var t;let e,n;return e=new Pt({props:{ids:[(t=r[5])==null?void 0:t.pokemonId],$$slots:{default:[A_,({species:i})=>({10:i}),({species:i})=>i?1024:0]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,l){C(e,i,l),n=!0},p(i,l){var o;const s={};l&32&&(s.ids=[(o=i[5])==null?void 0:o.pokemonId]),l&3198&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function y_(r){let e,n;return e=new sn({props:{trainer:r[3],id:r[1],titlePrefix:"Evolve",$$slots:{default:[I_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&8&&(l.trainer=t[3]),i&2&&(l.id=t[1]),i&2174&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function T_(r,e,n){let t,i,l,s=Z,o=()=>(s(),s=Xe(f,$=>n(3,l=$)),f);r.$$.on_destroy.push(()=>s());const a=Vr.all();let{trainer:f}=e;o();let{id:u}=e,{allSpecies:c}=e,m=!1;const _=$=>{var k;n(4,m=!0),(k=l.update)==null||k.pokemon($.detail).then(()=>{n(4,m=!1),xe(ve.trainers(l.info.readKey,u))}).catch(()=>{n(4,m=!1)})},p=()=>{xe(ve.trainers(l.info.readKey,u))};return r.$$set=$=>{"trainer"in $&&o(n(0,f=$.trainer)),"id"in $&&n(1,u=$.id),"allSpecies"in $&&n(2,c=$.allSpecies)},r.$$.update=()=>{r.$$.dirty&8&&n(6,t=l.update!=null),r.$$.dirty&10&&n(5,i=l.pokemon.find($=>$.id===u))},[f,u,c,l,m,i,t,a,_,p]}class P_ extends se{constructor(e){super(),ae(this,e,T_,y_,oe,{trainer:0,id:1,allSpecies:2})}}function D_(r){let e,n="Cannot find trainer",t,i,l,s,o,a,f,u,c=`You can view a <a href="${ve.trainers()}">list of your trainers</a> or search by trainer id.`;return{c(){e=T("h1"),e.textContent=n,t=F(),i=T("p"),l=B("No trainer with id "),s=T("strong"),o=B(r[0]),a=B(" seems to be registered."),f=F(),u=T("p"),u.innerHTML=c,this.h()},l(m){e=y(m,"H1",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-q8duw8"&&(e.textContent=n),t=N(m),i=y(m,"P",{class:!0});var _=z(i);l=O(_,"No trainer with id "),s=y(_,"STRONG",{});var p=z(s);o=O(p,r[0]),p.forEach(d),a=O(_," seems to be registered."),_.forEach(d),f=N(m),u=y(m,"P",{class:!0,"data-svelte-h":!0}),$e(u)!=="svelte-dt3m1x"&&(u.innerHTML=c),this.h()},h(){D(e,"class","large-font space-bottom bubble-padded svelte-1st51oh"),D(i,"class","bubble-padded svelte-1st51oh"),D(u,"class","bubble svelte-1st51oh")},m(m,_){b(m,e,_),b(m,t,_),b(m,i,_),E(i,l),E(i,s),E(s,o),E(i,a),b(m,f,_),b(m,u,_)},p(m,[_]){_&1&&fe(o,m[0])},i:Z,o:Z,d(m){m&&(d(e),d(t),d(i),d(f),d(u))}}}function N_(r,e,n){let{trainerKey:t}=e;return r.$$set=i=>{"trainerKey"in i&&n(0,t=i.trainerKey)},[t]}class F_ extends se{constructor(e){super(),ae(this,e,N_,D_,oe,{trainerKey:0})}}const H_="/_app/immutable/assets/find-trainer-id.DcdDbnCJ.png";function z_(r){let e,n,t;function i(s){r[4](s)}let l={label:"Trainer ID",maxlength:12,placeholder:"e.g. H4PF8E2GZA0A",disabled:r[2],required:!0};return r[0]!==void 0&&(l.value=r[0]),e=new ft({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.disabled=s[2]),!n&&o&1&&(n=!0,a.value=s[0],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function rr(r){let e,n="No trainer is registered with this id";return{c(){e=T("p"),e.textContent=n,this.h()},l(t){e=y(t,"P",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-y99bmo"&&(e.textContent=n),this.h()},h(){D(e,"class","font-sm error svelte-larh64")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function L_(r){let e,n,t=`Enter the trainer's unique ID below and click "Search".`,i,l,s,o,a,f,u,c,m=`<p>Each trainer has a unique 12-character ID. You can find it on their page, pictured below.</p> <figure class="spaced-lg svelte-larh64"><img src="${H_}" alt="The label &#39;Trainer ID&#39; denotes the trainer&#39;s id." width="800" height="256" class="svelte-larh64"/> <figcaption>Use this ID for searching</figcaption></figure> <p>Searching by a trainer&#39;s ID can allow you to view a friend&#39;s pokemon or view your own trainer&#39;s pokemon on different devices.</p>`,_,p,$;s=new zr({props:{label:"Search",type:"submit",$$slots:{default:[z_]},$$scope:{ctx:r}}});let k=r[1].length>0&&r[1]===r[0]&&rr();return{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),l=T("form"),A(s.$$.fragment),o=F(),k&&k.c(),a=F(),f=T("hr"),u=F(),c=T("section"),c.innerHTML=m,this.h()},l(v){e=y(v,"SECTION",{});var w=z(e);n=y(w,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-xh6jag"&&(n.textContent=t),i=N(w),l=y(w,"FORM",{class:!0,disabled:!0});var P=z(l);I(s.$$.fragment,P),o=N(P),k&&k.l(P),P.forEach(d),w.forEach(d),a=N(v),f=y(v,"HR",{}),u=N(v),c=y(v,"SECTION",{"data-svelte-h":!0}),$e(c)!=="svelte-4nha7h"&&(c.innerHTML=m),this.h()},h(){D(l,"class","vertical spaced-lg svelte-larh64"),D(l,"disabled",r[2])},m(v,w){b(v,e,w),E(e,n),E(e,i),E(e,l),C(s,l,null),E(l,o),k&&k.m(l,null),b(v,a,w),b(v,f,w),b(v,u,w),b(v,c,w),_=!0,p||($=ot(l,"submit",Ir(r[3])),p=!0)},p(v,w){const P={};w&37&&(P.$$scope={dirty:w,ctx:v}),s.$set(P),v[1].length>0&&v[1]===v[0]?k||(k=rr(),k.c(),k.m(l,null)):k&&(k.d(1),k=null),(!_||w&4)&&D(l,"disabled",v[2])},i(v){_||(h(s.$$.fragment,v),_=!0)},o(v){g(s.$$.fragment,v),_=!1},d(v){v&&(d(e),d(a),d(f),d(u),d(c)),S(s),k&&k.d(),p=!1,$()}}}function R_(r){let e,n;return e=new tn({props:{saving:r[2],caption:"Searching...",$$slots:{default:[L_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4&&(l.saving=t[2]),i&39&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function M_(r){let e,n,t,i;return e=new rt({props:{value:"Find Trainer by ID"}}),t=new it({props:{title:"Find Trainer by ID",$$slots:{default:[R_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&39&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function V_(r,e,n){let t="",i="",l=!1;const s=()=>{n(2,l=!0),wn.get(t).then(a=>{a?xe(ve.trainers(t)):(n(2,l=!1),n(1,i=t))})};function o(a){t=a,n(0,t)}return r.$$.update=()=>{r.$$.dirty&1&&n(0,t=t.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,""))},[t,i,l,s,o]}class O_ extends se{constructor(e){super(),ae(this,e,V_,M_,oe,{})}}function B_(r){let e,n,t,i,l,s,o,a,f,u,c,m,_,p;function $(R){r[7](R)}let k={label:"Name",disabled:r[5]};r[0]!==void 0&&(k.value=r[0]),e=new ft({props:k}),ne.push(()=>ie(e,"value",$)),i=new nt({props:{label:"Level",value:r[1],min:1,max:20,disabled:r[5]}}),i.$on("change",r[6]);function v(R){r[8](R)}let w={label:"AC",min:0,max:99,disabled:r[5]};r[2]!==void 0&&(w.value=r[2]),s=new nt({props:w}),ne.push(()=>ie(s,"value",v));function P(R){r[9](R)}let H={label:"Max HP",min:0,disabled:r[5]};r[3]!==void 0&&(H.value=r[3]),f=new nt({props:H}),ne.push(()=>ie(f,"value",P));function L(R){r[10](R)}let M={label:"Max Hit Dice",min:0,max:20,disabled:r[5]};return r[4]!==void 0&&(M.value=r[4]),m=new nt({props:M}),ne.push(()=>ie(m,"value",L)),{c(){A(e.$$.fragment),t=F(),A(i.$$.fragment),l=F(),A(s.$$.fragment),a=F(),A(f.$$.fragment),c=F(),A(m.$$.fragment)},l(R){I(e.$$.fragment,R),t=N(R),I(i.$$.fragment,R),l=N(R),I(s.$$.fragment,R),a=N(R),I(f.$$.fragment,R),c=N(R),I(m.$$.fragment,R)},m(R,q){C(e,R,q),b(R,t,q),C(i,R,q),b(R,l,q),C(s,R,q),b(R,a,q),C(f,R,q),b(R,c,q),C(m,R,q),p=!0},p(R,q){const Y={};q&32&&(Y.disabled=R[5]),!n&&q&1&&(n=!0,Y.value=R[0],le(()=>n=!1)),e.$set(Y);const K={};q&2&&(K.value=R[1]),q&32&&(K.disabled=R[5]),i.$set(K);const W={};q&32&&(W.disabled=R[5]),!o&&q&4&&(o=!0,W.value=R[2],le(()=>o=!1)),s.$set(W);const U={};q&32&&(U.disabled=R[5]),!u&&q&8&&(u=!0,U.value=R[3],le(()=>u=!1)),f.$set(U);const V={};q&32&&(V.disabled=R[5]),!_&&q&16&&(_=!0,V.value=R[4],le(()=>_=!1)),m.$set(V)},i(R){p||(h(e.$$.fragment,R),h(i.$$.fragment,R),h(s.$$.fragment,R),h(f.$$.fragment,R),h(m.$$.fragment,R),p=!0)},o(R){g(e.$$.fragment,R),g(i.$$.fragment,R),g(s.$$.fragment,R),g(f.$$.fragment,R),g(m.$$.fragment,R),p=!1},d(R){R&&(d(t),d(l),d(a),d(c)),S(e,R),S(i,R),S(s,R),S(f,R),S(m,R)}}}function q_(r){let e,n;return e=new Ze({props:{title:"Basic Info",columns:2,$$slots:{default:[B_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&2111&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function K_(r,e,n){let{name:t}=e,{level:i}=e,{ac:l}=e,{maxHp:s}=e,{maxHitDice:o}=e,{disabled:a=!1}=e;const f=p=>{i===o&&n(4,o=p.detail.value),n(1,i=p.detail.value)};function u(p){t=p,n(0,t)}function c(p){l=p,n(2,l)}function m(p){s=p,n(3,s)}function _(p){o=p,n(4,o)}return r.$$set=p=>{"name"in p&&n(0,t=p.name),"level"in p&&n(1,i=p.level),"ac"in p&&n(2,l=p.ac),"maxHp"in p&&n(3,s=p.maxHp),"maxHitDice"in p&&n(4,o=p.maxHitDice),"disabled"in p&&n(5,a=p.disabled)},[t,i,l,s,o,a,f,u,c,m,_]}class U_ extends se{constructor(e){super(),ae(this,e,K_,q_,oe,{name:0,level:1,ac:2,maxHp:3,maxHitDice:4,disabled:5})}}function j_(r){let e,n,t,i,l,s,o,a,f,u,c,m,_,p,$,k,v,w,P,H,L,M,R,q,Y,K;function W(pe){r[10](pe)}let U={label:"Species",placeholder:"e.g. Human",disabled:r[3]};r[4]!==void 0&&(U.value=r[4]),t=new ft({props:U}),ne.push(()=>ie(t,"value",W));function V(pe){r[11](pe)}let x={label:"Gender",disabled:r[3]};r[5]!==void 0&&(x.value=r[5]),o=new ft({props:x}),ne.push(()=>ie(o,"value",V));function G(pe){r[12](pe)}let X={label:"Age",disabled:r[3]};r[6]!==void 0&&(X.value=r[6]),c=new nt({props:X}),ne.push(()=>ie(c,"value",G));function re(pe){r[13](pe)}let ue={label:"Home Region",placeholder:"e.g. Sinnoh",disabled:r[3]};r[7]!==void 0&&(ue.value=r[7]),$=new ft({props:ue}),ne.push(()=>ie($,"value",re));function ke(pe){r[14](pe)}let te={label:"Background",placeholder:"e.g. Entertainer",disabled:r[3]};r[8]!==void 0&&(te.value=r[8]),P=new ft({props:te}),ne.push(()=>ie(P,"value",ke));function ce(pe){r[15](pe)}function Fe(pe){r[16](pe)}let Te={label:"Avatar",previousValue:r[2],maxbytes:Y_,disabled:r[3]};return r[0]!==void 0&&(Te.currentValue=r[0]),r[1]!==void 0&&(Te.isValid=r[1]),R=new Nr({props:Te}),ne.push(()=>ie(R,"currentValue",ce)),ne.push(()=>ie(R,"isValid",Fe)),{c(){e=T("div"),n=T("div"),A(t.$$.fragment),l=F(),s=T("div"),A(o.$$.fragment),f=F(),u=T("div"),A(c.$$.fragment),_=F(),p=T("div"),A($.$$.fragment),v=F(),w=T("div"),A(P.$$.fragment),L=F(),M=T("div"),A(R.$$.fragment),this.h()},l(pe){e=y(pe,"DIV",{class:!0});var he=z(e);n=y(he,"DIV",{});var ye=z(n);I(t.$$.fragment,ye),ye.forEach(d),l=N(he),s=y(he,"DIV",{});var Ce=z(s);I(o.$$.fragment,Ce),Ce.forEach(d),f=N(he),u=y(he,"DIV",{});var ee=z(u);I(c.$$.fragment,ee),ee.forEach(d),_=N(he),p=y(he,"DIV",{});var we=z(p);I($.$$.fragment,we),we.forEach(d),v=N(he),w=y(he,"DIV",{});var Ie=z(w);I(P.$$.fragment,Ie),Ie.forEach(d),L=N(he),M=y(he,"DIV",{class:!0});var Le=z(M);I(R.$$.fragment,Le),Le.forEach(d),he.forEach(d),this.h()},h(){Ee(n,"grid-area","field1"),Ee(s,"grid-area","field2"),Ee(u,"grid-area","field3"),Ee(p,"grid-area","field4"),Ee(w,"grid-area","field5"),D(M,"class","image-field svelte-1qp92on"),Ee(M,"grid-area","avatar"),D(e,"class","grid svelte-1qp92on")},m(pe,he){b(pe,e,he),E(e,n),C(t,n,null),E(e,l),E(e,s),C(o,s,null),E(e,f),E(e,u),C(c,u,null),E(e,_),E(e,p),C($,p,null),E(e,v),E(e,w),C(P,w,null),E(e,L),E(e,M),C(R,M,null),K=!0},p(pe,he){const ye={};he&8&&(ye.disabled=pe[3]),!i&&he&16&&(i=!0,ye.value=pe[4],le(()=>i=!1)),t.$set(ye);const Ce={};he&8&&(Ce.disabled=pe[3]),!a&&he&32&&(a=!0,Ce.value=pe[5],le(()=>a=!1)),o.$set(Ce);const ee={};he&8&&(ee.disabled=pe[3]),!m&&he&64&&(m=!0,ee.value=pe[6],le(()=>m=!1)),c.$set(ee);const we={};he&8&&(we.disabled=pe[3]),!k&&he&128&&(k=!0,we.value=pe[7],le(()=>k=!1)),$.$set(we);const Ie={};he&8&&(Ie.disabled=pe[3]),!H&&he&256&&(H=!0,Ie.value=pe[8],le(()=>H=!1)),P.$set(Ie);const Le={};he&4&&(Le.previousValue=pe[2]),he&8&&(Le.disabled=pe[3]),!q&&he&1&&(q=!0,Le.currentValue=pe[0],le(()=>q=!1)),!Y&&he&2&&(Y=!0,Le.isValid=pe[1],le(()=>Y=!1)),R.$set(Le)},i(pe){K||(h(t.$$.fragment,pe),h(o.$$.fragment,pe),h(c.$$.fragment,pe),h($.$$.fragment,pe),h(P.$$.fragment,pe),h(R.$$.fragment,pe),K=!0)},o(pe){g(t.$$.fragment,pe),g(o.$$.fragment,pe),g(c.$$.fragment,pe),g($.$$.fragment,pe),g(P.$$.fragment,pe),g(R.$$.fragment,pe),K=!1},d(pe){pe&&d(e),S(t),S(o),S(c),S($),S(P),S(R)}}}function G_(r){let e,n;return e=new Ze({props:{title:"Biography",$$slots:{default:[j_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&131583&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const Y_=524288;function W_(r,e,n){let{biography:t}=e,{originalAvatarSrc:i}=e,{avatar:l}=e,{disabled:s=!1}=e,{isValid:o=!0}=e,{species:a,gender:f,age:u,homeRegion:c,background:m}=t;function _(H){a=H,n(4,a)}function p(H){f=H,n(5,f)}function $(H){u=H,n(6,u)}function k(H){c=H,n(7,c)}function v(H){m=H,n(8,m)}function w(H){l=H,n(0,l)}function P(H){o=H,n(1,o)}return r.$$set=H=>{"biography"in H&&n(9,t=H.biography),"originalAvatarSrc"in H&&n(2,i=H.originalAvatarSrc),"avatar"in H&&n(0,l=H.avatar),"disabled"in H&&n(3,s=H.disabled),"isValid"in H&&n(1,o=H.isValid)},r.$$.update=()=>{r.$$.dirty&496&&n(9,t={species:a,gender:f,age:u,homeRegion:c,background:m})},[l,o,i,s,a,f,u,c,m,t,_,p,$,k,v,w,P]}class Q_ extends se{constructor(e){super(),ae(this,e,W_,G_,oe,{biography:9,originalAvatarSrc:2,avatar:0,disabled:3,isValid:1})}}function Z_(r){let e,n,t,i,l,s;function o(c){r[5](c)}let a={label:"Money",disabled:r[2]};r[0]!==void 0&&(a.value=r[0]),e=new da({props:a}),ne.push(()=>ie(e,"value",o));function f(c){r[6](c)}let u={disabled:r[2],newStandardItem:r[3],newCustomItem:r[4],groupOrder:["pokeball","medicine","berry","held item","evolution"]};return r[1]!==void 0&&(u.values=r[1]),i=new as({props:u}),ne.push(()=>ie(i,"values",f)),{c(){A(e.$$.fragment),t=F(),A(i.$$.fragment)},l(c){I(e.$$.fragment,c),t=N(c),I(i.$$.fragment,c)},m(c,m){C(e,c,m),b(c,t,m),C(i,c,m),s=!0},p(c,m){const _={};m&4&&(_.disabled=c[2]),!n&&m&1&&(n=!0,_.value=c[0],le(()=>n=!1)),e.$set(_);const p={};m&4&&(p.disabled=c[2]),!l&&m&2&&(l=!0,p.values=c[1],le(()=>l=!1)),i.$set(p)},i(c){s||(h(e.$$.fragment,c),h(i.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),g(i.$$.fragment,c),s=!1},d(c){c&&d(t),S(e,c),S(i,c)}}}function J_(r){let e,n;return e=new Ze({props:{title:"Inventory",$$slots:{default:[Z_]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&135&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function X_(r,e,n){let{money:t}=e,{inventory:i}=e,{disabled:l}=e;const s=u=>({id:u,type:"standard",itemId:"poke-ball",quantity:1}),o=u=>({id:u,type:"custom",name:"",description:"",quantity:1});function a(u){t=u,n(0,t)}function f(u){i=u,n(1,i)}return r.$$set=u=>{"money"in u&&n(0,t=u.money),"inventory"in u&&n(1,i=u.inventory),"disabled"in u&&n(2,l=u.disabled)},[t,i,l,s,o,a,f]}class x_ extends se{constructor(e){super(),ae(this,e,X_,J_,oe,{money:0,inventory:1,disabled:2})}}function ep(r){let e,n,t;function i(s){r[39](s)}let l={label:"Description",placeholder:"General info about this trainer...",disabled:r[18]};return r[9]!==void 0&&(l.value=r[9]),e=new bt({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o[0]&262144&&(a.disabled=s[18]),!n&&o[0]&512&&(n=!0,a.value=s[9],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function tp(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function np(r){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function ip(r){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:r[18],$$slots:{default:[tp]},$$scope:{ctx:r}}}),e.$on("click",r[20]),t=new Pe({props:{type:"submit",disabled:r[18]||!r[16],$$slots:{default:[np]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s[0]&262144&&(o.disabled=l[18]),s[1]&1024&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s[0]&327680&&(a.disabled=l[18]||!l[16]),s[1]&1024&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function lp(r){var be;let e,n,t,i,l,s,o,a,f,u,c,m,_,p,$,k,v,w,P,H,L,M,R,q,Y,K,W,U,V,x,G,X,re,ue,ke,te,ce,Fe;function Te(Q){r[23](Q)}function pe(Q){r[24](Q)}function he(Q){r[25](Q)}function ye(Q){r[26](Q)}function Ce(Q){r[27](Q)}let ee={disabled:r[18]};r[1]!==void 0&&(ee.name=r[1]),r[2]!==void 0&&(ee.level=r[2]),r[3]!==void 0&&(ee.ac=r[3]),r[4]!==void 0&&(ee.maxHp=r[4]),r[5]!==void 0&&(ee.maxHitDice=r[5]),e=new U_({props:ee}),ne.push(()=>ie(e,"name",Te)),ne.push(()=>ie(e,"level",pe)),ne.push(()=>ie(e,"ac",he)),ne.push(()=>ie(e,"maxHp",ye)),ne.push(()=>ie(e,"maxHitDice",Ce));function we(Q){r[28](Q)}function Ie(Q){r[29](Q)}function Le(Q){r[30](Q)}let Re={originalAvatarSrc:(be=r[19])==null?void 0:be.href,disabled:r[18]};r[10]!==void 0&&(Re.biography=r[10]),r[15]!==void 0&&(Re.avatar=r[15]),r[16]!==void 0&&(Re.isValid=r[16]),a=new Q_({props:Re}),ne.push(()=>ie(a,"biography",we)),ne.push(()=>ie(a,"avatar",Ie)),ne.push(()=>ie(a,"isValid",Le));function qe(Q){r[31](Q)}let _e={disabled:r[18]};r[6]!==void 0&&(_e.values=r[6]),_=new os({props:_e}),ne.push(()=>ie(_,"values",qe));function Se(Q){r[32](Q)}let Oe={disabled:r[18]};r[7]!==void 0&&(Oe.values=r[7]),k=new Fr({props:Oe}),ne.push(()=>ie(k,"values",Se));function Ke(Q){r[33](Q)}let Je={disabled:r[18]};r[8]!==void 0&&(Je.values=r[8]),P=new Hr({props:Je}),ne.push(()=>ie(P,"values",Ke));function Me(Q){r[34](Q)}let We={disabled:r[18]};r[12]!==void 0&&(We.values=r[12]),M=new Ro({props:We}),ne.push(()=>ie(M,"values",Me));function dt(Q){r[35](Q)}let ut={disabled:r[18]};r[13]!==void 0&&(ut.value=r[13]),Y=new jo({props:ut}),ne.push(()=>ie(Y,"value",dt));function _t(Q){r[36](Q)}let lt={feats:Zr,disabled:r[18]};r[14]!==void 0&&(lt.values=r[14]),U=new us({props:lt}),ne.push(()=>ie(U,"values",_t));function qt(Q){r[37](Q)}function Et(Q){r[38](Q)}let ht={disabled:r[18]};return r[11]!==void 0&&(ht.money=r[11]),r[17]!==void 0&&(ht.inventory=r[17]),G=new x_({props:ht}),ne.push(()=>ie(G,"money",qt)),ne.push(()=>ie(G,"inventory",Et)),ke=new Ze({props:{title:"General",$$slots:{default:[ep]},$$scope:{ctx:r}}}),ce=new Qe({props:{error:r[16]?void 0:"One or more fields above have an issue.",$$slots:{default:[ip]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),o=F(),A(a.$$.fragment),m=F(),A(_.$$.fragment),$=F(),A(k.$$.fragment),w=F(),A(P.$$.fragment),L=F(),A(M.$$.fragment),q=F(),A(Y.$$.fragment),W=F(),A(U.$$.fragment),x=F(),A(G.$$.fragment),ue=F(),A(ke.$$.fragment),te=F(),A(ce.$$.fragment)},l(Q){I(e.$$.fragment,Q),o=N(Q),I(a.$$.fragment,Q),m=N(Q),I(_.$$.fragment,Q),$=N(Q),I(k.$$.fragment,Q),w=N(Q),I(P.$$.fragment,Q),L=N(Q),I(M.$$.fragment,Q),q=N(Q),I(Y.$$.fragment,Q),W=N(Q),I(U.$$.fragment,Q),x=N(Q),I(G.$$.fragment,Q),ue=N(Q),I(ke.$$.fragment,Q),te=N(Q),I(ce.$$.fragment,Q)},m(Q,Ae){C(e,Q,Ae),b(Q,o,Ae),C(a,Q,Ae),b(Q,m,Ae),C(_,Q,Ae),b(Q,$,Ae),C(k,Q,Ae),b(Q,w,Ae),C(P,Q,Ae),b(Q,L,Ae),C(M,Q,Ae),b(Q,q,Ae),C(Y,Q,Ae),b(Q,W,Ae),C(U,Q,Ae),b(Q,x,Ae),C(G,Q,Ae),b(Q,ue,Ae),C(ke,Q,Ae),b(Q,te,Ae),C(ce,Q,Ae),Fe=!0},p(Q,Ae){const pt={};Ae[0]&262144&&(pt.disabled=Q[18]),!n&&Ae[0]&2&&(n=!0,pt.name=Q[1],le(()=>n=!1)),!t&&Ae[0]&4&&(t=!0,pt.level=Q[2],le(()=>t=!1)),!i&&Ae[0]&8&&(i=!0,pt.ac=Q[3],le(()=>i=!1)),!l&&Ae[0]&16&&(l=!0,pt.maxHp=Q[4],le(()=>l=!1)),!s&&Ae[0]&32&&(s=!0,pt.maxHitDice=Q[5],le(()=>s=!1)),e.$set(pt);const gt={};Ae[0]&262144&&(gt.disabled=Q[18]),!f&&Ae[0]&1024&&(f=!0,gt.biography=Q[10],le(()=>f=!1)),!u&&Ae[0]&32768&&(u=!0,gt.avatar=Q[15],le(()=>u=!1)),!c&&Ae[0]&65536&&(c=!0,gt.isValid=Q[16],le(()=>c=!1)),a.$set(gt);const Kt={};Ae[0]&262144&&(Kt.disabled=Q[18]),!p&&Ae[0]&64&&(p=!0,Kt.values=Q[6],le(()=>p=!1)),_.$set(Kt);const Nt={};Ae[0]&262144&&(Nt.disabled=Q[18]),!v&&Ae[0]&128&&(v=!0,Nt.values=Q[7],le(()=>v=!1)),k.$set(Nt);const Ut={};Ae[0]&262144&&(Ut.disabled=Q[18]),!H&&Ae[0]&256&&(H=!0,Ut.values=Q[8],le(()=>H=!1)),P.$set(Ut);const Ft={};Ae[0]&262144&&(Ft.disabled=Q[18]),!R&&Ae[0]&4096&&(R=!0,Ft.values=Q[12],le(()=>R=!1)),M.$set(Ft);const jt={};Ae[0]&262144&&(jt.disabled=Q[18]),!K&&Ae[0]&8192&&(K=!0,jt.value=Q[13],le(()=>K=!1)),Y.$set(jt);const Ht={};Ae[0]&262144&&(Ht.disabled=Q[18]),!V&&Ae[0]&16384&&(V=!0,Ht.values=Q[14],le(()=>V=!1)),U.$set(Ht);const St={};Ae[0]&262144&&(St.disabled=Q[18]),!X&&Ae[0]&2048&&(X=!0,St.money=Q[11],le(()=>X=!1)),!re&&Ae[0]&131072&&(re=!0,St.inventory=Q[17],le(()=>re=!1)),G.$set(St);const j={};Ae[0]&262656|Ae[1]&1024&&(j.$$scope={dirty:Ae,ctx:Q}),ke.$set(j);const ge={};Ae[0]&65536&&(ge.error=Q[16]?void 0:"One or more fields above have an issue."),Ae[0]&327680|Ae[1]&1024&&(ge.$$scope={dirty:Ae,ctx:Q}),ce.$set(ge)},i(Q){Fe||(h(e.$$.fragment,Q),h(a.$$.fragment,Q),h(_.$$.fragment,Q),h(k.$$.fragment,Q),h(P.$$.fragment,Q),h(M.$$.fragment,Q),h(Y.$$.fragment,Q),h(U.$$.fragment,Q),h(G.$$.fragment,Q),h(ke.$$.fragment,Q),h(ce.$$.fragment,Q),Fe=!0)},o(Q){g(e.$$.fragment,Q),g(a.$$.fragment,Q),g(_.$$.fragment,Q),g(k.$$.fragment,Q),g(P.$$.fragment,Q),g(M.$$.fragment,Q),g(Y.$$.fragment,Q),g(U.$$.fragment,Q),g(G.$$.fragment,Q),g(ke.$$.fragment,Q),g(ce.$$.fragment,Q),Fe=!1},d(Q){Q&&(d(o),d(m),d($),d(w),d(L),d(q),d(W),d(x),d(ue),d(te)),S(e,Q),S(a,Q),S(_,Q),S(k,Q),S(P,Q),S(M,Q),S(Y,Q),S(U,Q),S(G,Q),S(ke,Q),S(ce,Q)}}}function rp(r){let e,n;return e=new Ot({props:{onsubmit:r[21],saving:r[0],$$slots:{default:[lp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i[0]&1&&(l.saving=t[0]),i[0]&524286|i[1]&1024&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function sp(r,e,n){let t;const i=et();let{trainer:l}=e,{saving:s=!1}=e,o=l.name,a=l.level.data,f=l.ac,u=l.hp.max,c=l.hitDice.max,m=l.attributes.copy(),_=l.proficiencies.copy(),p=[...l.savingThrows],$=l.description,k=l.biography,v=l.avatar,w=l.money,P=structuredClone(l.specializations),H=structuredClone(l.path),L=l.feats.map(ee=>structuredClone(ee)),M,R=!0,q=structuredClone(l.inventory);const Y=()=>{i("cancel")},K=()=>{i("update",{trainer:{name:o,description:$,level:new vt(a),ac:f,hp:{current:l.hp.current+(u-l.hp.max),max:u},hitDice:{current:l.hitDice.current+(c-l.hitDice.max),max:c},attributes:m,proficiencies:_,savingThrows:p,biography:k,money:w,inventory:q,avatar:v,specializations:P,path:H,feats:L},updateAvatar:M})};function W(ee){o=ee,n(1,o)}function U(ee){a=ee,n(2,a)}function V(ee){f=ee,n(3,f)}function x(ee){u=ee,n(4,u)}function G(ee){c=ee,n(5,c)}function X(ee){k=ee,n(10,k)}function re(ee){M=ee,n(15,M)}function ue(ee){R=ee,n(16,R)}function ke(ee){m=ee,n(6,m)}function te(ee){_=ee,n(7,_)}function ce(ee){p=ee,n(8,p)}function Fe(ee){P=ee,n(12,P)}function Te(ee){H=ee,n(13,H)}function pe(ee){L=ee,n(14,L)}function he(ee){w=ee,n(11,w)}function ye(ee){q=ee,n(17,q)}function Ce(ee){$=ee,n(9,$)}return r.$$set=ee=>{"trainer"in ee&&n(22,l=ee.trainer),"saving"in ee&&n(0,s=ee.saving)},r.$$.update=()=>{r.$$.dirty[0]&1&&n(18,t=s)},[s,o,a,f,u,c,m,_,p,$,k,w,P,H,L,M,R,q,t,v,Y,K,l,W,U,V,x,G,X,re,ue,ke,te,ce,Fe,Te,pe,he,ye,Ce]}class ap extends se{constructor(e){super(),ae(this,e,sp,rp,oe,{trainer:22,saving:0},null,[-1,-1])}}function op(r){let e,n,t="You do not have permission to edit this trainer.",i,l,s;return l=new Qe({props:{$$slots:{default:[cp]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-1kn7ebq"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&66&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function fp(r){let e,n;return e=new ap({props:{trainer:r[1].info,saving:r[2]}}),e.$on("update",r[5]),e.$on("cancel",r[4]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2&&(l.trainer=t[1].info),i&4&&(l.saving=t[2]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function up(r){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function cp(r){let e,n;return e=new Pe({props:{href:ve.trainers(r[1].info.readKey),$$slots:{default:[up]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&2&&(l.href=ve.trainers(t[1].info.readKey)),i&64&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function mp(r){let e,n,t,i;const l=[fp,op],s=[];function o(a,f){return a[3]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function dp(r){let e,n,t,i;return e=new rt({props:{value:"Edit "+r[1].info.name}}),t=new it({props:{title:r[1].info.name,$$slots:{default:[mp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&2&&(o.value="Edit "+l[1].info.name),e.$set(o);const a={};s&2&&(a.title=l[1].info.name),s&78&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function _p(r,e,n){let t,i,l=Z,s=()=>(l(),l=Xe(o,c=>n(1,i=c)),o);r.$$.on_destroy.push(()=>l());let{trainer:o}=e;s();let a=!1;const f=()=>{xe(ve.trainers(i.info.readKey))},u=c=>{var m;n(2,a=!0),(m=i.update)==null||m.info(c.detail.trainer,{updateAvatar:c.detail.updateAvatar}).then(()=>{var _,p;return Promise.all([((_=i.update)==null?void 0:_.inventory(c.detail.trainer))??Promise.resolve(),((p=i.update)==null?void 0:p.trainerFeats(c.detail.trainer))??Promise.resolve()])}).then(()=>{n(2,a=!1),xe(ve.trainers(i.info.readKey))}).catch(()=>{n(2,a=!1)})};return r.$$set=c=>{"trainer"in c&&s(n(0,o=c.trainer))},r.$$.update=()=>{r.$$.dirty&2&&n(3,t=i.update!=null)},[o,i,a,t,f,u]}class pp extends se{constructor(e){super(),ae(this,e,_p,dp,oe,{trainer:0})}}function $p(r){let e,n,t="You do not have permission to retire this trainer.",i,l,s;return l=new Qe({props:{$$slots:{default:[vp]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-10ipcbz"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&66&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function hp(r){let e,n;return e=new tn({props:{saving:r[2],$$slots:{default:[Ep]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4&&(l.saving=t[2]),i&82&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function gp(r){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function vp(r){var t;let e,n;return e=new Pe({props:{href:ve.trainers((t=r[1])==null?void 0:t.info.readKey),$$slots:{default:[gp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,l){C(e,i,l),n=!0},p(i,l){var o;const s={};l&2&&(s.href=ve.trainers((o=i[1])==null?void 0:o.info.readKey)),l&64&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function bp(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function kp(r){let e;return{c(){e=B("Delete")},l(n){e=O(n,"Delete")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function wp(r){var l;let e,n,t,i;return e=new Pe({props:{href:ve.trainers((l=r[1])==null?void 0:l.info.readKey),variant:"ghost",$$slots:{default:[bp]},$$scope:{ctx:r}}}),t=new Pe({props:{variant:"danger",$$slots:{default:[kp]},$$scope:{ctx:r}}}),t.$on("click",r[5]),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(s){I(e.$$.fragment,s),n=N(s),I(t.$$.fragment,s)},m(s,o){C(e,s,o),b(s,n,o),C(t,s,o),i=!0},p(s,o){var u;const a={};o&2&&(a.href=ve.trainers((u=s[1])==null?void 0:u.info.readKey)),o&64&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const f={};o&64&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){i||(h(e.$$.fragment,s),h(t.$$.fragment,s),i=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),i=!1},d(s){s&&d(n),S(e,s),S(t,s)}}}function Ep(r){let e,n,t,i,l,s,o,a="<strong>This is permanent and cannot be undone!</strong>",f,u,c;return u=new Qe({props:{$$slots:{default:[wp]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to retire "),i=B(r[4]),l=B("? This will delete all of their data, including all of their pokemon, from our records."),s=F(),o=T("p"),o.innerHTML=a,f=F(),A(u.$$.fragment)},l(m){e=y(m,"SECTION",{});var _=z(e);n=y(_,"P",{});var p=z(n);t=O(p,"Are you sure you want to retire "),i=O(p,r[4]),l=O(p,"? This will delete all of their data, including all of their pokemon, from our records."),p.forEach(d),s=N(_),o=y(_,"P",{"data-svelte-h":!0}),$e(o)!=="svelte-1ocw14s"&&(o.innerHTML=a),f=N(_),I(u.$$.fragment,_),_.forEach(d)},m(m,_){b(m,e,_),E(e,n),E(n,t),E(n,i),E(n,l),E(e,s),E(e,o),E(e,f),C(u,e,null),c=!0},p(m,_){(!c||_&16)&&fe(i,m[4]);const p={};_&66&&(p.$$scope={dirty:_,ctx:m}),u.$set(p)},i(m){c||(h(u.$$.fragment,m),c=!0)},o(m){g(u.$$.fragment,m),c=!1},d(m){m&&d(e),S(u)}}}function Sp(r){let e,n,t,i;const l=[hp,$p],s=[];function o(a,f){return a[3]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Cp(r){let e,n,t,i;return e=new rt({props:{value:"Retire "+r[4]+"?"}}),t=new it({props:{title:"Retire "+r[4]+"?",$$slots:{default:[Sp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&16&&(o.value="Retire "+l[4]+"?"),e.$set(o);const a={};s&16&&(a.title="Retire "+l[4]+"?"),s&94&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function Ap(r,e,n){let t,i,l,s=Z,o=()=>(s(),s=Xe(a,c=>n(1,l=c)),a);r.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let f=!1;const u=()=>{var c;n(2,f=!0),(c=l.update)==null||c.retire().then(()=>{xe(ve.trainers())}).catch(()=>{n(2,f=!1)})};return r.$$set=c=>{"trainer"in c&&o(n(0,a=c.trainer))},r.$$.update=()=>{r.$$.dirty&2&&n(4,t=(l==null?void 0:l.info.name)??""),r.$$.dirty&2&&n(3,i=l.update!=null)},[a,l,f,i,t,u]}class Ip extends se{constructor(e){super(),ae(this,e,Ap,Cp,oe,{trainer:0})}}const yp="/_app/immutable/assets/find-access-key.BK3o4iYv.png";function Tp(r){let e,n="<p>A trainer&#39;s <dfn>Access Key</dfn> is a special code that allows you to manage a trainer&#39;s info and their pokemon. Each trainer has a unique key, and the key must be saved to each device from which you want to manage the trainer.</p>",t,i,l,s,o,a;const f=[Np,Dp],u=[];function c(m,_){return m[6]?0:1}return i=c(r),l=u[i]=f[i](r),o=new Qe({props:{$$slots:{default:[Lp]},$$scope:{ctx:r}}}),{c(){e=T("section"),e.innerHTML=n,t=F(),l.c(),s=F(),A(o.$$.fragment)},l(m){e=y(m,"SECTION",{"data-svelte-h":!0}),$e(e)!=="svelte-pmiax8"&&(e.innerHTML=n),t=N(m),l.l(m),s=N(m),I(o.$$.fragment,m)},m(m,_){b(m,e,_),b(m,t,_),u[i].m(m,_),b(m,s,_),C(o,m,_),a=!0},p(m,_){let p=i;i=c(m),i===p?u[i].p(m,_):(me(),g(u[p],1,1,()=>{u[p]=null}),de(),l=u[i],l?l.p(m,_):(l=u[i]=f[i](m),l.c()),h(l,1),l.m(s.parentNode,s));const $={};_&1028&&($.$$scope={dirty:_,ctx:m}),o.$set($)},i(m){a||(h(l),h(o.$$.fragment,m),a=!0)},o(m){g(l),g(o.$$.fragment,m),a=!1},d(m){m&&(d(e),d(t),d(s)),u[i].d(m),S(o,m)}}}function Pp(r){let e,n,t="<strong>Success!</strong>",i,l,s,o,a,f,u,c;return u=new Qe({props:{$$slots:{default:[Mp]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),n.innerHTML=t,i=F(),l=T("p"),s=B("You can now manage "),o=B(r[7]),a=B(" and their pokemon."),f=F(),A(u.$$.fragment)},l(m){e=y(m,"SECTION",{});var _=z(e);n=y(_,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-no3oh3"&&(n.innerHTML=t),i=N(_),l=y(_,"P",{});var p=z(l);s=O(p,"You can now manage "),o=O(p,r[7]),a=O(p," and their pokemon."),p.forEach(d),f=N(_),I(u.$$.fragment,_),_.forEach(d)},m(m,_){b(m,e,_),E(e,n),E(e,i),E(e,l),E(l,s),E(l,o),E(l,a),E(e,f),C(u,e,null),c=!0},p(m,_){(!c||_&128)&&fe(o,m[7]);const p={};_&1028&&(p.$$scope={dirty:_,ctx:m}),u.$set(p)},i(m){c||(h(u.$$.fragment,m),c=!0)},o(m){g(u.$$.fragment,m),c=!1},d(m){m&&d(e),S(u)}}}function Dp(r){let e,n;return e=new tn({props:{saving:r[3],caption:"Searching...",$$slots:{default:[Hp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.saving=t[3]),i&1178&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Np(r){let e,n,t,i,l,s,o,a;return o=new zs({props:{label:"Access Key",value:r[2].writeKey,disabled:!0}}),{c(){e=T("section"),n=T("p"),t=B("You currently have "),i=B(r[7]),l=B("'s access key saved to this device. To share this key, press Reveal below."),s=F(),A(o.$$.fragment)},l(f){e=y(f,"SECTION",{});var u=z(e);n=y(u,"P",{});var c=z(n);t=O(c,"You currently have "),i=O(c,r[7]),l=O(c,"'s access key saved to this device. To share this key, press Reveal below."),c.forEach(d),s=N(u),I(o.$$.fragment,u),u.forEach(d)},m(f,u){b(f,e,u),E(e,n),E(n,t),E(n,i),E(n,l),E(e,s),C(o,e,null),a=!0},p(f,u){(!a||u&128)&&fe(i,f[7]);const c={};u&4&&(c.value=f[2].writeKey),o.$set(c)},i(f){a||(h(o.$$.fragment,f),a=!0)},o(f){g(o.$$.fragment,f),a=!1},d(f){f&&d(e),S(o)}}}function Fp(r){let e,n,t;function i(s){r[9](s)}let l={label:"Access Key",placeholder:"e.g. JM7WEZ0YKW3WGC8I",disabled:r[3],required:!0};return r[1]!==void 0&&(l.value=r[1]),e=new ft({props:l}),ne.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&8&&(a.disabled=s[3]),!n&&o&2&&(n=!0,a.value=s[1],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function sr(r){let e,n="The provided access key does match this trainer's key";return{c(){e=T("p"),e.textContent=n,this.h()},l(t){e=y(t,"P",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-7yk1wk"&&(e.textContent=n),this.h()},h(){D(e,"class","font-sm error svelte-larh64")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Hp(r){let e,n,t,i,l,s,o,a,f,u,c,m,_,p,$,k,v,w,P,H,L,M=`<img src="${yp}" alt="&#39;Access Key&#39; is a button at the bottom of the trainer&#39;s page." width="800" height="250" class="svelte-larh64"/> <figcaption>Click this button to get the access key</figcaption>`,R,q,Y;u=new zr({props:{label:"Submit",type:"submit",$$slots:{default:[Fp]},$$scope:{ctx:r}}});let K=r[4].length>0&&r[4]===r[1]&&sr();return{c(){e=T("section"),n=T("p"),t=B("You currently do not have permission to manage "),i=B(r[7]),l=B(". To obtain permission, put "),s=B(r[7]),o=B("'s access key into the field below and press Submit."),a=F(),f=T("form"),A(u.$$.fragment),c=F(),K&&K.c(),m=F(),_=T("hr"),p=F(),$=T("section"),k=T("p"),v=B("If you are managing "),w=B(r[7]),P=B(" from another device, you can find their access code from the trainer's page."),H=F(),L=T("figure"),L.innerHTML=M,this.h()},l(W){e=y(W,"SECTION",{});var U=z(e);n=y(U,"P",{});var V=z(n);t=O(V,"You currently do not have permission to manage "),i=O(V,r[7]),l=O(V,". To obtain permission, put "),s=O(V,r[7]),o=O(V,"'s access key into the field below and press Submit."),V.forEach(d),a=N(U),f=y(U,"FORM",{class:!0});var x=z(f);I(u.$$.fragment,x),c=N(x),K&&K.l(x),x.forEach(d),U.forEach(d),m=N(W),_=y(W,"HR",{}),p=N(W),$=y(W,"SECTION",{});var G=z($);k=y(G,"P",{});var X=z(k);v=O(X,"If you are managing "),w=O(X,r[7]),P=O(X," from another device, you can find their access code from the trainer's page."),X.forEach(d),H=N(G),L=y(G,"FIGURE",{class:!0,"data-svelte-h":!0}),$e(L)!=="svelte-1p2g8w8"&&(L.innerHTML=M),G.forEach(d),this.h()},h(){D(f,"class","vertical spaced-lg svelte-larh64"),D(L,"class","spaced-lg svelte-larh64")},m(W,U){b(W,e,U),E(e,n),E(n,t),E(n,i),E(n,l),E(n,s),E(n,o),E(e,a),E(e,f),C(u,f,null),E(f,c),K&&K.m(f,null),b(W,m,U),b(W,_,U),b(W,p,U),b(W,$,U),E($,k),E(k,v),E(k,w),E(k,P),E($,H),E($,L),R=!0,q||(Y=ot(f,"submit",Ir(r[8])),q=!0)},p(W,U){(!R||U&128)&&fe(i,W[7]),(!R||U&128)&&fe(s,W[7]);const V={};U&1034&&(V.$$scope={dirty:U,ctx:W}),u.$set(V),W[4].length>0&&W[4]===W[1]?K||(K=sr(),K.c(),K.m(f,null)):K&&(K.d(1),K=null),(!R||U&128)&&fe(w,W[7])},i(W){R||(h(u.$$.fragment,W),R=!0)},o(W){g(u.$$.fragment,W),R=!1},d(W){W&&(d(e),d(m),d(_),d(p),d($)),S(u),K&&K.d(),q=!1,Y()}}}function zp(r){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Lp(r){var t;let e,n;return e=new Pe({props:{href:ve.trainers((t=r[2])==null?void 0:t.info.readKey),variant:"ghost",$$slots:{default:[zp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,l){C(e,i,l),n=!0},p(i,l){var o;const s={};l&4&&(s.href=ve.trainers((o=i[2])==null?void 0:o.info.readKey)),l&1024&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Rp(r){let e;return{c(){e=B("Go to Trainer's Page")},l(n){e=O(n,"Go to Trainer's Page")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Mp(r){var t;let e,n;return e=new Pe({props:{href:ve.trainers((t=r[2])==null?void 0:t.info.readKey),$$slots:{default:[Rp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,l){C(e,i,l),n=!0},p(i,l){var o;const s={};l&4&&(s.href=ve.trainers((o=i[2])==null?void 0:o.info.readKey)),l&1024&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Vp(r){let e,n,t,i;const l=[Pp,Tp],s=[];function o(a,f){return a[5]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Op(r){let e,n,t,i;return e=new rt({props:{value:r[7]+"'s Access Key"}}),t=new it({props:{title:r[7]+"'s Access Key",$$slots:{default:[Vp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&128&&(o.value=l[7]+"'s Access Key"),e.$set(o);const a={};s&128&&(a.title=l[7]+"'s Access Key"),s&1278&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function Bp(r,e,n){let t,i,l,s=Z,o=()=>(s(),s=Xe(a,$=>n(2,l=$)),a);r.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let f="",u=!1,c="",m=!1;const _=()=>{n(3,u=!0),a.verifyAccess(f).then($=>{$?n(5,m=!0):n(4,c=f)}).finally(()=>{n(3,u=!1)})};function p($){f=$,n(1,f)}return r.$$set=$=>{"trainer"in $&&o(n(0,a=$.trainer))},r.$$.update=()=>{r.$$.dirty&2&&n(1,f=f.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,"")),r.$$.dirty&4&&n(7,t=(l==null?void 0:l.info.name)??""),r.$$.dirty&4&&n(6,i=l.update!=null)},[a,f,l,u,c,m,i,t,_,p]}class qp extends se{constructor(e){super(),ae(this,e,Bp,Op,oe,{trainer:0})}}function Kp(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Up(r){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function jp(r){var l;let e,n,t,i;return e=new Pe({props:{href:ve.trainers((l=r[1])==null?void 0:l.info.readKey),variant:"ghost",$$slots:{default:[Kp]},$$scope:{ctx:r}}}),t=new Pe({props:{variant:"danger",$$slots:{default:[Up]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(s){I(e.$$.fragment,s),n=N(s),I(t.$$.fragment,s)},m(s,o){C(e,s,o),b(s,n,o),C(t,s,o),i=!0},p(s,o){var u;const a={};o&2&&(a.href=ve.trainers((u=s[1])==null?void 0:u.info.readKey)),o&32&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const f={};o&32&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){i||(h(e.$$.fragment,s),h(t.$$.fragment,s),i=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),i=!1},d(s){s&&d(n),S(e,s),S(t,s)}}}function Gp(r){let e,n,t,i,l,s,o,a,f,u="This is not a permanent removal. The trainer can still be accessed via their access code, and they will continue to exist on other devices' lists until removed from those devices explicitly.",c,m,_;return m=new Qe({props:{$$slots:{default:[jp]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to remove "),i=B(r[3]),l=B("? This will remove "),s=B(r[3]),o=B(" from your list of trainers."),a=F(),f=T("p"),f.textContent=u,c=F(),A(m.$$.fragment)},l(p){e=y(p,"SECTION",{});var $=z(e);n=y($,"P",{});var k=z(n);t=O(k,"Are you sure you want to remove "),i=O(k,r[3]),l=O(k,"? This will remove "),s=O(k,r[3]),o=O(k," from your list of trainers."),k.forEach(d),a=N($),f=y($,"P",{"data-svelte-h":!0}),$e(f)!=="svelte-148gamw"&&(f.textContent=u),c=N($),I(m.$$.fragment,$),$.forEach(d)},m(p,$){b(p,e,$),E(e,n),E(n,t),E(n,i),E(n,l),E(n,s),E(n,o),E(e,a),E(e,f),E(e,c),C(m,e,null),_=!0},p(p,$){(!_||$&8)&&fe(i,p[3]),(!_||$&8)&&fe(s,p[3]);const k={};$&34&&(k.$$scope={dirty:$,ctx:p}),m.$set(k)},i(p){_||(h(m.$$.fragment,p),_=!0)},o(p){g(m.$$.fragment,p),_=!1},d(p){p&&d(e),S(m)}}}function Yp(r){let e,n;return e=new tn({props:{saving:r[2],$$slots:{default:[Gp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4&&(l.saving=t[2]),i&42&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Wp(r){let e,n,t,i;return e=new rt({props:{value:"Remove "+r[3]+"?"}}),t=new it({props:{title:"Remove "+r[3]+"?",$$slots:{default:[Yp]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&8&&(o.value="Remove "+l[3]+"?"),e.$set(o);const a={};s&8&&(a.title="Remove "+l[3]+"?"),s&46&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function Qp(r,e,n){let t,i,l=Z,s=()=>(l(),l=Xe(o,u=>n(1,i=u)),o);r.$$.on_destroy.push(()=>l());let{trainer:o}=e;s();let a=!1;const f=()=>{n(2,a=!0),i.remove().then(()=>{xe(ve.trainers())}).catch(()=>{n(2,a=!1)})};return r.$$set=u=>{"trainer"in u&&s(n(0,o=u.trainer))},r.$$.update=()=>{r.$$.dirty&2&&n(3,t=(i==null?void 0:i.info.name)??"")},[o,i,a,t,f]}class Zp extends se{constructor(e){super(),ae(this,e,Qp,Wp,oe,{trainer:0})}}class Jp extends se{constructor(e){super(),ae(this,e,null,null,oe,{})}}const En=class En{roll(e){return Math.floor(Math.random()*e)+1}};Ne(En,"instance",new En);let Rn=En;class _n{description(e){return[`<strong>HP</strong>: ${e.hp.current} → ${e.hp.max}`]}isApplicable(e){return e.hp.current<e.hp.max}apply(e){return e.hp.current=e.hp.max,e}}class Mn{description(e){return[`<strong>Hit Dice</strong>: ${e.hitDice.current} → ${e.hitDice.max}`]}isApplicable(e){return e.hitDice.current<e.hitDice.max}apply(e){return e.hitDice.current=e.hitDice.max,e}}class mn{description(e){return[`<strong>Status</strong>: ${e.status??"None"} → None`]}isApplicable(e){return e.status!=null}apply(e){return e.status=null,e}}class ws{constructor(e,n,t=Rn.instance){this.amount=e,this.hitDice=n,this.diceRoller=t}description(e){const n=this.hitDice.sizeAsInt(),t=e.hp.current+(this.amount-1)*n>e.hp.max;return[`<strong>HP</strong>: ${e.hp.current} → +${this.amount}${this.hitDice.data}`,`<strong>Hit Dice</strong>: ${e.hitDice.current} → ${Math.max(0,e.hitDice.current-this.amount)}${t?" (or higher)":""}`]}isApplicable(e){return e.hp.current<e.hp.max}apply(e){const n=this.hitDice.sizeAsInt();for(let t=0;t<this.amount&&e.hp.current<e.hp.max&&e.hitDice.current>0;++t)e.hp.current=Math.min(e.hp.max,e.hp.current+this.diceRoller.roll(n)),e.hitDice.current-=1;return e}}class ar{description(){return["<strong>Move PP</strong>: Restored to max"]}isApplicable(){return!0}apply(e){return e.moves.forEach(n=>{n.pp.current=n.pp.max}),e}}class or{description(e){return[`<strong>Bond Points</strong>: ${e.bond.points.current} → ${e.bond.points.max}`]}isApplicable(e){return e.bond.points.current<e.bond.points.max}apply(e){return e.bond.points.current=e.bond.points.max,e}}class Xp{constructor(e){this.possiblePaths=e}description(e){const n=this.myResource(e);if(n!=null){const t=n.max(e),i=e.path.resource>t?e.path.resource:t;return[`<strong>${n.name}</strong>: ${e.path.resource} → ${i}`]}else return[]}isApplicable(e){const n=this.myResource(e);return n!=null&&e.path.resource<n.max(e)}apply(e){const n=this.myResource(e);if(n!=null){const t=n.max(e);e.path.resource=e.path.resource>t?e.path.resource:t}return e}myResource(e){var n;return(n=this.possiblePaths.find(t=>t.name===e.path.name))==null?void 0:n.resource}}class At{constructor(e,n){this.name=e,this.effects=n}apply(e){return this.effects.reduce((n,t)=>t.apply(n),e)}}const Vn={Long:()=>new At("Long Rest",[new _n,new Mn,new mn,new ar,new or]),Short:r=>new At("Short Rest",[new ws(r.hitDiceToSpend,r.hitDiceSize,r.diceRoller),new mn]),Pokecenter:r=>r.rulesVersion==="2018"?new At("Pokécenter",[new _n,new Mn,new mn,new ar,new or]):new At("Pokécenter",[new _n,new mn])},fr={Long:r=>new At("Long Rest",[new _n,new Mn,new Xp(r.trainerPaths)]),Short:r=>new At("Short Rest",[new ws(r.hitDiceToSpend,r.hitDiceSize,r.diceRoller)]),Pokecenter:()=>new At("Pokécenter",[])};function ur(r,e,n){const t=r.slice();return t[16]=e[n],t}function cr(r,e,n){const t=r.slice();return t[19]=e[n],t}function xp(r){let e,n,t;function i(s){r[13](s)}let l={label:"Rest Choices",values:r[8],required:!0};return r[3]!==void 0&&(l.checked=r[3]),e=new Cn({props:l}),ne.push(()=>ie(e,"checked",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};!n&&o&8&&(n=!0,a.checked=s[3],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function mr(r){let e,n,t,i="Resting will have these effects:",l,s,o=r[3]==="Short"&&dr(r);function a(c,m){return c[6].length>0?n$:t$}let f=a(r),u=f(r);return{c(){o&&o.c(),e=F(),n=T("div"),t=T("p"),t.textContent=i,l=F(),u.c(),this.h()},l(c){o&&o.l(c),e=N(c),n=y(c,"DIV",{class:!0});var m=z(n);t=y(m,"P",{"data-svelte-h":!0}),$e(t)!=="svelte-1nc30jv"&&(t.textContent=i),l=N(m),u.l(m),m.forEach(d),this.h()},h(){D(n,"class","effects svelte-1vw4dj1")},m(c,m){o&&o.m(c,m),b(c,e,m),b(c,n,m),E(n,t),E(n,l),u.m(n,null),s=!0},p(c,m){c[3]==="Short"?o?(o.p(c,m),m&8&&h(o,1)):(o=dr(c),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(me(),g(o,1,1,()=>{o=null}),de()),f===(f=a(c))&&u?u.p(c,m):(u.d(1),u=f(c),u&&(u.c(),u.m(n,null)))},i(c){s||(h(o),s=!0)},o(c){g(o),s=!1},d(c){c&&(d(e),d(n)),o&&o.d(c),u.d()}}}function dr(r){let e,n,t,i,l;function s(a){r[14](a)}let o={label:"Max Hit Dice to Spend",min:0,max:r[0].hitDice.current};return r[4]!==void 0&&(o.value=r[4]),e=new nt({props:o}),ne.push(()=>ie(e,"value",s)),i=new Un({props:{$$slots:{default:[e$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),t=F(),A(i.$$.fragment)},l(a){I(e.$$.fragment,a),t=N(a),I(i.$$.fragment,a)},m(a,f){C(e,a,f),b(a,t,f),C(i,a,f),l=!0},p(a,f){const u={};f&1&&(u.max=a[0].hitDice.current),!n&&f&16&&(n=!0,u.value=a[4],le(()=>n=!1)),e.$set(u);const c={};f&4194304&&(c.$$scope={dirty:f,ctx:a}),i.$set(c)},i(a){l||(h(e.$$.fragment,a),h(i.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(i.$$.fragment,a),l=!1},d(a){a&&d(t),S(e,a),S(i,a)}}}function e$(r){let e;return{c(){e=B("This will stop spending hit dice once max HP is reached.")},l(n){e=O(n,"This will stop spending hit dice once max HP is reached.")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function t$(r){let e,n="This Pokémon is already well-rested.";return{c(){e=T("p"),e.textContent=n},l(t){e=y(t,"P",{"data-svelte-h":!0}),$e(e)!=="svelte-gsd9ep"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function n$(r){let e,n=De(r[6]),t=[];for(let i=0;i<n.length;i+=1)t[i]=pr(ur(r,n,i));return{c(){e=T("ul");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=y(i,"UL",{});var l=z(e);for(let s=0;s<t.length;s+=1)t[s].l(l);l.forEach(d)},m(i,l){b(i,e,l);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,l){if(l&65){n=De(i[6]);let s;for(s=0;s<n.length;s+=1){const o=ur(i,n,s);t[s]?t[s].p(o,l):(t[s]=pr(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),tt(t,i)}}}function _r(r){let e,n,t=r[19]+"";return{c(){e=T("li"),n=new qn(!1),this.h()},l(i){e=y(i,"LI",{});var l=z(e);n=Bn(l,!1),l.forEach(d),this.h()},h(){n.a=null},m(i,l){b(i,e,l),n.m(t,e)},p(i,l){l&65&&t!==(t=i[19]+"")&&n.p(t)},d(i){i&&d(e)}}}function pr(r){let e,n=De(r[16].description(r[0])),t=[];for(let i=0;i<n.length;i+=1)t[i]=_r(cr(r,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=J()},l(i){for(let l=0;l<t.length;l+=1)t[l].l(i);e=J()},m(i,l){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,l);b(i,e,l)},p(i,l){if(l&65){n=De(i[16].description(i[0]));let s;for(s=0;s<n.length;s+=1){const o=cr(i,n,s);t[s]?t[s].p(o,l):(t[s]=_r(o),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),tt(t,i)}}}function i$(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function l$(r){let e;return{c(){e=B("Rest!")},l(n){e=O(n,"Rest!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function r$(r){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:r[7],$$slots:{default:[i$]},$$scope:{ctx:r}}}),e.$on("click",r[10]),t=new Pe({props:{type:"submit",disabled:r[7]||r[5]==null,$$slots:{default:[l$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s&128&&(o.disabled=l[7]),s&4194304&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&160&&(a.disabled=l[7]||l[5]==null),s&4194304&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function s$(r){let e,n,t,i,l,s,o,a,f;n=new Ze({props:{title:"Choose one",columns:1,$$slots:{default:[xp]},$$scope:{ctx:r}}}),i=new Kn({props:{avatar:r[0].avatar,media:r[1].media,shiny:r[0].isShiny,alt:r[0].nickname??r[1].data.name}});let u=r[5]!=null&&mr(r);return a=new Qe({props:{$$slots:{default:[r$]},$$scope:{ctx:r}}}),{c(){e=T("div"),A(n.$$.fragment),t=F(),A(i.$$.fragment),l=F(),s=T("section"),u&&u.c(),o=F(),A(a.$$.fragment),this.h()},l(c){e=y(c,"DIV",{class:!0});var m=z(e);I(n.$$.fragment,m),t=N(m),I(i.$$.fragment,m),m.forEach(d),l=N(c),s=y(c,"SECTION",{class:!0});var _=z(s);u&&u.l(_),_.forEach(d),o=N(c),I(a.$$.fragment,c),this.h()},h(){D(e,"class","art-row svelte-1vw4dj1"),D(s,"class","svelte-1vw4dj1"),Ee(s,"min-height","8em")},m(c,m){b(c,e,m),C(n,e,null),E(e,t),C(i,e,null),b(c,l,m),b(c,s,m),u&&u.m(s,null),b(c,o,m),C(a,c,m),f=!0},p(c,m){const _={};m&4194312&&(_.$$scope={dirty:m,ctx:c}),n.$set(_);const p={};m&1&&(p.avatar=c[0].avatar),m&2&&(p.media=c[1].media),m&1&&(p.shiny=c[0].isShiny),m&3&&(p.alt=c[0].nickname??c[1].data.name),i.$set(p),c[5]!=null?u?(u.p(c,m),m&32&&h(u,1)):(u=mr(c),u.c(),h(u,1),u.m(s,null)):u&&(me(),g(u,1,1,()=>{u=null}),de());const $={};m&4194464&&($.$$scope={dirty:m,ctx:c}),a.$set($)},i(c){f||(h(n.$$.fragment,c),h(i.$$.fragment,c),h(u),h(a.$$.fragment,c),f=!0)},o(c){g(n.$$.fragment,c),g(i.$$.fragment,c),g(u),g(a.$$.fragment,c),f=!1},d(c){c&&(d(e),d(l),d(s),d(o)),S(n),S(i),u&&u.d(),S(a,c)}}}function a$(r){let e,n;return e=new Ot({props:{onsubmit:r[9],saving:r[2],$$slots:{default:[s$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&4&&(l.saving=t[2]),i&4194555&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function o$(r,e,n){let t,i,l,s,o;Ve(r,Bt,P=>n(12,o=P));const a=et();let{pokemon:f}=e,{species:u}=e,{saving:c=!1}=e,m,_=0;const p=Object.entries(Vn).map(([P,H])=>({name:H({hitDiceToSpend:0,hitDiceSize:i,rulesVersion:o}).name,value:P})),$=()=>{const P=l.apply(f);a("submit",P)},k=()=>{a("cancel")};function v(P){m=P,n(3,m)}function w(P){_=P,n(4,_)}return r.$$set=P=>{"pokemon"in P&&n(0,f=P.pokemon),"species"in P&&n(1,u=P.species),"saving"in P&&n(2,c=P.saving)},r.$$.update=()=>{r.$$.dirty&4&&n(7,t=c),r.$$.dirty&3&&n(11,i=f.customHitDiceSize??u.hitDice),r.$$.dirty&6168&&n(5,l=m?Vn[m]({hitDiceToSpend:_,hitDiceSize:i,rulesVersion:o}):void 0),r.$$.dirty&33&&n(6,s=(l==null?void 0:l.effects.filter(P=>P.isApplicable(f)))??[])},[f,u,c,m,_,l,s,t,p,$,k,i,o,v,w]}class f$ extends se{constructor(e){super(),ae(this,e,o$,a$,oe,{pokemon:0,species:1,saving:2})}}function u$(r){let e,n,t;return n=new rs({props:{media:r[3].media,alt:""}}),{c(){e=T("div"),A(n.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var l=z(e);I(n.$$.fragment,l),l.forEach(d),this.h()},h(){D(e,"class","img-container svelte-1bp8uml")},m(i,l){b(i,e,l),C(n,e,null),t=!0},p(i,l){const s={};l&8&&(s.media=i[3].media),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function c$(r){let e,n,t;return n=new Pt({props:{ids:r[1],$$slots:{default:[u$,({species:i})=>({3:i}),({species:i})=>i?8:0]},$$scope:{ctx:r}}}),{c(){e=T("figure"),A(n.$$.fragment),this.h()},l(i){e=y(i,"FIGURE",{"aria-hidden":!0,class:!0});var l=z(e);I(n.$$.fragment,l),l.forEach(d),this.h()},h(){D(e,"aria-hidden","true"),D(e,"class","svelte-1bp8uml"),Ue(e,"darken",r[0])},m(i,l){b(i,e,l),C(n,e,null),t=!0},p(i,[l]){const s={};l&2&&(s.ids=i[1]),l&24&&(s.$$scope={dirty:l,ctx:i}),n.$set(s),(!t||l&1)&&Ue(e,"darken",i[0])},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function m$(r,e,n){let t,{pokemon:i}=e,{darken:l=!1}=e;return r.$$set=s=>{"pokemon"in s&&n(2,i=s.pokemon),"darken"in s&&n(0,l=s.darken)},r.$$.update=()=>{r.$$.dirty&4&&n(1,t=i.map(s=>s.pokemonId))},[l,t,i]}class d$ extends se{constructor(e){super(),ae(this,e,m$,c$,oe,{pokemon:2,darken:0})}}function $r(r,e,n){const t=r.slice();return t[23]=e[n],t}function hr(r,e,n){const t=r.slice();return t[26]=e[n],t}function _$(r){let e,n,t;function i(s){r[17](s)}let l={label:"Rest Choices",values:r[10],required:!0};return r[3]!==void 0&&(l.checked=r[3]),e=new Cn({props:l}),ne.push(()=>ie(e,"checked",i)),{c(){A(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};!n&&o&8&&(n=!0,a.checked=s[3],le(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function gr(r){let e,n;return e=new Lr({props:{src:r[0].info.avatar.href,alt:r[0].info.name}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&1&&(l.src=t[0].info.avatar.href),i&1&&(l.alt=t[0].info.name),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function vr(r){let e,n,t,i=r[3]==="Short"&&br(r);function l(a,f){return a[3]==="Pokecenter"?h$:$$}let s=l(r),o=s(r);return{c(){i&&i.c(),e=F(),n=T("div"),o.c(),this.h()},l(a){i&&i.l(a),e=N(a),n=y(a,"DIV",{class:!0});var f=z(n);o.l(f),f.forEach(d),this.h()},h(){D(n,"class","effects svelte-cnvk8h")},m(a,f){i&&i.m(a,f),b(a,e,f),b(a,n,f),o.m(n,null),t=!0},p(a,f){a[3]==="Short"?i?(i.p(a,f),f&8&&h(i,1)):(i=br(a),i.c(),h(i,1),i.m(e.parentNode,e)):i&&(me(),g(i,1,1,()=>{i=null}),de()),s===(s=l(a))&&o?o.p(a,f):(o.d(1),o=s(a),o&&(o.c(),o.m(n,null)))},i(a){t||(h(i),t=!0)},o(a){g(i),t=!1},d(a){a&&(d(e),d(n)),i&&i.d(a),o.d()}}}function br(r){let e,n,t,i,l;function s(a){r[19](a)}let o={label:"Max Hit Dice to Spend",min:0,max:r[0].info.hitDice.current,disabled:r[9]};return r[4]!==void 0&&(o.value=r[4]),e=new nt({props:o}),ne.push(()=>ie(e,"value",s)),i=new Un({props:{$$slots:{default:[p$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),t=F(),A(i.$$.fragment)},l(a){I(e.$$.fragment,a),t=N(a),I(i.$$.fragment,a)},m(a,f){C(e,a,f),b(a,t,f),C(i,a,f),l=!0},p(a,f){const u={};f&1&&(u.max=a[0].info.hitDice.current),f&512&&(u.disabled=a[9]),!n&&f&16&&(n=!0,u.value=a[4],le(()=>n=!1)),e.$set(u);const c={};f&536870912&&(c.$$scope={dirty:f,ctx:a}),i.$set(c)},i(a){l||(h(e.$$.fragment,a),h(i.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),g(i.$$.fragment,a),l=!1},d(a){a&&d(t),S(e,a),S(i,a)}}}function p$(r){let e;return{c(){e=B("This will stop spending hit dice once max HP is reached.")},l(n){e=O(n,"This will stop spending hit dice once max HP is reached.")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function $$(r){let e,n=r[0].info.name+"",t,i,l,s,o;function a(m,_){return m[8].length>0?v$:g$}let f=a(r),u=f(r),c=r[7]&&Er(r);return{c(){e=T("p"),t=B(n),i=B(" will benefit from these effects:"),l=F(),u.c(),s=F(),c&&c.c(),o=J()},l(m){e=y(m,"P",{});var _=z(e);t=O(_,n),i=O(_," will benefit from these effects:"),_.forEach(d),l=N(m),u.l(m),s=N(m),c&&c.l(m),o=J()},m(m,_){b(m,e,_),E(e,t),E(e,i),b(m,l,_),u.m(m,_),b(m,s,_),c&&c.m(m,_),b(m,o,_)},p(m,_){_&1&&n!==(n=m[0].info.name+"")&&fe(t,n),f===(f=a(m))&&u?u.p(m,_):(u.d(1),u=f(m),u&&(u.c(),u.m(s.parentNode,s))),m[7]?c?c.p(m,_):(c=Er(m),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(m){m&&(d(e),d(l),d(s),d(o)),u.d(m),c&&c.d(m)}}}function h$(r){let e;function n(l,s){return l[7]?k$:b$}let t=n(r),i=t(r);return{c(){i.c(),e=J()},l(l){i.l(l),e=J()},m(l,s){i.m(l,s),b(l,e,s)},p(l,s){t===(t=n(l))&&i?i.p(l,s):(i.d(1),i=t(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){l&&d(e),i.d(l)}}}function g$(r){let e,n=r[0].info.name+"",t,i;return{c(){e=T("p"),t=B(n),i=B(" is already well-rested.")},l(l){e=y(l,"P",{});var s=z(e);t=O(s,n),i=O(s," is already well-rested."),s.forEach(d)},m(l,s){b(l,e,s),E(e,t),E(e,i)},p(l,s){s&1&&n!==(n=l[0].info.name+"")&&fe(t,n)},d(l){l&&d(e)}}}function v$(r){let e,n=De(r[8]),t=[];for(let i=0;i<n.length;i+=1)t[i]=wr($r(r,n,i));return{c(){e=T("ul");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=y(i,"UL",{});var l=z(e);for(let s=0;s<t.length;s+=1)t[s].l(l);l.forEach(d)},m(i,l){b(i,e,l);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,l){if(l&257){n=De(i[8]);let s;for(s=0;s<n.length;s+=1){const o=$r(i,n,s);t[s]?t[s].p(o,l):(t[s]=wr(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),tt(t,i)}}}function kr(r){let e,n,t=r[26]+"";return{c(){e=T("li"),n=new qn(!1),this.h()},l(i){e=y(i,"LI",{});var l=z(e);n=Bn(l,!1),l.forEach(d),this.h()},h(){n.a=null},m(i,l){b(i,e,l),n.m(t,e)},p(i,l){l&257&&t!==(t=i[26]+"")&&n.p(t)},d(i){i&&d(e)}}}function wr(r){let e,n=De(r[23].description(r[0].info)),t=[];for(let i=0;i<n.length;i+=1)t[i]=kr(hr(r,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=J()},l(i){for(let l=0;l<t.length;l+=1)t[l].l(i);e=J()},m(i,l){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,l);b(i,e,l)},p(i,l){if(l&257){n=De(i[23].description(i[0].info));let s;for(s=0;s<n.length;s+=1){const o=hr(i,n,s);t[s]?t[s].p(o,l):(t[s]=kr(o),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),tt(t,i)}}}function Er(r){let e,n,t,i;return{c(){e=T("p"),n=B("Additionally, their Pokémon will undergo a "),t=B(r[3]),i=B(" Rest.")},l(l){e=y(l,"P",{});var s=z(e);n=O(s,"Additionally, their Pokémon will undergo a "),t=O(s,r[3]),i=O(s," Rest."),s.forEach(d)},m(l,s){b(l,e,s),E(e,n),E(e,t),E(e,i)},p(l,s){s&8&&fe(t,l[3])},d(l){l&&d(e)}}}function b$(r){let e,n=r[0].info.name+"",t,i,l,s,o,a,f,u=r[0].info.name+"",c,m,_;return{c(){e=T("p"),t=B(n),i=B(" does not benefit directly from resting at a Pokécenter!"),l=F(),s=T("p"),o=B("Ensure the "),a=T("strong"),f=B('"Apply to '),c=B(u),m=B(`'s Pokémon Also"`),_=B(" is checked above to rest all of your Pokémon at the center")},l(p){e=y(p,"P",{});var $=z(e);t=O($,n),i=O($," does not benefit directly from resting at a Pokécenter!"),$.forEach(d),l=N(p),s=y(p,"P",{});var k=z(s);o=O(k,"Ensure the "),a=y(k,"STRONG",{});var v=z(a);f=O(v,'"Apply to '),c=O(v,u),m=O(v,`'s Pokémon Also"`),v.forEach(d),_=O(k," is checked above to rest all of your Pokémon at the center"),k.forEach(d)},m(p,$){b(p,e,$),E(e,t),E(e,i),b(p,l,$),b(p,s,$),E(s,o),E(s,a),E(a,f),E(a,c),E(a,m),E(s,_)},p(p,$){$&1&&n!==(n=p[0].info.name+"")&&fe(t,n),$&1&&u!==(u=p[0].info.name+"")&&fe(c,u)},d(p){p&&(d(e),d(l),d(s))}}}function k$(r){let e,n="Resting will have these effects:",t,i,l,s=r[0].info.name+"",o,a,f,u;return{c(){e=T("p"),e.textContent=n,t=F(),i=T("ul"),l=T("li"),o=B(s),a=B("'s Pokémon will benefit from a "),f=B(r[3]),u=B(" Rest.")},l(c){e=y(c,"P",{"data-svelte-h":!0}),$e(e)!=="svelte-1nc30jv"&&(e.textContent=n),t=N(c),i=y(c,"UL",{});var m=z(i);l=y(m,"LI",{});var _=z(l);o=O(_,s),a=O(_,"'s Pokémon will benefit from a "),f=O(_,r[3]),u=O(_," Rest."),_.forEach(d),m.forEach(d)},m(c,m){b(c,e,m),b(c,t,m),b(c,i,m),E(i,l),E(l,o),E(l,a),E(l,f),E(l,u)},p(c,m){m&1&&s!==(s=c[0].info.name+"")&&fe(o,s),m&8&&fe(f,c[3])},d(c){c&&(d(e),d(t),d(i))}}}function w$(r){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function E$(r){let e;return{c(){e=B("Rest!")},l(n){e=O(n,"Rest!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function S$(r){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:r[9],$$slots:{default:[w$]},$$scope:{ctx:r}}}),e.$on("click",r[12]),t=new Pe({props:{type:"submit",disabled:r[9]||r[6]==null,$$slots:{default:[E$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,s){const o={};s&512&&(o.disabled=l[9]),s&536870912&&(o.$$scope={dirty:s,ctx:l}),e.$set(o);const a={};s&576&&(a.disabled=l[9]||l[6]==null),s&536870912&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function C$(r){var P;let e,n,t,i,l,s,o,a,f,u,c,m,_,p;n=new Ze({props:{title:"Choose one",columns:1,$$slots:{default:[_$]},$$scope:{ctx:r}}});let $=((P=r[0].info.avatar)==null?void 0:P.href)&&gr(r);function k(H){r[18](H)}let v={label:"Apply to "+r[0].info.name+"'s Pokémon also",name:Wt,values:[{name:`Apply to ${r[0].info.name}'s Pokémon also`,value:Wt}],disabled:r[9]};r[5]!==void 0&&(v.checked=r[5]),s=new oa({props:v}),ne.push(()=>ie(s,"checked",k)),f=new d$({props:{pokemon:r[0].pokemon,darken:!r[7]}});let w=r[6]!=null&&vr(r);return _=new Qe({props:{$$slots:{default:[S$]},$$scope:{ctx:r}}}),{c(){e=T("div"),A(n.$$.fragment),t=F(),$&&$.c(),i=F(),l=T("section"),A(s.$$.fragment),a=F(),A(f.$$.fragment),u=F(),c=T("section"),w&&w.c(),m=F(),A(_.$$.fragment),this.h()},l(H){e=y(H,"DIV",{class:!0});var L=z(e);I(n.$$.fragment,L),t=N(L),$&&$.l(L),L.forEach(d),i=N(H),l=y(H,"SECTION",{class:!0});var M=z(l);I(s.$$.fragment,M),a=N(M),I(f.$$.fragment,M),M.forEach(d),u=N(H),c=y(H,"SECTION",{class:!0});var R=z(c);w&&w.l(R),R.forEach(d),m=N(H),I(_.$$.fragment,H),this.h()},h(){D(e,"class","art-row svelte-cnvk8h"),D(l,"class","pokemon svelte-cnvk8h"),D(c,"class","svelte-cnvk8h"),Ee(c,"min-height","8em")},m(H,L){b(H,e,L),C(n,e,null),E(e,t),$&&$.m(e,null),b(H,i,L),b(H,l,L),C(s,l,null),E(l,a),C(f,l,null),b(H,u,L),b(H,c,L),w&&w.m(c,null),b(H,m,L),C(_,H,L),p=!0},p(H,L){var K;const M={};L&536870920&&(M.$$scope={dirty:L,ctx:H}),n.$set(M),(K=H[0].info.avatar)!=null&&K.href?$?($.p(H,L),L&1&&h($,1)):($=gr(H),$.c(),h($,1),$.m(e,null)):$&&(me(),g($,1,1,()=>{$=null}),de());const R={};L&1&&(R.label="Apply to "+H[0].info.name+"'s Pokémon also"),L&1&&(R.values=[{name:`Apply to ${H[0].info.name}'s Pokémon also`,value:Wt}]),L&512&&(R.disabled=H[9]),!o&&L&32&&(o=!0,R.checked=H[5],le(()=>o=!1)),s.$set(R);const q={};L&1&&(q.pokemon=H[0].pokemon),L&128&&(q.darken=!H[7]),f.$set(q),H[6]!=null?w?(w.p(H,L),L&64&&h(w,1)):(w=vr(H),w.c(),h(w,1),w.m(c,null)):w&&(me(),g(w,1,1,()=>{w=null}),de());const Y={};L&536871488&&(Y.$$scope={dirty:L,ctx:H}),_.$set(Y)},i(H){p||(h(n.$$.fragment,H),h($),h(s.$$.fragment,H),h(f.$$.fragment,H),h(w),h(_.$$.fragment,H),p=!0)},o(H){g(n.$$.fragment,H),g($),g(s.$$.fragment,H),g(f.$$.fragment,H),g(w),g(_.$$.fragment,H),p=!1},d(H){H&&(d(e),d(i),d(l),d(u),d(c),d(m)),S(n),$&&$.d(),S(s),S(f),w&&w.d(),S(_,H)}}}function A$(r){let e,n;return e=new Ot({props:{onsubmit:r[11],saving:r[1],$$slots:{default:[C$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&2&&(l.saving=t[1]),i&536871929&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const Wt="apply-to-pokemon";function I$(r,e,n){let t,i,l,s,o,a,f,u,c,m=Z,_=()=>(m(),m=Xe(v,U=>n(20,c=U)),v);Ve(r,Bt,U=>n(15,f=U)),Ve(r,ps,U=>n(16,u=U)),r.$$.on_destroy.push(()=>m());const p=et();let{trainer:$}=e,{saving:k=!1}=e,{allSpecies:v}=e;_();const w=U=>c.find(V=>V.id.data===U.data);let P,H=0,L=[Wt];const M=Object.entries(fr).map(([U,V])=>({name:V({hitDiceToSpend:0,hitDiceSize:i,trainerPaths:l}).name,value:U})),R=()=>{const U=o.apply($.info);n(0,$.info=U,$),s&&n(0,$.pokemon=$.pokemon.map(V=>{const x=V.customHitDiceSize??w(V.pokemonId).hitDice;return Vn[P]({hitDiceToSpend:H,hitDiceSize:x,rulesVersion:f}).apply(V)}),$),p("submit",{trainer:$,didUpdatePokemon:s})},q=()=>{p("cancel")};function Y(U){P=U,n(3,P)}function K(U){L=U,n(5,L)}function W(U){H=U,n(4,H)}return r.$$set=U=>{"trainer"in U&&n(0,$=U.trainer),"saving"in U&&n(1,k=U.saving),"allSpecies"in U&&_(n(2,v=U.allSpecies))},r.$$.update=()=>{r.$$.dirty&2&&n(9,t=k),r.$$.dirty&65536&&n(14,i=u),r.$$.dirty&32768&&n(13,l=Wr[f]),r.$$.dirty&32&&n(7,s=L.includes(Wt)),r.$$.dirty&24600&&n(6,o=P?fr[P]({hitDiceToSpend:H,hitDiceSize:i,trainerPaths:l}):void 0),r.$$.dirty&65&&n(8,a=(o==null?void 0:o.effects.filter(U=>U.isApplicable($.info)))??[])},[$,k,v,P,H,L,o,s,a,t,M,R,q,l,i,f,u,Y,K,W]}class y$ extends se{constructor(e){super(),ae(this,e,I$,A$,oe,{trainer:0,saving:1,allSpecies:2})}}function T$(r){let e,n,t="You do not have permission to edit this pokemon.",i,l,s;return l=new Qe({props:{$$slots:{default:[N$]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-1ag681u"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&518&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function P$(r){let e,n;return e=new f$({props:{pokemon:r[4],species:r[8],saving:r[3]}}),e.$on("cancel",r[7]),e.$on("submit",r[6]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.pokemon=t[4]),i&256&&(l.species=t[8]),i&8&&(l.saving=t[3]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function D$(r){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function N$(r){let e,n;return e=new Pe({props:{href:ve.trainers(r[2].info.readKey,r[1]),$$slots:{default:[D$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&6&&(l.href=ve.trainers(t[2].info.readKey,t[1])),i&512&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function F$(r){let e,n,t,i;const l=[P$,T$],s=[];function o(a,f){return a[5]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function H$(r){let e,n;return e=new it({props:{title:"Rest "+r[4].nickname,$$slots:{default:[F$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.title="Rest "+t[4].nickname),i&830&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function z$(r){var t;let e,n;return e=new Pt({props:{ids:[(t=r[4])==null?void 0:t.pokemonId],$$slots:{default:[H$,({species:i})=>({8:i}),({species:i})=>i?256:0]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,l){C(e,i,l),n=!0},p(i,l){var o;const s={};l&16&&(s.ids=[(o=i[4])==null?void 0:o.pokemonId]),l&830&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function L$(r){let e,n;return e=new sn({props:{trainer:r[2],id:r[1],titlePrefix:"Rest",$$slots:{default:[z$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const l={};i&4&&(l.trainer=t[2]),i&2&&(l.id=t[1]),i&574&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function R$(r,e,n){let t,i,l,s=Z,o=()=>(s(),s=Xe(a,_=>n(2,l=_)),a);r.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let{id:f}=e,u=!1;const c=_=>{var p,$;n(3,u=!0),Promise.all([(p=l.update)==null?void 0:p.pokemon(_.detail),($=l.update)==null?void 0:$.moveset(_.detail)]).then(()=>{n(3,u=!1),xe(ve.trainers(l.info.readKey,f))}).catch(()=>{n(3,u=!1)})},m=()=>{xe(ve.trainers(l.info.readKey,f))};return r.$$set=_=>{"trainer"in _&&o(n(0,a=_.trainer)),"id"in _&&n(1,f=_.id)},r.$$.update=()=>{r.$$.dirty&4&&n(5,t=l.update!=null),r.$$.dirty&6&&n(4,i=l.pokemon.find(_=>_.id===f))},[a,f,l,u,i,t,c,m]}class M$ extends se{constructor(e){super(),ae(this,e,R$,L$,oe,{trainer:0,id:1})}}function V$(r){let e,n,t="You do not have permission to edit this trainer.",i,l,s;return l=new Qe({props:{$$slots:{default:[q$]},$$scope:{ctx:r}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),A(l.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=z(e);n=y(a,"P",{"data-svelte-h":!0}),$e(n)!=="svelte-1kn7ebq"&&(n.textContent=t),i=N(a),I(l.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(l,e,null),s=!0},p(o,a){const f={};a&132&&(f.$$scope={dirty:a,ctx:o}),l.$set(f)},i(o){s||(h(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&d(e),S(l)}}}function O$(r){let e,n;return e=new y$({props:{trainer:r[2],allSpecies:r[1],saving:r[3]}}),e.$on("cancel",r[6]),e.$on("submit",r[5]),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4&&(l.trainer=t[2]),i&2&&(l.allSpecies=t[1]),i&8&&(l.saving=t[3]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function B$(r){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function q$(r){let e,n;return e=new Pe({props:{href:ve.trainers(r[2].info.readKey),$$slots:{default:[B$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&4&&(l.href=ve.trainers(t[2].info.readKey)),i&128&&(l.$$scope={dirty:i,ctx:t}),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function K$(r){let e,n,t,i;const l=[O$,V$],s=[];function o(a,f){return a[4]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function U$(r){let e,n,t,i;return e=new rt({props:{value:"Rest "+r[2].info.name}}),t=new it({props:{title:"Rest "+r[2].info.name,$$slots:{default:[K$]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&4&&(o.value="Rest "+l[2].info.name),e.$set(o);const a={};s&4&&(a.title="Rest "+l[2].info.name),s&158&&(a.$$scope={dirty:s,ctx:l}),t.$set(a)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function j$(r,e,n){let t,i,l=Z,s=()=>(l(),l=Xe(o,m=>n(2,i=m)),o);r.$$.on_destroy.push(()=>l());let{trainer:o}=e;s();let{allSpecies:a}=e,f=!1;const u=m=>{var p;n(3,f=!0);const _=[(p=i.update)==null?void 0:p.info(m.detail.trainer.info)];m.detail.didUpdatePokemon&&(_.push(...m.detail.trainer.pokemon.map($=>{var k;return(k=i.update)==null?void 0:k.pokemon($)})),_.push(...m.detail.trainer.pokemon.map($=>{var k;return(k=i.update)==null?void 0:k.moveset($)}))),Promise.all(_).then(()=>{n(3,f=!1),xe(ve.trainers(i.info.readKey))}).catch(()=>{n(3,f=!1)})},c=()=>{xe(ve.trainers(i.info.readKey))};return r.$$set=m=>{"trainer"in m&&s(n(0,o=m.trainer)),"allSpecies"in m&&n(1,a=m.allSpecies)},r.$$.update=()=>{r.$$.dirty&4&&n(4,t=i.update!=null)},[o,a,i,f,t,u,c]}class G$ extends se{constructor(e){super(),ae(this,e,j$,U$,oe,{trainer:0,allSpecies:1})}}function Y$(r){let e,n;return e=new rt({props:{value:"Trainers"}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function W$(r){let e,n;return e=new O_({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Q$(r){let e,n;return e=new ud({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Z$(r){let e,n,t,i={ctx:r,current:null,token:null,hasCatch:!0,pending:kh,then:X$,catch:J$,value:4,error:7,blocks:[,,,]};return ct(n=r[4],i),{c(){e=J(),i.block.c()},l(l){e=J(),i.block.l(l)},m(l,s){b(l,e,s),i.block.m(l,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(l,s){r=l,i.ctx=r,s&16&&n!==(n=r[4])&&ct(n,i)||Tt(i,r,s)},i(l){t||(h(i.block),t=!0)},o(l){for(let s=0;s<3;s+=1){const o=i.blocks[s];g(o)}t=!1},d(l){l&&d(e),i.block.d(l),i.token=null,i=null}}}function J$(r){let e,n;return e=new jn({props:{error:r[7]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.error=t[7]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function X$(r){let e,n,t,i;const l=[ch,uh,fh,oh,ah,sh,rh,lh,ih,nh,th,eh,x$],s=[];function o(a,f){return a[4]?a[1]===ze.addPokemon?1:a[1]===ze.editPokemon?2:a[1]===ze.evolvePokemon?3:a[1]===ze.restPokemon?4:a[1]===ze.removePokemon?5:a[2]?6:a[1]===ze.restTrainer?7:a[1]===ze.editTrainer?8:a[1]===ze.removeTrainer?9:a[1]===ze.retireTrainer?10:a[1]===ze.accessKey?11:12:0}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function x$(r){let e,n;return e=new iu({props:{trainer:r[4]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function eh(r){let e,n;return e=new qp({props:{trainer:r[4]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function th(r){let e,n;return e=new Ip({props:{trainer:r[4]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function nh(r){let e,n;return e=new Zp({props:{trainer:r[4]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ih(r){let e,n;return e=new pp({props:{trainer:r[4]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function lh(r){let e,n,t={ctx:r,current:null,token:null,hasCatch:!1,pending:_h,then:dh,catch:mh,value:5,blocks:[,,,]};return ct(r[5],t),{c(){e=J(),t.block.c()},l(i){e=J(),t.block.l(i)},m(i,l){b(i,e,l),t.block.m(i,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,l){r=i,Tt(t,r,l)},i(i){n||(h(t.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const s=t.blocks[l];g(s)}n=!1},d(i){i&&d(e),t.block.d(i),t.token=null,t=null}}}function rh(r){let e,n;return e=new lm({props:{trainer:r[4],id:r[2]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),i&4&&(l.id=t[2]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function sh(r){let e,n;return e=new Sd({props:{trainer:r[4],id:r[2]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),i&4&&(l.id=t[2]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ah(r){let e,n;return e=new M$({props:{trainer:r[4],id:r[2]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),i&4&&(l.id=t[2]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function oh(r){let e,n,t={ctx:r,current:null,token:null,hasCatch:!1,pending:hh,then:$h,catch:ph,value:5,blocks:[,,,]};return ct(r[5],t),{c(){e=J(),t.block.c()},l(i){e=J(),t.block.l(i)},m(i,l){b(i,e,l),t.block.m(i,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,l){r=i,Tt(t,r,l)},i(i){n||(h(t.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const s=t.blocks[l];g(s)}n=!1},d(i){i&&d(e),t.block.d(i),t.token=null,t=null}}}function fh(r){let e,n;return e=new b_({props:{trainer:r[4],id:r[2]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),i&4&&(l.id=t[2]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function uh(r){let e,n,t={ctx:r,current:null,token:null,hasCatch:!1,pending:bh,then:vh,catch:gh,value:5,blocks:[,,,]};return ct(r[5],t),{c(){e=J(),t.block.c()},l(i){e=J(),t.block.l(i)},m(i,l){b(i,e,l),t.block.m(i,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,l){r=i,Tt(t,r,l)},i(i){n||(h(t.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const s=t.blocks[l];g(s)}n=!1},d(i){i&&d(e),t.block.d(i),t.token=null,t=null}}}function ch(r){let e;return{c(){e=T("br")},l(n){e=y(n,"BR",{})},m(n,t){b(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&d(e)}}}function mh(r){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function dh(r){let e,n;return e=new G$({props:{trainer:r[4],allSpecies:r[5]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _h(r){let e,n;return e=new kt({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ph(r){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function $h(r){let e,n;return e=new P_({props:{trainer:r[4],id:r[2],allSpecies:r[5]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),i&4&&(l.id=t[2]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function hh(r){let e,n;return e=new kt({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function gh(r){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function vh(r){let e,n;return e=new Lm({props:{trainer:r[4],allSpecies:r[5]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function bh(r){let e,n;return e=new kt({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function kh(r){let e,n;return e=new kt({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function wh(r){let e,n,t,i;const l=[Z$,Q$,W$,Y$],s=[];function o(a,f){return a[0]?0:a[1]===ze.newTrainer?1:a[1]===ze.findTrainer?2:3}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Eh(r){let e,n;return e=new Rs({props:{slot:"icon"}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Sh(r){let e,n,t,i={ctx:r,current:null,token:null,hasCatch:!0,pending:yh,then:Ih,catch:Ah,value:3,error:7,blocks:[,,,]};return ct(n=r[3],i),{c(){e=J(),i.block.c()},l(l){e=J(),i.block.l(l)},m(l,s){b(l,e,s),i.block.m(l,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(l,s){r=l,i.ctx=r,s&8&&n!==(n=r[3])&&ct(n,i)||Tt(i,r,s)},i(l){t||(h(i.block),t=!0)},o(l){for(let s=0;s<3;s+=1){const o=i.blocks[s];g(o)}t=!1},d(l){l&&d(e),i.block.d(l),i.token=null,i=null}}}function Ch(r){let e,n,t,i={ctx:r,current:null,token:null,hasCatch:!0,pending:Fh,then:Ph,catch:Th,value:4,error:7,blocks:[,,,]};return ct(n=r[4],i),{c(){e=J(),i.block.c()},l(l){e=J(),i.block.l(l)},m(l,s){b(l,e,s),i.block.m(l,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(l,s){r=l,i.ctx=r,s&16&&n!==(n=r[4])&&ct(n,i)||Tt(i,r,s)},i(l){t||(h(i.block),t=!0)},o(l){for(let s=0;s<3;s+=1){const o=i.blocks[s];g(o)}t=!1},d(l){l&&d(e),i.block.d(l),i.token=null,i=null}}}function Ah(r){let e,n;return e=new jn({props:{error:r[7]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.error=t[7]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ih(r){let e,n,t=r[3]&&Sr(r);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,l){t&&t.m(i,l),b(i,e,l),n=!0},p(i,l){i[3]?t?(t.p(i,l),l&8&&h(t,1)):(t=Sr(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(me(),g(t,1,1,()=>{t=null}),de())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Sr(r){let e,n;return e=new ed({props:{trainers:r[3],showGetStarted:r[1]==null}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&8&&(l.trainers=t[3]),i&2&&(l.showGetStarted=t[1]==null),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function yh(r){let e,n;return e=new kt({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Th(r){let e,n;return e=new jn({props:{error:r[7]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.error=t[7]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ph(r){let e,n,t,i;const l=[Nh,Dh],s=[];function o(a,f){return a[4]?0:1}return e=o(r),n=s[e]=l[e](r),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(me(),g(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,f):(n=s[e]=l[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Dh(r){let e,n;return e=new F_({props:{trainerKey:r[0]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&1&&(l.trainerKey=t[0]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Nh(r){let e,n;return e=new hm({props:{trainer:r[4],currentPokemon:r[2]}}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const l={};i&16&&(l.trainer=t[4]),i&4&&(l.currentPokemon=t[2]),e.$set(l)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Fh(r){let e,n;return e=new kt({}),{c(){A(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Hh(r){let e,n,t,i,l,s;n=new Jp({});const o=[Ch,Sh],a=[];function f(u,c){return u[0]?0:1}return i=f(r),l=a[i]=o[i](r),{c(){e=T("nav"),A(n.$$.fragment),t=F(),l.c(),this.h()},l(u){e=y(u,"NAV",{id:!0,slot:!0,class:!0,"aria-label":!0});var c=z(e);I(n.$$.fragment,c),t=N(c),l.l(c),c.forEach(d),this.h()},h(){D(e,"id",Os),D(e,"slot","side"),D(e,"class","table svelte-1yryrve"),D(e,"aria-label","Pokemon List")},m(u,c){b(u,e,c),C(n,e,null),E(e,t),a[i].m(e,null),s=!0},p(u,c){let m=i;i=f(u),i===m?a[i].p(u,c):(me(),g(a[m],1,1,()=>{a[m]=null}),de(),l=a[i],l?l.p(u,c):(l=a[i]=o[i](u),l.c()),h(l,1),l.m(e,null))},i(u){s||(h(n.$$.fragment,u),h(l),s=!0)},o(u){g(n.$$.fragment,u),g(l),s=!1},d(u){u&&d(e),S(n),a[i].d()}}}function zh(r){let e,n,t,i;return e=new rt({props:{value:"Trainers"}}),t=new Ls({props:{theme:"green",$$slots:{side:[Hh],icon:[Eh],default:[wh]},$$scope:{ctx:r}}}),{c(){A(e.$$.fragment),n=F(),A(t.$$.fragment)},l(l){I(e.$$.fragment,l),n=N(l),I(t.$$.fragment,l)},m(l,s){C(e,l,s),b(l,n,s),C(t,l,s),i=!0},p(l,[s]){const o={};s&287&&(o.$$scope={dirty:s,ctx:l}),t.$set(o)},i(l){i||(h(e.$$.fragment,l),h(t.$$.fragment,l),i=!0)},o(l){g(e.$$.fragment,l),g(t.$$.fragment,l),i=!1},d(l){l&&d(n),S(e,l),S(t,l)}}}function Lh(r,e,n){let t,i,l,s;Ve(r,Ts,u=>n(6,s=u));let o,a,f=Rr.completeList();return r.$$.update=()=>{r.$$.dirty&64&&n(0,t=s.url.searchParams.get("id")),r.$$.dirty&64&&n(2,i=s.url.searchParams.get("pokemon")),r.$$.dirty&64&&n(1,l=s.url.searchParams.get("action")),r.$$.dirty&1&&(t&&di?(n(3,o=void 0),n(4,a=wn.get(t))):!t&&di?(n(3,o=wn.all()),n(4,a=void 0)):(n(4,a=void 0),n(3,o=void 0)))},[t,l,i,o,a,f,s]}class Gg extends se{constructor(e){super(),ae(this,e,Lh,zh,oe,{})}}export{Gg as component};
