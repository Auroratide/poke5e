import{b as se}from"../chunks/BzFwc--8.js";import{s as te,n as J,d as g,r as re,E as Q,x as F,J as V,i as T,f as h,D as X,h as L,b as y,j as A,g as W,c as C,k as B,A as R,e as E,a as P,t as q,u as oe,N as fe,U as ue}from"../chunks/Bn2cRfhZ.js";import{S as le,i as ie,d as M,t as N,a as S,m as O,c as D,b as U,f as ce,g as ae,e as ne}from"../chunks/BxmJgAAM.js";import{e as Y,u as me,o as _e}from"../chunks/C1GXv0ZS.js";import{C as pe}from"../chunks/apnYKcN5.js";import{T as he}from"../chunks/B6vDDnxe.js";import{p as de}from"../chunks/SonBnTKc.js";import{L as be}from"../chunks/2knskBGI.js";import{S as ve}from"../chunks/ip6cBw_c.js";const ge=async({fetch:s})=>({abilities:await s(`${se}/abilities.json`).then(l=>l.json()).then(l=>l.abilities)}),De=Object.freeze(Object.defineProperty({__proto__:null,load:ge},Symbol.toStringTag,{value:"Module"}));function ke(s,e){if(s==null||e==null||(s==null?void 0:s.length)===0||(e==null?void 0:e.length)===0)return{};const l=t=>r=>r.abilities.find(n=>n.id===t.id)!=null;return s.reduce((t,r)=>({...t,[r.id]:e.filter(l(r))}),{})}function Z(s){let e;return{c(){e=E("hr")},l(l){e=y(l,"HR",{})},m(l,t){T(l,e,t)},d(l){l&&g(e)}}}function $e(s){let e,l,t,r="Filter Abilities",n,u,a,i,c,_=(s[1]>0?s[1]:"No")+"",m,d,b,v=s[1]===1?"match":"matches",p,w,k,H,I,o=s[1]>0&&Z();return{c(){e=E("form"),l=E("div"),t=E("label"),t.textContent=r,n=P(),u=E("input"),a=P(),i=E("div"),c=E("output"),m=q(_),d=P(),b=E("label"),p=q(v),w=P(),o&&o.c(),k=R(),this.h()},l(f){e=y(f,"FORM",{class:!0});var $=A(e);l=y($,"DIV",{class:!0});var j=A(l);t=y(j,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1b61gx5"&&(t.textContent=r),n=C(j),u=y(j,"INPUT",{name:!0,id:!0,type:!0,placeholder:!0}),j.forEach(g),a=C($),i=y($,"DIV",{class:!0});var z=A(i);c=y(z,"OUTPUT",{id:!0,for:!0});var G=A(c);m=B(G,_),G.forEach(g),d=C(z),b=y(z,"LABEL",{for:!0});var K=A(b);p=B(K,v),K.forEach(g),z.forEach(g),$.forEach(g),w=C(f),o&&o.l(f),k=R(),this.h()},h(){L(t,"for","ability-filter"),L(t,"class","svelte-zjeskm"),L(u,"name","ability-filter"),L(u,"id","ability-filter"),L(u,"type","text"),L(u,"placeholder","Type here..."),L(l,"class","input-group svelte-zjeskm"),L(c,"id","ability-filter-matches"),L(c,"for","ability-filter"),L(b,"for","ability-filter-matches"),L(i,"class","output-group svelte-zjeskm"),V(i,"hide",s[0].length===0),L(e,"class","svelte-zjeskm")},m(f,$){T(f,e,$),h(e,l),h(l,t),h(l,n),h(l,u),Q(u,s[0]),h(e,a),h(e,i),h(i,c),h(c,m),h(i,d),h(i,b),h(b,p),T(f,w,$),o&&o.m(f,$),T(f,k,$),H||(I=[X(u,"input",s[3]),X(e,"submit",s[2])],H=!0)},p(f,[$]){$&1&&u.value!==f[0]&&Q(u,f[0]),$&2&&_!==(_=(f[1]>0?f[1]:"No")+"")&&F(m,_),$&2&&v!==(v=f[1]===1?"match":"matches")&&F(p,v),$&1&&V(i,"hide",f[0].length===0),f[1]>0?o||(o=Z(),o.c(),o.m(k.parentNode,k)):o&&(o.d(1),o=null)},i:J,o:J,d(f){f&&(g(e),g(w),g(k)),o&&o.d(f),H=!1,re(I)}}}function ye(s,e,l){let{value:t}=e,{matches:r}=e;const n=a=>{a.preventDefault()};function u(){t=this.value,l(0,t)}return s.$$set=a=>{"value"in a&&l(0,t=a.value),"matches"in a&&l(1,r=a.matches)},[t,r,n,u]}class Ee extends le{constructor(e){super(),ie(this,e,ye,$e,te,{value:0,matches:1})}}function x(s,e,l){const t=s.slice();return t[7]=e[l],t}function we(s){let e,l;return e=new be({props:{caption:"Loading abilities..."}}),{c(){U(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){O(e,t,r),l=!0},p:J,i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}function Le(s){let e=[],l=new Map,t,r,n=Y(s[1]);const u=a=>a[7].id;for(let a=0;a<n.length;a+=1){let i=x(s,n,a),c=u(i);l.set(c,e[a]=ee(c,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=R()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);t=R()},m(a,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,i);T(a,t,i),r=!0},p(a,i){i&14&&(n=Y(a[1]),ae(),e=me(e,i,u,1,a,n,l,t.parentNode,_e,ee,t,x),ne())},i(a){if(!r){for(let i=0;i<n.length;i+=1)S(e[i]);r=!0}},o(a){for(let i=0;i<e.length;i+=1)N(e[i]);r=!1},d(a){a&&g(t);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function ee(s,e){let l,t,r=e[7].name+"",n,u,a,i=e[7].description+"",c,_,m,d,b;return m=new ve({props:{pokemon:e[3][e[7].id]??[]}}),{key:s,first:null,c(){l=E("div"),t=E("h3"),n=q(r),u=P(),a=E("p"),c=q(i),_=P(),U(m.$$.fragment),d=P(),this.h()},l(v){l=y(v,"DIV",{class:!0});var p=A(l);t=y(p,"H3",{});var w=A(t);n=B(w,r),w.forEach(g),u=C(p),a=y(p,"P",{});var k=A(a);c=B(k,i),k.forEach(g),_=C(p),D(m.$$.fragment,p),d=C(p),p.forEach(g),this.h()},h(){L(l,"class","ability svelte-1i2xcr6"),V(l,"hide",!e[2].includes(e[7])),this.first=l},m(v,p){T(v,l,p),h(l,t),h(t,n),h(l,u),h(l,a),h(a,c),h(l,_),O(m,l,null),h(l,d),b=!0},p(v,p){e=v,(!b||p&2)&&r!==(r=e[7].name+"")&&F(n,r),(!b||p&2)&&i!==(i=e[7].description+"")&&F(c,i);const w={};p&10&&(w.pokemon=e[3][e[7].id]??[]),m.$set(w),(!b||p&6)&&V(l,"hide",!e[2].includes(e[7]))},i(v){b||(S(m.$$.fragment,v),b=!0)},o(v){N(m.$$.fragment,v),b=!1},d(v){v&&g(l),M(m)}}}function Ce(s){var I;let e,l="<p>Every Pokémon has one <dfn>ability</dfn>, a special feature that applies to it at all times. Each species has multiple possible abilities; when rolling a Pokémon of a given species, one of its species&#39; abilities is assigned to it at random.</p> <p>Note that some moves or abilities can manipulate what ability a Pokémon has at a given time, such as with the Mummy ability. Unless specified, a Pokémon&#39;s normal ability is always restored to it after a long rest.</p>",t,r,n,u="Ability List",a,i,c,_,m,d,b;function v(o){s[6](o)}let p={matches:((I=s[2])==null?void 0:I.length)??0};s[0]!==void 0&&(p.value=s[0]),i=new Ee({props:p}),fe.push(()=>ce(i,"value",v));const w=[Le,we],k=[];function H(o,f){return o[1]!=null&&o[3]!=null?0:1}return m=H(s),d=k[m]=w[m](s),{c(){e=E("section"),e.innerHTML=l,t=P(),r=E("section"),n=E("h2"),n.textContent=u,a=P(),U(i.$$.fragment),_=P(),d.c()},l(o){e=y(o,"SECTION",{"data-svelte-h":!0}),W(e)!=="svelte-i17wso"&&(e.innerHTML=l),t=C(o),r=y(o,"SECTION",{});var f=A(r);n=y(f,"H2",{"data-svelte-h":!0}),W(n)!=="svelte-1woize8"&&(n.textContent=u),a=C(f),D(i.$$.fragment,f),_=C(f),d.l(f),f.forEach(g)},m(o,f){T(o,e,f),T(o,t,f),T(o,r,f),h(r,n),h(r,a),O(i,r,null),h(r,_),k[m].m(r,null),b=!0},p(o,f){var z;const $={};f&4&&($.matches=((z=o[2])==null?void 0:z.length)??0),!c&&f&1&&(c=!0,$.value=o[0],ue(()=>c=!1)),i.$set($);let j=m;m=H(o),m===j?k[m].p(o,f):(ae(),N(k[j],1,1,()=>{k[j]=null}),ne(),d=k[m],d?d.p(o,f):(d=k[m]=w[m](o),d.c()),S(d,1),d.m(r,null))},i(o){b||(S(i.$$.fragment,o),S(d),b=!0)},o(o){N(i.$$.fragment,o),N(d),b=!1},d(o){o&&(g(e),g(t),g(r)),M(i),k[m].d()}}}function Pe(s){let e,l,t,r;return e=new he({props:{value:"Abilities"}}),t=new pe({props:{title:"Abilities",$$slots:{default:[Ce]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment),l=P(),U(t.$$.fragment)},l(n){D(e.$$.fragment,n),l=C(n),D(t.$$.fragment,n)},m(n,u){O(e,n,u),T(n,l,u),O(t,n,u),r=!0},p(n,[u]){const a={};u&1039&&(a.$$scope={dirty:u,ctx:n}),t.$set(a)},i(n){r||(S(e.$$.fragment,n),S(t.$$.fragment,n),r=!0)},o(n){N(e.$$.fragment,n),N(t.$$.fragment,n),r=!1},d(n){n&&g(l),M(e,n),M(t,n)}}}function Te(s,e,l){let t,r,n,u;oe(s,de,_=>l(5,u=_));let{data:a}=e,i="";function c(_){i=_,l(0,i)}return s.$$set=_=>{"data"in _&&l(4,a=_.data)},s.$$.update=()=>{s.$$.dirty&16&&l(1,t=a.abilities),s.$$.dirty&34&&l(3,r=ke(t,u)),s.$$.dirty&3&&l(2,n=t==null?void 0:t.filter(_=>_.name.toLocaleLowerCase().includes(i.toLocaleLowerCase())))},[i,t,n,r,a,u,c]}class Ue extends le{constructor(e){super(),ie(this,e,Te,Pe,te,{data:4})}}export{Ue as component,De as universal};
