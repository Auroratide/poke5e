var Cs=Object.defineProperty;var Ss=(l,e,n)=>e in l?Cs(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n;var Le=(l,e,n)=>Ss(l,typeof e!="symbol"?e+"":e,n);import{s as ae,d,l as re,w as C,M as Ge,i as b,j as k,G as it,b as S,k as F,c as L,m as O,g as ge,e as T,a as z,t as B,ag as Ts,R as vn,P as te,n as le,u as Gn,ac as Hr,U as bt,A as Mt,B as Ot,C as Bt,D as qt,N as en,E as xe,x as qe,y as Ke,O as Se,h as nt,p as x,T as Is,Q as ne,f as ze,o as ln,H as rn,ad as ri,v as Kt,r as rt,Y as si,ah as Fr,a0 as ys,af as Rr}from"../chunks/jfllfNH_.js";import{h as zt,u as Yn}from"../chunks/Y1Da_44a.js";import{S as fe,i as oe,d as I,t as v,a as $,m as y,c as P,b as A,f as ie,g as me,e as de,h as ai}from"../chunks/C1Hrh5eJ.js";import{p as As}from"../chunks/DCC2ObWW.js";import{j as Ps,f as lt,k as bn,g as mt,e as Ze,l as fi,S as Qn,a as Wn,D as oi,L as Vr,i as Ds,s as ui,F as Ut,m as sn,I as et,C as Ns,A as Mr,P as Or,d as Br,T as Ls,b as zs,c as Hs,h as ci,E as Zn}from"../chunks/BrWo3lLq.js";import{S as qr,P as Fs}from"../chunks/CxF1Pwcd.js";import{I as Rs}from"../chunks/DOL0BSZj.js";import{T as ft}from"../chunks/SQ0wST9E.js";import{L as $t}from"../chunks/DKNhyRdp.js";import{F as Ht}from"../chunks/DC8Svza8.js";import{e as Ne,u as an,o as fn}from"../chunks/ByWfX7c7.js";import{V as Ft}from"../chunks/C8tvm1Zn.js";/* empty css                *//* empty css                *//* empty css                *//* empty css                */import{N as Vs,S as Kr}from"../chunks/WtXcVVPo.js";import{c as mi,d as Ur,f as kn}from"../chunks/BaNJctHK.js";import{r as jt,P as jr,H as Ms}from"../chunks/ogsdP0x4.js";import{P as Lt,a as Os,A as Gr,G as Yr,T as Bs}from"../chunks/D2w8ahZt.js";import{A as tn,S as wn,H as Rt}from"../chunks/ChMjNaGP.js";/* empty css                */import{S as Qr,a as qs,h as di}from"../chunks/4CXL8EEd.js";import{A as Wr}from"../chunks/B_2GUw79.js";import{S as Zr,I as Ks}from"../chunks/DTkTqasb.js";import{f as _i}from"../chunks/p0vX3-a6.js";import{i as Jn}from"../chunks/BAoX_4l6.js";import{e as Ye,P as Us,s as js}from"../chunks/CJz8UDG_.js";import{b as Qe,a as Gs}from"../chunks/2FBnpoXE.js";import{a as Jr,T as Xr}from"../chunks/CXYlx-sF.js";import{r as pi}from"../chunks/Bn7C2S5C.js";import{d as In,r as Ys,w as Qs}from"../chunks/BXL0tB-c.js";import{r as hi}from"../chunks/ByRnDKgm.js";import{a as xr,P as Ws,b as Zs}from"../chunks/Bf9dBaJG.js";import{C as st}from"../chunks/BX3-7oRV.js";import{B as De}from"../chunks/DJs-5P5q.js";import{U as Pe}from"../chunks/BRGBdFeh.js";import{P as Re}from"../chunks/D4y0A8zf.js";import{p as dt}from"../chunks/1w7CkTFu.js";import{s as Js,a as Xs,e as $i}from"../chunks/BGFNTysz.js";import"../chunks/CdRAs_Ty.js";import{T as xs}from"../chunks/B7qsvcJ9.js";import{m as yn,t as ea}from"../chunks/COHkGZ7E.js";import{M as ta}from"../chunks/CY7_X5JK.js";import{P as En}from"../chunks/DLwtMErB.js";import{P as Xn,e as gi}from"../chunks/DjgjZZMS.js";import{M as na}from"../chunks/C72unySr.js";import{T as ia}from"../chunks/CL5C5aeh.js";import{f as vi,t as bi,a as ki}from"../chunks/C4VrXfwt.js";import{L as Vt}from"../chunks/C2DumLO3.js";import{P as Bn,d as wi}from"../chunks/BGaUSgom.js";import{D as es}from"../chunks/Bf-g66YD.js";import{b as la,c as ra}from"../chunks/fiTa_PwR.js";import{m as sa}from"../chunks/CoTlsGq3.js";import{g as tt}from"../chunks/OUvdEnR1.js";import{S as aa,B as ts}from"../chunks/BSBwMEkH.js";import{m as fa,s as Ei}from"../chunks/CeVf2UCr.js";import{F as Je,C as oa}from"../chunks/pb8x4ksT.js";import{k as yt}from"../chunks/CfRs93gm.js";import{T as ns}from"../chunks/Dx0Ml4Og.js";import{a as ua,c as ca}from"../chunks/DxVwBs9c.js";import{a as ma}from"../chunks/DvsDHqal.js";function Ci(l){let e,n,t=l[9](l[2])+"",i,r;return{c(){e=T("span"),n=B("(Max "),i=B(t),r=B(")"),this.h()},l(s){e=S(s,"SPAN",{class:!0});var f=F(e);n=O(f,"(Max "),i=O(f,t),r=O(f,")"),f.forEach(d),this.h()},h(){C(e,"class","smaller svelte-7wphx")},m(s,f){b(s,e,f),k(e,n),k(e,i),k(e,r)},p(s,f){f&4&&t!==(t=s[9](s[2])+"")&&re(i,t)},d(s){s&&d(e)}}}function Si(l){let e,n;return{c(){e=T("img"),this.h()},l(t){e=S(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){vn(e.src,n=l[7])||C(e,"src",n),C(e,"alt","Upload Preview"),C(e,"class","svelte-7wphx")},m(t,i){b(t,e,i)},p(t,i){i&128&&!vn(e.src,n=t[7])&&C(e,"src",n)},d(t){t&&d(e)}}}function Ti(l){let e,n,t;return{c(){e=T("div"),n=T("p"),t=B(l[5]),this.h()},l(i){e=S(i,"DIV",{class:!0});var r=F(e);n=S(r,"P",{class:!0});var s=F(n);t=O(s,l[5]),s.forEach(d),r.forEach(d),this.h()},h(){C(n,"class","svelte-7wphx"),C(e,"class","error svelte-7wphx")},m(i,r){b(i,e,r),k(e,n),k(n,t)},p(i,r){r&32&&re(t,i[5])},d(i){i&&d(e)}}}function da(l){let e;return{c(){e=B("Remove Avatar")},l(n){e=O(n,"Remove Avatar")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function _a(l){let e,n,t,i,r,s,f,a,o,u="Select File",c,m,p,h,_,E,g,w,D,H,N,R=l[2]&&Ci(l),V=l[7]&&Si(l),M=l[5]&&Ti(l);return w=new De({props:{variant:"ghost",$$slots:{default:[da]},$$scope:{ctx:l}}}),w.$on("click",l[11]),{c(){e=T("div"),n=T("div"),t=T("div"),i=z(),r=T("div"),s=T("label"),f=B(l[0]),a=z(),o=T("span"),o.textContent=u,c=z(),R&&R.c(),m=z(),p=T("input"),h=z(),V&&V.c(),_=z(),M&&M.c(),E=z(),g=T("div"),A(w.$$.fragment),this.h()},l(q){e=S(q,"DIV",{class:!0});var U=F(e);n=S(U,"DIV",{class:!0});var Q=F(n);t=S(Q,"DIV",{class:!0}),F(t).forEach(d),i=L(Q),r=S(Q,"DIV",{class:!0});var J=F(r);s=S(J,"LABEL",{for:!0,class:!0});var K=F(s);f=O(K,l[0]),K.forEach(d),a=L(J),o=S(J,"SPAN",{"data-svelte-h":!0}),ge(o)!=="svelte-1vya4aw"&&(o.textContent=u),c=L(J),R&&R.l(J),J.forEach(d),m=L(Q),p=S(Q,"INPUT",{id:!0,name:!0,type:!0,accept:!0,class:!0}),h=L(Q),V&&V.l(Q),_=L(Q),M&&M.l(Q),Q.forEach(d),E=L(U),g=S(U,"DIV",{class:!0});var G=F(g);P(w.$$.fragment,G),G.forEach(d),U.forEach(d),this.h()},h(){C(t,"class","placeholder svelte-7wphx"),C(s,"for",l[8]),C(s,"class","svelte-7wphx"),C(r,"class","text svelte-7wphx"),C(p,"id",l[8]),C(p,"name",l[3]),C(p,"type","file"),C(p,"accept","image/*"),p.disabled=l[1],C(p,"class","svelte-7wphx"),C(n,"class","image-uploader svelte-7wphx"),C(g,"class","remove-image svelte-7wphx"),Ge(g,"hide",!l[6]),C(e,"class","image-uploader-container svelte-7wphx")},m(q,U){b(q,e,U),k(e,n),k(n,t),k(n,i),k(n,r),k(r,s),k(s,f),k(r,a),k(r,o),k(r,c),R&&R.m(r,null),k(n,m),k(n,p),l[17](p),k(n,h),V&&V.m(n,null),k(n,_),M&&M.m(n,null),k(e,E),k(e,g),y(w,g,null),D=!0,H||(N=it(p,"change",l[10]),H=!0)},p(q,[U]){(!D||U&1)&&re(f,q[0]),(!D||U&256)&&C(s,"for",q[8]),q[2]?R?R.p(q,U):(R=Ci(q),R.c(),R.m(r,null)):R&&(R.d(1),R=null),(!D||U&256)&&C(p,"id",q[8]),(!D||U&8)&&C(p,"name",q[3]),(!D||U&2)&&(p.disabled=q[1]),q[7]?V?V.p(q,U):(V=Si(q),V.c(),V.m(n,_)):V&&(V.d(1),V=null),q[5]?M?M.p(q,U):(M=Ti(q),M.c(),M.m(n,null)):M&&(M.d(1),M=null);const Q={};U&262144&&(Q.$$scope={dirty:U,ctx:q}),w.$set(Q),(!D||U&64)&&Ge(g,"hide",!q[6])},i(q){D||($(w.$$.fragment,q),D=!0)},o(q){v(w.$$.fragment,q),D=!1},d(q){q&&d(e),R&&R.d(),l[17](null),V&&V.d(),M&&M.d(),I(w),H=!1,N()}}}function pa(l,e,n){let t,i,r,s,{label:f}=e,{name:a=void 0}=e,{disabled:o=!1}=e,{previousValue:u=void 0}=e,{currentValue:c}=e,{maxbytes:m=void 0}=e,{isValid:p=!0}=e,h=null,_="",E;const g=N=>N<1024?`${N} bytes`:N<1048576?`${(N/1024).toFixed(0)} KB`:`${(N/1048576).toFixed(0)} MB`,w=N=>{const R=N.target,[V]=R.files;_&&URL.revokeObjectURL(_),V?n(16,_=URL.createObjectURL(V)):n(16,_=""),n(12,c={type:"new",value:V}),V.size>m?(n(13,p=!1),n(5,E=`File is too large. Must be less than ${g(m)}.`)):(n(13,p=!0),n(5,E=void 0))},D=()=>{n(12,c={type:"remove"}),n(13,p=!0),n(5,E=void 0),_&&URL.revokeObjectURL(_),n(16,_=""),h&&n(4,h.value=null,h)};Ts(()=>{_&&URL.revokeObjectURL(_)});function H(N){te[N?"unshift":"push"](()=>{h=N,n(4,h)})}return l.$$set=N=>{"label"in N&&n(0,f=N.label),"name"in N&&n(14,a=N.name),"disabled"in N&&n(1,o=N.disabled),"previousValue"in N&&n(15,u=N.previousValue),"currentValue"in N&&n(12,c=N.currentValue),"maxbytes"in N&&n(2,m=N.maxbytes),"isValid"in N&&n(13,p=N.isValid)},l.$$.update=()=>{l.$$.dirty&16385&&n(3,t=a??yt(f)),l.$$.dirty&8&&n(8,i=`${t}-input`),l.$$.dirty&102400&&n(7,r=(c==null?void 0:c.type)==="remove"?"":_||u),l.$$.dirty&36864&&n(6,s=(u!=null||c!=null)&&(c==null?void 0:c.type)!=="remove")},[f,o,m,t,h,E,s,r,i,g,w,D,c,p,a,u,_,H]}class is extends fe{constructor(e){super(),oe(this,e,pa,_a,ae,{label:0,name:14,disabled:1,previousValue:15,currentValue:12,maxbytes:2,isValid:13})}}function ha(l){let e,n,t,i,r,s,f="₽",a,o,u,c;return{c(){e=T("div"),n=T("label"),t=B(l[1]),i=z(),r=T("span"),s=T("span"),s.textContent=f,a=z(),o=T("input"),this.h()},l(m){e=S(m,"DIV",{class:!0});var p=F(e);n=S(p,"LABEL",{for:!0,class:!0});var h=F(n);t=O(h,l[1]),h.forEach(d),i=L(p),r=S(p,"SPAN",{class:!0});var _=F(r);s=S(_,"SPAN",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-1jrw84z"&&(s.textContent=f),a=L(_),o=S(_,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,min:!0,max:!0,step:!0,class:!0}),_.forEach(d),p.forEach(d),this.h()},h(){C(n,"for",l[7]),C(n,"class","svelte-158r6u9"),C(s,"class","currency svelte-158r6u9"),C(o,"type","number"),C(o,"id",l[7]),C(o,"name",l[6]),C(o,"placeholder",l[3]),C(o,"min",l[4]),C(o,"max",l[5]),C(o,"step","1"),o.disabled=l[2],C(o,"class","svelte-158r6u9"),C(r,"class","row svelte-158r6u9"),C(e,"class","money-field svelte-158r6u9")},m(m,p){b(m,e,p),k(e,n),k(n,t),k(e,i),k(e,r),k(r,s),k(r,a),k(r,o),bt(o,l[0]),u||(c=[it(o,"input",l[10]),it(o,"change",l[8])],u=!0)},p(m,[p]){p&2&&re(t,m[1]),p&128&&C(n,"for",m[7]),p&128&&C(o,"id",m[7]),p&64&&C(o,"name",m[6]),p&8&&C(o,"placeholder",m[3]),p&16&&C(o,"min",m[4]),p&32&&C(o,"max",m[5]),p&4&&(o.disabled=m[2]),p&1&&Hr(o.value)!==m[0]&&bt(o,m[0])},i:le,o:le,d(m){m&&d(e),u=!1,Gn(c)}}}function $a(l,e,n){let t,i,{label:r}=e,{value:s}=e,{name:f=void 0}=e,{disabled:a=!1}=e,{placeholder:o=""}=e,{min:u=-2e9}=e,{max:c=2e9}=e;const m=()=>{s!=null&&n(0,s=Math.round(s))};function p(){s=Hr(this.value),n(0,s)}return l.$$set=h=>{"label"in h&&n(1,r=h.label),"value"in h&&n(0,s=h.value),"name"in h&&n(9,f=h.name),"disabled"in h&&n(2,a=h.disabled),"placeholder"in h&&n(3,o=h.placeholder),"min"in h&&n(4,u=h.min),"max"in h&&n(5,c=h.max)},l.$$.update=()=>{l.$$.dirty&514&&n(6,t=f??yt(r)),l.$$.dirty&64&&n(7,i=`${t}-input`)},[s,r,a,o,u,c,t,i,m,f,p]}class ga extends fe{constructor(e){super(),oe(this,e,$a,ha,ae,{label:1,value:0,name:9,disabled:2,placeholder:3,min:4,max:5})}}function va(l){let e,n,t,i,r,s,f;return{c(){e=T("div"),n=T("label"),t=B(l[1]),i=z(),r=T("textarea"),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=F(e);n=S(o,"LABEL",{for:!0,class:!0});var u=F(n);t=O(u,l[1]),u.forEach(d),i=L(o),r=S(o,"TEXTAREA",{id:!0,name:!0,placeholder:!0,rows:!0,class:!0}),F(r).forEach(d),o.forEach(d),this.h()},h(){C(n,"for",l[6]),C(n,"class","svelte-1htadaa"),C(r,"id",l[6]),C(r,"name",l[5]),C(r,"placeholder",l[3]),C(r,"rows",l[4]),r.disabled=l[2],C(r,"class","svelte-1htadaa"),C(e,"class","markdown-field svelte-1htadaa")},m(a,o){b(a,e,o),k(e,n),k(n,t),k(e,i),k(e,r),bt(r,l[0]),s||(f=it(r,"input",l[8]),s=!0)},p(a,[o]){o&2&&re(t,a[1]),o&64&&C(n,"for",a[6]),o&64&&C(r,"id",a[6]),o&32&&C(r,"name",a[5]),o&8&&C(r,"placeholder",a[3]),o&16&&C(r,"rows",a[4]),o&4&&(r.disabled=a[2]),o&1&&bt(r,a[0])},i:le,o:le,d(a){a&&d(e),s=!1,f()}}}function ba(l,e,n){let t,i,{label:r}=e,{value:s}=e,{name:f=void 0}=e,{disabled:a=!1}=e,{placeholder:o=""}=e,{rows:u=4}=e;function c(){s=this.value,n(0,s)}return l.$$set=m=>{"label"in m&&n(1,r=m.label),"value"in m&&n(0,s=m.value),"name"in m&&n(7,f=m.name),"disabled"in m&&n(2,a=m.disabled),"placeholder"in m&&n(3,o=m.placeholder),"rows"in m&&n(4,u=m.rows)},l.$$.update=()=>{l.$$.dirty&130&&n(5,t=f??yt(r)),l.$$.dirty&32&&n(6,i=`${t}-input`)},[s,r,a,o,u,t,i,f,c]}class kt extends fe{constructor(e){super(),oe(this,e,ba,va,ae,{label:1,value:0,name:7,disabled:2,placeholder:3,rows:4})}}function ka(l){let e;return{c(){e=B(l[0])},l(n){e=O(n,l[0])},m(n,t){b(n,e,t)},p(n,t){t&1&&re(e,n[0])},d(n){n&&d(e)}}}function wa(l){let e,n,t,i,r,s;const f=l[4].default,a=Mt(f,l,l[6],null);return r=new De({props:{variant:l[1],type:l[2],disabled:l[3],$$slots:{default:[ka]},$$scope:{ctx:l}}}),r.$on("click",l[5]),{c(){e=T("div"),n=T("div"),a&&a.c(),t=z(),i=T("div"),A(r.$$.fragment),this.h()},l(o){e=S(o,"DIV",{class:!0});var u=F(e);n=S(u,"DIV",{class:!0});var c=F(n);a&&a.l(c),c.forEach(d),t=L(u),i=S(u,"DIV",{class:!0});var m=F(i);P(r.$$.fragment,m),m.forEach(d),u.forEach(d),this.h()},h(){C(n,"class","flex svelte-1c8s2ez"),C(i,"class","end svelte-1c8s2ez"),C(e,"class","with-button svelte-1c8s2ez")},m(o,u){b(o,e,u),k(e,n),a&&a.m(n,null),k(e,t),k(e,i),y(r,i,null),s=!0},p(o,[u]){a&&a.p&&(!s||u&64)&&Ot(a,f,o,o[6],s?qt(f,o[6],u,null):Bt(o[6]),null);const c={};u&2&&(c.variant=o[1]),u&4&&(c.type=o[2]),u&8&&(c.disabled=o[3]),u&65&&(c.$$scope={dirty:u,ctx:o}),r.$set(c)},i(o){s||($(a,o),$(r.$$.fragment,o),s=!0)},o(o){v(a,o),v(r.$$.fragment,o),s=!1},d(o){o&&d(e),a&&a.d(o),I(r)}}}function Ea(l,e,n){let{$$slots:t={},$$scope:i}=e,{label:r}=e,{variant:s="solid"}=e,{type:f="button"}=e,{disabled:a=!1}=e;function o(u){en.call(this,l,u)}return l.$$set=u=>{"label"in u&&n(0,r=u.label),"variant"in u&&n(1,s=u.variant),"type"in u&&n(2,f=u.type),"disabled"in u&&n(3,a=u.disabled),"$$scope"in u&&n(6,i=u.$$scope)},[r,s,f,a,t,o,i]}class An extends fe{constructor(e){super(),oe(this,e,Ea,wa,ae,{label:0,variant:1,type:2,disabled:3})}}function Ca(l){let e;const n=l[1].default,t=Mt(n,l,l[2],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&4)&&Ot(t,n,i,i[2],e?qt(n,i[2],r,null):Bt(i[2]),null)},i(i){e||($(t,i),e=!0)},o(i){v(t,i),e=!1},d(i){t&&t.d(i)}}}function Sa(l){let e,n;return e=new An({props:{label:"Remove",variant:"danger",$$slots:{default:[Ca]},$$scope:{ctx:l}}}),e.$on("click",l[0]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ta(l,e,n){let{$$slots:t={},$$scope:i}=e;const r=xe(),s=()=>{r("remove")};return l.$$set=f=>{"$$scope"in f&&n(2,i=f.$$scope)},[s,t,i]}class Pn extends fe{constructor(e){super(),oe(this,e,Ta,Sa,ae,{})}}function Ia(l){let e,n,t,i;return{c(){e=Ke("svg"),n=Ke("title"),t=B(l[0]),i=Ke("path"),this.h()},l(r){e=qe(r,"svg",{viewBox:!0,xmlns:!0,class:!0});var s=F(e);n=qe(s,"title",{});var f=F(n);t=O(f,l[0]),f.forEach(d),i=qe(s,"path",{class:!0,d:!0}),F(i).forEach(d),s.forEach(d),this.h()},h(){C(i,"class","stroke svelte-18a442z"),C(i,"d","M 25 50 L 50 30 L 75 50"),C(e,"viewBox","0 0 100 100"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"class","svelte-18a442z")},m(r,s){b(r,e,s),k(e,n),k(n,t),k(e,i)},p(r,[s]){s&1&&re(t,r[0])},i:le,o:le,d(r){r&&d(e)}}}function ya(l,e,n){let{label:t="Up"}=e;return l.$$set=i=>{"label"in i&&n(0,t=i.label)},[t]}class Aa extends fe{constructor(e){super(),oe(this,e,ya,Ia,ae,{label:0})}}function Pa(l){let e,n,t,i,r,s,f,a,o,u=`${l[3]+2.5}ch`,c,m,p;return s=new Aa({props:{label:"increment"}}),o=new Ps({props:{label:"decrement"}}),{c(){e=T("span"),n=T("input"),t=z(),i=T("span"),r=T("button"),A(s.$$.fragment),f=z(),a=T("button"),A(o.$$.fragment),this.h()},l(h){e=S(h,"SPAN",{class:!0});var _=F(e);n=S(_,"INPUT",{id:!0,type:!0,autocomplete:!0,class:!0}),t=L(_),i=S(_,"SPAN",{class:!0});var E=F(i);r=S(E,"BUTTON",{tabindex:!0,class:!0});var g=F(r);P(s.$$.fragment,g),g.forEach(d),f=L(E),a=S(E,"BUTTON",{tabindex:!0,class:!0});var w=F(a);P(o.$$.fragment,w),w.forEach(d),E.forEach(d),_.forEach(d),this.h()},h(){C(n,"id",l[1]),C(n,"type","text"),n.value=l[0],n.disabled=l[2],C(n,"autocomplete","off"),C(n,"class","svelte-14jmlcf"),C(r,"tabindex","-1"),C(r,"class","svelte-14jmlcf"),C(a,"tabindex","-1"),C(a,"class","svelte-14jmlcf"),C(i,"class","buttons svelte-14jmlcf"),Se(i,"--skin-local-stroke","black"),C(e,"class","numeric-resource-field svelte-14jmlcf"),Se(e,"width",u)},m(h,_){b(h,e,_),k(e,n),k(e,t),k(e,i),k(i,r),y(s,r,null),k(i,f),k(i,a),y(o,a,null),c=!0,m||(p=[it(n,"change",l[4]),it(n,"input",l[5]),it(n,"keydown",l[8]),it(r,"click",l[7]),it(a,"click",l[6])],m=!0)},p(h,[_]){(!c||_&2)&&C(n,"id",h[1]),(!c||_&1&&n.value!==h[0])&&(n.value=h[0]),(!c||_&4)&&(n.disabled=h[2]),_&8&&u!==(u=`${h[3]+2.5}ch`)&&Se(e,"width",u)},i(h){c||($(s.$$.fragment,h),$(o.$$.fragment,h),c=!0)},o(h){v(s.$$.fragment,h),v(o.$$.fragment,h),c=!1},d(h){h&&d(e),I(s),I(o),m=!1,Gn(p)}}}const Da=500;function Na(l,e,n){let t;const i=xe();let{id:r}=e,{value:s}=e,{disabled:f=!1}=e;const a={current:-1},o=_=>{const E=_.target,g=/(\d+)\s*(\+|-)\s*(\d+)/,w=E.value.match(g);if(w!=null)n(0,s=parseFloat(w[1])+parseFloat(w[2]+w[3]));else{const D=parseFloat(E.value);n(0,s=isNaN(D)?0:D)}i("change",{value:s})},u=_=>{const E=_.target;n(3,t=E.value.length)},c=_=>{n(0,s+=_),clearTimeout(a.current),a.current=window.setTimeout(()=>{i("change",{value:s})},Da)},m=()=>c(-1),p=()=>c(1),h=_=>{const E=_.target,g=parseInt(E.value);isNaN(g)||(_.key==="ArrowDown"?m():_.key==="ArrowUp"&&p())};return l.$$set=_=>{"id"in _&&n(1,r=_.id),"value"in _&&n(0,s=_.value),"disabled"in _&&n(2,f=_.disabled)},l.$$.update=()=>{var _;l.$$.dirty&1&&n(3,t=((_=s==null?void 0:s.toString())==null?void 0:_.length)??0)},[s,r,f,t,o,u,m,p,h]}class wt extends fe{constructor(e){super(),oe(this,e,Na,Pa,ae,{id:1,value:0,disabled:2})}}function La(l){let e,n,t;const i=l[1].default,r=Mt(i,l,l[0],null);return{c(){e=T("section"),n=T("p"),r&&r.c(),this.h()},l(s){e=S(s,"SECTION",{});var f=F(e);n=S(f,"P",{class:!0});var a=F(n);r&&r.l(a),a.forEach(d),f.forEach(d),this.h()},h(){C(n,"class","hint-text svelte-1qwpk5b")},m(s,f){b(s,e,f),k(e,n),r&&r.m(n,null),t=!0},p(s,[f]){r&&r.p&&(!t||f&1)&&Ot(r,i,s,s[0],t?qt(i,s[0],f,null):Bt(s[0]),null)},i(s){t||($(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&d(e),r&&r.d(s)}}}function za(l,e,n){let{$$slots:t={},$$scope:i}=e;return l.$$set=r=>{"$$scope"in r&&n(0,i=r.$$scope)},[i,t]}class xn extends fe{constructor(e){super(),oe(this,e,za,La,ae,{})}}function Ii(l,e,n){const t=l.slice();t[9]=e[n];const i=`${yt(t[9].value)}-${t[4]}`;return t[10]=i,t}function yi(l){let e,n,t,i,r=!1,s,f,a=l[9].name+"",o,u,c,m,p,h;return m=Is(l[8][0]),{c(){e=T("div"),n=T("input"),s=z(),f=T("label"),o=B(a),c=z(),this.h()},l(_){e=S(_,"DIV",{class:!0});var E=F(e);n=S(E,"INPUT",{id:!0,type:!0,name:!0,class:!0}),s=L(E),f=S(E,"LABEL",{for:!0,class:!0});var g=F(f);o=O(g,a),g.forEach(d),c=L(E),E.forEach(d),this.h()},h(){C(n,"id",t=l[10]),n.__value=i=l[9].value,bt(n,n.__value),C(n,"type","radio"),C(n,"name",l[4]),n.disabled=l[2],n.required=l[3],C(n,"class","svelte-ep6jiz"),C(f,"for",u=l[10]),C(f,"class","cap svelte-ep6jiz"),C(e,"class","radio-field svelte-ep6jiz"),m.p(n)},m(_,E){b(_,e,E),k(e,n),n.checked=n.__value===l[0],k(e,s),k(e,f),k(f,o),k(e,c),p||(h=it(n,"change",l[7]),p=!0)},p(_,E){E&18&&t!==(t=_[10])&&C(n,"id",t),E&2&&i!==(i=_[9].value)&&(n.__value=i,bt(n,n.__value),r=!0),E&16&&C(n,"name",_[4]),E&4&&(n.disabled=_[2]),E&8&&(n.required=_[3]),(r||E&3)&&(n.checked=n.__value===_[0]),E&2&&a!==(a=_[9].name+"")&&re(o,a),E&18&&u!==(u=_[10])&&C(f,"for",u)},d(_){_&&d(e),m.r(),p=!1,h()}}}function Ha(l){let e,n=Ne(l[1]),t=[];for(let i=0;i<n.length;i+=1)t[i]=yi(Ii(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=x()},l(i){for(let r=0;r<t.length;r+=1)t[r].l(i);e=x()},m(i,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,r);b(i,e,r)},p(i,[r]){if(r&31){n=Ne(i[1]);let s;for(s=0;s<n.length;s+=1){const f=Ii(i,n,s);t[s]?t[s].p(f,r):(t[s]=yi(f),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:le,o:le,d(i){i&&d(e),nt(t,i)}}}function Fa(l,e,n){let t,{label:i}=e,{checked:r}=e,{values:s}=e,{name:f=void 0}=e,{disabled:a=!1}=e,{required:o=!1}=e;const u=[[]];function c(){r=this.__value,n(0,r)}return l.$$set=m=>{"label"in m&&n(5,i=m.label),"checked"in m&&n(0,r=m.checked),"values"in m&&n(1,s=m.values),"name"in m&&n(6,f=m.name),"disabled"in m&&n(2,a=m.disabled),"required"in m&&n(3,o=m.required)},l.$$.update=()=>{l.$$.dirty&96&&n(4,t=f??yt(i))},[r,s,a,o,t,i,f,c,u]}class Dn extends fe{constructor(e){super(),oe(this,e,Fa,Ha,ae,{label:5,checked:0,values:1,name:6,disabled:2,required:3})}}function Ra(l){let e,n,t,i,r,s;const f=l[2].default,a=Mt(f,l,l[1],null);return{c(){e=T("details"),n=T("summary"),t=T("h2"),i=B(l[0]),r=z(),a&&a.c(),this.h()},l(o){e=S(o,"DETAILS",{class:!0});var u=F(e);n=S(u,"SUMMARY",{class:!0});var c=F(n);t=S(c,"H2",{class:!0});var m=F(t);i=O(m,l[0]),m.forEach(d),c.forEach(d),r=L(u),a&&a.l(u),u.forEach(d),this.h()},h(){C(t,"class","svelte-1lzlvae"),C(n,"class","svelte-1lzlvae"),C(e,"class","svelte-1lzlvae")},m(o,u){b(o,e,u),k(e,n),k(n,t),k(t,i),k(e,r),a&&a.m(e,null),s=!0},p(o,[u]){(!s||u&1)&&re(i,o[0]),a&&a.p&&(!s||u&2)&&Ot(a,f,o,o[1],s?qt(f,o[1],u,null):Bt(o[1]),null)},i(o){s||($(a,o),s=!0)},o(o){v(a,o),s=!1},d(o){o&&d(e),a&&a.d(o)}}}function Va(l,e,n){let{$$slots:t={},$$scope:i}=e,{title:r}=e;return l.$$set=s=>{"title"in s&&n(0,r=s.title),"$$scope"in s&&n(1,i=s.$$scope)},[r,i,t]}class Ma extends fe{constructor(e){super(),oe(this,e,Va,Ra,ae,{title:0})}}function Oa(l){let e,n,t,i,r;return{c(){e=T("div"),n=T("label"),t=B(l[0]),i=z(),r=T("input"),this.h()},l(s){e=S(s,"DIV",{class:!0});var f=F(e);n=S(f,"LABEL",{for:!0,class:!0});var a=F(n);t=O(a,l[0]),a.forEach(d),i=L(f),r=S(f,"INPUT",{type:!0,id:!0,name:!0,class:!0}),f.forEach(d),this.h()},h(){C(n,"for",l[5]),C(n,"class","svelte-84zne5"),C(r,"type",l[7]),C(r,"id",l[5]),C(r,"name",l[4]),r.value=l[1],r.disabled=l[2],r.required=l[3],C(r,"class","svelte-84zne5"),C(e,"class","password-field svelte-84zne5")},m(s,f){b(s,e,f),k(e,n),k(n,t),k(e,i),k(e,r)},p(s,f){f&1&&re(t,s[0]),f&32&&C(n,"for",s[5]),f&128&&C(r,"type",s[7]),f&32&&C(r,"id",s[5]),f&16&&C(r,"name",s[4]),f&2&&r.value!==s[1]&&(r.value=s[1]),f&4&&(r.disabled=s[2]),f&8&&(r.required=s[3])},d(s){s&&d(e)}}}function Ba(l){let e,n;return e=new An({props:{label:l[6],$$slots:{default:[Oa]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&64&&(r.label=t[6]),i&2239&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function qa(l,e,n){let t,i,r,s,{label:f}=e,{value:a}=e,{name:o=void 0}=e,{disabled:u=!1}=e,{required:c=!1}=e,m=!1;const p=()=>n(10,m=!m);return l.$$set=h=>{"label"in h&&n(0,f=h.label),"value"in h&&n(1,a=h.value),"name"in h&&n(9,o=h.name),"disabled"in h&&n(2,u=h.disabled),"required"in h&&n(3,c=h.required)},l.$$.update=()=>{l.$$.dirty&1024&&n(7,t=m?"text":"password"),l.$$.dirty&1024&&n(6,i=m?"Hide":"Reveal"),l.$$.dirty&513&&n(4,r=o??yt(f)),l.$$.dirty&16&&n(5,s=`${r}-input`)},[f,a,u,c,r,s,i,t,p,o,m]}class Ka extends fe{constructor(e){super(),oe(this,e,qa,Ba,ae,{label:0,value:1,name:9,disabled:2,required:3})}}function Ai(l,e,n){const t=l.slice();return t[13]=e[n],t}function Pi(l){let e,n,t,i=l[13]+"",r,s;return{c(){e=T("div"),n=T("span"),t=T("span"),r=B(i),s=z(),this.h()},l(f){e=S(f,"DIV",{class:!0});var a=F(e);n=S(a,"SPAN",{class:!0});var o=F(n);t=S(o,"SPAN",{});var u=F(t);r=O(u,i),u.forEach(d),s=L(o),o.forEach(d),a.forEach(d),this.h()},h(){Se(t,"display","none"),C(n,"class","marker svelte-1u67ix7"),C(e,"class","notch svelte-1u67ix7")},m(f,a){b(f,e,a),k(e,n),k(n,t),k(t,r),k(n,s)},p(f,a){a&128&&i!==(i=f[13]+"")&&re(r,i)},d(f){f&&d(e)}}}function Ua(l){let e,n,t,i,r,s,f,a,o,u,c,m,p,h,_,E=`translateX(${l[8]}%)`,g,w,D=Ne(l[7]),H=[];for(let N=0;N<D.length;N+=1)H[N]=Pi(Ai(l,D,N));return{c(){e=T("div"),n=T("label"),t=B(l[1]),i=z(),r=T("div"),s=T("input"),f=z(),a=T("div"),o=T("div"),u=z(),c=T("div");for(let N=0;N<H.length;N+=1)H[N].c();m=z(),p=T("span"),h=T("span"),_=B(l[0]),this.h()},l(N){e=S(N,"DIV",{class:!0});var R=F(e);n=S(R,"LABEL",{for:!0,class:!0});var V=F(n);t=O(V,l[1]),V.forEach(d),i=L(R),r=S(R,"DIV",{class:!0});var M=F(r);s=S(M,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,min:!0,max:!0,step:!0,class:!0}),f=L(M),a=S(M,"DIV",{class:!0,"aria-hidden":!0});var q=F(a);o=S(q,"DIV",{class:!0}),F(o).forEach(d),u=L(q),c=S(q,"DIV",{class:!0});var U=F(c);for(let K=0;K<H.length;K+=1)H[K].l(U);U.forEach(d),m=L(q),p=S(q,"SPAN",{class:!0});var Q=F(p);h=S(Q,"SPAN",{class:!0});var J=F(h);_=O(J,l[0]),J.forEach(d),Q.forEach(d),q.forEach(d),M.forEach(d),R.forEach(d),this.h()},h(){C(n,"for",l[9]),C(n,"class","svelte-1u67ix7"),C(s,"type","range"),C(s,"id",l[9]),C(s,"name",l[6]),C(s,"placeholder",l[3]),C(s,"min",l[4]),C(s,"max",l[5]),C(s,"step","1"),s.value=l[0],s.disabled=l[2],C(s,"class","svelte-1u67ix7"),C(o,"class","track svelte-1u67ix7"),C(c,"class","notches svelte-1u67ix7"),C(h,"class","knob svelte-1u67ix7"),C(p,"class","knob-container svelte-1u67ix7"),Se(p,"transform",E),C(a,"class","range-display svelte-1u67ix7"),C(a,"aria-hidden","true"),C(r,"class","container svelte-1u67ix7"),C(e,"class","ranks-field svelte-1u67ix7")},m(N,R){b(N,e,R),k(e,n),k(n,t),k(e,i),k(e,r),k(r,s),k(r,f),k(r,a),k(a,o),k(a,u),k(a,c);for(let V=0;V<H.length;V+=1)H[V]&&H[V].m(c,null);k(a,m),k(a,p),k(p,h),k(h,_),g||(w=it(s,"input",l[10]),g=!0)},p(N,[R]){if(R&2&&re(t,N[1]),R&512&&C(n,"for",N[9]),R&512&&C(s,"id",N[9]),R&64&&C(s,"name",N[6]),R&8&&C(s,"placeholder",N[3]),R&16&&C(s,"min",N[4]),R&32&&C(s,"max",N[5]),R&1&&(s.value=N[0]),R&4&&(s.disabled=N[2]),R&128){D=Ne(N[7]);let V;for(V=0;V<D.length;V+=1){const M=Ai(N,D,V);H[V]?H[V].p(M,R):(H[V]=Pi(M),H[V].c(),H[V].m(c,null))}for(;V<H.length;V+=1)H[V].d(1);H.length=D.length}R&1&&re(_,N[0]),R&256&&E!==(E=`translateX(${N[8]}%)`)&&Se(p,"transform",E)},i:le,o:le,d(N){N&&d(e),nt(H,N),g=!1,w()}}}function ja(l,e,n){let t,i,r,s,{label:f}=e,{value:a}=e,{name:o=void 0}=e,{disabled:u=!1}=e,{placeholder:c=""}=e,{min:m=0}=e,{max:p}=e;const h=xe(),_=E=>{n(0,a=parseInt(E.target.value)),h("input",{value:a})};return l.$$set=E=>{"label"in E&&n(1,f=E.label),"value"in E&&n(0,a=E.value),"name"in E&&n(11,o=E.name),"disabled"in E&&n(2,u=E.disabled),"placeholder"in E&&n(3,c=E.placeholder),"min"in E&&n(4,m=E.min),"max"in E&&n(5,p=E.max)},l.$$.update=()=>{l.$$.dirty&2050&&n(6,t=o??yt(f)),l.$$.dirty&64&&n(9,i=`${t}-input`),l.$$.dirty&49&&n(8,r=100*(a-m)/(p-m)),l.$$.dirty&48&&n(7,s=[...Array(p-m+1)].map((E,g)=>g))},[a,f,u,c,m,p,t,s,r,i,_,o]}class ls extends fe{constructor(e){super(),oe(this,e,ja,Ua,ae,{label:1,value:0,name:11,disabled:2,placeholder:3,min:4,max:5})}}function nn(l){setTimeout(()=>{var e;(e=document.querySelector(`#${l}-input`))==null||e.focus()},50)}function Ga(l){let e;return{c(){e=T("hr"),this.h()},l(n){e=S(n,"HR",{class:!0}),this.h()},h(){C(e,"class","svelte-bk1q1p")},m(n,t){b(n,e,t)},p:le,i:le,o:le,d(n){n&&d(e)}}}class rs extends fe{constructor(e){super(),oe(this,e,null,Ga,ae,{})}}function Di(l,e,n){var f;const t=l.slice();t[6]=e[n],t[11]=n;const i=t[1][t[6].attr].modifier+(t[6].proficient?t[4]:0)+(t[6].expert?t[4]:0)+(((f=t[6].extraModifiers)==null?void 0:f[t[6].name])??0);t[7]=i;const r=t[11]%(2*t[2])>=t[2];t[8]=r;const s=t[11]%(2*t[3])>=t[3];return t[9]=s,t}function Ya(l){let e,n="⦿";return{c(){e=T("abbr"),e.textContent=n,this.h()},l(t){e=S(t,"ABBR",{title:!0,class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1dlfqet"&&(e.textContent=n),this.h()},h(){C(e,"title","Proficient"),C(e,"class","svelte-2tpkxs")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Qa(l){let e,n="★";return{c(){e=T("abbr"),e.textContent=n,this.h()},l(t){e=S(t,"ABBR",{title:!0,class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-yrnqc6"&&(e.textContent=n),this.h()},h(){C(e,"title","Expert"),C(e,"class","svelte-2tpkxs")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Ni(l){let e,n,t,i,r=l[6].name+"",s,f,a,o=l[7]>=0?"+":"",u,c=l[7]+"",m,p;function h(g,w){if(g[6].expert)return Qa;if(g[6].proficient)return Ya}let _=h(l),E=_&&_(l);return{c(){e=T("dt"),n=T("span"),E&&E.c(),t=z(),i=T("span"),s=B(r),f=z(),a=T("dd"),u=B(o),m=B(c),p=T("dd"),this.h()},l(g){e=S(g,"DT",{class:!0});var w=F(e);n=S(w,"SPAN",{class:!0});var D=F(n);E&&E.l(D),D.forEach(d),t=L(w),i=S(w,"SPAN",{});var H=F(i);s=O(H,r),H.forEach(d),f=L(w),w.forEach(d),a=S(g,"DD",{class:!0});var N=F(a);u=O(N,o),m=O(N,c),N.forEach(d),p=S(g,"DD",{"aria-hidden":!0,class:!0}),F(p).forEach(d),this.h()},h(){C(n,"class","icon svelte-2tpkxs"),C(e,"class","svelte-2tpkxs"),Ge(e,"even",l[9]),Ge(e,"even-lg",l[8]),C(a,"class","svelte-2tpkxs"),Ge(a,"even",l[9]),Ge(a,"even-lg",l[8]),C(p,"aria-hidden","true"),C(p,"class","svelte-2tpkxs"),Ge(p,"even",l[9]),Ge(p,"even-lg",l[8])},m(g,w){b(g,e,w),k(e,n),E&&E.m(n,null),k(e,t),k(e,i),k(i,s),k(e,f),b(g,a,w),k(a,u),k(a,m),b(g,p,w)},p(g,w){_!==(_=h(g))&&(E&&E.d(1),E=_&&_(g),E&&(E.c(),E.m(n,null))),w&1&&r!==(r=g[6].name+"")&&re(s,r),w&8&&Ge(e,"even",g[9]),w&4&&Ge(e,"even-lg",g[8]),w&19&&o!==(o=g[7]>=0?"+":"")&&re(u,o),w&19&&c!==(c=g[7]+"")&&re(m,c),w&8&&Ge(a,"even",g[9]),w&4&&Ge(a,"even-lg",g[8]),w&8&&Ge(p,"even",g[9]),w&4&&Ge(p,"even-lg",g[8])},d(g){g&&(d(e),d(a),d(p)),E&&E.d()}}}function Wa(l){let e,n=Ne(l[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Ni(Di(l,n,i));return{c(){e=T("dl");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=S(i,"DL",{class:!0});var r=F(e);for(let s=0;s<t.length;s+=1)t[s].l(r);r.forEach(d),this.h()},h(){C(e,"class","svelte-2tpkxs"),Se(e,"--columns",l[3]),Se(e,"--columns-lg",l[2])},m(i,r){b(i,e,r);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,[r]){if(r&31){n=Ne(i[0]);let s;for(s=0;s<n.length;s+=1){const f=Di(i,n,s);t[s]?t[s].p(f,r):(t[s]=Ni(f),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}r&8&&Se(e,"--columns",i[3]),r&4&&Se(e,"--columns-lg",i[2])},i:le,o:le,d(i){i&&d(e),nt(t,i)}}}function Za(l,e,n){let t,{values:i}=e,{attributes:r}=e,{level:s}=e,{columnsLg:f=1}=e,{columns:a=1}=e;return l.$$set=o=>{"values"in o&&n(0,i=o.values),"attributes"in o&&n(1,r=o.attributes),"level"in o&&n(5,s=o.level),"columnsLg"in o&&n(2,f=o.columnsLg),"columns"in o&&n(3,a=o.columns)},l.$$.update=()=>{l.$$.dirty&32&&n(4,t=s.proficiencyBonus)},[i,r,f,a,t,s]}class Li extends fe{constructor(e){super(),oe(this,e,Za,Wa,ae,{values:0,attributes:1,level:5,columnsLg:2,columns:3})}}const Ja="stellar",xt=class xt extends es{};Le(xt,"list",[].concat(Bn.list).concat(Ja)),Le(xt,"isTeraType",e=>xt.list.includes(e));let It=xt;function Xa(l){let e,n,t;function i(s){l[3](s)}let r={label:"Gender",values:l[2],disabled:l[1]};return l[0]!==void 0&&(r.checked=l[0]),e=new Dn({props:r}),te.push(()=>ie(e,"checked",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&2&&(a.disabled=s[1]),!n&&f&1&&(n=!0,a.checked=s[0],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function xa(l){let e,n;return e=new Je({props:{title:"Gender",columns:4,$$slots:{default:[Xa]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&19&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function ef(l,e,n){let{value:t}=e,{disabled:i=!1}=e;const r=[Lt.Male,Lt.Female,Lt.None,Lt.Other].map(f=>({name:f,value:f}));function s(f){t=f,n(0,t)}return l.$$set=f=>{"value"in f&&n(0,t=f.value),"disabled"in f&&n(1,i=f.disabled)},[t,i,r,s]}class tf extends fe{constructor(e){super(),oe(this,e,ef,xa,ae,{value:0,disabled:1})}}function zi(l,e,n){const t=l.slice();return t[4]=e[n],t[5]=e,t[6]=n,t}function Hi(l){let e,n,t,i,r;function s(a){l[3](a,l[4])}let f={max:5,label:l[4].name+" ("+l[4].type+")",name:"specialization-"+l[4].type,disabled:l[1]};return l[0][l[4].type]!==void 0&&(f.value=l[0][l[4].type]),e=new ls({props:f}),te.push(()=>ie(e,"value",s)),{c(){n=T("div"),A(e.$$.fragment),this.h()},l(a){n=S(a,"DIV",{style:!0});var o=F(n);P(e.$$.fragment,o),this.h()},h(){Se(n,"display","contents"),Se(n,"--skin-local-bg",i="var(--skin-"+l[4].type+"-bg)")},m(a,o){b(a,n,o),y(e,n,null),r=!0},p(a,o){l=a,o&4&&i!==(i="var(--skin-"+l[4].type+"-bg)")&&Se(n,"--skin-local-bg",i);const u={};o&4&&(u.label=l[4].name+" ("+l[4].type+")"),o&4&&(u.name="specialization-"+l[4].type),o&2&&(u.disabled=l[1]),!t&&o&5&&(t=!0,u.value=l[0][l[4].type],ne(()=>t=!1)),e.$set(u)},i(a){r||($(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){a&&e&&d(n),I(e,a)}}}function nf(l){let e,n,t=Ne(Object.values(l[2])),i=[];for(let s=0;s<t.length;s+=1)i[s]=Hi(zi(l,t,s));const r=s=>v(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=x()},l(s){for(let f=0;f<i.length;f+=1)i[f].l(s);e=x()},m(s,f){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,f);b(s,e,f),n=!0},p(s,f){if(f&7){t=Ne(Object.values(s[2]));let a;for(a=0;a<t.length;a+=1){const o=zi(s,t,a);i[a]?(i[a].p(o,f),$(i[a],1)):(i[a]=Hi(o),i[a].c(),$(i[a],1),i[a].m(e.parentNode,e))}for(me(),a=t.length;a<i.length;a+=1)r(a);de()}},i(s){if(!n){for(let f=0;f<t.length;f+=1)$(i[f]);n=!0}},o(s){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)v(i[f]);n=!1},d(s){s&&d(e),nt(i,s)}}}function lf(l){let e,n;return e=new Je({props:{title:"Specializations",columns:2,columnsLg:3,$$slots:{default:[nf]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&135&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function rf(l,e,n){let t;ze(l,Qr,f=>n(2,t=f));let{values:i}=e,{disabled:r=!1}=e;function s(f,a){l.$$.not_equal(i[a.type],f)&&(i[a.type]=f,n(0,i))}return l.$$set=f=>{"values"in f&&n(0,i=f.values),"disabled"in f&&n(1,r=f.disabled)},[i,r,t,s]}class sf extends fe{constructor(e){super(),oe(this,e,rf,lf,ae,{values:0,disabled:1})}}const St=[2,5,9,15];function af(l){return Jr.map(e=>e.name).includes(l)}function ff(){return{name:"",resource:0,customFeatures:{level2:{description:""},level5:{name:"",description:""},level9:{name:"",description:""},level15:{name:"",description:""}}}}function Fi(l){let e,n,t;function i(s){l[4](s)}let r={label:"Level "+l[2]+" Feature Name",disabled:l[3]};return l[0]!==void 0&&(r.value=l[0]),e=new lt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&4&&(a.label="Level "+s[2]+" Feature Name"),f&8&&(a.disabled=s[3]),!n&&f&1&&(n=!0,a.value=s[0],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function of(l){let e,n,t,i,r=l[0]!=null&&Fi(l);function s(a){l[5](a)}let f={label:"Level "+l[2]+" Feature Description",disabled:l[3]};return l[1]!==void 0&&(f.value=l[1]),n=new kt({props:f}),te.push(()=>ie(n,"value",s)),{c(){r&&r.c(),e=z(),A(n.$$.fragment)},l(a){r&&r.l(a),e=L(a),P(n.$$.fragment,a)},m(a,o){r&&r.m(a,o),b(a,e,o),y(n,a,o),i=!0},p(a,[o]){a[0]!=null?r?(r.p(a,o),o&1&&$(r,1)):(r=Fi(a),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(me(),v(r,1,1,()=>{r=null}),de());const u={};o&4&&(u.label="Level "+a[2]+" Feature Description"),o&8&&(u.disabled=a[3]),!t&&o&2&&(t=!0,u.value=a[1],ne(()=>t=!1)),n.$set(u)},i(a){i||($(r),$(n.$$.fragment,a),i=!0)},o(a){v(r),v(n.$$.fragment,a),i=!1},d(a){a&&d(e),r&&r.d(a),I(n,a)}}}function uf(l,e,n){let{level:t}=e,{name:i=void 0}=e,{description:r}=e,{disabled:s=!1}=e;function f(o){i=o,n(0,i)}function a(o){r=o,n(1,r)}return l.$$set=o=>{"level"in o&&n(2,t=o.level),"name"in o&&n(0,i=o.name),"description"in o&&n(1,r=o.description),"disabled"in o&&n(3,s=o.disabled)},[i,r,t,s,f,a]}class dn extends fe{constructor(e){super(),oe(this,e,uf,of,ae,{level:2,name:0,description:1,disabled:3})}}function Ri(l){let e,n,t,i,r,s,f,a,o,u,c,m,p,h,_,E,g;function w(K){l[7](K)}let D={level:"2",disabled:l[1]};l[0].customFeatures.level2.description!==void 0&&(D.description=l[0].customFeatures.level2.description),t=new dn({props:D}),te.push(()=>ie(t,"description",w));function H(K){l[8](K)}function N(K){l[9](K)}let R={level:"5",disabled:l[1]};l[0].customFeatures.level5.name!==void 0&&(R.name=l[0].customFeatures.level5.name),l[0].customFeatures.level5.description!==void 0&&(R.description=l[0].customFeatures.level5.description),s=new dn({props:R}),te.push(()=>ie(s,"name",H)),te.push(()=>ie(s,"description",N));function V(K){l[10](K)}function M(K){l[11](K)}let q={level:"9",disabled:l[1]};l[0].customFeatures.level9.name!==void 0&&(q.name=l[0].customFeatures.level9.name),l[0].customFeatures.level9.description!==void 0&&(q.description=l[0].customFeatures.level9.description),u=new dn({props:q}),te.push(()=>ie(u,"name",V)),te.push(()=>ie(u,"description",M));function U(K){l[12](K)}function Q(K){l[13](K)}let J={level:"15",disabled:l[1]};return l[0].customFeatures.level15.name!==void 0&&(J.name=l[0].customFeatures.level15.name),l[0].customFeatures.level15.description!==void 0&&(J.description=l[0].customFeatures.level15.description),h=new dn({props:J}),te.push(()=>ie(h,"name",U)),te.push(()=>ie(h,"description",Q)),{c(){e=T("hr"),n=z(),A(t.$$.fragment),r=z(),A(s.$$.fragment),o=z(),A(u.$$.fragment),p=z(),A(h.$$.fragment)},l(K){e=S(K,"HR",{}),n=L(K),P(t.$$.fragment,K),r=L(K),P(s.$$.fragment,K),o=L(K),P(u.$$.fragment,K),p=L(K),P(h.$$.fragment,K)},m(K,G){b(K,e,G),b(K,n,G),y(t,K,G),b(K,r,G),y(s,K,G),b(K,o,G),y(u,K,G),b(K,p,G),y(h,K,G),g=!0},p(K,G){const ue={};G&2&&(ue.disabled=K[1]),!i&&G&1&&(i=!0,ue.description=K[0].customFeatures.level2.description,ne(()=>i=!1)),t.$set(ue);const ve={};G&2&&(ve.disabled=K[1]),!f&&G&1&&(f=!0,ve.name=K[0].customFeatures.level5.name,ne(()=>f=!1)),!a&&G&1&&(a=!0,ve.description=K[0].customFeatures.level5.description,ne(()=>a=!1)),s.$set(ve);const Z={};G&2&&(Z.disabled=K[1]),!c&&G&1&&(c=!0,Z.name=K[0].customFeatures.level9.name,ne(()=>c=!1)),!m&&G&1&&(m=!0,Z.description=K[0].customFeatures.level9.description,ne(()=>m=!1)),u.$set(Z);const he={};G&2&&(he.disabled=K[1]),!_&&G&1&&(_=!0,he.name=K[0].customFeatures.level15.name,ne(()=>_=!1)),!E&&G&1&&(E=!0,he.description=K[0].customFeatures.level15.description,ne(()=>E=!1)),h.$set(he)},i(K){g||($(t.$$.fragment,K),$(s.$$.fragment,K),$(u.$$.fragment,K),$(h.$$.fragment,K),g=!0)},o(K){v(t.$$.fragment,K),v(s.$$.fragment,K),v(u.$$.fragment,K),v(h.$$.fragment,K),g=!1},d(K){K&&(d(e),d(n),d(r),d(o),d(p)),I(t,K),I(s,K),I(u,K),I(h,K)}}}function cf(l){let e,n,t,i,r,s;function f(c){l[5](c)}function a(c){l[6](c)}let o={label:"Path Name",options:l[4],disabled:l[1]};l[2]!==void 0&&(o.value=l[2]),l[3]!==void 0&&(o.other=l[3]),e=new mt({props:o}),te.push(()=>ie(e,"value",f)),te.push(()=>ie(e,"other",a));let u=l[2]===bn&&Ri(l);return{c(){A(e.$$.fragment),i=z(),u&&u.c(),r=x()},l(c){P(e.$$.fragment,c),i=L(c),u&&u.l(c),r=x()},m(c,m){y(e,c,m),b(c,i,m),u&&u.m(c,m),b(c,r,m),s=!0},p(c,m){const p={};m&2&&(p.disabled=c[1]),!n&&m&4&&(n=!0,p.value=c[2],ne(()=>n=!1)),!t&&m&8&&(t=!0,p.other=c[3],ne(()=>t=!1)),e.$set(p),c[2]===bn?u?(u.p(c,m),m&4&&$(u,1)):(u=Ri(c),u.c(),$(u,1),u.m(r.parentNode,r)):u&&(me(),v(u,1,1,()=>{u=null}),de())},i(c){s||($(e.$$.fragment,c),$(u),s=!0)},o(c){v(e.$$.fragment,c),v(u),s=!1},d(c){c&&(d(i),d(r)),I(e,c),u&&u.d(c)}}}function mf(l){let e,n;return e=new Je({props:{title:"Trainer Path",$$slots:{default:[cf]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&16399&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function df(l,e,n){let{value:t}=e,{disabled:i=!1}=e,r=t.name===""||af(t.name)?t.name:bn,s=t.name;const f=[{name:"— None —",value:""}].concat(Jr.map(g=>({name:g.name,value:g.name})));function a(g){r=g,n(2,r)}function o(g){s=g,n(3,s)}function u(g){l.$$.not_equal(t.customFeatures.level2.description,g)&&(t.customFeatures.level2.description=g,n(0,t),n(2,r),n(3,s))}function c(g){l.$$.not_equal(t.customFeatures.level5.name,g)&&(t.customFeatures.level5.name=g,n(0,t),n(2,r),n(3,s))}function m(g){l.$$.not_equal(t.customFeatures.level5.description,g)&&(t.customFeatures.level5.description=g,n(0,t),n(2,r),n(3,s))}function p(g){l.$$.not_equal(t.customFeatures.level9.name,g)&&(t.customFeatures.level9.name=g,n(0,t),n(2,r),n(3,s))}function h(g){l.$$.not_equal(t.customFeatures.level9.description,g)&&(t.customFeatures.level9.description=g,n(0,t),n(2,r),n(3,s))}function _(g){l.$$.not_equal(t.customFeatures.level15.name,g)&&(t.customFeatures.level15.name=g,n(0,t),n(2,r),n(3,s))}function E(g){l.$$.not_equal(t.customFeatures.level15.description,g)&&(t.customFeatures.level15.description=g,n(0,t),n(2,r),n(3,s))}return l.$$set=g=>{"value"in g&&n(0,t=g.value),"disabled"in g&&n(1,i=g.disabled)},l.$$.update=()=>{l.$$.dirty&12&&(r===bn?n(0,t.name=s,t):n(0,t.name=r,t))},[t,i,r,s,f,a,o,u,c,m,p,h,_,E]}class _f extends fe{constructor(e){super(),oe(this,e,df,mf,ae,{value:0,disabled:1})}}function Vi(l,e,n){const t=l.slice();return t[2]=e[n],t}function Mi(l){let e,n=l[2]+"",t;return{c(){e=T("p"),t=B(n)},l(i){e=S(i,"P",{});var r=F(e);t=O(r,n),r.forEach(d)},m(i,r){b(i,e,r),k(e,t)},p(i,r){r&1&&n!==(n=i[2]+"")&&re(t,n)},d(i){i&&d(e)}}}function pf(l){let e,n=Ne(l[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Mi(Vi(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=x()},l(i){for(let r=0;r<t.length;r+=1)t[r].l(i);e=x()},m(i,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,r);b(i,e,r)},p(i,[r]){if(r&1){n=Ne(i[0]);let s;for(s=0;s<n.length;s+=1){const f=Vi(i,n,s);t[s]?t[s].p(f,r):(t[s]=Mi(f),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:le,o:le,d(i){i&&d(e),nt(t,i)}}}function hf(l,e,n){let t,{value:i=""}=e;return l.$$set=r=>{"value"in r&&n(1,i=r.value)},l.$$.update=()=>{l.$$.dirty&2&&n(0,t=i.split(/\n+/))},[t,i]}class ei extends fe{constructor(e){super(),oe(this,e,hf,pf,ae,{value:1})}}function Oi(l){var i;let e,n=(((i=l[0])==null?void 0:i.features[l[3]].name)??l[1].customFeatures[l[3]].name)+"",t;return{c(){e=T("h3"),t=B(n)},l(r){e=S(r,"H3",{});var s=F(e);t=O(s,n),s.forEach(d)},m(r,s){b(r,e,s),k(e,t)},p(r,s){var f;s&11&&n!==(n=(((f=r[0])==null?void 0:f.features[r[3]].name)??r[1].customFeatures[r[3]].name)+"")&&re(t,n)},d(r){r&&d(e)}}}function $f(l){let e,n;return e=new ei({props:{value:l[1].customFeatures[l[3]].description}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&10&&(r.value=t[1].customFeatures[t[3]].description),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function gf(l){let e,n=pi(l[0].features[l[3]].description)+"",t;return{c(){e=new rn(!1),t=x(),this.h()},l(i){e=ln(i,!1),t=x(),this.h()},h(){e.a=t},m(i,r){e.m(n,i,r),b(i,t,r)},p(i,r){r&9&&n!==(n=pi(i[0].features[i[3]].description)+"")&&e.p(n)},i:le,o:le,d(i){i&&(d(t),e.d())}}}function vf(l){let e,n,t,i,r,s=l[2]!==St[0]&&Oi(l);const f=[gf,$f],a=[];function o(u,c){return u[0]!=null?0:1}return t=o(l),i=a[t]=f[t](l),{c(){s&&s.c(),e=z(),n=T("div"),i.c(),this.h()},l(u){s&&s.l(u),e=L(u),n=S(u,"DIV",{class:!0});var c=F(n);i.l(c),c.forEach(d),this.h()},h(){C(n,"class","smaller svelte-t9ks1a")},m(u,c){s&&s.m(u,c),b(u,e,c),b(u,n,c),a[t].m(n,null),r=!0},p(u,[c]){u[2]!==St[0]?s?s.p(u,c):(s=Oi(u),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);let m=t;t=o(u),t===m?a[t].p(u,c):(me(),v(a[m],1,1,()=>{a[m]=null}),de(),i=a[t],i?i.p(u,c):(i=a[t]=f[t](u),i.c()),$(i,1),i.m(n,null))},i(u){r||($(i),r=!0)},o(u){v(i),r=!1},d(u){u&&(d(e),d(n)),s&&s.d(u),a[t].d()}}}function bf(l,e,n){let t,{standardPath:i}=e,{customPath:r}=e,{level:s}=e;return l.$$set=f=>{"standardPath"in f&&n(0,i=f.standardPath),"customPath"in f&&n(1,r=f.customPath),"level"in f&&n(2,s=f.level)},l.$$.update=()=>{l.$$.dirty&4&&n(3,t=`level${s}`)},[i,r,s,t]}class kf extends fe{constructor(e){super(),oe(this,e,bf,vf,ae,{standardPath:0,customPath:1,level:2})}}function Bi(l,e,n){const t=l.slice();return t[9]=e[n],t}function qi(l){let e,n,t,i=l[0].name+"",r,s,f,a,o,u=l[2].data<St[0]&&Ki(),c=l[4]!=null&&l[2].data>=l[4].acquiredAtLevel&&Ui(l),m=Ne(St),p=[];for(let _=0;_<m.length;_+=1)p[_]=Gi(Bi(l,m,_));const h=_=>v(p[_],1,1,()=>{p[_]=null});return{c(){e=T("section"),n=T("h2"),t=B("Path: "),r=B(i),s=z(),u&&u.c(),f=z(),c&&c.c(),a=z();for(let _=0;_<p.length;_+=1)p[_].c()},l(_){e=S(_,"SECTION",{});var E=F(e);n=S(E,"H2",{});var g=F(n);t=O(g,"Path: "),r=O(g,i),g.forEach(d),s=L(E),u&&u.l(E),f=L(E),c&&c.l(E),a=L(E);for(let w=0;w<p.length;w+=1)p[w].l(E);E.forEach(d)},m(_,E){b(_,e,E),k(e,n),k(n,t),k(n,r),k(e,s),u&&u.m(e,null),k(e,f),c&&c.m(e,null),k(e,a);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(e,null);o=!0},p(_,E){if((!o||E&1)&&i!==(i=_[0].name+"")&&re(r,i),_[2].data<St[0]?u||(u=Ki(),u.c(),u.m(e,f)):u&&(u.d(1),u=null),_[4]!=null&&_[2].data>=_[4].acquiredAtLevel?c?(c.p(_,E),E&20&&$(c,1)):(c=Ui(_),c.c(),$(c,1),c.m(e,a)):c&&(me(),v(c,1,1,()=>{c=null}),de()),E&13){m=Ne(St);let g;for(g=0;g<m.length;g+=1){const w=Bi(_,m,g);p[g]?(p[g].p(w,E),$(p[g],1)):(p[g]=Gi(w),p[g].c(),$(p[g],1),p[g].m(e,null))}for(me(),g=m.length;g<p.length;g+=1)h(g);de()}},i(_){if(!o){$(c);for(let E=0;E<m.length;E+=1)$(p[E]);o=!0}},o(_){v(c),p=p.filter(Boolean);for(let E=0;E<p.length;E+=1)v(p[E]);o=!1},d(_){_&&d(e),u&&u.d(),c&&c.d(),nt(p,_)}}}function Ki(l){let e,n,t=St[0]+"",i,r;return{c(){e=T("p"),n=B("You gain access to your first trainer path feature at level "),i=B(t),r=B(".")},l(s){e=S(s,"P",{});var f=F(e);n=O(f,"You gain access to your first trainer path feature at level "),i=O(f,t),r=O(f,"."),f.forEach(d)},m(s,f){b(s,e,f),k(e,n),k(e,i),k(e,r)},d(s){s&&d(e)}}}function Ui(l){let e,n,t,i;const r=[Ef,wf],s=[];function f(a,o){return a[1]?0:1}return n=f(l),t=s[n]=r[n](l),{c(){e=T("p"),t.c(),this.h()},l(a){e=S(a,"P",{class:!0});var o=F(e);t.l(o),o.forEach(d),this.h()},h(){C(e,"class","row svelte-1o95qc1")},m(a,o){b(a,e,o),s[n].m(e,null),i=!0},p(a,o){let u=n;n=f(a),n===u?s[n].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),t=s[n],t?t.p(a,o):(t=s[n]=r[n](a),t.c()),$(t,1),t.m(e,null))},i(a){i||($(t),i=!0)},o(a){v(t),i=!1},d(a){a&&d(e),s[n].d()}}}function wf(l){let e,n=l[4].name+"",t,i,r,s,f=l[0].resource+"",a;return{c(){e=T("strong"),t=B(n),i=B(":"),r=z(),s=T("span"),a=B(f),this.h()},l(o){e=S(o,"STRONG",{});var u=F(e);t=O(u,n),i=O(u,":"),u.forEach(d),r=L(o),s=S(o,"SPAN",{});var c=F(s);a=O(c,f),c.forEach(d),this.h()},h(){Se(s,"flex","1")},m(o,u){b(o,e,u),k(e,t),k(e,i),b(o,r,u),b(o,s,u),k(s,a)},p(o,u){u&16&&n!==(n=o[4].name+"")&&re(t,n),u&1&&f!==(f=o[0].resource+"")&&re(a,f)},i:le,o:le,d(o){o&&(d(e),d(r),d(s))}}}function Ef(l){let e,n=l[4].name+"",t,i,r,s,f,a;return f=new wt({props:{id:"trainer-path-resource",value:l[0].resource}}),f.$on("change",l[5]),{c(){e=T("label"),t=B(n),i=B(":"),r=z(),s=T("span"),A(f.$$.fragment),this.h()},l(o){e=S(o,"LABEL",{for:!0,class:!0});var u=F(e);t=O(u,n),i=O(u,":"),u.forEach(d),r=L(o),s=S(o,"SPAN",{});var c=F(s);P(f.$$.fragment,c),c.forEach(d),this.h()},h(){C(e,"for","trainer-path-resource"),C(e,"class","svelte-1o95qc1"),Se(s,"flex","1")},m(o,u){b(o,e,u),k(e,t),k(e,i),b(o,r,u),b(o,s,u),y(f,s,null),a=!0},p(o,u){(!a||u&16)&&n!==(n=o[4].name+"")&&re(t,n);const c={};u&1&&(c.value=o[0].resource),f.$set(c)},i(o){a||($(f.$$.fragment,o),a=!0)},o(o){v(f.$$.fragment,o),a=!1},d(o){o&&(d(e),d(r),d(s)),I(f)}}}function ji(l){let e,n;return e=new kf({props:{standardPath:l[3],customPath:l[0],level:l[9]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.standardPath=t[3]),i&1&&(r.customPath=t[0]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Gi(l){let e,n,t=l[2].data>=l[9]&&ji(l);return{c(){t&&t.c(),e=x()},l(i){t&&t.l(i),e=x()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,r){i[2].data>=i[9]?t?(t.p(i,r),r&4&&$(t,1)):(t=ji(i),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(me(),v(t,1,1,()=>{t=null}),de())},i(i){n||($(t),n=!0)},o(i){v(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Cf(l){let e,n,t=l[0].name!==""&&qi(l);return{c(){t&&t.c(),e=x()},l(i){t&&t.l(i),e=x()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,[r]){i[0].name!==""?t?(t.p(i,r),r&1&&$(t,1)):(t=qi(i),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(me(),v(t,1,1,()=>{t=null}),de())},i(i){n||($(t),n=!0)},o(i){v(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Sf(l,e,n){let t,i,r,s;ze(l,jt,m=>n(7,s=m));const f=xe();let{value:a}=e,{editable:o}=e,{level:u}=e;const c=m=>{f("update",{resource:m.detail.value})};return l.$$set=m=>{"value"in m&&n(0,a=m.value),"editable"in m&&n(1,o=m.editable),"level"in m&&n(2,u=m.level)},l.$$.update=()=>{l.$$.dirty&128&&n(6,t=Xr[s]),l.$$.dirty&65&&n(3,i=t.find(m=>m.name===a.name)),l.$$.dirty&8&&n(4,r=i==null?void 0:i.resource)},[a,o,u,i,r,c,t,s]}class Tf extends fe{constructor(e){super(),oe(this,e,Sf,Cf,ae,{value:0,editable:1,level:2})}}function If(l){let e,n,t=`${Math.max(100*l[0]/l[1],0)}%`,i,r;return{c(){e=T("div"),n=T("div"),this.h()},l(s){e=S(s,"DIV",{role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuetext":!0,class:!0});var f=F(e);n=S(f,"DIV",{class:!0}),F(n).forEach(d),f.forEach(d),this.h()},h(){C(n,"class","bar svelte-1v8g74g"),Se(n,"inline-size",t),C(e,"role","meter"),C(e,"aria-valuenow",l[0]),C(e,"aria-valuemin","0"),C(e,"aria-valuemax",l[1]),C(e,"aria-valuetext",i=l[0]+" / "+l[1]),C(e,"class",r="meter "+l[4]+" "+l[2]+" svelte-1v8g74g"),Ge(e,"full",l[3])},m(s,f){b(s,e,f),k(e,n)},p(s,[f]){f&3&&t!==(t=`${Math.max(100*s[0]/s[1],0)}%`)&&Se(n,"inline-size",t),f&1&&C(e,"aria-valuenow",s[0]),f&2&&C(e,"aria-valuemax",s[1]),f&3&&i!==(i=s[0]+" / "+s[1])&&C(e,"aria-valuetext",i),f&20&&r!==(r="meter "+s[4]+" "+s[2]+" svelte-1v8g74g")&&C(e,"class",r),f&28&&Ge(e,"full",s[3])},i:le,o:le,d(s){s&&d(e)}}}function yf(l,e,n){let t,i,r,{current:s}=e,{max:f}=e,{variant:a="primary"}=e;return l.$$set=o=>{"current"in o&&n(0,s=o.current),"max"in o&&n(1,f=o.max),"variant"in o&&n(2,a=o.variant)},l.$$.update=()=>{l.$$.dirty&3&&n(5,t=Math.max(100*s/f,0)),l.$$.dirty&32&&n(4,i=t>=50?"healthy":t>=20?"warning":"danger"),l.$$.dirty&32&&n(3,r=t>=100)},[s,f,a,r,i,t]}class Cn extends fe{constructor(e){super(),oe(this,e,yf,If,ae,{current:0,max:1,variant:2})}}function Yi(l,e,n){const t=l.slice();return t[6]=e[n],t}function Af(l){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Pf(l){let e;return{c(){e=B("Add Status")},l(n){e=O(n,"Add Status")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Df(l){let e;return{c(){e=B("Edit Status")},l(n){e=O(n,"Edit Status")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Qi(l){let e,n=l[6].name+"",t;return{c(){e=T("option"),t=B(n),this.h()},l(i){e=S(i,"OPTION",{});var r=F(e);t=O(r,n),r.forEach(d),this.h()},h(){e.__value=l[6].id,bt(e,e.__value)},m(i,r){b(i,e,r),k(e,t)},p:le,d(i){i&&d(e)}}}function Nf(l){let e,n,t,i,r,s,f,a,o="None",u,c,m;function p(w,D){return w[0]==null?Pf:Af}let h=p(l),_=h(l);r=new Ft({props:{$$slots:{default:[Df]},$$scope:{ctx:l}}});let E=Ne(l[2]),g=[];for(let w=0;w<E.length;w+=1)g[w]=Qi(Yi(l,E,w));return{c(){e=T("div"),n=T("label"),t=T("span"),_.c(),i=z(),A(r.$$.fragment),s=z(),f=T("select"),a=T("option"),a.textContent=o;for(let w=0;w<g.length;w+=1)g[w].c();this.h()},l(w){e=S(w,"DIV",{class:!0});var D=F(e);n=S(D,"LABEL",{for:!0,class:!0});var H=F(n);t=S(H,"SPAN",{"aria-hidden":!0});var N=F(t);_.l(N),N.forEach(d),i=L(H),P(r.$$.fragment,H),H.forEach(d),s=L(D),f=S(D,"SELECT",{id:!0,class:!0});var R=F(f);a=S(R,"OPTION",{"data-svelte-h":!0}),ge(a)!=="svelte-89u4a7"&&(a.textContent=o);for(let V=0;V<g.length;V+=1)g[V].l(R);R.forEach(d),D.forEach(d),this.h()},h(){C(t,"aria-hidden","true"),C(n,"for",l[1]),C(n,"class","smaller interactive svelte-lpgedz"),Ge(n,"invert",l[0]==null),a.__value=null,bt(a,a.__value),C(f,"id",l[1]),C(f,"class","overlay svelte-lpgedz"),C(e,"class","overlapping interactive-container svelte-lpgedz")},m(w,D){b(w,e,D),k(e,n),k(n,t),_.m(t,null),k(n,i),y(r,n,null),k(e,s),k(e,f),k(f,a);for(let H=0;H<g.length;H+=1)g[H]&&g[H].m(f,null);ri(f,l[0]),u=!0,c||(m=[it(f,"change",l[3]),it(f,"keyup",l[4])],c=!0)},p(w,[D]){h!==(h=p(w))&&(_.d(1),_=h(w),_&&(_.c(),_.m(t,null)));const H={};if(D&512&&(H.$$scope={dirty:D,ctx:w}),r.$set(H),(!u||D&2)&&C(n,"for",w[1]),(!u||D&1)&&Ge(n,"invert",w[0]==null),D&4){E=Ne(w[2]);let N;for(N=0;N<E.length;N+=1){const R=Yi(w,E,N);g[N]?g[N].p(R,D):(g[N]=Qi(R),g[N].c(),g[N].m(f,null))}for(;N<g.length;N+=1)g[N].d(1);g.length=E.length}(!u||D&2)&&C(f,"id",w[1]),(!u||D&5)&&ri(f,w[0])},i(w){u||($(r.$$.fragment,w),u=!0)},o(w){v(r.$$.fragment,w),u=!1},d(w){w&&d(e),_.d(),I(r),nt(g,w),c=!1,Gn(m)}}}function Lf(l,e,n){const t=xe(),i=Object.values(Vs);let{id:r}=e,{value:s}=e;const f=o=>{const u=o.target;n(0,s=u.value?u.value:null),t("change",{value:s})},a=o=>{if(o.key==="Enter"){const u=o.target;"showPicker"in HTMLSelectElement.prototype&&u.showPicker()}};return l.$$set=o=>{"id"in o&&n(1,r=o.id),"value"in o&&n(0,s=o.value)},[s,r,i,f,a]}class zf extends fe{constructor(e){super(),oe(this,e,Lf,Nf,ae,{id:1,value:0})}}function Hf(l){let e,n="HP";return{c(){e=T("label"),e.textContent=n,this.h()},l(t){e=S(t,"LABEL",{for:!0,"data-svelte-h":!0}),ge(e)!=="svelte-nr4t2i"&&(e.textContent=n),this.h()},h(){C(e,"for","current-hp")},m(t,i){b(t,e,i)},p:le,d(t){t&&d(e)}}}function Ff(l){let e=l[0].current+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=t[0].current+"")&&re(n,e)},i:le,o:le,d(t){t&&d(n)}}}function Rf(l){let e,n;return e=new wt({props:{id:"current-hp",value:l[11]}}),e.$on("change",l[13]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2048&&(r.value=t[11]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Vf(l){let e,n="Hit Dice";return{c(){e=T("label"),e.textContent=n,this.h()},l(t){e=S(t,"LABEL",{for:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1l1lthl"&&(e.textContent=n),this.h()},h(){C(e,"for","current-hit-dice")},m(t,i){b(t,e,i)},p:le,d(t){t&&d(e)}}}function Mf(l){let e=l[1].current+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&2&&e!==(e=t[1].current+"")&&re(n,e)},i:le,o:le,d(t){t&&d(n)}}}function Of(l){let e,n;return e=new wt({props:{id:"current-hit-dice",value:l[10]}}),e.$on("change",l[14]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1024&&(r.value=t[10]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Wi(l){let e,n,t,i,r,s,f,a,o,u,c,m,p="Exp:",h,_,E,g,w,D=l[4]!=null&&Zi(l),H=l[6]&&Ji(l);f=new Cn({props:{variant:"tertiary",current:l[9],max:l[8]}}),u=new jr({props:{id:"exp-remaining",$$slots:{activator:[qf],default:[Bf]},$$scope:{ctx:l}}});const N=[Uf,Kf],R=[];function V(M,q){return M[6]?0:1}return E=V(l),g=R[E]=N[E](l),{c(){e=T("span"),n=T("span"),D&&D.c(),t=z(),H&&H.c(),i=z(),r=T("span"),s=T("span"),A(f.$$.fragment),a=z(),o=T("span"),A(u.$$.fragment),c=z(),m=T("label"),m.textContent=p,h=z(),_=T("span"),g.c(),this.h()},l(M){e=S(M,"SPAN",{});var q=F(e);n=S(q,"SPAN",{class:!0});var U=F(n);D&&D.l(U),t=L(U),H&&H.l(U),U.forEach(d),q.forEach(d),i=L(M),r=S(M,"SPAN",{class:!0});var Q=F(r);s=S(Q,"SPAN",{class:!0});var J=F(s);P(f.$$.fragment,J),J.forEach(d),a=L(Q),o=S(Q,"SPAN",{class:!0});var K=F(o);P(u.$$.fragment,K),c=L(K),m=S(K,"LABEL",{for:!0,"data-svelte-h":!0}),ge(m)!=="svelte-sbvefl"&&(m.textContent=p),h=L(K),_=S(K,"SPAN",{class:!0});var G=F(_);g.l(G),G.forEach(d),K.forEach(d),Q.forEach(d),this.h()},h(){C(n,"class","row svelte-15fcv4v"),C(s,"class","exp-bar svelte-15fcv4v"),C(m,"for","current-experience"),C(_,"class","current-exp svelte-15fcv4v"),C(o,"class","exp-text svelte-15fcv4v"),C(r,"class","exp svelte-15fcv4v")},m(M,q){b(M,e,q),k(e,n),D&&D.m(n,null),k(n,t),H&&H.m(n,null),b(M,i,q),b(M,r,q),k(r,s),y(f,s,null),k(r,a),k(r,o),y(u,o,null),k(o,c),k(o,m),k(o,h),k(o,_),R[E].m(_,null),w=!0},p(M,q){M[4]!=null?D?(D.p(M,q),q&16&&$(D,1)):(D=Zi(M),D.c(),$(D,1),D.m(n,t)):D&&(me(),v(D,1,1,()=>{D=null}),de()),M[6]?H?(H.p(M,q),q&64&&$(H,1)):(H=Ji(M),H.c(),$(H,1),H.m(n,null)):H&&(me(),v(H,1,1,()=>{H=null}),de());const U={};q&512&&(U.current=M[9]),q&256&&(U.max=M[8]),f.$set(U);const Q={};q&524416&&(Q.$$scope={dirty:q,ctx:M}),u.$set(Q);let J=E;E=V(M),E===J?R[E].p(M,q):(me(),v(R[J],1,1,()=>{R[J]=null}),de(),g=R[E],g?g.p(M,q):(g=R[E]=N[E](M),g.c()),$(g,1),g.m(_,null))},i(M){w||($(D),$(H),$(f.$$.fragment,M),$(u.$$.fragment,M),$(g),w=!0)},o(M){v(D),v(H),v(f.$$.fragment,M),v(u.$$.fragment,M),v(g),w=!1},d(M){M&&(d(e),d(i),d(r)),D&&D.d(),H&&H.d(),I(f),I(u),R[E].d()}}}function Zi(l){let e,n;return e=new Kr({props:{value:l[4]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.value=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ji(l){let e,n;return e=new zf({props:{id:"current-status",value:l[12]}}),e.$on("change",l[15]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4096&&(r.value=t[12]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Bf(l){let e,n=kn(l[7])+"",t,i;return{c(){e=T("p"),t=B(n),i=B(" needed until level up."),this.h()},l(r){e=S(r,"P",{});var s=F(e);t=O(s,n),i=O(s," needed until level up."),s.forEach(d),this.h()},h(){Se(e,"text-align","center")},m(r,s){b(r,e,s),k(e,t),k(e,i)},p(r,s){s&128&&n!==(n=kn(r[7])+"")&&re(t,n)},d(r){r&&d(e)}}}function qf(l){let e,n;return e=new Ms({props:{slot:"activator",label:"Exp Needed"}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Kf(l){let e=kn(l[3])+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&8&&e!==(e=kn(t[3])+"")&&re(n,e)},i:le,o:le,d(t){t&&d(n)}}}function Uf(l){let e,n;return e=new wt({props:{id:"current-experience",value:l[3]}}),e.$on("change",l[16]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.value=t[3]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function jf(l){let e,n,t,i,r,s,f,a,o,u,c,m,p,h=l[0].max+"",_,E,g,w,D,H,N,R,V,M,q,U,Q,J,K,G=l[1].max+"",ue,ve,Z=l[2].data+"",he,Ce,se,ee;t=new Cn({props:{current:l[11],max:l[0].max}}),s=new Ft({props:{$$slots:{default:[Hf]},$$scope:{ctx:l}}});const Y=[Rf,Ff],ce=[];function _e(be,Ie){return be[6]?0:1}o=_e(l),u=ce[o]=Y[o](l),D=new Cn({props:{variant:"secondary",current:l[10],max:l[1].max}}),R=new Ft({props:{$$slots:{default:[Vf]},$$scope:{ctx:l}}});const $e=[Of,Mf],Te=[];function we(be,Ie){return be[6]?0:1}q=we(l),U=Te[q]=$e[q](l);let X=l[5]&&Wi(l);return{c(){e=T("div"),n=T("span"),A(t.$$.fragment),i=z(),r=T("span"),A(s.$$.fragment),f=z(),a=T("span"),u.c(),c=z(),m=T("span"),p=B("/ "),_=B(h),E=z(),g=T("span"),w=T("span"),A(D.$$.fragment),H=z(),N=T("span"),A(R.$$.fragment),V=z(),M=T("span"),U.c(),Q=z(),J=T("span"),K=B("/ "),ue=B(G),ve=B(" ("),he=B(Z),Ce=B(")"),se=z(),X&&X.c(),this.h()},l(be){e=S(be,"DIV",{class:!0});var Ie=F(e);n=S(Ie,"SPAN",{class:!0});var He=F(n);P(t.$$.fragment,He),He.forEach(d),i=L(Ie),r=S(Ie,"SPAN",{class:!0});var Ve=F(r);P(s.$$.fragment,Ve),f=L(Ve),a=S(Ve,"SPAN",{class:!0});var Ue=F(a);u.l(Ue),Ue.forEach(d),c=L(Ve),m=S(Ve,"SPAN",{class:!0});var pe=F(m);p=O(pe,"/ "),_=O(pe,h),pe.forEach(d),Ve.forEach(d),E=L(Ie),g=S(Ie,"SPAN",{class:!0});var ye=F(g);w=S(ye,"SPAN",{class:!0});var Oe=F(w);P(D.$$.fragment,Oe),Oe.forEach(d),H=L(ye),N=S(ye,"SPAN",{class:!0});var je=F(N);P(R.$$.fragment,je),V=L(je),M=S(je,"SPAN",{class:!0});var Xe=F(M);U.l(Xe),Xe.forEach(d),Q=L(je),J=S(je,"SPAN",{class:!0});var Me=F(J);K=O(Me,"/ "),ue=O(Me,G),ve=O(Me," ("),he=O(Me,Z),Ce=O(Me,")"),Me.forEach(d),je.forEach(d),ye.forEach(d),se=L(Ie),X&&X.l(Ie),Ie.forEach(d),this.h()},h(){C(n,"class","bar svelte-15fcv4v"),C(a,"class","current-hp svelte-15fcv4v"),C(m,"class","max-hp"),C(r,"class","hp svelte-15fcv4v"),C(w,"class","hit-dice-bar svelte-15fcv4v"),C(M,"class","current-hit-dice svelte-15fcv4v"),C(J,"class","max-hit-dice"),C(N,"class","hit-dice-text svelte-15fcv4v"),C(g,"class","hit-dice svelte-15fcv4v"),C(e,"class","grid svelte-15fcv4v")},m(be,Ie){b(be,e,Ie),k(e,n),y(t,n,null),k(e,i),k(e,r),y(s,r,null),k(r,f),k(r,a),ce[o].m(a,null),k(r,c),k(r,m),k(m,p),k(m,_),k(e,E),k(e,g),k(g,w),y(D,w,null),k(g,H),k(g,N),y(R,N,null),k(N,V),k(N,M),Te[q].m(M,null),k(N,Q),k(N,J),k(J,K),k(J,ue),k(J,ve),k(J,he),k(J,Ce),k(e,se),X&&X.m(e,null),ee=!0},p(be,[Ie]){const He={};Ie&2048&&(He.current=be[11]),Ie&1&&(He.max=be[0].max),t.$set(He);const Ve={};Ie&524288&&(Ve.$$scope={dirty:Ie,ctx:be}),s.$set(Ve);let Ue=o;o=_e(be),o===Ue?ce[o].p(be,Ie):(me(),v(ce[Ue],1,1,()=>{ce[Ue]=null}),de(),u=ce[o],u?u.p(be,Ie):(u=ce[o]=Y[o](be),u.c()),$(u,1),u.m(a,null)),(!ee||Ie&1)&&h!==(h=be[0].max+"")&&re(_,h);const pe={};Ie&1024&&(pe.current=be[10]),Ie&2&&(pe.max=be[1].max),D.$set(pe);const ye={};Ie&524288&&(ye.$$scope={dirty:Ie,ctx:be}),R.$set(ye);let Oe=q;q=we(be),q===Oe?Te[q].p(be,Ie):(me(),v(Te[Oe],1,1,()=>{Te[Oe]=null}),de(),U=Te[q],U?U.p(be,Ie):(U=Te[q]=$e[q](be),U.c()),$(U,1),U.m(M,null)),(!ee||Ie&2)&&G!==(G=be[1].max+"")&&re(ue,G),(!ee||Ie&4)&&Z!==(Z=be[2].data+"")&&re(he,Z),be[5]?X?(X.p(be,Ie),Ie&32&&$(X,1)):(X=Wi(be),X.c(),$(X,1),X.m(e,null)):X&&(me(),v(X,1,1,()=>{X=null}),de())},i(be){ee||($(t.$$.fragment,be),$(s.$$.fragment,be),$(u),$(D.$$.fragment,be),$(R.$$.fragment,be),$(U),$(X),ee=!0)},o(be){v(t.$$.fragment,be),v(s.$$.fragment,be),v(u),v(D.$$.fragment,be),v(R.$$.fragment,be),v(U),v(X),ee=!1},d(be){be&&d(e),I(t),I(s),ce[o].d(),I(D),I(R),Te[q].d(),X&&X.d()}}}function Gf(l,e,n){let t,i,r,s,f,a;const o=xe();let{hp:u}=e,{hitDice:c}=e,{dieSize:m}=e,{exp:p}=e,{level:h}=e,{status:_}=e,{hasStatusAndExp:E=!1}=e,{editable:g}=e;const w=R=>{o("update",{currentHp:R.detail.value,currentHitDice:i,currentStatus:_,exp:p})},D=R=>{o("update",{currentHp:t,currentHitDice:R.detail.value,currentStatus:_,exp:p})},H=R=>{o("update",{currentHp:t,currentHitDice:i,currentStatus:R.detail.value,exp:p})},N=R=>{o("update",{currentHp:t,currentHitDice:i,currentStatus:_,exp:R.detail.value})};return l.$$set=R=>{"hp"in R&&n(0,u=R.hp),"hitDice"in R&&n(1,c=R.hitDice),"dieSize"in R&&n(2,m=R.dieSize),"exp"in R&&n(3,p=R.exp),"level"in R&&n(17,h=R.level),"status"in R&&n(4,_=R.status),"hasStatusAndExp"in R&&n(5,E=R.hasStatusAndExp),"editable"in R&&n(6,g=R.editable)},l.$$.update=()=>{l.$$.dirty&1&&n(11,t=u.current),l.$$.dirty&2&&n(10,i=c.current),l.$$.dirty&16&&n(12,r=_),l.$$.dirty&131072&&n(8,s=mi(Ur(h.data),h.data)),l.$$.dirty&131080&&n(7,f=mi(p,h.data)),l.$$.dirty&384&&n(9,a=s-f)},[u,c,m,p,_,E,g,f,s,a,i,t,r,w,D,H,N,h]}class ss extends fe{constructor(e){super(),oe(this,e,Gf,jf,ae,{hp:0,hitDice:1,dieSize:2,exp:3,level:17,status:4,hasStatusAndExp:5,editable:6})}}function Yf(l){let e,n='<abbr title="Armor Class">AC</abbr>',t,i,r=l[0].ac+"",s,f,a,o="Bonus",u,c,m,p;return{c(){e=T("dt"),e.innerHTML=n,t=z(),i=T("dd"),s=B(r),f=z(),a=T("dt"),a.textContent=o,u=z(),c=T("dd"),m=B("+"),p=B(l[1])},l(h){e=S(h,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-oq9y6j"&&(e.innerHTML=n),t=L(h),i=S(h,"DD",{});var _=F(i);s=O(_,r),_.forEach(d),f=L(h),a=S(h,"DT",{"data-svelte-h":!0}),ge(a)!=="svelte-ehj2sb"&&(a.textContent=o),u=L(h),c=S(h,"DD",{});var E=F(c);m=O(E,"+"),p=O(E,l[1]),E.forEach(d)},m(h,_){b(h,e,_),b(h,t,_),b(h,i,_),k(i,s),b(h,f,_),b(h,a,_),b(h,u,_),b(h,c,_),k(c,m),k(c,p)},p(h,_){_&1&&r!==(r=h[0].ac+"")&&re(s,r),_&2&&re(p,h[1])},d(h){h&&(d(e),d(t),d(i),d(f),d(a),d(u),d(c))}}}function Xi(l){let e,n="Species",t,i,r=l[0].biography.species+"",s;return{c(){e=T("dt"),e.textContent=n,t=z(),i=T("dd"),s=B(r)},l(f){e=S(f,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-1eptv2s"&&(e.textContent=n),t=L(f),i=S(f,"DD",{});var a=F(i);s=O(a,r),a.forEach(d)},m(f,a){b(f,e,a),b(f,t,a),b(f,i,a),k(i,s)},p(f,a){a&1&&r!==(r=f[0].biography.species+"")&&re(s,r)},d(f){f&&(d(e),d(t),d(i))}}}function xi(l){let e,n="Gender",t,i,r=l[0].biography.gender+"",s,f,a,o;return{c(){e=T("dt"),e.textContent=n,t=z(),i=T("dd"),s=B(r),f=z(),a=T("dt"),o=T("dd")},l(u){e=S(u,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-ae5mer"&&(e.textContent=n),t=L(u),i=S(u,"DD",{});var c=F(i);s=O(c,r),c.forEach(d),f=L(u),a=S(u,"DT",{}),F(a).forEach(d),o=S(u,"DD",{}),F(o).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),k(i,s),b(u,f,c),b(u,a,c),b(u,o,c)},p(u,c){c&1&&r!==(r=u[0].biography.gender+"")&&re(s,r)},d(u){u&&(d(e),d(t),d(i),d(f),d(a),d(o))}}}function el(l){let e,n="Age",t,i,r=l[0].biography.age+"",s,f,a,o;return{c(){e=T("dt"),e.textContent=n,t=z(),i=T("dd"),s=B(r),f=z(),a=T("dt"),o=T("dd")},l(u){e=S(u,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-oehtmf"&&(e.textContent=n),t=L(u),i=S(u,"DD",{});var c=F(i);s=O(c,r),c.forEach(d),f=L(u),a=S(u,"DT",{}),F(a).forEach(d),o=S(u,"DD",{}),F(o).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),k(i,s),b(u,f,c),b(u,a,c),b(u,o,c)},p(u,c){c&1&&r!==(r=u[0].biography.age+"")&&re(s,r)},d(u){u&&(d(e),d(t),d(i),d(f),d(a),d(o))}}}function tl(l){let e,n="Home Region",t,i,r=l[0].biography.homeRegion+"",s,f,a,o;return{c(){e=T("dt"),e.textContent=n,t=z(),i=T("dd"),s=B(r),f=z(),a=T("dt"),o=T("dd")},l(u){e=S(u,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-1rv9izp"&&(e.textContent=n),t=L(u),i=S(u,"DD",{});var c=F(i);s=O(c,r),c.forEach(d),f=L(u),a=S(u,"DT",{}),F(a).forEach(d),o=S(u,"DD",{}),F(o).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),k(i,s),b(u,f,c),b(u,a,c),b(u,o,c)},p(u,c){c&1&&r!==(r=u[0].biography.homeRegion+"")&&re(s,r)},d(u){u&&(d(e),d(t),d(i),d(f),d(a),d(o))}}}function nl(l){let e,n="Background",t,i,r=l[0].biography.background+"",s,f,a,o;return{c(){e=T("dt"),e.textContent=n,t=z(),i=T("dd"),s=B(r),f=z(),a=T("dt"),o=T("dd")},l(u){e=S(u,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-yp07su"&&(e.textContent=n),t=L(u),i=S(u,"DD",{});var c=F(i);s=O(c,r),c.forEach(d),f=L(u),a=S(u,"DT",{}),F(a).forEach(d),o=S(u,"DD",{}),F(o).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),k(i,s),b(u,f,c),b(u,a,c),b(u,o,c)},p(u,c){c&1&&r!==(r=u[0].biography.background+"")&&re(s,r)},d(u){u&&(d(e),d(t),d(i),d(f),d(a),d(o))}}}function Qf(l){let e,n,t,i,r,s=l[0].biography.species&&Xi(l),f=l[0].biography.gender&&xi(l),a=l[0].biography.age&&el(l),o=l[0].biography.homeRegion&&tl(l),u=l[0].biography.background&&nl(l);return{c(){s&&s.c(),e=z(),f&&f.c(),n=z(),a&&a.c(),t=z(),o&&o.c(),i=z(),u&&u.c(),r=x()},l(c){s&&s.l(c),e=L(c),f&&f.l(c),n=L(c),a&&a.l(c),t=L(c),o&&o.l(c),i=L(c),u&&u.l(c),r=x()},m(c,m){s&&s.m(c,m),b(c,e,m),f&&f.m(c,m),b(c,n,m),a&&a.m(c,m),b(c,t,m),o&&o.m(c,m),b(c,i,m),u&&u.m(c,m),b(c,r,m)},p(c,m){c[0].biography.species?s?s.p(c,m):(s=Xi(c),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c[0].biography.gender?f?f.p(c,m):(f=xi(c),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),c[0].biography.age?a?a.p(c,m):(a=el(c),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),c[0].biography.homeRegion?o?o.p(c,m):(o=tl(c),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),c[0].biography.background?u?u.p(c,m):(u=nl(c),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(c){c&&(d(e),d(n),d(t),d(i),d(r)),s&&s.d(c),f&&f.d(c),a&&a.d(c),o&&o.d(c),u&&u.d(c)}}}function Wf(l){let e,n,t,i,r,s,f;return t=new Ht({props:{columns:1,$$slots:{default:[Yf]},$$scope:{ctx:l}}}),s=new Ht({props:{columns:1,$$slots:{default:[Qf]},$$scope:{ctx:l}}}),{c(){e=T("div"),n=T("div"),A(t.$$.fragment),i=z(),r=T("div"),A(s.$$.fragment),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=F(e);n=S(o,"DIV",{class:!0});var u=F(n);P(t.$$.fragment,u),u.forEach(d),i=L(o),r=S(o,"DIV",{class:!0});var c=F(r);P(s.$$.fragment,c),c.forEach(d),o.forEach(d),this.h()},h(){C(n,"class","svelte-ghg74y"),C(r,"class","svelte-ghg74y"),C(e,"class","two-columns svelte-ghg74y")},m(a,o){b(a,e,o),k(e,n),y(t,n,null),k(e,i),k(e,r),y(s,r,null),f=!0},p(a,[o]){const u={};o&7&&(u.$$scope={dirty:o,ctx:a}),t.$set(u);const c={};o&5&&(c.$$scope={dirty:o,ctx:a}),s.$set(c)},i(a){f||($(t.$$.fragment,a),$(s.$$.fragment,a),f=!0)},o(a){v(t.$$.fragment,a),v(s.$$.fragment,a),f=!1},d(a){a&&d(e),I(t),I(s)}}}function Zf(l,e,n){let t,{trainer:i}=e;return l.$$set=r=>{"trainer"in r&&n(0,i=r.trainer)},l.$$.update=()=>{l.$$.dirty&1&&n(1,t=i.level.proficiencyBonus)},[i,t]}let Jf=class extends fe{constructor(e){super(),oe(this,e,Zf,Wf,ae,{trainer:0})}};function il(l){let e,n,t,i=l[4].athletics+"",r,s;return{c(){e=T("p"),n=T("small"),t=B("+"),r=B(i),s=B(" from trainer specialization included"),this.h()},l(f){e=S(f,"P",{class:!0});var a=F(e);n=S(a,"SMALL",{});var o=F(n);t=O(o,"+"),r=O(o,i),s=O(o," from trainer specialization included"),o.forEach(d),a.forEach(d),this.h()},h(){C(e,"class","footnote svelte-44t0bz")},m(f,a){b(f,e,a),k(e,n),k(n,t),k(n,r),k(n,s)},p(f,a){a&16&&i!==(i=f[4].athletics+"")&&re(r,i)},d(f){f&&d(e)}}}function Xf(l){var E;let e,n="Saves",t,i,r,s,f,a="Skills",o,u,c,m,p,h;r=new Li({props:{level:l[0],attributes:l[1],values:tn.list.map(l[7]),columnsLg:3,columns:2}}),c=new Li({props:{level:l[0],attributes:l[1],values:wn.list.map(l[8]),columnsLg:2,columns:1}});let _=((E=l[4])==null?void 0:E.athletics)>0&&il(l);return{c(){e=T("h3"),e.textContent=n,t=z(),i=T("div"),A(r.$$.fragment),s=z(),f=T("h3"),f.textContent=a,o=z(),u=T("div"),A(c.$$.fragment),m=z(),_&&_.c(),p=x(),this.h()},l(g){e=S(g,"H3",{"data-svelte-h":!0}),ge(e)!=="svelte-1dg7sjo"&&(e.textContent=n),t=L(g),i=S(g,"DIV",{class:!0});var w=F(i);P(r.$$.fragment,w),w.forEach(d),s=L(g),f=S(g,"H3",{"data-svelte-h":!0}),ge(f)!=="svelte-11ea0ie"&&(f.textContent=a),o=L(g),u=S(g,"DIV",{class:!0});var D=F(u);P(c.$$.fragment,D),D.forEach(d),m=L(g),_&&_.l(g),p=x(),this.h()},h(){C(i,"class","upper"),C(u,"class","cap")},m(g,w){b(g,e,w),b(g,t,w),b(g,i,w),y(r,i,null),b(g,s,w),b(g,f,w),b(g,o,w),b(g,u,w),y(c,u,null),b(g,m,w),_&&_.m(g,w),b(g,p,w),h=!0},p(g,[w]){var N;const D={};w&1&&(D.level=g[0]),w&2&&(D.attributes=g[1]),w&4&&(D.values=tn.list.map(g[7])),r.$set(D);const H={};w&1&&(H.level=g[0]),w&2&&(H.attributes=g[1]),w&24&&(H.values=wn.list.map(g[8])),c.$set(H),((N=g[4])==null?void 0:N.athletics)>0?_?_.p(g,w):(_=il(g),_.c(),_.m(p.parentNode,p)):_&&(_.d(1),_=null)},i(g){h||($(r.$$.fragment,g),$(c.$$.fragment,g),h=!0)},o(g){v(r.$$.fragment,g),v(c.$$.fragment,g),h=!1},d(g){g&&(d(e),d(t),d(i),d(s),d(f),d(o),d(u),d(m),d(p)),I(r),I(c),_&&_.d(g)}}}function xf(l,e,n){let t,{level:i}=e,{attributes:r}=e,{savingThrows:s}=e,{proficiencies:f}=e,{type:a=void 0}=e,{specializations:o=void 0}=e;const u=m=>({name:m.abbr,attr:m.abbr,proficient:s.includes(m.abbr),expert:!1}),c=m=>({name:m.name,attr:m.attribute,proficient:f.isProficient(m.name),expert:f.isExpert(m.name),extraModifiers:t});return l.$$set=m=>{"level"in m&&n(0,i=m.level),"attributes"in m&&n(1,r=m.attributes),"savingThrows"in m&&n(2,s=m.savingThrows),"proficiencies"in m&&n(3,f=m.proficiencies),"type"in m&&n(5,a=m.type),"specializations"in m&&n(6,o=m.specializations)},l.$$.update=()=>{l.$$.dirty&96&&n(4,t=a!=null&&o!=null?qs(o,a.data):void 0)},[i,r,s,f,t,a,o,u,c]}class as extends fe{constructor(e){super(),oe(this,e,xf,Xf,ae,{level:0,attributes:1,savingThrows:2,proficiencies:3,type:5,specializations:6})}}const ll="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA2UExURQAAAD03ByYiBN7PIf/7MqWXAP/72HJOENbTIU8CCFsECJwEEK0IEJQACL4NGMIOFdtyeQAAAB0iiU0AAAASdFJOU///////////////////////AOK/vxIAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABrSURBVDhPzZJBDoAgDAStiKAIyP8/a21q4EAoCTFhTpudCy1dUpM5NACsBAauCg2gmE1ln7XSbHf0XHZrY7X9tDVcdusDOYk3cVlo59xFYKhoH0Ik7uAn08LL23OPLXXsQ4VrEW6tzo86pQdALzDBuu1P9gAAAABJRU5ErkJggg==";function fs(l,e){var n;if(!(e==null||e.length===0))if(l.type==="standard"){const t=e.find(i=>i.id===l.itemId);return{...l,name:(t==null?void 0:t.name)??l.itemId,description:(n=t==null?void 0:t.description)==null?void 0:n.join(" "),media:{sprite:(t==null?void 0:t.media.sprite)??ll}}}else return{...l,media:{sprite:ll}}}function rl(l,e,n){const t=l.slice();t[5]=e[n];const i=fs(t[5],t[2]);return t[6]=i,t}function sl(l){let e,n,t,i,r=`url('${l[6].media.sprite}')`,s;const f=[to,eo],a=[];function o(u,c){return u[6].quantity!=null?0:1}return n=o(l),t=a[n]=f[n](l),{c(){e=T("li"),t.c(),i=z(),this.h()},l(u){e=S(u,"LI",{class:!0});var c=F(e);t.l(c),i=L(c),c.forEach(d),this.h()},h(){C(e,"class","svelte-1ualp4i"),Ge(e,"imaged",l[6].media.sprite!=null),Se(e,"--img",r)},m(u,c){b(u,e,c),a[n].m(e,null),k(e,i),s=!0},p(u,c){let m=n;n=o(u),n===m?a[n].p(u,c):(me(),v(a[m],1,1,()=>{a[m]=null}),de(),t=a[n],t?t.p(u,c):(t=a[n]=f[n](u),t.c()),$(t,1),t.m(e,i)),(!s||c&5)&&Ge(e,"imaged",u[6].media.sprite!=null),c&5&&r!==(r=`url('${u[6].media.sprite}')`)&&Se(e,"--img",r)},i(u){s||($(t),s=!0)},o(u){v(t),s=!1},d(u){u&&d(e),a[n].d()}}}function eo(l){let e,n=l[6].name+"",t,i,r=l[6].description+"",s;return{c(){e=T("strong"),t=B(n),i=B(": "),s=B(r)},l(f){e=S(f,"STRONG",{});var a=F(e);t=O(a,n),a.forEach(d),i=O(f,": "),s=O(f,r)},m(f,a){b(f,e,a),k(e,t),b(f,i,a),b(f,s,a)},p(f,a){a&5&&n!==(n=f[6].name+"")&&re(t,n),a&5&&r!==(r=f[6].description+"")&&re(s,r)},i:le,o:le,d(f){f&&(d(e),d(i),d(s))}}}function to(l){let e,n,t=l[6].name+"",i,r,s,f,a,o,u,c,m,p,h,_=l[6].description+"",E,g;const w=[io,no],D=[];function H(N,R){return N[1]?0:1}return c=H(l),m=D[c]=w[c](l),{c(){e=T("div"),n=T("strong"),i=B(t),r=z(),s=T("span"),f=T("label"),a=B("×"),u=z(),m.c(),p=z(),h=T("p"),E=B(_),this.h()},l(N){e=S(N,"DIV",{});var R=F(e);n=S(R,"STRONG",{});var V=F(n);i=O(V,t),V.forEach(d),r=L(R),s=S(R,"SPAN",{class:!0});var M=F(s);f=S(M,"LABEL",{for:!0,"aria-label":!0});var q=F(f);a=O(q,"×"),q.forEach(d),u=L(M),m.l(M),M.forEach(d),p=L(R),h=S(R,"P",{});var U=F(h);E=O(U,_),U.forEach(d),R.forEach(d),this.h()},h(){C(f,"for",o="quantity-"+l[6].id),C(f,"aria-label","Quantity"),C(s,"class","editable-quantity svelte-1ualp4i")},m(N,R){b(N,e,R),k(e,n),k(n,i),k(e,r),k(e,s),k(s,f),k(f,a),k(s,u),D[c].m(s,null),k(e,p),k(e,h),k(h,E),g=!0},p(N,R){(!g||R&5)&&t!==(t=N[6].name+"")&&re(i,t),(!g||R&5&&o!==(o="quantity-"+N[6].id))&&C(f,"for",o);let V=c;c=H(N),c===V?D[c].p(N,R):(me(),v(D[V],1,1,()=>{D[V]=null}),de(),m=D[c],m?m.p(N,R):(m=D[c]=w[c](N),m.c()),$(m,1),m.m(s,null)),(!g||R&5)&&_!==(_=N[6].description+"")&&re(E,_)},i(N){g||($(m),g=!0)},o(N){v(m),g=!1},d(N){N&&d(e),D[c].d()}}}function no(l){let e,n=l[6].quantity+"",t;return{c(){e=T("span"),t=B(n)},l(i){e=S(i,"SPAN",{});var r=F(e);t=O(r,n),r.forEach(d)},m(i,r){b(i,e,r),k(e,t)},p(i,r){r&5&&n!==(n=i[6].quantity+"")&&re(t,n)},i:le,o:le,d(i){i&&d(e)}}}function io(l){let e,n;return e=new wt({props:{id:"quantity-"+l[6].id,value:l[6].quantity}}),e.$on("change",function(){Kt(l[3](l[6]))&&l[3](l[6]).apply(this,arguments)}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){l=t;const r={};i&5&&(r.id="quantity-"+l[6].id),i&5&&(r.value=l[6].quantity),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function al(l,e){let n,t,i,r=e[6]!=null&&sl(e);return{key:l,first:null,c(){n=x(),r&&r.c(),t=x(),this.h()},l(s){n=x(),r&&r.l(s),t=x(),this.h()},h(){this.first=n},m(s,f){b(s,n,f),r&&r.m(s,f),b(s,t,f),i=!0},p(s,f){e=s,e[6]!=null?r?(r.p(e,f),f&5&&$(r,1)):(r=sl(e),r.c(),$(r,1),r.m(t.parentNode,t)):r&&(me(),v(r,1,1,()=>{r=null}),de())},i(s){i||($(r),i=!0)},o(s){v(r),i=!1},d(s){s&&(d(n),d(t)),r&&r.d(s)}}}function lo(l){let e,n=[],t=new Map,i,r=Ne(l[0]);const s=f=>f[5].id;for(let f=0;f<r.length;f+=1){let a=rl(l,r,f),o=s(a);t.set(o,n[f]=al(o,a))}return{c(){e=T("ul");for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){e=S(f,"UL",{class:!0});var a=F(e);for(let o=0;o<n.length;o+=1)n[o].l(a);a.forEach(d),this.h()},h(){C(e,"class","svelte-1ualp4i")},m(f,a){b(f,e,a);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null);i=!0},p(f,[a]){a&15&&(r=Ne(f[0]),me(),n=an(n,a,s,1,f,r,t,e,fn,al,null,rl),de())},i(f){if(!i){for(let a=0;a<r.length;a+=1)$(n[a]);i=!0}},o(f){for(let a=0;a<n.length;a+=1)v(n[a]);i=!1},d(f){f&&d(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function ro(l,e,n){let t;ze(l,Jn,a=>n(2,t=a));const i=xe();let{items:r}=e,{editable:s=!1}=e;const f=a=>o=>{i("update",{id:a.id,quantity:o.detail.value})};return l.$$set=a=>{"items"in a&&n(0,r=a.items),"editable"in a&&n(1,s=a.editable)},[r,s,t,f]}class os extends fe{constructor(e){super(),oe(this,e,ro,lo,ae,{items:0,editable:1})}}function so(l){let e=_i(l[0])+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=_i(t[0])+"")&&re(n,e)},i:le,o:le,d(t){t&&d(n)}}}function ao(l){let e,n,t="₽",i,r,s,f;return s=new wt({props:{id:"current-money",value:l[0]}}),s.$on("change",l[3]),{c(){e=T("span"),n=T("span"),n.textContent=t,i=z(),r=T("span"),A(s.$$.fragment),this.h()},l(a){e=S(a,"SPAN",{class:!0});var o=F(e);n=S(o,"SPAN",{"data-svelte-h":!0}),ge(n)!=="svelte-1a8pjbz"&&(n.textContent=t),i=L(o),r=S(o,"SPAN",{});var u=F(r);P(s.$$.fragment,u),u.forEach(d),o.forEach(d),this.h()},h(){Se(r,"flex","1"),Se(r,"--input-min-width","100%"),C(e,"class","row svelte-xu6ckl"),Se(e,"gap","0.25em")},m(a,o){b(a,e,o),k(e,n),k(e,i),k(e,r),y(s,r,null),f=!0},p(a,o){const u={};o&1&&(u.value=a[0]),s.$set(u)},i(a){f||($(s.$$.fragment,a),f=!0)},o(a){v(s.$$.fragment,a),f=!1},d(a){a&&d(e),I(s)}}}function fo(l){let e,n="Inventory",t,i,r,s="Money:",f,a,o,u,c,m,p;const h=[ao,so],_=[];function E(g,w){return g[2]?0:1}return o=E(l),u=_[o]=h[o](l),m=new os({props:{items:l[1],editable:l[2]}}),m.$on("update",l[4]),{c(){e=T("h2"),e.textContent=n,t=z(),i=T("p"),r=T("label"),r.textContent=s,f=z(),a=T("span"),u.c(),c=z(),A(m.$$.fragment),this.h()},l(g){e=S(g,"H2",{"data-svelte-h":!0}),ge(e)!=="svelte-jfg41u"&&(e.textContent=n),t=L(g),i=S(g,"P",{class:!0});var w=F(i);r=S(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-18dsazk"&&(r.textContent=s),f=L(w),a=S(w,"SPAN",{});var D=F(a);u.l(D),D.forEach(d),w.forEach(d),c=L(g),P(m.$$.fragment,g),this.h()},h(){C(r,"for","current-money"),C(r,"class","svelte-xu6ckl"),Se(a,"flex","1"),C(i,"class","row svelte-xu6ckl"),Se(i,"gap","0.5em")},m(g,w){b(g,e,w),b(g,t,w),b(g,i,w),k(i,r),k(i,f),k(i,a),_[o].m(a,null),b(g,c,w),y(m,g,w),p=!0},p(g,[w]){let D=o;o=E(g),o===D?_[o].p(g,w):(me(),v(_[D],1,1,()=>{_[D]=null}),de(),u=_[o],u?u.p(g,w):(u=_[o]=h[o](g),u.c()),$(u,1),u.m(a,null));const H={};w&2&&(H.items=g[1]),w&4&&(H.editable=g[2]),m.$set(H)},i(g){p||($(u),$(m.$$.fragment,g),p=!0)},o(g){v(u),v(m.$$.fragment,g),p=!1},d(g){g&&(d(e),d(t),d(i),d(c)),_[o].d(),I(m,g)}}}function oo(l,e,n){const t=xe();let{money:i}=e,{inventory:r}=e,{editable:s}=e;const f=o=>{t("update",{money:o.detail.value})},a=o=>{const u=r.find(m=>m.id===o.detail.id);if(u==null){Ye.show("Could not update item quantity. It seems to be missing?");return}const c={...u,quantity:o.detail.quantity};t("update-item",c)};return l.$$set=o=>{"money"in o&&n(0,i=o.money),"inventory"in o&&n(1,r=o.inventory),"editable"in o&&n(2,s=o.editable)},[i,r,s,f,a]}class uo extends fe{constructor(e){super(),oe(this,e,oo,fo,ae,{money:0,inventory:1,editable:2})}}function fl(l,e,n){const t=l.slice();t[2]=e[n];const i=t[0][t[2].type];return t[3]=i,t}function ol(l){let e,n,t,i,r,s,f,a=l[2].type+"",o,u,c,m,p=l[2].name+"",h,_,E,g,w,D=l[3]+"",H,N=`var(--skin-${l[2].type}-bg)`,R,V;return r=new Os({props:{type:l[2].type}}),{c(){e=T("li"),n=T("span"),t=T("span"),i=T("span"),A(r.$$.fragment),s=z(),f=T("span"),o=B(a),u=z(),c=T("span"),m=T("span"),h=B(p),_=z(),E=T("span"),g=T("strong"),w=B("×"),H=B(D),R=z(),this.h()},l(M){e=S(M,"LI",{class:!0});var q=F(e);n=S(q,"SPAN",{class:!0});var U=F(n);t=S(U,"SPAN",{class:!0});var Q=F(t);i=S(Q,"SPAN",{class:!0});var J=F(i);P(r.$$.fragment,J),J.forEach(d),s=L(Q),f=S(Q,"SPAN",{class:!0});var K=F(f);o=O(K,a),K.forEach(d),Q.forEach(d),u=L(U),c=S(U,"SPAN",{class:!0});var G=F(c);m=S(G,"SPAN",{class:!0});var ue=F(m);h=O(ue,p),ue.forEach(d),_=L(G),E=S(G,"SPAN",{class:!0});var ve=F(E);g=S(ve,"STRONG",{});var Z=F(g);w=O(Z,"×"),H=O(Z,D),Z.forEach(d),ve.forEach(d),G.forEach(d),U.forEach(d),R=L(q),q.forEach(d),this.h()},h(){C(i,"class","type-icon svelte-soeuz1"),C(f,"class","type-name svelte-soeuz1"),C(t,"class","header svelte-soeuz1"),C(m,"class","specialization-name"),C(E,"class","specialization-count"),C(c,"class","main svelte-soeuz1"),C(n,"class","tag svelte-soeuz1"),Se(n,"--skin-local-bg",N),C(e,"class","svelte-soeuz1")},m(M,q){b(M,e,q),k(e,n),k(n,t),k(t,i),y(r,i,null),k(t,s),k(t,f),k(f,o),k(n,u),k(n,c),k(c,m),k(m,h),k(c,_),k(c,E),k(E,g),k(g,w),k(g,H),k(e,R),V=!0},p(M,q){const U={};q&2&&(U.type=M[2].type),r.$set(U),(!V||q&2)&&a!==(a=M[2].type+"")&&re(o,a),(!V||q&2)&&p!==(p=M[2].name+"")&&re(h,p),(!V||q&3)&&D!==(D=M[3]+"")&&re(H,D),q&2&&N!==(N=`var(--skin-${M[2].type}-bg)`)&&Se(n,"--skin-local-bg",N)},i(M){V||($(r.$$.fragment,M),V=!0)},o(M){v(r.$$.fragment,M),V=!1},d(M){M&&d(e),I(r)}}}function ul(l){let e,n,t=l[3]>0&&ol(l);return{c(){t&&t.c(),e=x()},l(i){t&&t.l(i),e=x()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,r){i[3]>0?t?(t.p(i,r),r&3&&$(t,1)):(t=ol(i),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(me(),v(t,1,1,()=>{t=null}),de())},i(i){n||($(t),n=!0)},o(i){v(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function co(l){let e,n,t=Ne(Object.values(l[1])),i=[];for(let s=0;s<t.length;s+=1)i[s]=ul(fl(l,t,s));const r=s=>v(i[s],1,1,()=>{i[s]=null});return{c(){e=T("ul");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=S(s,"UL",{class:!0});var f=F(e);for(let a=0;a<i.length;a+=1)i[a].l(f);f.forEach(d),this.h()},h(){C(e,"class","svelte-soeuz1")},m(s,f){b(s,e,f);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(s,[f]){if(f&3){t=Ne(Object.values(s[1]));let a;for(a=0;a<t.length;a+=1){const o=fl(s,t,a);i[a]?(i[a].p(o,f),$(i[a],1)):(i[a]=ul(o),i[a].c(),$(i[a],1),i[a].m(e,null))}for(me(),a=t.length;a<i.length;a+=1)r(a);de()}},i(s){if(!n){for(let f=0;f<t.length;f+=1)$(i[f]);n=!0}},o(s){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)v(i[f]);n=!1},d(s){s&&d(e),nt(i,s)}}}function mo(l,e,n){let t;ze(l,Qr,r=>n(1,t=r));let{specializations:i}=e;return l.$$set=r=>{"specializations"in r&&n(0,i=r.specializations)},[i,t]}class _o extends fe{constructor(e){super(),oe(this,e,mo,co,ae,{specializations:0})}}const us=In(jt,l=>l==="2018"?new Rt("d8"):new Rt("d6")),po=In(Ws,l=>xr.concat(l));function cl(l,e,n){const t=l.slice();t[3]=e[n];const i=t[1].find(function(...s){return l[2](t[3],...s)});return t[4]=i,t}function ml(l){let e,n=hi(l[4].description)+"",t;return{c(){e=new rn(!1),t=x(),this.h()},l(i){e=ln(i,!1),t=x(),this.h()},h(){e.a=t},m(i,r){e.m(n,i,r),b(i,t,r)},p(i,r){r&3&&n!==(n=hi(i[4].description)+"")&&e.p(n)},d(i){i&&(d(t),e.d())}}}function dl(l){let e,n;return e=new ei({props:{value:l[3].description}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.value=t[3].description),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function _l(l){let e,n="No description provided.";return{c(){e=T("p"),e.textContent=n},l(t){e=S(t,"P",{"data-svelte-h":!0}),ge(e)!=="svelte-1e2y3du"&&(e.textContent=n)},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function pl(l,e){let n,t,i,r=e[3].name+"",s,f,a,o=e[3].description.trim(),u,c=e[4]==null&&!e[3].description.trim(),m,p,h=e[4]!=null&&ml(e),_=o&&dl(e),E=c&&_l();return{key:l,first:null,c(){n=T("li"),t=T("p"),i=T("strong"),s=B(r),f=z(),h&&h.c(),a=z(),_&&_.c(),u=z(),E&&E.c(),m=z(),this.h()},l(g){n=S(g,"LI",{class:!0});var w=F(n);t=S(w,"P",{class:!0});var D=F(t);i=S(D,"STRONG",{});var H=F(i);s=O(H,r),H.forEach(d),D.forEach(d),f=L(w),h&&h.l(w),a=L(w),_&&_.l(w),u=L(w),E&&E.l(w),m=L(w),w.forEach(d),this.h()},h(){C(t,"class","no-margin svelte-11ocs32"),C(n,"class","svelte-11ocs32"),this.first=n},m(g,w){b(g,n,w),k(n,t),k(t,i),k(i,s),k(n,f),h&&h.m(n,null),k(n,a),_&&_.m(n,null),k(n,u),E&&E.m(n,null),k(n,m),p=!0},p(g,w){e=g,(!p||w&1)&&r!==(r=e[3].name+"")&&re(s,r),e[4]!=null?h?h.p(e,w):(h=ml(e),h.c(),h.m(n,a)):h&&(h.d(1),h=null),w&1&&(o=e[3].description.trim()),o?_?(_.p(e,w),w&1&&$(_,1)):(_=dl(e),_.c(),$(_,1),_.m(n,u)):_&&(me(),v(_,1,1,()=>{_=null}),de()),w&3&&(c=e[4]==null&&!e[3].description.trim()),c?E||(E=_l(),E.c(),E.m(n,m)):E&&(E.d(1),E=null)},i(g){p||($(_),p=!0)},o(g){v(_),p=!1},d(g){g&&d(n),h&&h.d(),_&&_.d(),E&&E.d()}}}function ho(l){let e,n=[],t=new Map,i,r=Ne(l[0]);const s=f=>f[3].id;for(let f=0;f<r.length;f+=1){let a=cl(l,r,f),o=s(a);t.set(o,n[f]=pl(o,a))}return{c(){e=T("ul");for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){e=S(f,"UL",{class:!0});var a=F(e);for(let o=0;o<n.length;o+=1)n[o].l(a);a.forEach(d),this.h()},h(){C(e,"class","svelte-11ocs32")},m(f,a){b(f,e,a);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null);i=!0},p(f,[a]){a&3&&(r=Ne(f[0]),me(),n=an(n,a,s,1,f,r,t,e,fn,pl,null,cl),de())},i(f){if(!i){for(let a=0;a<r.length;a+=1)$(n[a]);i=!0}},o(f){for(let a=0;a<n.length;a+=1)v(n[a]);i=!1},d(f){f&&d(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function $o(l,e,n){let t;ze(l,po,s=>n(1,t=s));let{values:i}=e;const r=(s,f)=>f.name===s.name;return l.$$set=s=>{"values"in s&&n(0,i=s.values)},[i,t,r]}class cs extends fe{constructor(e){super(),oe(this,e,$o,ho,ae,{values:0})}}function go(l){let e,n="Trainer Id",t,i,r=l[0].readKey+"",s;return{c(){e=T("dt"),e.textContent=n,t=z(),i=T("dd"),s=B(r)},l(f){e=S(f,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-13n2wjg"&&(e.textContent=n),t=L(f),i=S(f,"DD",{});var a=F(i);s=O(a,r),a.forEach(d)},m(f,a){b(f,e,a),b(f,t,a),b(f,i,a),k(i,s)},p(f,a){a&1&&r!==(r=f[0].readKey+"")&&re(s,r)},d(f){f&&(d(e),d(t),d(i))}}}function vo(l){let e,n,t,i,r,s,f;return e=new Ht({props:{columns:2,$$slots:{default:[go]},$$scope:{ctx:l}}}),i=new ss({props:{hp:l[0].hp,hitDice:l[0].hitDice,dieSize:l[3],editable:l[1],status:null,level:l[0].level,exp:0}}),i.$on("update",l[4]),s=new Jf({props:{trainer:l[0]}}),{c(){A(e.$$.fragment),n=z(),t=T("div"),A(i.$$.fragment),r=z(),A(s.$$.fragment),this.h()},l(a){P(e.$$.fragment,a),n=L(a),t=S(a,"DIV",{class:!0});var o=F(t);P(i.$$.fragment,o),r=L(o),P(s.$$.fragment,o),o.forEach(d),this.h()},h(){C(t,"class","column svelte-ab94zr")},m(a,o){y(e,a,o),b(a,n,o),b(a,t,o),y(i,t,null),k(t,r),y(s,t,null),f=!0},p(a,o){const u={};o&513&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);const c={};o&1&&(c.hp=a[0].hp),o&1&&(c.hitDice=a[0].hitDice),o&8&&(c.dieSize=a[3]),o&2&&(c.editable=a[1]),o&1&&(c.level=a[0].level),i.$set(c);const m={};o&1&&(m.trainer=a[0]),s.$set(m)},i(a){f||($(e.$$.fragment,a),$(i.$$.fragment,a),$(s.$$.fragment,a),f=!0)},o(a){v(e.$$.fragment,a),v(i.$$.fragment,a),v(s.$$.fragment,a),f=!1},d(a){a&&(d(n),d(t)),I(e,a),I(i),I(s)}}}function bo(l){let e,n;return e=new Wr({props:{slot:"art",src:l[0].avatar.href,alt:"Trainer Avatar"}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.src=t[0].avatar.href),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function hl(l){let e,n="Specializations",t,i,r;return i=new _o({props:{specializations:l[0].specializations}}),{c(){e=T("h3"),e.textContent=n,t=z(),A(i.$$.fragment)},l(s){e=S(s,"H3",{"data-svelte-h":!0}),ge(e)!=="svelte-1uai780"&&(e.textContent=n),t=L(s),P(i.$$.fragment,s)},m(s,f){b(s,e,f),b(s,t,f),y(i,s,f),r=!0},p(s,f){const a={};f&1&&(a.specializations=s[0].specializations),i.$set(a)},i(s){r||($(i.$$.fragment,s),r=!0)},o(s){v(i.$$.fragment,s),r=!1},d(s){s&&(d(e),d(t)),I(i,s)}}}function $l(l){let e,n,t="Feats",i,r,s;return r=new cs({props:{values:l[0].feats}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"H2",{"data-svelte-h":!0}),ge(n)!=="svelte-2ri5u1"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&1&&(o.values=f[0].feats),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function gl(l){let e,n,t="About",i,r,s;return r=new ei({props:{value:l[0].description}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"H2",{"data-svelte-h":!0}),ge(n)!=="svelte-1h16os9"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&1&&(o.value=f[0].description),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function ko(l){let e,n,t,i,r,s,f,a=di(l[0].specializations),o,u,c,m,p,h,_,E,g;e=new Zr({props:{hasImage:l[2],$$slots:{art:[bo],default:[vo]},$$scope:{ctx:l}}}),i=new Gr({props:{attributes:l[0].attributes}}),s=new as({props:{level:l[0].level,attributes:l[0].attributes,savingThrows:l[0].savingThrows,proficiencies:l[0].proficiencies}});let w=a&&hl(l);u=new Tf({props:{value:l[0].path,level:l[0].level,editable:l[1]}}),u.$on("update",l[6]);let D=l[0].feats.length>0&&$l(l);h=new uo({props:{money:l[0].money,inventory:l[0].inventory,editable:l[1]}}),h.$on("update",l[5]),h.$on("update-item",l[7]);let H=l[0].description&&gl(l);return{c(){A(e.$$.fragment),n=z(),t=T("section"),A(i.$$.fragment),r=z(),A(s.$$.fragment),f=z(),w&&w.c(),o=z(),A(u.$$.fragment),c=z(),D&&D.c(),m=z(),p=T("section"),A(h.$$.fragment),_=z(),H&&H.c(),E=x(),this.h()},l(N){P(e.$$.fragment,N),n=L(N),t=S(N,"SECTION",{class:!0});var R=F(t);P(i.$$.fragment,R),r=L(R),P(s.$$.fragment,R),f=L(R),w&&w.l(R),R.forEach(d),o=L(N),P(u.$$.fragment,N),c=L(N),D&&D.l(N),m=L(N),p=S(N,"SECTION",{});var V=F(p);P(h.$$.fragment,V),V.forEach(d),_=L(N),H&&H.l(N),E=x(),this.h()},h(){C(t,"class","stats")},m(N,R){y(e,N,R),b(N,n,R),b(N,t,R),y(i,t,null),k(t,r),y(s,t,null),k(t,f),w&&w.m(t,null),b(N,o,R),y(u,N,R),b(N,c,R),D&&D.m(N,R),b(N,m,R),b(N,p,R),y(h,p,null),b(N,_,R),H&&H.m(N,R),b(N,E,R),g=!0},p(N,[R]){const V={};R&4&&(V.hasImage=N[2]),R&523&&(V.$$scope={dirty:R,ctx:N}),e.$set(V);const M={};R&1&&(M.attributes=N[0].attributes),i.$set(M);const q={};R&1&&(q.level=N[0].level),R&1&&(q.attributes=N[0].attributes),R&1&&(q.savingThrows=N[0].savingThrows),R&1&&(q.proficiencies=N[0].proficiencies),s.$set(q),R&1&&(a=di(N[0].specializations)),a?w?(w.p(N,R),R&1&&$(w,1)):(w=hl(N),w.c(),$(w,1),w.m(t,null)):w&&(me(),v(w,1,1,()=>{w=null}),de());const U={};R&1&&(U.value=N[0].path),R&1&&(U.level=N[0].level),R&2&&(U.editable=N[1]),u.$set(U),N[0].feats.length>0?D?(D.p(N,R),R&1&&$(D,1)):(D=$l(N),D.c(),$(D,1),D.m(m.parentNode,m)):D&&(me(),v(D,1,1,()=>{D=null}),de());const Q={};R&1&&(Q.money=N[0].money),R&1&&(Q.inventory=N[0].inventory),R&2&&(Q.editable=N[1]),h.$set(Q),N[0].description?H?(H.p(N,R),R&1&&$(H,1)):(H=gl(N),H.c(),$(H,1),H.m(E.parentNode,E)):H&&(me(),v(H,1,1,()=>{H=null}),de())},i(N){g||($(e.$$.fragment,N),$(i.$$.fragment,N),$(s.$$.fragment,N),$(w),$(u.$$.fragment,N),$(D),$(h.$$.fragment,N),$(H),g=!0)},o(N){v(e.$$.fragment,N),v(i.$$.fragment,N),v(s.$$.fragment,N),v(w),v(u.$$.fragment,N),v(D),v(h.$$.fragment,N),v(H),g=!1},d(N){N&&(d(n),d(t),d(o),d(c),d(m),d(p),d(_),d(E)),I(e,N),I(i),I(s),w&&w.d(),I(u,N),D&&D.d(N),I(h),H&&H.d(N)}}}function wo(l,e,n){let t,i;ze(l,us,m=>n(3,i=m));const r=xe();let{trainer:s}=e,{editable:f}=e;const a=m=>{r("update",{...s,hp:{current:m.detail.currentHp,max:s.hp.max},hitDice:{current:m.detail.currentHitDice,max:s.hitDice.max}})},o=m=>{r("update",{...s,money:m.detail.money})},u=m=>{r("update",{...s,path:{...s.path,resource:m.detail.resource}})},c=m=>{r("update-item",m.detail)};return l.$$set=m=>{"trainer"in m&&n(0,s=m.trainer),"editable"in m&&n(1,f=m.editable)},l.$$.update=()=>{l.$$.dirty&1&&n(2,t=s.avatar!=null)},[s,f,t,i,a,o,u,c]}let Eo=class extends fe{constructor(e){super(),oe(this,e,wo,ko,ae,{trainer:0,editable:1})}};function Co(l){let e,n,t="Lv.",i,r,s;return{c(){e=T("span"),n=T("span"),n.textContent=t,i=z(),r=T("span"),s=B(l[0]),this.h()},l(f){e=S(f,"SPAN",{class:!0});var a=F(e);n=S(a,"SPAN",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-2tek6b"&&(n.textContent=t),i=L(a),r=S(a,"SPAN",{class:!0});var o=F(r);s=O(o,l[0]),o.forEach(d),a.forEach(d),this.h()},h(){C(n,"class","level-text svelte-pgha3w"),C(r,"class","level-number svelte-pgha3w"),C(e,"class","level svelte-pgha3w")},m(f,a){b(f,e,a),k(e,n),k(e,i),k(e,r),k(r,s)},p(f,[a]){a&1&&re(s,f[0])},i:le,o:le,d(f){f&&d(e)}}}function So(l,e,n){let{value:t}=e;return l.$$set=i=>{"value"in i&&n(0,t=i.value)},[t]}class ms extends fe{constructor(e){super(),oe(this,e,So,Co,ae,{value:0})}}function To(l){let e;return{c(){e=B("Access Key")},l(n){e=O(n,"Access Key")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Io(l){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function vl(l){let e,n,t,i;return e=new De({props:{href:Pe.trainers(l[1].info.readKey,void 0,Re.restTrainer),variant:"success",$$slots:{default:[yo]},$$scope:{ctx:l}}}),t=new De({props:{href:Pe.trainers(l[1].info.readKey,void 0,Re.editTrainer),$$slots:{default:[Ao]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s&2&&(f.href=Pe.trainers(r[1].info.readKey,void 0,Re.restTrainer)),s&32&&(f.$$scope={dirty:s,ctx:r}),e.$set(f);const a={};s&2&&(a.href=Pe.trainers(r[1].info.readKey,void 0,Re.editTrainer)),s&32&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function yo(l){let e;return{c(){e=B("Rest")},l(n){e=O(n,"Rest")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Ao(l){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Po(l){let e,n,t,i,r,s;e=new De({props:{href:Pe.trainers(l[1].info.readKey,void 0,Re.accessKey),variant:"ghost",$$slots:{default:[To]},$$scope:{ctx:l}}}),t=new De({props:{href:Pe.trainers(l[1].info.readKey,void 0,Re.removeTrainer),variant:"ghost",$$slots:{default:[Io]},$$scope:{ctx:l}}});let f=l[1].update&&vl(l);return{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment),i=z(),f&&f.c(),r=x()},l(a){P(e.$$.fragment,a),n=L(a),P(t.$$.fragment,a),i=L(a),f&&f.l(a),r=x()},m(a,o){y(e,a,o),b(a,n,o),y(t,a,o),b(a,i,o),f&&f.m(a,o),b(a,r,o),s=!0},p(a,o){const u={};o&2&&(u.href=Pe.trainers(a[1].info.readKey,void 0,Re.accessKey)),o&32&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);const c={};o&2&&(c.href=Pe.trainers(a[1].info.readKey,void 0,Re.removeTrainer)),o&32&&(c.$$scope={dirty:o,ctx:a}),t.$set(c),a[1].update?f?(f.p(a,o),o&2&&$(f,1)):(f=vl(a),f.c(),$(f,1),f.m(r.parentNode,r)):f&&(me(),v(f,1,1,()=>{f=null}),de())},i(a){s||($(e.$$.fragment,a),$(t.$$.fragment,a),$(f),s=!0)},o(a){v(e.$$.fragment,a),v(t.$$.fragment,a),v(f),s=!1},d(a){a&&(d(n),d(i),d(r)),I(e,a),I(t,a),f&&f.d(a)}}}function Do(l){let e,n,t,i;return e=new Eo({props:{trainer:l[1].info,editable:l[2]}}),e.$on("update",l[3]),e.$on("update-item",l[4]),t=new Ze({props:{$$slots:{default:[Po]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s&2&&(f.trainer=r[1].info),s&4&&(f.editable=r[2]),e.$set(f);const a={};s&34&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function No(l){let e,n,t;return n=new ms({props:{value:l[1].info.level.data}}),{c(){e=T("div"),A(n.$$.fragment),this.h()},l(i){e=S(i,"DIV",{slot:!0});var r=F(e);P(n.$$.fragment,r),r.forEach(d),this.h()},h(){C(e,"slot","header-extra"),Se(e,"padding-inline-end","0.5em")},m(i,r){b(i,e,r),y(n,e,null),t=!0},p(i,r){const s={};r&2&&(s.value=i[1].info.level.data),n.$set(s)},i(i){t||($(n.$$.fragment,i),t=!0)},o(i){v(n.$$.fragment,i),t=!1},d(i){i&&d(e),I(n)}}}function Lo(l){let e,n,t,i;return e=new ft({props:{value:l[1].info.name}}),t=new st({props:{title:l[1].info.name,$$slots:{"header-extra":[No],default:[Do]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&2&&(f.value=r[1].info.name),e.$set(f);const a={};s&2&&(a.title=r[1].info.name),s&38&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function zo(l,e,n){let t,i,r=le,s=()=>(r(),r=rt(f,u=>n(1,i=u)),f);l.$$.on_destroy.push(()=>r());let{trainer:f}=e;s();const a=u=>{var c;(c=i.update)==null||c.info(u.detail,{optimistic:!0})},o=u=>{var c;(c=i.update)==null||c.inventoryItem(u.detail,{optimistic:!0})};return l.$$set=u=>{"trainer"in u&&s(n(0,f=u.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(2,t=i.update!=null)},[f,i,t,a,o]}let Ho=class extends fe{constructor(e){super(),oe(this,e,zo,Lo,ae,{trainer:0})}};function Fo(l){let e,n,t,i=l[1].name+"",r,s,f,a,o,u,c;return a=new Yr({props:{gender:l[0].gender}}),u=new ms({props:{value:l[0].level.data}}),{c(){e=T("div"),n=T("span"),t=T("span"),r=B(i),s=z(),f=T("span"),A(a.$$.fragment),o=z(),A(u.$$.fragment),this.h()},l(m){e=S(m,"DIV",{class:!0});var p=F(e);n=S(p,"SPAN",{class:!0});var h=F(n);t=S(h,"SPAN",{});var _=F(t);r=O(_,i),_.forEach(d),s=L(h),f=S(h,"SPAN",{class:!0});var E=F(f);P(a.$$.fragment,E),E.forEach(d),h.forEach(d),o=L(p),P(u.$$.fragment,p),p.forEach(d),this.h()},h(){C(f,"class","gender svelte-wwmcf3"),C(n,"class","name svelte-wwmcf3"),C(e,"class","grid svelte-wwmcf3")},m(m,p){b(m,e,p),k(e,n),k(n,t),k(t,r),k(n,s),k(n,f),y(a,f,null),k(e,o),y(u,e,null),c=!0},p(m,[p]){(!c||p&2)&&i!==(i=m[1].name+"")&&re(r,i);const h={};p&1&&(h.gender=m[0].gender),a.$set(h);const _={};p&1&&(_.value=m[0].level.data),u.$set(_)},i(m){c||($(a.$$.fragment,m),$(u.$$.fragment,m),c=!0)},o(m){v(a.$$.fragment,m),v(u.$$.fragment,m),c=!1},d(m){m&&d(e),I(a),I(u)}}}function Ro(l,e,n){let{pokemon:t}=e,{species:i}=e;return l.$$set=r=>{"pokemon"in r&&n(0,t=r.pokemon),"species"in r&&n(1,i=r.species)},[t,i]}class Vo extends fe{constructor(e){super(),oe(this,e,Ro,Fo,ae,{pokemon:0,species:1})}}function bl(l){let e,n="Tera",t,i,r,s;return r=new xs({props:{type:l[0].teraType}}),{c(){e=T("dt"),e.textContent=n,t=z(),i=T("dd"),A(r.$$.fragment)},l(f){e=S(f,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-zqzgk0"&&(e.textContent=n),t=L(f),i=S(f,"DD",{});var a=F(i);P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),b(f,t,a),b(f,i,a),y(r,i,null),s=!0},p(f,a){const o={};a&1&&(o.type=f[0].teraType),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&(d(e),d(t),d(i)),I(r)}}}function Mo(l){let e,n='<abbr title="Armor Class">AC</abbr>',t,i,r=l[0].ac+"",s,f,a,o="Nature",u,c,m=l[0].nature.data+"",p,h,_,E="Bonus",g,w,D,H,N,R,V="Size",M,q,U=(l[0].customSize??l[1].size)+"",Q,J,K,G,ue,ve,Z,he;K=new oi({props:{label:"Speed",values:l[3],tostring:Js}}),ue=new oi({props:{label:"Senses",values:l[2],tostring:Xs}});let Ce=l[0].teraType!=null&&bl(l);return{c(){e=T("dt"),e.innerHTML=n,t=z(),i=T("dd"),s=B(r),f=z(),a=T("dt"),a.textContent=o,u=z(),c=T("dd"),p=B(m),h=z(),_=T("dt"),_.textContent=E,g=z(),w=T("dd"),D=B("+"),H=B(l[4]),N=z(),R=T("dt"),R.textContent=V,M=z(),q=T("dd"),Q=B(U),J=z(),A(K.$$.fragment),G=z(),A(ue.$$.fragment),ve=z(),Ce&&Ce.c(),Z=x(),this.h()},l(se){e=S(se,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-oq9y6j"&&(e.innerHTML=n),t=L(se),i=S(se,"DD",{});var ee=F(i);s=O(ee,r),ee.forEach(d),f=L(se),a=S(se,"DT",{"data-svelte-h":!0}),ge(a)!=="svelte-1u0or05"&&(a.textContent=o),u=L(se),c=S(se,"DD",{class:!0});var Y=F(c);p=O(Y,m),Y.forEach(d),h=L(se),_=S(se,"DT",{"data-svelte-h":!0}),ge(_)!=="svelte-ehj2sb"&&(_.textContent=E),g=L(se),w=S(se,"DD",{});var ce=F(w);D=O(ce,"+"),H=O(ce,l[4]),ce.forEach(d),N=L(se),R=S(se,"DT",{"data-svelte-h":!0}),ge(R)!=="svelte-rw0fwr"&&(R.textContent=V),M=L(se),q=S(se,"DD",{class:!0});var _e=F(q);Q=O(_e,U),_e.forEach(d),J=L(se),P(K.$$.fragment,se),G=L(se),P(ue.$$.fragment,se),ve=L(se),Ce&&Ce.l(se),Z=x(),this.h()},h(){C(c,"class","cap"),C(q,"class","cap")},m(se,ee){b(se,e,ee),b(se,t,ee),b(se,i,ee),k(i,s),b(se,f,ee),b(se,a,ee),b(se,u,ee),b(se,c,ee),k(c,p),b(se,h,ee),b(se,_,ee),b(se,g,ee),b(se,w,ee),k(w,D),k(w,H),b(se,N,ee),b(se,R,ee),b(se,M,ee),b(se,q,ee),k(q,Q),b(se,J,ee),y(K,se,ee),b(se,G,ee),y(ue,se,ee),b(se,ve,ee),Ce&&Ce.m(se,ee),b(se,Z,ee),he=!0},p(se,ee){(!he||ee&1)&&r!==(r=se[0].ac+"")&&re(s,r),(!he||ee&1)&&m!==(m=se[0].nature.data+"")&&re(p,m),(!he||ee&16)&&re(H,se[4]),(!he||ee&3)&&U!==(U=(se[0].customSize??se[1].size)+"")&&re(Q,U);const Y={};ee&8&&(Y.values=se[3]),K.$set(Y);const ce={};ee&4&&(ce.values=se[2]),ue.$set(ce),se[0].teraType!=null?Ce?(Ce.p(se,ee),ee&1&&$(Ce,1)):(Ce=bl(se),Ce.c(),$(Ce,1),Ce.m(Z.parentNode,Z)):Ce&&(me(),v(Ce,1,1,()=>{Ce=null}),de())},i(se){he||($(K.$$.fragment,se),$(ue.$$.fragment,se),$(Ce),he=!0)},o(se){v(K.$$.fragment,se),v(ue.$$.fragment,se),v(Ce),he=!1},d(se){se&&(d(e),d(t),d(i),d(f),d(a),d(u),d(c),d(h),d(_),d(g),d(w),d(N),d(R),d(M),d(q),d(J),d(G),d(ve),d(Z)),I(K,se),I(ue,se),Ce&&Ce.d(se)}}}function Oo(l){let e,n;return e=new Ht({props:{columns:2,$$slots:{default:[Mo]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&63&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Bo(l,e,n){let t,i,r,{pokemon:s}=e,{species:f}=e;return l.$$set=a=>{"pokemon"in a&&n(0,s=a.pokemon),"species"in a&&n(1,f=a.species)},l.$$.update=()=>{l.$$.dirty&1&&n(4,t=s.level.proficiencyBonus),l.$$.dirty&3&&n(3,i=fi.fromList(Qn,f.speed).mergeWith(s.speeds)),l.$$.dirty&3&&n(2,r=fi.fromList(Wn,f.senses).mergeWith(s.senses))},[s,f,r,i,t]}class qo extends fe{constructor(e){super(),oe(this,e,Bo,Oo,ae,{pokemon:0,species:1})}}const Ko=l=>(e,n)=>l(n)>l(e)?n:e;function Uo(l,e){if(l.power==="none"||l.power==="varies")return;const t=(l.power==="any"?["str","dex","con","int","wis","cha"]:l.power).reduce(Ko(f=>e.attributes[f].score)),i=e.attributes[t].modifier,r=e.level.proficiencyBonus,s=e.type.includes(l.type);return{toHit:r+i,dc:8+r+i,dmg:i+(s?i:0)}}function jo(l){let e,n=l[1].name+"",t,i;return{c(){e=T("label"),t=B(n),i=B(" PP"),this.h()},l(r){e=S(r,"LABEL",{for:!0});var s=F(e);t=O(s,n),i=O(s," PP"),s.forEach(d),this.h()},h(){C(e,"for","current-hp")},m(r,s){b(r,e,s),k(e,t),k(e,i)},p(r,s){s&2&&n!==(n=r[1].name+"")&&re(t,n)},d(r){r&&d(e)}}}function Go(l){let e;return{c(){e=B(l[4])},l(n){e=O(n,l[4])},m(n,t){b(n,e,t)},p(n,t){t&16&&re(e,n[4])},i:le,o:le,d(n){n&&d(e)}}}function Yo(l){let e,n;return e=new wt({props:{id:"current-pp-"+l[0].moveId,value:l[4]}}),e.$on("change",l[5]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.id="current-pp-"+t[0].moveId),i&16&&(r.value=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function kl(l){let e,n,t,i=l[3].dc+"",r,s,f,a;return n=new En({props:{value:l[3].toHit}}),f=new En({props:{value:l[3].dmg}}),{c(){e=B("To Hit: "),A(n.$$.fragment),t=B(", DC: "),r=B(i),s=B(", Dmg: "),A(f.$$.fragment)},l(o){e=O(o,"To Hit: "),P(n.$$.fragment,o),t=O(o,", DC: "),r=O(o,i),s=O(o,", Dmg: "),P(f.$$.fragment,o)},m(o,u){b(o,e,u),y(n,o,u),b(o,t,u),b(o,r,u),b(o,s,u),y(f,o,u),a=!0},p(o,u){const c={};u&8&&(c.value=o[3].toHit),n.$set(c),(!a||u&8)&&i!==(i=o[3].dc+"")&&re(r,i);const m={};u&8&&(m.value=o[3].dmg),f.$set(m)},i(o){a||($(n.$$.fragment,o),$(f.$$.fragment,o),a=!0)},o(o){v(n.$$.fragment,o),v(f.$$.fragment,o),a=!1},d(o){o&&(d(e),d(t),d(r),d(s)),I(n,o),I(f,o)}}}function Qo(l){let e,n="Range",t,i,r=l[1].range+"",s,f,a,o="Time",u,c,m=l[1].time+"",p,h,_,E="Duration",g,w,D=l[1].duration+"",H;return{c(){e=T("dt"),e.textContent=n,t=z(),i=T("dd"),s=B(r),f=z(),a=T("dt"),a.textContent=o,u=z(),c=T("dd"),p=B(m),h=z(),_=T("dt"),_.textContent=E,g=z(),w=T("dd"),H=B(D),this.h()},l(N){e=S(N,"DT",{"data-svelte-h":!0}),ge(e)!=="svelte-jar7ex"&&(e.textContent=n),t=L(N),i=S(N,"DD",{class:!0});var R=F(i);s=O(R,r),R.forEach(d),f=L(N),a=S(N,"DT",{"data-svelte-h":!0}),ge(a)!=="svelte-k4tc9n"&&(a.textContent=o),u=L(N),c=S(N,"DD",{});var V=F(c);p=O(V,m),V.forEach(d),h=L(N),_=S(N,"DT",{"data-svelte-h":!0}),ge(_)!=="svelte-18qrpyy"&&(_.textContent=E),g=L(N),w=S(N,"DD",{class:!0});var M=F(w);H=O(M,D),M.forEach(d),this.h()},h(){C(i,"class","cap"),C(w,"class","cap")},m(N,R){b(N,e,R),b(N,t,R),b(N,i,R),k(i,s),b(N,f,R),b(N,a,R),b(N,u,R),b(N,c,R),k(c,p),b(N,h,R),b(N,_,R),b(N,g,R),b(N,w,R),k(w,H)},p(N,R){R&2&&r!==(r=N[1].range+"")&&re(s,r),R&2&&m!==(m=N[1].time+"")&&re(p,m),R&2&&D!==(D=N[1].duration+"")&&re(H,D)},d(N){N&&(d(e),d(t),d(i),d(f),d(a),d(u),d(c),d(h),d(_),d(g),d(w))}}}function wl(l){let e,n,t,i=l[0].notes+"",r;return{c(){e=T("hr"),n=z(),t=T("div"),r=B(i),this.h()},l(s){e=S(s,"HR",{}),n=L(s),t=S(s,"DIV",{class:!0});var f=F(t);r=O(f,i),f.forEach(d),this.h()},h(){C(t,"class","space-inner smaller-font svelte-1yoj80o")},m(s,f){b(s,e,f),b(s,n,f),b(s,t,f),k(t,r)},p(s,f){f&1&&i!==(i=s[0].notes+"")&&re(r,i)},d(s){s&&(d(e),d(n),d(t))}}}function Wo(l){let e,n,t,i,r,s=l[1].name+"",f,a,o,u,c,m,p,h,_,E,g,w,D=l[0].pp.max+"",H,N,R,V,M=l[1].type+"",q,U,Q,J=`var(--skin-${l[1].type}-bg)`,K,G,ue,ve,Z,he,Ce,se,ee;c=new Ft({props:{$$slots:{default:[jo]},$$scope:{ctx:l}}});const Y=[Yo,Go],ce=[];function _e(we,X){return we[2]?0:1}h=_e(l),_=ce[h]=Y[h](l);let $e=l[3]!=null&&kl(l);ue=new Ht({props:{columns:1,$$slots:{default:[Qo]},$$scope:{ctx:l}}}),Ce=new ta({props:{move:l[1]}});let Te=l[0].notes!==void 0&&l[0].notes.length>0&&wl(l);return{c(){e=T("div"),n=T("div"),t=T("div"),i=T("span"),r=T("a"),f=B(s),o=z(),u=T("span"),A(c.$$.fragment),m=z(),p=T("span"),_.c(),E=z(),g=T("span"),w=B("/ "),H=B(D),N=z(),R=T("div"),V=T("span"),q=B(M),U=z(),Q=T("span"),$e&&$e.c(),K=z(),G=T("div"),A(ue.$$.fragment),ve=z(),Z=T("div"),he=z(),A(Ce.$$.fragment),se=z(),Te&&Te.c(),this.h()},l(we){e=S(we,"DIV",{class:!0});var X=F(e);n=S(X,"DIV",{class:!0});var be=F(n);t=S(be,"DIV",{class:!0});var Ie=F(t);i=S(Ie,"SPAN",{class:!0});var He=F(i);r=S(He,"A",{href:!0,class:!0});var Ve=F(r);f=O(Ve,s),Ve.forEach(d),He.forEach(d),o=L(Ie),u=S(Ie,"SPAN",{class:!0});var Ue=F(u);P(c.$$.fragment,Ue),m=L(Ue),p=S(Ue,"SPAN",{class:!0});var pe=F(p);_.l(pe),pe.forEach(d),E=L(Ue),g=S(Ue,"SPAN",{class:!0});var ye=F(g);w=O(ye,"/ "),H=O(ye,D),ye.forEach(d),Ue.forEach(d),Ie.forEach(d),N=L(be),R=S(be,"DIV",{class:!0});var Oe=F(R);V=S(Oe,"SPAN",{class:!0});var je=F(V);q=O(je,M),je.forEach(d),U=L(Oe),Q=S(Oe,"SPAN",{});var Xe=F(Q);$e&&$e.l(Xe),Xe.forEach(d),Oe.forEach(d),be.forEach(d),K=L(X),G=S(X,"DIV",{class:!0});var Me=F(G);P(ue.$$.fragment,Me),ve=L(Me),Z=S(Me,"DIV",{}),F(Z).forEach(d),he=L(Me),P(Ce.$$.fragment,Me),Me.forEach(d),se=L(X),Te&&Te.l(X),X.forEach(d),this.h()},h(){C(r,"href",a=Qe+"/moves/"+l[0].moveId),C(r,"class","svelte-1yoj80o"),C(i,"class","flex-span svelte-1yoj80o"),C(p,"class","current"),C(g,"class","max"),C(u,"class","pp svelte-1yoj80o"),C(t,"class","hrow space-after-tiny svelte-1yoj80o"),C(V,"class","capitalize flex-span svelte-1yoj80o"),C(R,"class","hrow tiny-font svelte-1yoj80o"),C(n,"class","vstack bg-by-type rounded space-inner svelte-1yoj80o"),Se(n,"--bg",J),Se(Z,"margin-block-end","0.5em"),C(G,"class","space-inner smaller-font svelte-1yoj80o"),C(e,"class","vstack space-after svelte-1yoj80o")},m(we,X){b(we,e,X),k(e,n),k(n,t),k(t,i),k(i,r),k(r,f),k(t,o),k(t,u),y(c,u,null),k(u,m),k(u,p),ce[h].m(p,null),k(u,E),k(u,g),k(g,w),k(g,H),k(n,N),k(n,R),k(R,V),k(V,q),k(R,U),k(R,Q),$e&&$e.m(Q,null),k(e,K),k(e,G),y(ue,G,null),k(G,ve),k(G,Z),k(G,he),y(Ce,G,null),k(e,se),Te&&Te.m(e,null),ee=!0},p(we,[X]){(!ee||X&2)&&s!==(s=we[1].name+"")&&re(f,s),(!ee||X&1&&a!==(a=Qe+"/moves/"+we[0].moveId))&&C(r,"href",a);const be={};X&1026&&(be.$$scope={dirty:X,ctx:we}),c.$set(be);let Ie=h;h=_e(we),h===Ie?ce[h].p(we,X):(me(),v(ce[Ie],1,1,()=>{ce[Ie]=null}),de(),_=ce[h],_?_.p(we,X):(_=ce[h]=Y[h](we),_.c()),$(_,1),_.m(p,null)),(!ee||X&1)&&D!==(D=we[0].pp.max+"")&&re(H,D),(!ee||X&2)&&M!==(M=we[1].type+"")&&re(q,M),we[3]!=null?$e?($e.p(we,X),X&8&&$($e,1)):($e=kl(we),$e.c(),$($e,1),$e.m(Q,null)):$e&&(me(),v($e,1,1,()=>{$e=null}),de()),X&2&&J!==(J=`var(--skin-${we[1].type}-bg)`)&&Se(n,"--bg",J);const He={};X&1026&&(He.$$scope={dirty:X,ctx:we}),ue.$set(He);const Ve={};X&2&&(Ve.move=we[1]),Ce.$set(Ve),we[0].notes!==void 0&&we[0].notes.length>0?Te?Te.p(we,X):(Te=wl(we),Te.c(),Te.m(e,null)):Te&&(Te.d(1),Te=null)},i(we){ee||($(c.$$.fragment,we),$(_),$($e),$(ue.$$.fragment,we),$(Ce.$$.fragment,we),ee=!0)},o(we){v(c.$$.fragment,we),v(_),v($e),v(ue.$$.fragment,we),v(Ce.$$.fragment,we),ee=!1},d(we){we&&d(e),I(c),ce[h].d(),$e&&$e.d(),I(ue),I(Ce),Te&&Te.d()}}}function Zo(l,e,n){let t,i;const r=xe();let{move:s}=e,{moveData:f}=e,{level:a}=e,{pokemonType:o}=e,{attributes:u}=e,{editable:c}=e;const m=p=>{r("update",{value:p.detail.value??0})};return l.$$set=p=>{"move"in p&&n(0,s=p.move),"moveData"in p&&n(1,f=p.moveData),"level"in p&&n(6,a=p.level),"pokemonType"in p&&n(7,o=p.pokemonType),"attributes"in p&&n(8,u=p.attributes),"editable"in p&&n(2,c=p.editable)},l.$$.update=()=>{l.$$.dirty&1&&n(4,t=s.pp.current),l.$$.dirty&450&&n(3,i=Uo(f,{attributes:u,level:a,type:o.data}))},[s,f,c,i,t,m,a,o,u]}class Jo extends fe{constructor(e){super(),oe(this,e,Zo,Wo,ae,{move:0,moveData:1,level:6,pokemonType:7,attributes:8,editable:2})}}function El(l,e,n){const t=l.slice();t[6]=e[n];const i=t[2].find(function(...s){return l[4](t[6],...s)});return t[7]=i,t}function Cl(l){let e,n,t,i;const r=[xo,Xo],s=[];function f(a,o){return a[2]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Xo(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function xo(l){let e,n="Moves",t,i,r,s=Ne(l[0].moves),f=[];for(let o=0;o<s.length;o+=1)f[o]=Sl(El(l,s,o));const a=o=>v(f[o],1,1,()=>{f[o]=null});return{c(){e=T("h2"),e.textContent=n,t=z(),i=T("ul");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=S(o,"H2",{"data-svelte-h":!0}),ge(e)!=="svelte-cbzy28"&&(e.textContent=n),t=L(o),i=S(o,"UL",{});var u=F(i);for(let c=0;c<f.length;c+=1)f[c].l(u);u.forEach(d),this.h()},h(){Se(i,"list-style","none"),Se(i,"padding","0")},m(o,u){b(o,e,u),b(o,t,u),b(o,i,u);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(i,null);r=!0},p(o,u){if(u&15){s=Ne(o[0].moves);let c;for(c=0;c<s.length;c+=1){const m=El(o,s,c);f[c]?(f[c].p(m,u),$(f[c],1)):(f[c]=Sl(m),f[c].c(),$(f[c],1),f[c].m(i,null))}for(me(),c=s.length;c<f.length;c+=1)a(c);de()}},i(o){if(!r){for(let u=0;u<s.length;u+=1)$(f[u]);r=!0}},o(o){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)v(f[u]);r=!1},d(o){o&&(d(e),d(t),d(i)),nt(f,o)}}}function Sl(l){let e,n,t,i;return n=new Jo({props:{move:l[6],moveData:l[7],editable:l[1],level:l[0].level,attributes:l[0].attributes,pokemonType:l[0].type}}),n.$on("update",function(){Kt(l[3](l[6]))&&l[3](l[6]).apply(this,arguments)}),{c(){e=T("li"),A(n.$$.fragment),t=z()},l(r){e=S(r,"LI",{});var s=F(e);P(n.$$.fragment,s),t=L(s),s.forEach(d)},m(r,s){b(r,e,s),y(n,e,null),k(e,t),i=!0},p(r,s){l=r;const f={};s&1&&(f.move=l[6]),s&5&&(f.moveData=l[7]),s&2&&(f.editable=l[1]),s&1&&(f.level=l[0].level),s&1&&(f.attributes=l[0].attributes),s&1&&(f.pokemonType=l[0].type),n.$set(f)},i(r){i||($(n.$$.fragment,r),i=!0)},o(r){v(n.$$.fragment,r),i=!1},d(r){r&&d(e),I(n)}}}function eu(l){let e,n,t=l[0].moves.length>0&&Cl(l);return{c(){t&&t.c(),e=x()},l(i){t&&t.l(i),e=x()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,[r]){i[0].moves.length>0?t?(t.p(i,r),r&1&&$(t,1)):(t=Cl(i),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(me(),v(t,1,1,()=>{t=null}),de())},i(i){n||($(t),n=!0)},o(i){v(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function tu(l,e,n){let t;ze(l,yn,o=>n(2,t=o));const i=xe();let{pokemon:r}=e,{editable:s=!1}=e;const f=o=>u=>{i("update",{...o,pp:{current:u.detail.value,max:o.pp.max}})},a=(o,u)=>u.id===o.moveId;return l.$$set=o=>{"pokemon"in o&&n(0,r=o.pokemon),"editable"in o&&n(1,s=o.editable)},[r,s,t,f,a]}class nu extends fe{constructor(e){super(),oe(this,e,tu,eu,ae,{pokemon:0,editable:1})}}const ds=Ys(void 0,l=>{typeof window<"u"&&fetch(`${Qe}/abilities.json`).then(e=>e.json()).then(e=>l(e.abilities))});function Tl(l){let e,n,t=l[0].name+"",i,r,s=l[0].description+"",f;return{c(){e=T("p"),n=T("strong"),i=B(t),r=B(": "),f=B(s),this.h()},l(a){e=S(a,"P",{class:!0});var o=F(e);n=S(o,"STRONG",{});var u=F(n);i=O(u,t),u.forEach(d),r=O(o,": "),f=O(o,s),o.forEach(d),this.h()},h(){C(e,"class","svelte-1f7kwjm")},m(a,o){b(a,e,o),k(e,n),k(n,i),k(e,r),k(e,f)},p(a,o){o&1&&t!==(t=a[0].name+"")&&re(i,t),o&1&&s!==(s=a[0].description+"")&&re(f,s)},d(a){a&&d(e)}}}function iu(l){let e,n=l[0]&&Tl(l);return{c(){n&&n.c(),e=x()},l(t){n&&n.l(t),e=x()},m(t,i){n&&n.m(t,i),b(t,e,i)},p(t,[i]){t[0]?n?n.p(t,i):(n=Tl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:le,o:le,d(t){t&&d(e),n&&n.d(t)}}}function lu(l,e,n){let t,i;ze(l,ds,f=>n(3,i=f));let{pokemon:r}=e,{species:s}=e;return l.$$set=f=>{"pokemon"in f&&n(1,r=f.pokemon),"species"in f&&n(2,s=f.species)},l.$$.update=()=>{l.$$.dirty&14&&n(0,t=s.abilities.find(f=>f.id===r.ability)??(i==null?void 0:i.find(f=>f.id===r.ability)))},[t,r,s,i]}class ru extends fe{constructor(e){super(),oe(this,e,lu,iu,ae,{pokemon:1,species:2})}}function Il(l,e,n){const t=l.slice();return t[1]=e[n],t}function yl(l){let e,n=l[1]+"",t;return{c(){e=T("p"),t=B(n),this.h()},l(i){e=S(i,"P",{class:!0});var r=F(e);t=O(r,n),r.forEach(d),this.h()},h(){C(e,"class","no-space-last svelte-u86twn")},m(i,r){b(i,e,r),k(e,t)},p(i,r){r&1&&n!==(n=i[1]+"")&&re(t,n)},d(i){i&&d(e)}}}function Al(l){let e,n=l[1].length>0&&yl(l);return{c(){n&&n.c(),e=x()},l(t){n&&n.l(t),e=x()},m(t,i){n&&n.m(t,i),b(t,e,i)},p(t,i){t[1].length>0?n?n.p(t,i):(n=yl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&d(e),n&&n.d(t)}}}function su(l){let e,n="General Notes",t,i,r=Ne(l[0].notes.split(`
`)),s=[];for(let f=0;f<r.length;f+=1)s[f]=Al(Il(l,r,f));return{c(){e=T("h2"),e.textContent=n,t=z(),i=T("div");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=S(f,"H2",{"data-svelte-h":!0}),ge(e)!=="svelte-1da4q7t"&&(e.textContent=n),t=L(f),i=S(f,"DIV",{class:!0});var a=F(i);for(let o=0;o<s.length;o+=1)s[o].l(a);a.forEach(d),this.h()},h(){C(i,"class","font-sm svelte-u86twn")},m(f,a){b(f,e,a),b(f,t,a),b(f,i,a);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(i,null)},p(f,[a]){if(a&1){r=Ne(f[0].notes.split(`
`));let o;for(o=0;o<r.length;o+=1){const u=Il(f,r,o);s[o]?s[o].p(u,a):(s[o]=Al(u),s[o].c(),s[o].m(i,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}},i:le,o:le,d(f){f&&(d(e),d(t),d(i)),nt(s,f)}}}function au(l,e,n){let{pokemon:t}=e;return l.$$set=i=>{"pokemon"in i&&n(0,t=i.pokemon)},[t]}class fu extends fe{constructor(e){super(),oe(this,e,au,su,ae,{pokemon:0})}}function Pl(l){let e,n,t,i,r;function s(o,u){return o[0].items.length===1?uu:ou}let f=s(l),a=f(l);return i=new os({props:{items:l[0].items}}),{c(){e=T("h3"),n=B("Held "),a.c(),t=z(),A(i.$$.fragment)},l(o){e=S(o,"H3",{});var u=F(e);n=O(u,"Held "),a.l(u),u.forEach(d),t=L(o),P(i.$$.fragment,o)},m(o,u){b(o,e,u),k(e,n),a.m(e,null),b(o,t,u),y(i,o,u),r=!0},p(o,u){f!==(f=s(o))&&(a.d(1),a=f(o),a&&(a.c(),a.m(e,null)));const c={};u&1&&(c.items=o[0].items),i.$set(c)},i(o){r||($(i.$$.fragment,o),r=!0)},o(o){v(i.$$.fragment,o),r=!1},d(o){o&&(d(e),d(t)),a.d(),I(i,o)}}}function ou(l){let e;return{c(){e=B("Items")},l(n){e=O(n,"Items")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function uu(l){let e;return{c(){e=B("Item")},l(n){e=O(n,"Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function cu(l){let e,n,t=l[0].items.length>0&&Pl(l);return{c(){t&&t.c(),e=x()},l(i){t&&t.l(i),e=x()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,[r]){i[0].items.length>0?t?(t.p(i,r),r&1&&$(t,1)):(t=Pl(i),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(me(),v(t,1,1,()=>{t=null}),de())},i(i){n||($(t),n=!0)},o(i){v(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function mu(l,e,n){let{pokemon:t}=e;return l.$$set=i=>{"pokemon"in i&&n(0,t=i.pokemon)},[t]}class du extends fe{constructor(e){super(),oe(this,e,mu,cu,ae,{pokemon:0})}}function _u(l){let e,n,t,i=`var(--skin-bond-${l[0]}-bg)`,r=`var(--skin-bond-${l[0]}-bg-dark)`,s;const f=l[2].default,a=Mt(f,l,l[1],null);return{c(){e=Ke("svg"),n=Ke("title"),t=B(l[0]),a&&a.c(),this.h()},l(o){e=qe(o,"svg",{xmlns:!0,viewBox:!0,class:!0});var u=F(e);n=qe(u,"title",{});var c=F(n);t=O(c,l[0]),c.forEach(d),a&&a.l(u),u.forEach(d),this.h()},h(){C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 120 120"),C(e,"class","svelte-1utg1ud"),Se(e,"--bg",i),Se(e,"--bg-dark",r)},m(o,u){b(o,e,u),k(e,n),k(n,t),a&&a.m(e,null),s=!0},p(o,[u]){(!s||u&1)&&re(t,o[0]),a&&a.p&&(!s||u&2)&&Ot(a,f,o,o[1],s?qt(f,o[1],u,null):Bt(o[1]),null),u&1&&i!==(i=`var(--skin-bond-${o[0]}-bg)`)&&Se(e,"--bg",i),u&1&&r!==(r=`var(--skin-bond-${o[0]}-bg-dark)`)&&Se(e,"--bg-dark",r)},i(o){s||($(a,o),s=!0)},o(o){v(a,o),s=!1},d(o){o&&d(e),a&&a.d(o)}}}function pu(l,e,n){let{$$slots:t={},$$scope:i}=e,{name:r}=e;return l.$$set=s=>{"name"in s&&n(0,r=s.name),"$$scope"in s&&n(1,i=s.$$scope)},[r,i,t]}class At extends fe{constructor(e){super(),oe(this,e,pu,_u,ae,{name:0})}}function hu(l){let e,n,t;return{c(){e=Ke("path"),n=z(),t=Ke("path"),this.h()},l(i){e=qe(i,"path",{class:!0,d:!0}),F(e).forEach(d),n=L(i),t=qe(i,"path",{class:!0,d:!0}),F(t).forEach(d),this.h()},h(){C(e,"class","face-feature"),C(e,"d","M 32 40 L 52 50 A 10 10 0 0 1 32 40 Z"),C(t,"class","face-feature"),C(t,"d","M 88 40 L 68 50 A 10 10 0 0 0 88 40 Z")},m(i,r){b(i,e,r),b(i,n,r),b(i,t,r)},p:le,i:le,o:le,d(i){i&&(d(e),d(n),d(t))}}}class $u extends fe{constructor(e){super(),oe(this,e,null,hu,ae,{})}}function gu(l){let e,n,t,i,r,s;return t=new $u({}),{c(){e=Ke("path"),n=z(),A(t.$$.fragment),i=z(),r=Ke("path"),this.h()},l(f){e=qe(f,"path",{d:!0,transform:!0}),F(e).forEach(d),n=L(f),P(t.$$.fragment,f),i=L(f),r=qe(f,"path",{class:!0,d:!0}),F(r).forEach(d),this.h()},h(){C(e,"d",`M 93.926517,89.396983
		C 92.687534,90.635966 74.012417,84.720747 72.393608,85.391279 70.774799,86.061812 61.752186,103.44981 60,103.44981
		c -1.752186,0 -10.774797,-17.387997 -12.393605,-18.058529 -1.618809,-0.670533 -20.293929,5.244685 -21.532911,4.005702 -1.238983,-1.238982 4.676236,-19.9141 4.005703,-21.532908
		C 29.408655,66.245266 12.02066,57.222653 12.02066,55.470467
		c 0,-1.752186 17.387994,-10.774797 18.058526,-12.393606 0.670533,-1.618809 -5.244685,-20.293928 -4.005703,-21.532911 1.238983,-1.238982 19.9141,4.676236 21.532909,4.005704
		C 49.225201,24.879121 58.247814,7.4911271 60,7.491127
		c 1.752186,-10e-8 10.774797,17.387993 12.393605,18.058526 1.618809,0.670532 20.293929,-5.244686 21.532911,-4.005703 1.238983,1.238983 -4.676236,19.9141 -4.005703,21.532909 0.670532,1.618808 18.058527,10.641421 18.058527,12.393607 0,1.752186 -17.387994,10.774797 -18.058526,12.393606 -0.670533,1.618809 5.244685,20.293928 4.005703,21.532911
		z`),C(e,"transform","scale(1.2) translate(-10 -5)"),C(r,"class","face-feature"),C(r,"d","M 40 85 L 80 85 A 20.5 20.5 0 0 0 40 85 Z")},m(f,a){b(f,e,a),b(f,n,a),y(t,f,a),b(f,i,a),b(f,r,a),s=!0},p:le,i(f){s||($(t.$$.fragment,f),s=!0)},o(f){v(t.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(i),d(r)),I(t,f)}}}function vu(l){let e,n;return e=new At({props:{name:"disloyal",$$slots:{default:[gu]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}class bu extends fe{constructor(e){super(),oe(this,e,null,vu,ae,{})}}function ku(l){let e,n,t;return{c(){e=Ke("rect"),n=z(),t=Ke("rect"),this.h()},l(i){e=qe(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),F(e).forEach(d),n=L(i),t=qe(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),F(t).forEach(d),this.h()},h(){C(e,"class","face-feature"),C(e,"x","32"),C(e,"y","42"),C(e,"width","16"),C(e,"height","10"),C(t,"class","face-feature"),C(t,"x","72"),C(t,"y","42"),C(t,"width","16"),C(t,"height","10")},m(i,r){b(i,e,r),b(i,n,r),b(i,t,r)},p:le,i:le,o:le,d(i){i&&(d(e),d(n),d(t))}}}class wu extends fe{constructor(e){super(),oe(this,e,null,ku,ae,{})}}function Eu(l){let e,n,t,i,r,s;return t=new wu({}),{c(){e=Ke("path"),n=z(),A(t.$$.fragment),i=z(),r=Ke("path"),this.h()},l(f){e=qe(f,"path",{d:!0,transform:!0}),F(e).forEach(d),n=L(f),P(t.$$.fragment,f),i=L(f),r=qe(f,"path",{class:!0,transform:!0,d:!0}),F(r).forEach(d),this.h()},h(){C(e,"d",`
		m 15.16496,21.167139
		c -1.285888,0.742408 -8.1346728,-2.33475 -9.6194879,-2.33475 -1.4848155,0 -8.333602,3.077157 -9.61949,2.33475 -1.2858876,-0.742408 -2.0453833,-8.212208 -2.7877908,-9.498096 -0.7424077,-1.285888 -6.8316973,-5.6785327 -6.8316973,-7.1633481 0,-1.4848151 6.0892893,-5.8774579 6.8316969,-7.1633455 0.7424078,-1.2858879 1.501905,-8.7556894 2.7877929,-9.4980974 1.2858876,-0.742407 8.1346724,2.3347502 9.6194875,2.3347503 1.4848154,10e-8 8.3336017,-3.0771573 9.6194897,-2.3347493 1.285888,0.742408 2.045384,8.2122081 2.787791,9.4980957 0.742408,1.2858879 6.831697,5.6785326 6.831697,7.1633481 0,1.4848151 -6.089289,5.8774582 -6.831697,7.1633452 -0.742407,1.285888 -1.501905,8.75569 -2.787792,9.498097
		z`),C(e,"transform","scale(3) translate(14.4 15.5)"),C(r,"class","face-feature"),C(r,"transform","scale(3) translate(-40 -34)"),C(r,"d",`m 60.068359,56.544922 -7.460937,4.095703
		a 1.5,1.5 0 0 0 -0.591797,2.037109 1.5,1.5 0 0 0 2.037109,0.591797
		l 6.00586,-3.296875 5.880859,3.279297
		a 1.5,1.5 0 0 0 2.041016,-0.580078 1.5,1.5 0 0 0 -0.580078,-2.041016
		z`)},m(f,a){b(f,e,a),b(f,n,a),y(t,f,a),b(f,i,a),b(f,r,a),s=!0},p:le,i(f){s||($(t.$$.fragment,f),s=!0)},o(f){v(t.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(i),d(r)),I(t,f)}}}function Cu(l){let e,n;return e=new At({props:{name:"indifferent",$$slots:{default:[Eu]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}class Su extends fe{constructor(e){super(),oe(this,e,null,Cu,ae,{})}}function Tu(l){let e,n,t;return{c(){e=Ke("circle"),n=z(),t=Ke("circle"),this.h()},l(i){e=qe(i,"circle",{class:!0,r:!0,cx:!0,cy:!0}),F(e).forEach(d),n=L(i),t=qe(i,"circle",{class:!0,r:!0,cx:!0,cy:!0}),F(t).forEach(d),this.h()},h(){C(e,"class","face-feature"),C(e,"r","8"),C(e,"cx","40"),C(e,"cy","45"),C(t,"class","face-feature"),C(t,"r","8"),C(t,"cx","80"),C(t,"cy","45")},m(i,r){b(i,e,r),b(i,n,r),b(i,t,r)},p:le,i:le,o:le,d(i){i&&(d(e),d(n),d(t))}}}class on extends fe{constructor(e){super(),oe(this,e,null,Tu,ae,{})}}function Iu(l){let e,n,t,i,r,s;return t=new on({}),{c(){e=Ke("circle"),n=z(),A(t.$$.fragment),i=z(),r=Ke("path"),this.h()},l(f){e=qe(f,"circle",{r:!0,cx:!0,cy:!0}),F(e).forEach(d),n=L(f),P(t.$$.fragment,f),i=L(f),r=qe(f,"path",{class:!0,transform:!0,d:!0}),F(r).forEach(d),this.h()},h(){C(e,"r","55"),C(e,"cx","60"),C(e,"cy","60"),C(r,"class","face-feature"),C(r,"transform","rotate(180 60 60) scale(1.1) translate(-5 -22.5)"),C(r,"d",`m 41.901123,51.063924
		c -1.034447,-0.28063 -2.128164,-0.09818 -3.039817,0.507106 -1.894916,1.258154 -2.50168,3.963112 -1.355385,6.042317 0,0 7.816855,11.419163 22.446085,11.451349 14.63367,0.03256 22.532267,-11.365399 22.532267,-11.365399 1.155803,-2.074313 0.559405,-4.783824 -1.331882,-6.050912 -1.888741,-1.269524 -4.357947,-0.61924 -5.515548,1.452562 0,0 -6.085402,7.18367 -15.669165,7.162423
		C 50.37947,60.24225 44.369019,53.057975 44.369019,53.057975 43.819416,52.061114 42.931921,51.344022 41.901123,51.063924
		Z`)},m(f,a){b(f,e,a),b(f,n,a),y(t,f,a),b(f,i,a),b(f,r,a),s=!0},p:le,i(f){s||($(t.$$.fragment,f),s=!0)},o(f){v(t.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(i),d(r)),I(t,f)}}}function yu(l){let e,n;return e=new At({props:{name:"upset",$$slots:{default:[Iu]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}class Au extends fe{constructor(e){super(),oe(this,e,null,yu,ae,{})}}function Pu(l){let e,n,t,i,r,s;return t=new on({}),{c(){e=Ke("path"),n=z(),A(t.$$.fragment),i=z(),r=Ke("rect"),this.h()},l(f){e=qe(f,"path",{d:!0,transform:!0}),F(e).forEach(d),n=L(f),P(t.$$.fragment,f),i=L(f),r=qe(f,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0}),F(r).forEach(d),this.h()},h(){C(e,"d",l[0]),C(e,"transform","translate(7 4.5) rotate(30 60 60)"),C(r,"class","face-feature"),C(r,"x","37.5"),C(r,"y","75"),C(r,"width","45"),C(r,"height","10"),C(r,"rx","5")},m(f,a){b(f,e,a),b(f,n,a),y(t,f,a),b(f,i,a),b(f,r,a),s=!0},p:le,i(f){s||($(t.$$.fragment,f),s=!0)},o(f){v(t.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(i),d(r)),I(t,f)}}}function Du(l){let e,n;return e=new At({props:{name:"neutral",$$slots:{default:[Pu]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&262144&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}const ct=6,On=60,_n=0,Nu=0;function Lu(l){const e=D=>Math.sin(D*Math.PI/180),n=D=>Math.cos(D*Math.PI/180),t=On*n(30),i=On*e(30),r=t-ct*n(30),s=ct*e(30),f=t+ct*n(30),a=2*t,o=i+On,u=a-ct*n(30),c=i-ct*e(30),m=i+ct,p=o+i,h=o-ct,_=o+ct*e(30),E=p-ct*e(30),g=ct*n(30);return[`
		M ${r},${s}
		Q ${t},${Nu} ${f},${s}

		L ${u},${c}
		Q ${a},${i} ${a},${m}

		L ${a},${h}
		Q ${a},${o} ${u},${_}

		L ${f},${E}
		Q ${t},${p} ${r},${E}
		
		L ${g},${_}
		Q ${_n},${o} ${_n},${h}
		
		L ${_n},${m}
		Q ${_n},${i} ${g},${c}
		Z
	`]}class zu extends fe{constructor(e){super(),oe(this,e,Lu,Du,ae,{})}}function Hu(l){let e,n,t,i,r,s;return t=new on({}),{c(){e=Ke("circle"),n=z(),A(t.$$.fragment),i=z(),r=Ke("path"),this.h()},l(f){e=qe(f,"circle",{r:!0,cx:!0,cy:!0}),F(e).forEach(d),n=L(f),P(t.$$.fragment,f),i=L(f),r=qe(f,"path",{class:!0,transform:!0,d:!0}),F(r).forEach(d),this.h()},h(){C(e,"r","55"),C(e,"cx","60"),C(e,"cy","60"),C(r,"class","face-feature"),C(r,"transform","scale(1.1) translate(-5 15)"),C(r,"d",`m 41.901123,51.063924
		c -1.034447,-0.28063 -2.128164,-0.09818 -3.039817,0.507106 -1.894916,1.258154 -2.50168,3.963112 -1.355385,6.042317 0,0 7.816855,11.419163 22.446085,11.451349 14.63367,0.03256 22.532267,-11.365399 22.532267,-11.365399 1.155803,-2.074313 0.559405,-4.783824 -1.331882,-6.050912 -1.888741,-1.269524 -4.357947,-0.61924 -5.515548,1.452562 0,0 -6.085402,7.18367 -15.669165,7.162423
		C 50.37947,60.24225 44.369019,53.057975 44.369019,53.057975 43.819416,52.061114 42.931921,51.344022 41.901123,51.063924
		Z`)},m(f,a){b(f,e,a),b(f,n,a),y(t,f,a),b(f,i,a),b(f,r,a),s=!0},p:le,i(f){s||($(t.$$.fragment,f),s=!0)},o(f){v(t.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(i),d(r)),I(t,f)}}}function Fu(l){let e,n;return e=new At({props:{name:"content",$$slots:{default:[Hu]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}class Ru extends fe{constructor(e){super(),oe(this,e,null,Fu,ae,{})}}function Vu(l){let e,n,t,i,r,s;return t=new on({}),{c(){e=Ke("path"),n=z(),A(t.$$.fragment),i=z(),r=Ke("path"),this.h()},l(f){e=qe(f,"path",{d:!0,transform:!0}),F(e).forEach(d),n=L(f),P(t.$$.fragment,f),i=L(f),r=qe(f,"path",{class:!0,d:!0}),F(r).forEach(d),this.h()},h(){C(e,"d",`M 25.62686 0
		A 12.302804 12.302804 0 0 0 13.323735 12.302608
		A 12.302804 12.302804 0 0 0 13.365076 12.880351
		A 12.302804 12.302804 0 0 0 12.302608 12.831775
		A 12.302804 12.302804 0 0 0 0 25.1349
		A 12.302804 12.302804 0 0 0 4.8798055 34.906913
		A 12.302804 12.302804 0 0 0 0 44.678927
		A 12.302804 12.302804 0 0 0 12.302608 56.982052
		A 12.302804 12.302804 0 0 0 13.504602 56.895752
		A 12.302804 12.302804 0 0 0 13.323735 58.900798
		A 12.302804 12.302804 0 0 0 25.62686 71.203923
		A 12.302804 12.302804 0 0 0 35.131706 66.681201
		A 12.302804 12.302804 0 0 0 44.636035 71.203923
		A 12.302804 12.302804 0 0 0 56.93916 58.900798
		A 12.302804 12.302804 0 0 0 56.752091 56.787231
		A 12.302804 12.302804 0 0 0 58.821216 56.982052
		A 12.302804 12.302804 0 0 0 71.124341 44.678927
		A 12.302804 12.302804 0 0 0 66.26779 34.889343
		A 12.302804 12.302804 0 0 0 71.124341 25.1349
		A 12.302804 12.302804 0 0 0 58.821216 12.831775
		A 12.302804 12.302804 0 0 0 56.889551 12.996623
		A 12.302804 12.302804 0 0 0 56.93916 12.302608
		A 12.302804 12.302804 0 0 0 44.636035 0
		A 12.302804 12.302804 0 0 0 35.143591 4.5067017
		A 12.302804 12.302804 0 0 0 25.62686 0
		z`),C(e,"transform","scale(1.55) translate(3.5 3.5)"),C(r,"class","face-feature"),C(r,"d","M 37.5 75 L 82.5 75 A 24 24 0 0 1 37.5 75 Z")},m(f,a){b(f,e,a),b(f,n,a),y(t,f,a),b(f,i,a),b(f,r,a),s=!0},p:le,i(f){s||($(t.$$.fragment,f),s=!0)},o(f){v(t.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(i),d(r)),I(t,f)}}}function Mu(l){let e,n;return e=new At({props:{name:"pleased",$$slots:{default:[Vu]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}class Ou extends fe{constructor(e){super(),oe(this,e,null,Mu,ae,{})}}function Bu(l){let e,n,t,i,r,s;return t=new on({}),{c(){e=Ke("path"),n=z(),A(t.$$.fragment),i=z(),r=Ke("path"),this.h()},l(f){e=qe(f,"path",{d:!0,transform:!0}),F(e).forEach(d),n=L(f),P(t.$$.fragment,f),i=L(f),r=qe(f,"path",{class:!0,d:!0}),F(r).forEach(d),this.h()},h(){C(e,"d","M16.5 3C19.538 3 22 5.5 22 9c0 7-7.5 11-10 12.5C9.5 20 2 16 2 9c0-3.5 2.5-6 5.5-6C9.36 3 11 4 12 5c1-1 2.64-2 4.5-2z"),C(e,"transform","scale(5.5 5.75) translate(-1 -1.25)"),C(r,"class","face-feature"),C(r,"d","M 33 70 L 87 70 A 28 28 0 0 1 33 70 Z")},m(f,a){b(f,e,a),b(f,n,a),y(t,f,a),b(f,i,a),b(f,r,a),s=!0},p:le,i(f){s||($(t.$$.fragment,f),s=!0)},o(f){v(t.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(i),d(r)),I(t,f)}}}function qu(l){let e,n;return e=new At({props:{name:"loyal",$$slots:{default:[Bu]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}class Ku extends fe{constructor(e){super(),oe(this,e,null,qu,ae,{})}}function Uu(l){let e,n,t;var i=l[0];function r(s,f){return{}}return i&&(e=si(i,r())),{c(){e&&A(e.$$.fragment),n=x()},l(s){e&&P(e.$$.fragment,s),n=x()},m(s,f){e&&y(e,s,f),b(s,n,f),t=!0},p(s,[f]){if(f&1&&i!==(i=s[0])){if(e){me();const a=e;v(a.$$.fragment,1,0,()=>{I(a,1)}),de()}i?(e=si(i,r()),A(e.$$.fragment),$(e.$$.fragment,1),y(e,n.parentNode,n)):e=null}},i(s){t||(e&&$(e.$$.fragment,s),t=!0)},o(s){e&&v(e.$$.fragment,s),t=!1},d(s){s&&d(n),e&&I(e,s)}}}function ju(l,e,n){let t;const i=[bu,Su,Au,zu,Ru,Ou,Ku];let{level:r}=e;return l.$$set=s=>{"level"in s&&n(1,r=s.level)},l.$$.update=()=>{l.$$.dirty&2&&n(0,t=i[Math.round(r+3)])},[t,r]}class _s extends fe{constructor(e){super(),oe(this,e,ju,Uu,ae,{level:1})}}const Gu={[-3]:"-1 to all saving throws. Roll higher than 15 on a d20 before using a move or it fails.",[-2]:"-1 to all saving throws. Roll higher than 10 on a d20 before using a move or it fails.",[-1]:"-1 to all saving throws.",0:"",1:"+1 to all saving throws.",2:"+1 to all saving throws. Increase max HP by half of level. Gain one skill proficiency.",3:"+1 to all saving throws. Increase max HP by level. Gain one skill proficiency. Gain expertise in an existing proficiency."},Yu={[-3]:"When the trainer issues a command, roll a d20. On 10 or lower, the Pokémon disobeys the command.",[-2]:"When the trainer issues a command, roll a d20. On 10 or lower, the Pokémon hesitates and follows the command with disadvantage.",[-1]:"",0:"",1:"",2:"",3:""},Qu=In(jt,l=>l==="2018"?Gu:Yu);function Wu(l){let e,n,t,i,r,s,f,a;return t=new _s({props:{level:l[0].level}}),f=new En({props:{value:l[0].level}}),{c(){e=T("p"),n=T("span"),A(t.$$.fragment),i=z(),r=T("strong"),s=B("Bond: "),A(f.$$.fragment),this.h()},l(o){e=S(o,"P",{class:!0});var u=F(e);n=S(u,"SPAN",{class:!0});var c=F(n);P(t.$$.fragment,c),c.forEach(d),i=L(u),r=S(u,"STRONG",{class:!0});var m=F(r);s=O(m,"Bond: "),P(f.$$.fragment,m),m.forEach(d),u.forEach(d),this.h()},h(){C(n,"class","icon svelte-bcvswd"),C(r,"class","small-text svelte-bcvswd"),C(e,"class","row svelte-bcvswd")},m(o,u){b(o,e,u),k(e,n),y(t,n,null),k(e,i),k(e,r),k(r,s),y(f,r,null),a=!0},p(o,u){const c={};u&1&&(c.level=o[0].level),t.$set(c);const m={};u&1&&(m.value=o[0].level),f.$set(m)},i(o){a||($(t.$$.fragment,o),$(f.$$.fragment,o),a=!0)},o(o){v(t.$$.fragment,o),v(f.$$.fragment,o),a=!1},d(o){o&&d(e),I(t),I(f)}}}function Zu(l){let e,n;return e=new jr({props:{id:"bond-effect-popover",block:!0,$$slots:{activator:[Xu],default:[Ju]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&133&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ju(l){let e,n;return{c(){e=T("p"),n=B(l[2]),this.h()},l(t){e=S(t,"P",{class:!0});var i=F(e);n=O(i,l[2]),i.forEach(d),this.h()},h(){C(e,"class","small-text svelte-bcvswd")},m(t,i){b(t,e,i),k(e,n)},p(t,i){i&4&&re(n,t[2])},d(t){t&&d(e)}}}function Xu(l){let e,n,t,i,r,s,f,a;return t=new _s({props:{level:l[0].level}}),f=new En({props:{value:l[0].level}}),{c(){e=T("p"),n=T("span"),A(t.$$.fragment),i=z(),r=T("strong"),s=B("Bond: "),A(f.$$.fragment),this.h()},l(o){e=S(o,"P",{class:!0,slot:!0});var u=F(e);n=S(u,"SPAN",{class:!0});var c=F(n);P(t.$$.fragment,c),c.forEach(d),i=L(u),r=S(u,"STRONG",{class:!0});var m=F(r);s=O(m,"Bond: "),P(f.$$.fragment,m),m.forEach(d),u.forEach(d),this.h()},h(){C(n,"class","icon svelte-bcvswd"),C(r,"class","small-text dotted svelte-bcvswd"),C(e,"class","row svelte-bcvswd"),C(e,"slot","activator")},m(o,u){b(o,e,u),k(e,n),y(t,n,null),k(e,i),k(e,r),k(r,s),y(f,r,null),a=!0},p(o,u){const c={};u&1&&(c.level=o[0].level),t.$set(c);const m={};u&1&&(m.value=o[0].level),f.$set(m)},i(o){a||($(t.$$.fragment,o),$(f.$$.fragment,o),a=!0)},o(o){v(t.$$.fragment,o),v(f.$$.fragment,o),a=!1},d(o){o&&d(e),I(t),I(f)}}}function Dl(l){let e,n,t="Points:",i,r,s,f,a,o,u,c=l[0].points.max+"",m,p;const h=[ec,xu],_=[];function E(g,w){return g[1]?0:1}return s=E(l),f=_[s]=h[s](l),{c(){e=T("p"),n=T("label"),n.textContent=t,i=z(),r=T("span"),f.c(),a=z(),o=T("span"),u=B("/ "),m=B(c),this.h()},l(g){e=S(g,"P",{class:!0});var w=F(e);n=S(w,"LABEL",{for:!0,"data-svelte-h":!0}),ge(n)!=="svelte-1sirhaw"&&(n.textContent=t),i=L(w),r=S(w,"SPAN",{});var D=F(r);f.l(D),D.forEach(d),a=L(w),o=S(w,"SPAN",{class:!0});var H=F(o);u=O(H,"/ "),m=O(H,c),H.forEach(d),w.forEach(d),this.h()},h(){C(n,"for","current-bond-points"),C(o,"class","max-hit-dice"),C(e,"class","bond-points smaller-text row svelte-bcvswd")},m(g,w){b(g,e,w),k(e,n),k(e,i),k(e,r),_[s].m(r,null),k(e,a),k(e,o),k(o,u),k(o,m),p=!0},p(g,w){let D=s;s=E(g),s===D?_[s].p(g,w):(me(),v(_[D],1,1,()=>{_[D]=null}),de(),f=_[s],f?f.p(g,w):(f=_[s]=h[s](g),f.c()),$(f,1),f.m(r,null)),(!p||w&1)&&c!==(c=g[0].points.max+"")&&re(m,c)},i(g){p||($(f),p=!0)},o(g){v(f),p=!1},d(g){g&&d(e),_[s].d()}}}function xu(l){let e=l[0].points.max+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=t[0].points.max+"")&&re(n,e)},i:le,o:le,d(t){t&&d(n)}}}function ec(l){let e,n;return e=new wt({props:{id:"current-bond-points",value:l[3]}}),e.$on("change",l[4]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.value=t[3]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function tc(l){let e,n,t,i,r;const s=[Zu,Wu],f=[];function a(u,c){return u[2]?0:1}n=a(l),t=f[n]=s[n](l);let o=l[0].points.max>0&&Dl(l);return{c(){e=T("div"),t.c(),i=z(),o&&o.c(),this.h()},l(u){e=S(u,"DIV",{class:!0});var c=F(e);t.l(c),i=L(c),o&&o.l(c),c.forEach(d),this.h()},h(){C(e,"class","bond-info svelte-bcvswd")},m(u,c){b(u,e,c),f[n].m(e,null),k(e,i),o&&o.m(e,null),r=!0},p(u,[c]){let m=n;n=a(u),n===m?f[n].p(u,c):(me(),v(f[m],1,1,()=>{f[m]=null}),de(),t=f[n],t?t.p(u,c):(t=f[n]=s[n](u),t.c()),$(t,1),t.m(e,i)),u[0].points.max>0?o?(o.p(u,c),c&1&&$(o,1)):(o=Dl(u),o.c(),$(o,1),o.m(e,null)):o&&(me(),v(o,1,1,()=>{o=null}),de())},i(u){r||($(t),$(o),r=!0)},o(u){v(t),v(o),r=!1},d(u){u&&d(e),f[n].d(),o&&o.d()}}}function nc(l,e,n){let t,i,r;ze(l,Qu,u=>n(5,r=u));const s=xe();let{value:f}=e,{editable:a}=e;const o=u=>{s("update",{currentBondPoints:u.detail.value})};return l.$$set=u=>{"value"in u&&n(0,f=u.value),"editable"in u&&n(1,a=u.editable)},l.$$.update=()=>{l.$$.dirty&1&&n(3,t=f.points.current),l.$$.dirty&33&&n(2,i=r[f.level])},[f,a,i,t,o,r]}class ic extends fe{constructor(e){super(),oe(this,e,nc,tc,ae,{value:0,editable:1})}}function lc(l){let e,n="Health and Status";return{c(){e=T("h2"),e.textContent=n},l(t){e=S(t,"H2",{"data-svelte-h":!0}),ge(e)!=="svelte-d0ovz7"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:le,d(t){t&&d(e)}}}function rc(l){let e,n,t,i,r,s,f,a,o;return e=new Ft({props:{$$slots:{default:[lc]},$$scope:{ctx:l}}}),i=new Vo({props:{pokemon:l[1],species:l[2]}}),s=new ss({props:{hp:l[1].hp,hitDice:l[1].hitDice,level:l[1].level,exp:l[1].exp,dieSize:l[1].customHitDiceSize??l[2].hitDice,status:l[1].status,hasStatusAndExp:!0,editable:l[3]}}),s.$on("update",l[5]),a=new qo({props:{pokemon:l[1],species:l[2]}}),{c(){A(e.$$.fragment),n=z(),t=T("div"),A(i.$$.fragment),r=z(),A(s.$$.fragment),f=z(),A(a.$$.fragment),this.h()},l(u){P(e.$$.fragment,u),n=L(u),t=S(u,"DIV",{});var c=F(t);P(i.$$.fragment,c),r=L(c),P(s.$$.fragment,c),c.forEach(d),f=L(u),P(a.$$.fragment,u),this.h()},h(){Se(t,"margin-bottom","0.5em")},m(u,c){y(e,u,c),b(u,n,c),b(u,t,c),y(i,t,null),k(t,r),y(s,t,null),b(u,f,c),y(a,u,c),o=!0},p(u,c){const m={};c&512&&(m.$$scope={dirty:c,ctx:u}),e.$set(m);const p={};c&2&&(p.pokemon=u[1]),c&4&&(p.species=u[2]),i.$set(p);const h={};c&2&&(h.hp=u[1].hp),c&2&&(h.hitDice=u[1].hitDice),c&2&&(h.level=u[1].level),c&2&&(h.exp=u[1].exp),c&6&&(h.dieSize=u[1].customHitDiceSize??u[2].hitDice),c&2&&(h.status=u[1].status),c&8&&(h.editable=u[3]),s.$set(h);const _={};c&2&&(_.pokemon=u[1]),c&4&&(_.species=u[2]),a.$set(_)},i(u){o||($(e.$$.fragment,u),$(i.$$.fragment,u),$(s.$$.fragment,u),$(a.$$.fragment,u),o=!0)},o(u){v(e.$$.fragment,u),v(i.$$.fragment,u),v(s.$$.fragment,u),v(a.$$.fragment,u),o=!1},d(u){u&&(d(n),d(t),d(f)),I(e,u),I(i),I(s),I(a,u)}}}function sc(l){let e,n;return e=new Xn({props:{slot:"art",media:l[2].media,avatar:l[1].avatar,alt:"",shiny:l[1].isShiny}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.media=t[2].media),i&2&&(r.avatar=t[1].avatar),i&2&&(r.shiny=t[1].isShiny),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function ac(l){let e,n;return e=new ic({props:{slot:"after-art",value:l[1].bond,editable:l[3]}}),e.$on("update",l[7]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.value=t[1].bond),i&8&&(r.editable=t[3]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function fc(l){let e,n="Stats";return{c(){e=T("h2"),e.textContent=n},l(t){e=S(t,"H2",{"data-svelte-h":!0}),ge(e)!=="svelte-c6kcpv"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:le,d(t){t&&d(e)}}}function oc(l){let e,n;return e=new Bs({props:{type:l[1].type}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.type=t[1].type),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Nl(l){let e,n,t="Feats",i,r,s;return r=new cs({props:{values:l[1].feats}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=z(),A(r.$$.fragment),this.h()},l(f){e=S(f,"SECTION",{class:!0});var a=F(e);n=S(a,"H2",{"data-svelte-h":!0}),ge(n)!=="svelte-2ri5u1"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d),this.h()},h(){C(e,"class","svelte-uir09i")},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&2&&(o.values=f[1].feats),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function Ll(l){let e,n,t,i,r;return i=new fu({props:{pokemon:l[1]}}),{c(){e=T("hr"),n=z(),t=T("section"),A(i.$$.fragment),this.h()},l(s){e=S(s,"HR",{}),n=L(s),t=S(s,"SECTION",{class:!0});var f=F(t);P(i.$$.fragment,f),f.forEach(d),this.h()},h(){C(t,"class","svelte-uir09i")},m(s,f){b(s,e,f),b(s,n,f),b(s,t,f),y(i,t,null),r=!0},p(s,f){const a={};f&2&&(a.pokemon=s[1]),i.$set(a)},i(s){r||($(i.$$.fragment,s),r=!0)},o(s){v(i.$$.fragment,s),r=!1},d(s){s&&(d(e),d(n),d(t)),I(i)}}}function uc(l){var J;let e,n,t,i,r,s,f,a,o,u,c,m,p,h="Abilities & Items",_,E,g,w,D,H,N,R,V,M,q;e=new Zr({props:{hasImage:l[4],$$slots:{"after-art":[ac],art:[sc],default:[rc]},$$scope:{ctx:l}}}),i=new Ft({props:{$$slots:{default:[fc]},$$scope:{ctx:l}}}),s=new Gr({props:{attributes:l[1].attributes}}),a=new as({props:{level:l[1].level,attributes:l[1].attributes,savingThrows:l[1].savingThrows,proficiencies:l[1].proficiencies,type:l[1].type,specializations:l[0].specializations}}),u=new Ht({props:{$$slots:{default:[oc]},$$scope:{ctx:l}}}),E=new ru({props:{pokemon:l[1],species:l[2]}}),w=new du({props:{pokemon:l[1]}});let U=l[1].feats.length>0&&Nl(l);R=new nu({props:{pokemon:l[1],editable:l[3]}}),R.$on("update",l[6]);let Q=((J=l[1].notes)==null?void 0:J.length)>0&&Ll(l);return{c(){A(e.$$.fragment),n=z(),t=T("section"),A(i.$$.fragment),r=z(),A(s.$$.fragment),f=z(),A(a.$$.fragment),o=z(),A(u.$$.fragment),c=z(),m=T("section"),p=T("h2"),p.textContent=h,_=z(),A(E.$$.fragment),g=z(),A(w.$$.fragment),D=z(),U&&U.c(),H=z(),N=T("section"),A(R.$$.fragment),V=z(),Q&&Q.c(),M=x(),this.h()},l(K){P(e.$$.fragment,K),n=L(K),t=S(K,"SECTION",{class:!0});var G=F(t);P(i.$$.fragment,G),r=L(G),P(s.$$.fragment,G),f=L(G),P(a.$$.fragment,G),o=L(G),P(u.$$.fragment,G),G.forEach(d),c=L(K),m=S(K,"SECTION",{class:!0});var ue=F(m);p=S(ue,"H2",{"data-svelte-h":!0}),ge(p)!=="svelte-182wouu"&&(p.textContent=h),_=L(ue),P(E.$$.fragment,ue),g=L(ue),P(w.$$.fragment,ue),ue.forEach(d),D=L(K),U&&U.l(K),H=L(K),N=S(K,"SECTION",{class:!0});var ve=F(N);P(R.$$.fragment,ve),ve.forEach(d),V=L(K),Q&&Q.l(K),M=x(),this.h()},h(){C(t,"class","stats svelte-uir09i"),C(m,"class","svelte-uir09i"),C(N,"class","svelte-uir09i")},m(K,G){y(e,K,G),b(K,n,G),b(K,t,G),y(i,t,null),k(t,r),y(s,t,null),k(t,f),y(a,t,null),k(t,o),y(u,t,null),b(K,c,G),b(K,m,G),k(m,p),k(m,_),y(E,m,null),k(m,g),y(w,m,null),b(K,D,G),U&&U.m(K,G),b(K,H,G),b(K,N,G),y(R,N,null),b(K,V,G),Q&&Q.m(K,G),b(K,M,G),q=!0},p(K,[G]){var ce;const ue={};G&16&&(ue.hasImage=K[4]),G&526&&(ue.$$scope={dirty:G,ctx:K}),e.$set(ue);const ve={};G&512&&(ve.$$scope={dirty:G,ctx:K}),i.$set(ve);const Z={};G&2&&(Z.attributes=K[1].attributes),s.$set(Z);const he={};G&2&&(he.level=K[1].level),G&2&&(he.attributes=K[1].attributes),G&2&&(he.savingThrows=K[1].savingThrows),G&2&&(he.proficiencies=K[1].proficiencies),G&2&&(he.type=K[1].type),G&1&&(he.specializations=K[0].specializations),a.$set(he);const Ce={};G&514&&(Ce.$$scope={dirty:G,ctx:K}),u.$set(Ce);const se={};G&2&&(se.pokemon=K[1]),G&4&&(se.species=K[2]),E.$set(se);const ee={};G&2&&(ee.pokemon=K[1]),w.$set(ee),K[1].feats.length>0?U?(U.p(K,G),G&2&&$(U,1)):(U=Nl(K),U.c(),$(U,1),U.m(H.parentNode,H)):U&&(me(),v(U,1,1,()=>{U=null}),de());const Y={};G&2&&(Y.pokemon=K[1]),G&8&&(Y.editable=K[3]),R.$set(Y),((ce=K[1].notes)==null?void 0:ce.length)>0?Q?(Q.p(K,G),G&2&&$(Q,1)):(Q=Ll(K),Q.c(),$(Q,1),Q.m(M.parentNode,M)):Q&&(me(),v(Q,1,1,()=>{Q=null}),de())},i(K){q||($(e.$$.fragment,K),$(i.$$.fragment,K),$(s.$$.fragment,K),$(a.$$.fragment,K),$(u.$$.fragment,K),$(E.$$.fragment,K),$(w.$$.fragment,K),$(U),$(R.$$.fragment,K),$(Q),q=!0)},o(K){v(e.$$.fragment,K),v(i.$$.fragment,K),v(s.$$.fragment,K),v(a.$$.fragment,K),v(u.$$.fragment,K),v(E.$$.fragment,K),v(w.$$.fragment,K),v(U),v(R.$$.fragment,K),v(Q),q=!1},d(K){K&&(d(n),d(t),d(c),d(m),d(D),d(H),d(N),d(V),d(M)),I(e,K),I(i),I(s),I(a),I(u),I(E),I(w),U&&U.d(K),I(R),Q&&Q.d(K)}}}function cc(l,e,n){let t;const i=xe();let{trainer:r}=e,{pokemon:s}=e,{species:f}=e,{editable:a}=e;const o=m=>{i("update-health",{...s,hp:{current:m.detail.currentHp,max:s.hp.max},hitDice:{current:m.detail.currentHitDice,max:s.hitDice.max},status:m.detail.currentStatus,exp:m.detail.exp})},u=m=>{i("update-pp",m.detail)},c=m=>{i("update-bond",{...s,bond:{...s.bond,points:{current:m.detail.currentBondPoints,max:s.bond.points.max}}})};return l.$$set=m=>{"trainer"in m&&n(0,r=m.trainer),"pokemon"in m&&n(1,s=m.pokemon),"species"in m&&n(2,f=m.species),"editable"in m&&n(3,a=m.editable)},l.$$.update=()=>{l.$$.dirty&6&&n(4,t=s.avatar!=null||f.media!=null)},[r,s,f,a,t,o,u,c]}class mc extends fe{constructor(e){super(),oe(this,e,cc,uc,ae,{trainer:0,pokemon:1,species:2,editable:3})}}function dc(l){let e,n,t="Cannot find pokemon",i,r,s,f,a,o,u=l[0].name+"",c,m,p,h,_,E,g,w,D=l[0].name+"",H,N,R;return _=new na({}),{c(){e=T("div"),n=T("h1"),n.textContent=t,i=z(),r=T("p"),s=B("No pokemon with id "),f=T("strong"),a=B(l[1]),o=B(" belongs to "),c=B(u),m=B("."),p=z(),h=T("p"),A(_.$$.fragment),E=z(),g=T("p"),w=B("Select one of "),H=B(D),N=B("'s pokemon to view its details."),this.h()},l(V){e=S(V,"DIV",{class:!0});var M=F(e);n=S(M,"H1",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-a6ssar"&&(n.textContent=t),i=L(M),r=S(M,"P",{});var q=F(r);s=O(q,"No pokemon with id "),f=S(q,"STRONG",{});var U=F(f);a=O(U,l[1]),U.forEach(d),o=O(q," belongs to "),c=O(q,u),m=O(q,"."),q.forEach(d),p=L(M),h=S(M,"P",{class:!0});var Q=F(h);P(_.$$.fragment,Q),Q.forEach(d),E=L(M),g=S(M,"P",{});var J=F(g);w=O(J,"Select one of "),H=O(J,D),N=O(J,"'s pokemon to view its details."),J.forEach(d),M.forEach(d),this.h()},h(){C(n,"class","large-font space-bottom svelte-47myc3"),C(h,"class","missingno svelte-47myc3"),C(e,"class","centered padded svelte-47myc3")},m(V,M){b(V,e,M),k(e,n),k(e,i),k(e,r),k(r,s),k(r,f),k(f,a),k(r,o),k(r,c),k(r,m),k(e,p),k(e,h),y(_,h,null),k(e,E),k(e,g),k(g,w),k(g,H),k(g,N),R=!0},p(V,[M]){(!R||M&2)&&re(a,V[1]),(!R||M&1)&&u!==(u=V[0].name+"")&&re(c,u),(!R||M&1)&&D!==(D=V[0].name+"")&&re(H,D)},i(V){R||($(_.$$.fragment,V),R=!0)},o(V){v(_.$$.fragment,V),R=!1},d(V){V&&d(e),I(_)}}}function _c(l,e,n){let{trainer:t}=e,{pokemonId:i}=e;return l.$$set=r=>{"trainer"in r&&n(0,t=r.trainer),"pokemonId"in r&&n(1,i=r.pokemonId)},[t,i]}class pc extends fe{constructor(e){super(),oe(this,e,_c,dc,ae,{trainer:0,pokemonId:1})}}function hc(l){let e,n,t,i;return e=new ft({props:{value:"Cannot find pokemon"}}),t=new pc({props:{trainer:l[0].info,pokemonId:l[1]}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s&1&&(f.trainer=r[0].info),s&2&&(f.pokemonId=r[1]),t.$set(f)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function $c(l){let e,n,t;e=new ft({props:{value:(l[2]?`${l[2]} `:"")+l[3].nickname}});const i=l[5].default,r=Mt(i,l,l[4],null);return{c(){A(e.$$.fragment),n=z(),r&&r.c()},l(s){P(e.$$.fragment,s),n=L(s),r&&r.l(s)},m(s,f){y(e,s,f),b(s,n,f),r&&r.m(s,f),t=!0},p(s,f){const a={};f&12&&(a.value=(s[2]?`${s[2]} `:"")+s[3].nickname),e.$set(a),r&&r.p&&(!t||f&16)&&Ot(r,i,s,s[4],t?qt(i,s[4],f,null):Bt(s[4]),null)},i(s){t||($(e.$$.fragment,s),$(r,s),t=!0)},o(s){v(e.$$.fragment,s),v(r,s),t=!1},d(s){s&&d(n),I(e,s),r&&r.d(s)}}}function gc(l){let e,n,t,i;const r=[$c,hc],s=[];function f(a,o){return a[3]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,[o]){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function vc(l,e,n){let t,{$$slots:i={},$$scope:r}=e,{trainer:s}=e,{id:f}=e,{titlePrefix:a=void 0}=e;return l.$$set=o=>{"trainer"in o&&n(0,s=o.trainer),"id"in o&&n(1,f=o.id),"titlePrefix"in o&&n(2,a=o.titlePrefix),"$$scope"in o&&n(4,r=o.$$scope)},l.$$.update=()=>{l.$$.dirty&3&&n(3,t=s.pokemon.find(o=>o.id===f))},[s,f,a,t,r,i]}class un extends fe{constructor(e){super(),oe(this,e,vc,gc,ae,{trainer:0,id:1,titlePrefix:2})}}function bc(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function kc(l){let e,n;return e=new st({props:{title:l[2].nickname,$$slots:{"header-extra":[yc],default:[Ic]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.title=t[2].nickname),i&1084&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function zl(l){let e,n;return e=new Ze({props:{$$slots:{default:[Tc]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1052&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function wc(l){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Hl(l){let e,n;return e=new De({props:{href:Pe.trainers(l[3].info.readKey,l[2].id,Re.evolvePokemon),variant:"ghost",$$slots:{default:[Ec]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&12&&(r.href=Pe.trainers(t[3].info.readKey,t[2].id,Re.evolvePokemon)),i&1024&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ec(l){let e;return{c(){e=B("Evolve")},l(n){e=O(n,"Evolve")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Cc(l){let e;return{c(){e=B("Rest")},l(n){e=O(n,"Rest")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Sc(l){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Tc(l){var o,u;let e,n,t,i,r,s,f;e=new De({props:{href:Pe.trainers(l[3].info.readKey,l[2].id,Re.removePokemon),variant:"ghost",$$slots:{default:[wc]},$$scope:{ctx:l}}});let a=((u=(o=l[4].evolution)==null?void 0:o.to)==null?void 0:u.length)>0&&Hl(l);return i=new De({props:{href:Pe.trainers(l[3].info.readKey,l[2].id,Re.restPokemon),variant:"success",$$slots:{default:[Cc]},$$scope:{ctx:l}}}),s=new De({props:{href:Pe.trainers(l[3].info.readKey,l[2].id,Re.editPokemon),$$slots:{default:[Sc]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),a&&a.c(),t=z(),A(i.$$.fragment),r=z(),A(s.$$.fragment)},l(c){P(e.$$.fragment,c),n=L(c),a&&a.l(c),t=L(c),P(i.$$.fragment,c),r=L(c),P(s.$$.fragment,c)},m(c,m){y(e,c,m),b(c,n,m),a&&a.m(c,m),b(c,t,m),y(i,c,m),b(c,r,m),y(s,c,m),f=!0},p(c,m){var E,g;const p={};m&12&&(p.href=Pe.trainers(c[3].info.readKey,c[2].id,Re.removePokemon)),m&1024&&(p.$$scope={dirty:m,ctx:c}),e.$set(p),((g=(E=c[4].evolution)==null?void 0:E.to)==null?void 0:g.length)>0?a?(a.p(c,m),m&16&&$(a,1)):(a=Hl(c),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(me(),v(a,1,1,()=>{a=null}),de());const h={};m&12&&(h.href=Pe.trainers(c[3].info.readKey,c[2].id,Re.restPokemon)),m&1024&&(h.$$scope={dirty:m,ctx:c}),i.$set(h);const _={};m&12&&(_.href=Pe.trainers(c[3].info.readKey,c[2].id,Re.editPokemon)),m&1024&&(_.$$scope={dirty:m,ctx:c}),s.$set(_)},i(c){f||($(e.$$.fragment,c),$(a),$(i.$$.fragment,c),$(s.$$.fragment,c),f=!0)},o(c){v(e.$$.fragment,c),v(a),v(i.$$.fragment,c),v(s.$$.fragment,c),f=!1},d(c){c&&(d(n),d(t),d(r)),I(e,c),a&&a.d(c),I(i,c),I(s,c)}}}function Ic(l){let e,n,t,i;e=new mc({props:{trainer:l[3].info,pokemon:l[2],species:l[4],editable:l[5]}}),e.$on("update-health",l[6]),e.$on("update-pp",l[7]),e.$on("update-bond",l[8]);let r=l[5]&&zl(l);return{c(){A(e.$$.fragment),n=z(),r&&r.c(),t=x()},l(s){P(e.$$.fragment,s),n=L(s),r&&r.l(s),t=x()},m(s,f){y(e,s,f),b(s,n,f),r&&r.m(s,f),b(s,t,f),i=!0},p(s,f){const a={};f&8&&(a.trainer=s[3].info),f&4&&(a.pokemon=s[2]),f&16&&(a.species=s[4]),f&32&&(a.editable=s[5]),e.$set(a),s[5]?r?(r.p(s,f),f&32&&$(r,1)):(r=zl(s),r.c(),$(r,1),r.m(t.parentNode,t)):r&&(me(),v(r,1,1,()=>{r=null}),de())},i(s){i||($(e.$$.fragment,s),$(r),i=!0)},o(s){v(e.$$.fragment,s),v(r),i=!1},d(s){s&&(d(n),d(t)),I(e,s),r&&r.d(s)}}}function yc(l){let e,n;return e=new ia({props:{slot:"header-extra",type:l[2].type.data}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.type=t[2].type.data),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ac(l){let e,n,t,i;const r=[kc,bc],s=[];function f(a,o){return a[4]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Pc(l){let e,n;return e=new un({props:{trainer:l[3],id:l[1],$$slots:{default:[Ac]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&8&&(r.trainer=t[3]),i&2&&(r.id=t[1]),i&1084&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Dc(l,e,n){let t,i,r,s,f=le,a=()=>(f(),f=rt(u,_=>n(3,s=_)),u),o;ze(l,dt,_=>n(9,o=_)),l.$$.on_destroy.push(()=>f());let{trainer:u}=e;a();let{id:c}=e;const m=_=>{var E;(E=s.update)==null||E.pokemon(_.detail,{optimistic:!0})},p=_=>{var E;(E=s.update)==null||E.move(_.detail,{optimistic:!0})},h=_=>{var E;(E=s.update)==null||E.pokemon(_.detail,{optimistic:!0})};return l.$$set=_=>{"trainer"in _&&a(n(0,u=_.trainer)),"id"in _&&n(1,c=_.id)},l.$$.update=()=>{l.$$.dirty&8&&n(5,t=s.update!=null),l.$$.dirty&10&&n(2,i=s.pokemon.find(_=>_.id===c)),l.$$.dirty&516&&n(4,r=o==null?void 0:o.find(_=>_.id===(i==null?void 0:i.pokemonId)))},[u,c,i,s,r,t,m,p,h,o]}class Nc extends fe{constructor(e){super(),oe(this,e,Dc,Pc,ae,{trainer:0,id:1})}}function Fl(l){let e,n;return{c(){e=T("img"),this.h()},l(t){e=S(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){vn(e.src,n=l[2])||C(e,"src",n),C(e,"alt",l[0]),C(e,"class","svelte-1s9pjrl")},m(t,i){b(t,e,i)},p(t,i){i&4&&!vn(e.src,n=t[2])&&C(e,"src",n),i&1&&C(e,"alt",t[0])},d(t){t&&d(e)}}}function Lc(l){let e,n=l[1]&&Fl(l);return{c(){n&&n.c(),e=x()},l(t){n&&n.l(t),e=x()},m(t,i){n&&n.m(t,i),b(t,e,i)},p(t,[i]){t[1]?n?n.p(t,i):(n=Fl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:le,o:le,d(t){t&&d(e),n&&n.d(t)}}}function zc(l,e,n){let t,i,r,s,{media:f}=e,{alt:a}=e,{shiny:o=!1}=e;return l.$$set=u=>{"media"in u&&n(3,f=u.media),"alt"in u&&n(0,a=u.alt),"shiny"in u&&n(4,o=u.shiny)},l.$$.update=()=>{l.$$.dirty&16&&n(6,t="sprite"+(o?"Shiny":"")),l.$$.dirty&8&&n(5,i=/^http/.test(f==null?void 0:f.sprite)),l.$$.dirty&72&&n(1,r=(f==null?void 0:f[t])??(f==null?void 0:f.sprite)),l.$$.dirty&34&&n(2,s=i?r:`${Gs}${r}`)},[a,r,s,f,o,i,t]}class ps extends fe{constructor(e){super(),oe(this,e,zc,Lc,ae,{media:3,alt:0,shiny:4})}}function Rl(l){let e,n,t;return n=new Ks({props:{src:l[2].media.sprite,alt:"Holding "+l[2].name}}),{c(){e=T("span"),A(n.$$.fragment),this.h()},l(i){e=S(i,"SPAN",{class:!0});var r=F(e);P(n.$$.fragment,r),r.forEach(d),this.h()},h(){C(e,"class","held-item svelte-e0vu9q")},m(i,r){b(i,e,r),y(n,e,null),t=!0},p(i,r){const s={};r&4&&(s.src=i[2].media.sprite),r&4&&(s.alt="Holding "+i[2].name),n.$set(s)},i(i){t||($(n.$$.fragment,i),t=!0)},o(i){v(n.$$.fragment,i),t=!1},d(i){i&&d(e),I(n)}}}function Vl(l){let e,n;return e=new Kr({props:{abbr:!0,value:l[1].status}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.value=t[1].status),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Hc(l){var Ce,se;let e,n,t,i,r,s,f,a,o=l[1].nickname+"",u,c,m,p,h,_,E,g,w,D=l[1].hp.current+"",H,N,R=l[1].hp.max+"",V,M,q,U,Q,J,K=l[1].level.data+"",G,ue,ve;t=new ps({props:{media:(Ce=l[3])==null?void 0:Ce.media,alt:(se=l[3])==null?void 0:se.name,shiny:l[1].isShiny}});let Z=l[2]!=null&&Rl(l);p=new Yr({props:{gender:l[1].gender}}),E=new Cn({props:{current:l[1].hp.current,max:l[1].hp.max}});let he=l[1].status!=null&&Vl(l);return{c(){e=T("a"),n=T("span"),A(t.$$.fragment),i=z(),r=T("span"),s=z(),Z&&Z.c(),f=z(),a=T("span"),u=B(o),c=z(),m=T("span"),A(p.$$.fragment),h=z(),_=T("span"),A(E.$$.fragment),g=z(),w=T("span"),H=B(D),N=B("/"),V=B(R),M=z(),q=T("span"),he&&he.c(),U=z(),Q=T("span"),J=B("Lv. "),G=B(K),this.h()},l(ee){e=S(ee,"A",{href:!0,class:!0});var Y=F(e);n=S(Y,"SPAN",{class:!0});var ce=F(n);P(t.$$.fragment,ce),i=L(ce),r=S(ce,"SPAN",{class:!0}),F(r).forEach(d),s=L(ce),Z&&Z.l(ce),ce.forEach(d),f=L(Y),a=S(Y,"SPAN",{});var _e=F(a);u=O(_e,o),_e.forEach(d),c=L(Y),m=S(Y,"SPAN",{class:!0});var $e=F(m);P(p.$$.fragment,$e),$e.forEach(d),h=L(Y),_=S(Y,"SPAN",{class:!0});var Te=F(_);P(E.$$.fragment,Te),Te.forEach(d),g=L(Y),w=S(Y,"SPAN",{});var we=F(w);H=O(we,D),N=O(we,"/"),V=O(we,R),we.forEach(d),M=L(Y),q=S(Y,"SPAN",{class:!0});var X=F(q);he&&he.l(X),X.forEach(d),U=L(Y),Q=S(Y,"SPAN",{class:!0});var be=F(Q);J=O(be,"Lv. "),G=O(be,K),be.forEach(d),Y.forEach(d),this.h()},h(){C(r,"class","shadow svelte-e0vu9q"),C(n,"class","max-height holding-item jumping-animation svelte-e0vu9q"),Se(n,"grid-area","sprite"),Se(a,"grid-area","name"),C(m,"class","right away-from-edge flex svelte-e0vu9q"),Se(m,"grid-area","gender"),C(_,"class","away-from-edge svelte-e0vu9q"),Se(_,"grid-area","hpbar"),Se(w,"grid-area","hp"),C(q,"class","smaller-text svelte-e0vu9q"),Se(q,"grid-area","status"),C(Q,"class","right svelte-e0vu9q"),Se(Q,"grid-area","lv"),C(e,"href",ue=Pe.trainers(l[0],l[1].id)),C(e,"class","selectable-bubble gridded svelte-e0vu9q")},m(ee,Y){b(ee,e,Y),k(e,n),y(t,n,null),k(n,i),k(n,r),k(n,s),Z&&Z.m(n,null),k(e,f),k(e,a),k(a,u),k(e,c),k(e,m),y(p,m,null),k(e,h),k(e,_),y(E,_,null),k(e,g),k(e,w),k(w,H),k(w,N),k(w,V),k(e,M),k(e,q),he&&he.m(q,null),k(e,U),k(e,Q),k(Q,J),k(Q,G),ve=!0},p(ee,[Y]){var Te,we;const ce={};Y&8&&(ce.media=(Te=ee[3])==null?void 0:Te.media),Y&8&&(ce.alt=(we=ee[3])==null?void 0:we.name),Y&2&&(ce.shiny=ee[1].isShiny),t.$set(ce),ee[2]!=null?Z?(Z.p(ee,Y),Y&4&&$(Z,1)):(Z=Rl(ee),Z.c(),$(Z,1),Z.m(n,null)):Z&&(me(),v(Z,1,1,()=>{Z=null}),de()),(!ve||Y&2)&&o!==(o=ee[1].nickname+"")&&re(u,o);const _e={};Y&2&&(_e.gender=ee[1].gender),p.$set(_e);const $e={};Y&2&&($e.current=ee[1].hp.current),Y&2&&($e.max=ee[1].hp.max),E.$set($e),(!ve||Y&2)&&D!==(D=ee[1].hp.current+"")&&re(H,D),(!ve||Y&2)&&R!==(R=ee[1].hp.max+"")&&re(V,R),ee[1].status!=null?he?(he.p(ee,Y),Y&2&&$(he,1)):(he=Vl(ee),he.c(),$(he,1),he.m(q,null)):he&&(me(),v(he,1,1,()=>{he=null}),de()),(!ve||Y&2)&&K!==(K=ee[1].level.data+"")&&re(G,K),(!ve||Y&3&&ue!==(ue=Pe.trainers(ee[0],ee[1].id)))&&C(e,"href",ue)},i(ee){ve||($(t.$$.fragment,ee),$(Z),$(p.$$.fragment,ee),$(E.$$.fragment,ee),$(he),ve=!0)},o(ee){v(t.$$.fragment,ee),v(Z),v(p.$$.fragment,ee),v(E.$$.fragment,ee),v(he),ve=!1},d(ee){ee&&d(e),I(t),Z&&Z.d(),I(p),I(E),he&&he.d()}}}function Fc(l,e,n){let t,i,r,s;ze(l,Jn,o=>n(4,r=o)),ze(l,dt,o=>n(5,s=o));let{trainer:f}=e,{pokemon:a}=e;return l.$$set=o=>{"trainer"in o&&n(0,f=o.trainer),"pokemon"in o&&n(1,a=o.pokemon)},l.$$.update=()=>{l.$$.dirty&34&&n(3,t=s==null?void 0:s.find(o=>o.id===a.pokemonId)),l.$$.dirty&18&&n(2,i=a.items.length>0?fs(a.items[0],r):void 0)},[f,a,i,t,r,s]}class Rc extends fe{constructor(e){super(),oe(this,e,Fc,Hc,ae,{trainer:0,pokemon:1})}}function Ml(l,e,n){const t=l.slice();return t[10]=e[n],t}function Vc(l){let e,n="See Trainer List >";return{c(){e=T("a"),e.textContent=n,this.h()},l(t){e=S(t,"A",{href:!0,class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1hdm44n"&&(e.textContent=n),this.h()},h(){C(e,"href",Qe+"/trainers"),C(e,"class","dark-font svelte-19jifka")},m(t,i){b(t,e,i)},p:le,d(t){t&&d(e)}}}function Mc(l){let e,n;return{c(){e=T("a"),n=B("View trainer profile >"),this.h()},l(t){e=S(t,"A",{href:!0,class:!0});var i=F(e);n=O(i,"View trainer profile >"),i.forEach(d),this.h()},h(){C(e,"href",l[4]),C(e,"class","dark-font svelte-19jifka")},m(t,i){b(t,e,i),k(e,n)},p(t,i){i&16&&C(e,"href",t[4])},d(t){t&&d(e)}}}function Oc(l){let e;function n(r,s){return r[1]?Mc:Vc}let t=n(l),i=t(l);return{c(){e=T("span"),i.c(),this.h()},l(r){e=S(r,"SPAN",{slot:!0});var s=F(e);i.l(s),s.forEach(d),this.h()},h(){C(e,"slot","link")},m(r,s){b(r,e,s),i.m(e,null)},p(r,s){t===(t=n(r))&&i?i.p(r,s):(i.d(1),i=t(r),i&&(i.c(),i.m(e,null)))},d(r){r&&d(e),i.d()}}}function Bc(l){let e;return{c(){e=B("+ Add Pokemon")},l(n){e=O(n,"+ Add Pokemon")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function qc(l){let e,n,t;return n=new De({props:{href:l[4]+"&action=add-pokemon",$$slots:{default:[Bc]},$$scope:{ctx:l}}}),{c(){e=T("span"),A(n.$$.fragment),this.h()},l(i){e=S(i,"SPAN",{slot:!0});var r=F(e);P(n.$$.fragment,r),r.forEach(d),this.h()},h(){C(e,"slot","action"),Se(e,"visibility",l[6]?"visible":"hidden"),Se(e,"display","flex")},m(i,r){b(i,e,r),y(n,e,null),t=!0},p(i,r){const s={};r&16&&(s.href=i[4]+"&action=add-pokemon"),r&8192&&(s.$$scope={dirty:r,ctx:i}),n.$set(s),r&64&&Se(e,"visibility",i[6]?"visible":"hidden")},i(i){t||($(n.$$.fragment,i),t=!0)},o(i){v(n.$$.fragment,i),t=!1},d(i){i&&d(e),I(n)}}}function Ol(l,e){let n,t,i,r;return t=new Rc({props:{trainer:e[2].info.readKey,pokemon:e[10]}}),{key:l,first:null,c(){n=T("li"),A(t.$$.fragment),i=z(),this.h()},l(s){n=S(s,"LI",{class:!0});var f=F(n);P(t.$$.fragment,f),i=L(f),f.forEach(d),this.h()},h(){C(n,"class","space-after svelte-19jifka"),this.first=n},m(s,f){b(s,n,f),y(t,n,null),k(n,i),r=!0},p(s,f){e=s;const a={};f&4&&(a.trainer=e[2].info.readKey),f&32&&(a.pokemon=e[10]),t.$set(a)},i(s){r||($(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&d(n),I(t)}}}function Kc(l){let e,n,t,i,r,s,f,a,o,u=[],c=new Map,m;e=new Vr({props:{title:l[2].info.name+"'s Pokemon",target:"/trainers",$$slots:{action:[qc],link:[Oc]},$$scope:{ctx:l}}});function p(g){l[7](g)}let h={id:"filter-pokemon",label:"Search",matched:l[5].length,max:l[2].pokemon.length};l[3]!==void 0&&(h.value=l[3]),i=new qr({props:h}),te.push(()=>ie(i,"value",p));let _=Ne(l[5]);const E=g=>g[10].id;for(let g=0;g<_.length;g+=1){let w=Ml(l,_,g),D=E(w);c.set(D,u[g]=Ol(D,w))}return{c(){A(e.$$.fragment),n=z(),t=T("div"),A(i.$$.fragment),s=z(),f=T("div"),a=T("div"),o=T("ul");for(let g=0;g<u.length;g+=1)u[g].c();this.h()},l(g){P(e.$$.fragment,g),n=L(g),t=S(g,"DIV",{class:!0});var w=F(t);P(i.$$.fragment,w),w.forEach(d),s=L(g),f=S(g,"DIV",{class:!0});var D=F(f);a=S(D,"DIV",{class:!0});var H=F(a);o=S(H,"UL",{class:!0});var N=F(o);for(let R=0;R<u.length;R+=1)u[R].l(N);N.forEach(d),H.forEach(d),D.forEach(d),this.h()},h(){C(t,"class","space-bottom svelte-19jifka"),C(o,"class","nolist no-space partial-width svelte-19jifka"),C(a,"class","scrollable svelte-19jifka"),C(f,"class","relative svelte-19jifka")},m(g,w){y(e,g,w),b(g,n,w),b(g,t,w),y(i,t,null),b(g,s,w),b(g,f,w),k(f,a),k(a,o);for(let D=0;D<u.length;D+=1)u[D]&&u[D].m(o,null);m=!0},p(g,[w]){const D={};w&4&&(D.title=g[2].info.name+"'s Pokemon"),w&8274&&(D.$$scope={dirty:w,ctx:g}),e.$set(D);const H={};w&32&&(H.matched=g[5].length),w&4&&(H.max=g[2].pokemon.length),!r&&w&8&&(r=!0,H.value=g[3],ne(()=>r=!1)),i.$set(H),w&36&&(_=Ne(g[5]),me(),u=an(u,w,E,1,g,_,c,o,fn,Ol,null,Ml),de())},i(g){if(!m){$(e.$$.fragment,g),$(i.$$.fragment,g);for(let w=0;w<_.length;w+=1)$(u[w]);m=!0}},o(g){v(e.$$.fragment,g),v(i.$$.fragment,g);for(let w=0;w<u.length;w+=1)v(u[w]);m=!1},d(g){g&&(d(n),d(t),d(s),d(f)),I(e,g),I(i);for(let w=0;w<u.length;w+=1)u[w].d()}}}function Uc(l,e,n){let t,i,r,s,f=le,a=()=>(f(),f=rt(u,_=>n(2,s=_)),u),o;ze(l,vi,_=>n(3,o=_)),l.$$.on_destroy.push(()=>f());let{trainer:u}=e;a();let{currentPokemon:c}=e;const m=_=>(E,g)=>_(E).localeCompare(_(g)),p=_=>E=>E.nickname.toLocaleLowerCase().includes(_)||E.pokemonId.replace("-"," ").includes(_);function h(_){o=_,vi.set(o)}return l.$$set=_=>{"trainer"in _&&a(n(0,u=_.trainer)),"currentPokemon"in _&&n(1,c=_.currentPokemon)},l.$$.update=()=>{l.$$.dirty&4&&n(6,t=s.update!=null),l.$$.dirty&12&&n(5,i=s.pokemon.filter(p(o.toLocaleLowerCase())).sort(m(_=>_.nickname))),l.$$.dirty&4&&n(4,r=`${Qe}/trainers?id=${s.info.readKey}`)},[u,c,s,o,r,i,t,h]}class jc extends fe{constructor(e){super(),oe(this,e,Uc,Kc,ae,{trainer:0,currentPokemon:1})}}const ti=In(jt,l=>l==="2018"?la:ra);class ni extends es{isStandard(){return Fr(ti).includes(this.data)}}function Gc(l){let e,n,t,i;function r(a){l[6](a)}function s(a){l[7](a)}let f={label:"Nature",options:l[3],disabled:l[0]};return l[1]!==void 0&&(f.value=l[1]),l[2]!==void 0&&(f.other=l[2]),e=new mt({props:f}),te.push(()=>ie(e,"value",r)),te.push(()=>ie(e,"other",s)),{c(){A(e.$$.fragment)},l(a){P(e.$$.fragment,a)},m(a,o){y(e,a,o),i=!0},p(a,[o]){const u={};o&8&&(u.options=a[3]),o&1&&(u.disabled=a[0]),!n&&o&2&&(n=!0,u.value=a[1],ne(()=>n=!1)),!t&&o&4&&(t=!0,u.other=a[2],ne(()=>t=!1)),e.$set(u)},i(a){i||($(e.$$.fragment,a),i=!0)},o(a){v(e.$$.fragment,a),i=!1},d(a){I(e,a)}}}const Bl="other";function Yc(l,e,n){let t,i;ze(l,ti,c=>n(5,i=c));let{value:r}=e,{disabled:s=!1}=e,f=r.isStandard()?r.data:Bl,a=r.data;function o(c){f=c,n(1,f)}function u(c){a=c,n(2,a)}return l.$$set=c=>{"value"in c&&n(4,r=c.value),"disabled"in c&&n(0,s=c.disabled)},l.$$.update=()=>{l.$$.dirty&32&&n(3,t=i.map(c=>({name:c,value:c}))),l.$$.dirty&6&&n(4,r=new ni(f===Bl?a:f))},[s,f,a,t,r,i,o,u]}class hs extends fe{constructor(e){super(),oe(this,e,Yc,Gc,ae,{value:4,disabled:0})}}const $n="trainer_avatars";class Qc{constructor(e,n){Le(this,"allTrainers",async()=>Promise.all(Nn().map(e=>this.getOneTrainerInfo(e))).then(e=>e.filter(n=>n!=null)));Le(this,"getTrainer",async e=>{const n=await this.getOneTrainerInfo(e);if(!n)return;ql(e);const t=await this.getTrainersPokemon(n.id),i=$s(e);return{info:n,pokemon:t,writeKey:i}});Le(this,"getOneTrainerInfo",async e=>{const n=await this.supabase.rpc("get_trainer",{_read_key:e}).maybeSingle().then(({data:r,error:s})=>{if(s)throw new Fe("Could not get trainer.",s);if(r)return Wc(r,this.getStorageResource)});if(n==null)return;const[t,i]=await Promise.all([this.getTrainerInventory(n.readKey),this.getTrainerFeats(n.readKey)]);return n.inventory=t,n.feats=i,n});Le(this,"getTrainersPokemon",async e=>await this.supabase.rpc("get_pokemon",{_trainer_id:e}).select().then(({data:n,error:t})=>{if(t)throw new Fe("Could not trainer's pokemon.",t);return n.map(i=>Zc(i,this.getUserAssetResource))}).then(n=>Promise.all(n.map(t=>this.getMoveset(t.id).then(i=>({...t,moves:i}))))).then(n=>Promise.all(n.map(t=>this.getHeldItems(t.id).then(i=>({...t,items:i}))))).then(n=>Promise.all(n.map(t=>this.getPokemonFeats(t.id).then(i=>({...t,feats:i}))))));Le(this,"newTrainer",async e=>{const n={...e,level:new Vt(1),ac:10,hp:{current:8,max:8},hitDice:{current:1,max:1},attributes:new tn({str:10,dex:10,con:10,int:10,wis:10,cha:10}),proficiencies:new wn({athletics:0,acrobatics:0,"sleight of hand":0,stealth:0,arcana:0,history:0,investigation:0,nature:0,religion:0,"animal handling":1,insight:0,medicine:0,perception:0,survival:0,deception:0,intimidation:0,performance:0,persuasion:0}),savingThrows:["cha"],biography:{species:"Human",gender:null,age:null,homeRegion:null,background:null},money:0,inventory:[],specializations:{ghost:0,fairy:0,normal:0,fighting:0,flying:0,poison:0,fire:0,grass:0,water:0,electric:0,psychic:0,dark:0,bug:0,ice:0,dragon:0,steel:0,rock:0,ground:0},path:ff(),feats:[]},{data:t,error:i}=await this.supabase.rpc("new_trainer",{_name:n.name,_description:n.description,_level:n.level.data,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_species:n.biography.species,_gender:n.biography.gender,_age:n.biography.age,_home_region:n.biography.homeRegion,_background:n.biography.background,_money:n.money,_special_normal:n.specializations.normal??0,_special_fighting:n.specializations.fighting??0,_special_flying:n.specializations.flying??0,_special_poison:n.specializations.poison??0,_special_ground:n.specializations.ground??0,_special_rock:n.specializations.rock??0,_special_bug:n.specializations.bug??0,_special_ghost:n.specializations.ghost??0,_special_steel:n.specializations.steel??0,_special_fire:n.specializations.fire??0,_special_water:n.specializations.water??0,_special_grass:n.specializations.grass??0,_special_electric:n.specializations.electric??0,_special_psychic:n.specializations.psychic??0,_special_ice:n.specializations.ice??0,_special_dragon:n.specializations.dragon??0,_special_dark:n.specializations.dark??0,_special_fairy:n.specializations.fairy??0,_path_name:n.path.name,_path_resource:n.path.resource,_path_rank_1_name:"",_path_rank_1_desc:n.path.customFeatures.level2.description,_path_rank_2_name:n.path.customFeatures.level5.name,_path_rank_2_desc:n.path.customFeatures.level5.description,_path_rank_3_name:n.path.customFeatures.level9.name,_path_rank_3_desc:n.path.customFeatures.level9.description,_path_rank_4_name:n.path.customFeatures.level15.name,_path_rank_4_desc:n.path.customFeatures.level15.description}).single();if(i)throw new Fe("Could not create trainer.",i);return ql(t.ret_read_key),jl(t.ret_read_key,t.ret_write_key),{info:{...n,id:t.ret_id,readKey:t.ret_read_key},pokemon:[],writeKey:t.ret_write_key}});Le(this,"updateTrainerInfo",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_trainer",{_write_key:e,_name:n.name,_description:n.description,_level:n.level.data,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_species:n.biography.species,_gender:n.biography.gender,_age:n.biography.age,_home_region:n.biography.homeRegion,_background:n.biography.background,_money:n.money,_special_normal:n.specializations.normal??0,_special_fighting:n.specializations.fighting??0,_special_flying:n.specializations.flying??0,_special_poison:n.specializations.poison??0,_special_ground:n.specializations.ground??0,_special_rock:n.specializations.rock??0,_special_bug:n.specializations.bug??0,_special_ghost:n.specializations.ghost??0,_special_steel:n.specializations.steel??0,_special_fire:n.specializations.fire??0,_special_water:n.specializations.water??0,_special_grass:n.specializations.grass??0,_special_electric:n.specializations.electric??0,_special_psychic:n.specializations.psychic??0,_special_ice:n.specializations.ice??0,_special_dragon:n.specializations.dragon??0,_special_dark:n.specializations.dark??0,_special_fairy:n.specializations.fairy??0,_path_name:n.path.name,_path_resource:n.path.resource,_path_rank_1_name:"",_path_rank_1_desc:n.path.customFeatures.level2.description,_path_rank_2_name:n.path.customFeatures.level5.name,_path_rank_2_desc:n.path.customFeatures.level5.description,_path_rank_3_name:n.path.customFeatures.level9.name,_path_rank_3_desc:n.path.customFeatures.level9.description,_path_rank_4_name:n.path.customFeatures.level15.name,_path_rank_4_desc:n.path.customFeatures.level15.description}).single();if(i)throw new Fe("Could not update trainer.",i);if(t<=0)throw new Fe("Either this trainer does not exist or you do not have permission to edit them.");return t>0});Le(this,"updateTrainerAvatar",async(e,n,t)=>{const i=await this.generateTrainerAvatarFilename(e,n),{error:r}=await this.supabase.storage.from($n).upload(i,n);if(r)throw new Fe("Could not upload file for trainer.");return await this.removeOldTrainerAvatar(t),this.getStorageResource($n,i)});Le(this,"removeTrainerAvatar",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("remove_trainer_avatar",{_write_key:e}).single();if(t!=null&&t<=0)throw new Fe("You do not have permission to edit this trainer.");if(i)throw new Fe("Could not remove trainer's avatar image",i);await this.removeOldTrainerAvatar(n)});Le(this,"generateTrainerAvatarFilename",async(e,n)=>{const t=n.name.split(".").at(-1),{data:i,error:r}=await this.supabase.rpc("new_trainer_avatar_filename",{_write_key:e,_extension:"."+t}).single();if(r)throw new Fe("Could not generate filename for trainer avatar.",r);return i});Le(this,"removeOldTrainerAvatar",async e=>{if(e!=null){const{error:n}=await this.supabase.storage.from($n).remove([e.name]);n&&console.warn("Could not remove old trainer avatar. Ignoring this error.")}});Le(this,"removeTrainer",async(e,n)=>{Gl(n),Kl(n)});Le(this,"deleteTrainer",async(e,n,t)=>{const{data:i,error:r}=await this.supabase.rpc("delete_trainer",{_write_key:e,_id:n}).single();if(r)throw new Fe("Could not delete trainer.",r);if(i<=0)throw new Fe("Either this trainer does not exist or you do not have permission to edit them.");return Gl(t),Kl(t),i>0});Le(this,"updatePokemon",async(e,n)=>{var r;const{data:t,error:i}=await this.supabase.rpc("update_pokemon",{_write_key:e,_id:parseInt(n.id),_species:n.pokemonId,_nickname:n.nickname,_type:n.type.data,_nature:n.nature.data,_level:n.level.data,_gender:n.gender,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_ability:n.ability,_notes:n.notes,_tera_type:n.teraType.data,_exp:n.exp,_status:n.status,_held_item:null,_is_shiny:n.isShiny,_custom_size:n.customSize??null,_hit_dice_size:((r=n.customHitDiceSize)==null?void 0:r.data)??null,_speed_walking:n.speeds.data.walking??null,_speed_climbing:n.speeds.data.climbing??null,_speed_swimming:n.speeds.data.swimming??null,_speed_flying:n.speeds.data.flying??null,_speed_hover:n.speeds.data.hover??null,_speed_burrowing:n.speeds.data.burrowing??null,_sense_darkvision:n.senses.data.darkvision??null,_sense_blindsight:n.senses.data.blindsight??null,_sense_tremorsense:n.senses.data.tremorsense??null,_sense_truesight:n.senses.data.truesight??null,_bond_level:n.bond.level,_bond_points_cur:n.bond.points.current,_bond_points_max:n.bond.points.max}).single();if(i)throw new Fe("Could not update pokemon.",i);if(t<=0)throw new Fe("Either this pokemon does not exist or you do not have permission to edit them.");return t>0});Le(this,"updatePokemonAvatar",async(e,n,t)=>{const{data:i,error:r}=await this.supabase.functions.invoke("user-assets",{method:"POST",body:{type:"pokemon-avatar",params:{id:n.id,key:e,mimetype:t.type,sizeInBytes:t.size}}});if(r)throw new Fe("Could not upload file for pokemon.");const s=await fetch(i.values.uploadUrl,{method:"PUT",body:t,headers:{"Content-Type":t.type,"Content-Length":t.size.toString()}});if(!s.ok)throw console.error(await s.text()),new Fe("Could not upload file for pokemon.");return this.getUserAssetResource(i.values.filename)});Le(this,"removePokemonAvatar",async(e,n)=>{const{error:t}=await this.supabase.functions.invoke("user-assets",{method:"DELETE",body:{type:"pokemon-avatar",params:{id:n.id,key:e}}});if(t)throw console.error(t),new Fe("Could not delete file for pokemon.")});Le(this,"addPokemonToTeam",async(e,n,t)=>{var f,a;const i={trainerId:n,pokemonId:t.id,nickname:t.name,type:t.type,nature:new ni(Fr(ti)[0]),level:new Vt(t.minLevel),exp:Ur(t.minLevel),gender:Lt.None,attributes:t.attributes,ac:t.ac,ability:(f=t.abilities[0])==null?void 0:f.id,hp:{current:t.hp,max:t.hp},hitDice:{current:t.minLevel,max:t.minLevel},proficiencies:t.skills.copy(),savingThrows:t.savingThrows,moves:[],items:[],notes:"",teraType:new It(t.type.primary),status:null,isShiny:!1,feats:[],customSize:void 0,customHitDiceSize:void 0,speeds:new Qn({}),senses:new Wn({}),bond:{level:0,points:{current:0,max:0}}},{data:r,error:s}=await this.supabase.rpc("add_pokemon",{_write_key:e,_nickname:t.name,_species:t.id,_nature:i.nature.data,_type:t.type.data,_level:t.minLevel,_gender:Lt.None,_strength:t.attributes.str.score,_dexterity:t.attributes.dex.score,_constitution:t.attributes.con.score,_intelligence:t.attributes.int.score,_wisdom:t.attributes.wis.score,_charisma:t.attributes.cha.score,_ac:t.ac,_hp_cur:t.hp,_hp_max:t.hp,_hit_dice_cur:t.minLevel,_hit_dice_max:t.minLevel,_rank_athletics:i.proficiencies.data.athletics,_rank_acrobatics:i.proficiencies.data.acrobatics,_rank_sleight_of_hand:i.proficiencies.data["sleight of hand"],_rank_stealth:i.proficiencies.data.stealth,_rank_arcana:i.proficiencies.data.arcana,_rank_history:i.proficiencies.data.history,_rank_investigation:i.proficiencies.data.investigation,_rank_nature:i.proficiencies.data.nature,_rank_religion:i.proficiencies.data.religion,_rank_animal_handling:i.proficiencies.data["animal handling"],_rank_insight:i.proficiencies.data.insight,_rank_medicine:i.proficiencies.data.medicine,_rank_perception:i.proficiencies.data.perception,_rank_survival:i.proficiencies.data.survival,_rank_deception:i.proficiencies.data.deception,_rank_intimidation:i.proficiencies.data.intimidation,_rank_performance:i.proficiencies.data.performance,_rank_persuasion:i.proficiencies.data.persuasion,_save_str:t.savingThrows.includes("str"),_save_dex:t.savingThrows.includes("dex"),_save_con:t.savingThrows.includes("con"),_save_int:t.savingThrows.includes("int"),_save_wis:t.savingThrows.includes("wis"),_save_cha:t.savingThrows.includes("cha"),_ability:(a=t.abilities[0])==null?void 0:a.id,_notes:"",_tera_type:t.type.primary,_exp:i.exp,_status:null,_held_item:null,_is_shiny:!1,_custom_size:null,_hit_dice_size:null,_speed_walking:null,_speed_climbing:null,_speed_swimming:null,_speed_flying:null,_speed_hover:null,_speed_burrowing:null,_sense_darkvision:null,_sense_blindsight:null,_sense_tremorsense:null,_sense_truesight:null,_bond_level:0,_bond_points_cur:0,_bond_points_max:0}).single();if(s)throw new Fe("Could not add pokemon.",s);return{...i,id:r.toString()}});Le(this,"removePokemon",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("remove_pokemon",{_write_key:e,_id:n}).single();if(i)throw new Fe("Could not remove pokemon.",i);return t>0});Le(this,"updateListOfThings",async({thingName:e,writeKey:n,newThings:t,getExistingThings:i,removeFunctionName:r,updateFunctionName:s,addFunctionName:f,mapThingToDbArgument:a})=>{const o=await i(),u=t.map(p=>p.id),c=o.map(p=>p.id),m=c.filter(p=>!u.includes(p));return await Promise.all(m.map(p=>this.supabase.rpc(r,{_write_key:n,_id:p}).single().then(({data:h,error:_})=>{if(_)throw new Fe(`Could not delete ${e}.`,_);if(h<=0)throw new Fe("Either this trainer/pokemon does not exist or you do not have permission to edit them.");return h>0}))),await Promise.all(t.map((p,h)=>c.includes(p.id)?this.supabase.rpc(s,a(p,h,"update")).single().then(({data:_,error:E})=>{if(E)throw new Fe(`Could not update ${e}.`,E);if(_<=0)throw new Fe("Either this trainer/pokemon does not exist or you do not have permission to edit them.");return{...p}}):this.supabase.rpc(f,a(p,h,"add")).single().then(({data:_,error:E})=>{if(E)throw new Fe(`Could not add ${e}.`,E);return{...p,id:_}})))});Le(this,"updateMoveset",async(e,n,t)=>this.updateListOfThings({thingName:"move",writeKey:e,newThings:t,getExistingThings:()=>this.getMoveset(n),removeFunctionName:"remove_move",updateFunctionName:"update_move",addFunctionName:"add_move",mapThingToDbArgument:(i,r,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_move_id:i.moveId,_pp_cur:i.pp.current,_pp_max:i.pp.max,_notes:i.notes,_rank:r})}));Le(this,"updateOneMove",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_move",{_write_key:e,_id:n.id,_move_id:n.moveId,_pp_cur:n.pp.current,_pp_max:n.pp.max,_notes:n.notes}).single();if(i)throw new Fe("Could not update pokemon.",i);if(t<=0)throw new Fe("Either this pokemon does not exist or you do not have permission to edit them.");return t>0});Le(this,"updateAllHeldItems",async(e,n,t)=>this.updateListOfThings({thingName:"held item",writeKey:e,newThings:t,getExistingThings:()=>this.getHeldItems(n),removeFunctionName:"remove_held_item",updateFunctionName:"update_held_item",addFunctionName:"add_held_item",mapThingToDbArgument:(i,r,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_item_id:i.type==="standard"?i.itemId:null,_custom_name:i.type==="custom"?i.name:null,_description:i.type==="custom"?i.description:null,_rank:r})}));Le(this,"updateTrainerInventory",async(e,n)=>this.updateListOfThings({thingName:"inventory item",writeKey:e,newThings:n,getExistingThings:()=>this.getTrainerInventory(Ul(e)),removeFunctionName:"remove_inventory_item",updateFunctionName:"update_inventory_item",addFunctionName:"add_inventory_item",mapThingToDbArgument:(t,i,r)=>({_write_key:e,_id:r==="update"?t.id:void 0,_item_id:t.type==="standard"?t.itemId:null,_quantity:t.quantity,_custom_name:t.type==="custom"?t.name:null,_description:t.type==="custom"?t.description:null,_rank:i})}));Le(this,"updateTrainerFeats",async(e,n)=>this.updateListOfThings({thingName:"feat",writeKey:e,newThings:n,getExistingThings:()=>this.getTrainerFeats(Ul(e)),removeFunctionName:"remove_trainer_feat",updateFunctionName:"update_trainer_feat",addFunctionName:"add_trainer_feat",mapThingToDbArgument:(t,i,r)=>({_write_key:e,_id:r==="update"?t.id:void 0,_feat_name:t.name,_description:t.description,_is_custom:t.isCustom,_rank:i})}));Le(this,"updatePokemonFeats",async(e,n,t)=>this.updateListOfThings({thingName:"feat",writeKey:e,newThings:t,getExistingThings:()=>this.getPokemonFeats(n),removeFunctionName:"remove_pokemon_feat",updateFunctionName:"update_pokemon_feat",addFunctionName:"add_pokemon_feat",mapThingToDbArgument:(i,r,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_feat_name:i.name,_description:i.description,_is_custom:i.isCustom,_rank:r})}));Le(this,"updateTrainerItem",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_inventory_item",{_write_key:e,_id:n.id,_item_id:n.type==="standard"?n.itemId:null,_quantity:n.quantity,_custom_name:n.type==="custom"?n.name:null,_description:n.type==="custom"?n.description:null}).single();if(i)throw new Fe("Could not update inventory item.",i);if(t<=0)throw new Fe("Either this trainer does not exist or you do not have permission to edit them.");return t>0});Le(this,"verifyWriteKey",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("verify_write_key",{_id:e.id,_write_key:n}).single();if(i)throw new Fe("Could not verify trainer.",i);return t>0&&jl(e.readKey,n),t>0});Le(this,"getMoveset",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_moveset",{_pokemon_id:e}).select();if(t)throw new Fe("Could not get moveset.",t);return(n==null?void 0:n.map(i=>Jc(i)))??[]});Le(this,"getHeldItems",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_held_items",{_pokemon_id:e}).select();if(t)throw new Fe("Could not get held items.",t);return(n==null?void 0:n.map(i=>Xc(i)))??[]});Le(this,"getTrainerInventory",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_inventory_items",{_read_key:e}).select();if(t)throw new Fe("Could not get inventory items.",t);return(n==null?void 0:n.map(i=>xc(i)))??[]});Le(this,"getTrainerFeats",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_trainer_feats",{_read_key:e}).select();if(t)throw new Fe("Could not get trainer feats.",t);return(n==null?void 0:n.map(i=>em(i)))??[]});Le(this,"getPokemonFeats",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_pokemon_feats",{_pokemon_id:e}).select();if(t)throw new Fe("Could not get pokemon feats.",t);return(n==null?void 0:n.map(i=>tm(i)))??[]});Le(this,"getStorageResource",(e,n)=>({name:n,href:this.supabase.storage.from(e).getPublicUrl(n).data.publicUrl}));Le(this,"getUserAssetResource",e=>({name:e,href:this.userAssets.getAssetUrl(e)}));this.supabase=e,this.userAssets=n}}const Nn=()=>{var l,e;return((e=(l=localStorage.getItem("trainers"))==null?void 0:l.split(","))==null?void 0:e.filter(n=>n!==""))??[]},ql=l=>{const e=Nn(),n=[...new Set(e.concat(l))];localStorage.setItem("trainers",n.join(","))},Kl=l=>{const n=Nn().filter(t=>t!==l);localStorage.setItem("trainers",n.join(","))},Ul=l=>Nn().find(e=>$s(e)===l),$s=l=>localStorage.getItem(`write:${l}`),jl=(l,e)=>{localStorage.setItem(`write:${l}`,e)},Gl=l=>{localStorage.removeItem(`write:${l}`)},Wc=(l,e)=>({id:l.id,readKey:l.read_key,name:l.name,description:l.description,level:new Vt(l.level),attributes:new tn({str:l.strength,dex:l.dexterity,con:l.constitution,int:l.intelligence,wis:l.wisdom,cha:l.charisma}),ac:l.ac,hp:{current:l.hp_cur,max:l.hp_max},hitDice:{current:l.hit_dice_cur,max:l.hit_dice_max},proficiencies:vs({athletics:[l.prof_athletics,l.rank_athletics],acrobatics:[l.prof_acrobatics,l.rank_acrobatics],"sleight of hand":[l.prof_sleight_of_hand,l.rank_sleight_of_hand],stealth:[l.prof_stealth,l.rank_stealth],arcana:[l.prof_arcana,l.rank_arcana],history:[l.prof_history,l.rank_history],investigation:[l.prof_investigation,l.rank_investigation],nature:[l.prof_nature,l.rank_nature],religion:[l.prof_religion,l.rank_religion],"animal handling":[l.prof_animal_handling,l.rank_animal_handling],insight:[l.prof_insight,l.rank_insight],medicine:[l.prof_medicine,l.rank_medicine],perception:[l.prof_perception,l.rank_perception],survival:[l.prof_survival,l.rank_survival],deception:[l.prof_deception,l.rank_deception],intimidation:[l.prof_intimidation,l.rank_intimidation],performance:[l.prof_performance,l.rank_performance],persuasion:[l.prof_persuasion,l.rank_persuasion]}),savingThrows:gs({str:l.save_str,dex:l.save_dex,con:l.save_con,int:l.save_int,wis:l.save_wis,cha:l.save_cha}),biography:{species:l.species,gender:l.gender,age:l.age,homeRegion:l.home_region,background:l.background},money:l.money,inventory:[],avatar:l.avatar_filename!=null?e($n,l.avatar_filename):null,specializations:{normal:l.special_normal,fighting:l.special_fighting,flying:l.special_flying,poison:l.special_poison,ground:l.special_ground,rock:l.special_rock,bug:l.special_bug,ghost:l.special_ghost,steel:l.special_steel,fire:l.special_fire,water:l.special_water,grass:l.special_grass,electric:l.special_electric,psychic:l.special_psychic,ice:l.special_ice,dragon:l.special_dragon,dark:l.special_dark,fairy:l.special_fairy},path:{name:l.path_name,resource:l.path_resource,customFeatures:{level2:{description:l.path_rank_1_desc},level5:{name:l.path_rank_2_name,description:l.path_rank_2_desc},level9:{name:l.path_rank_3_name,description:l.path_rank_3_desc},level15:{name:l.path_rank_4_name,description:l.path_rank_4_desc}}},feats:[]}),gs=l=>Object.entries(l).filter(([,e])=>e).map(([e])=>e),vs=l=>new wn(Object.entries(l).reduce((e,[n,[t,i]])=>({...e,[n]:i>0?i:t?1:0}),{})),Zc=(l,e)=>({id:l.id.toString(),trainerId:l.trainer_id,pokemonId:l.species,nickname:l.nickname,type:new Bn(l.type.filter(Bn.isPokeType)),nature:new ni(l.nature),level:new Vt(l.level),exp:l.exp,gender:l.gender,attributes:new tn({str:l.strength,dex:l.dexterity,con:l.constitution,int:l.intelligence,wis:l.wisdom,cha:l.charisma}),ac:l.ac,hp:{current:l.hp_cur,max:l.hp_max},hitDice:{current:l.hit_dice_cur,max:l.hit_dice_max},ability:l.ability,proficiencies:vs({athletics:[l.prof_athletics,l.rank_athletics],acrobatics:[l.prof_acrobatics,l.rank_acrobatics],"sleight of hand":[l.prof_sleight_of_hand,l.rank_sleight_of_hand],stealth:[l.prof_stealth,l.rank_stealth],arcana:[l.prof_arcana,l.rank_arcana],history:[l.prof_history,l.rank_history],investigation:[l.prof_investigation,l.rank_investigation],nature:[l.prof_nature,l.rank_nature],religion:[l.prof_religion,l.rank_religion],"animal handling":[l.prof_animal_handling,l.rank_animal_handling],insight:[l.prof_insight,l.rank_insight],medicine:[l.prof_medicine,l.rank_medicine],perception:[l.prof_perception,l.rank_perception],survival:[l.prof_survival,l.rank_survival],deception:[l.prof_deception,l.rank_deception],intimidation:[l.prof_intimidation,l.rank_intimidation],performance:[l.prof_performance,l.rank_performance],persuasion:[l.prof_persuasion,l.rank_persuasion]}),savingThrows:gs({str:l.save_str,dex:l.save_dex,con:l.save_con,int:l.save_int,wis:l.save_wis,cha:l.save_cha}),moves:[],items:[],notes:l.notes,teraType:It.isTeraType(l.tera_type)?new It(l.tera_type):void 0,status:l.status,isShiny:l.is_shiny,feats:[],customSize:Ds(l.custom_size)?l.custom_size:void 0,customHitDiceSize:Rt.isHitDice(l.hit_dice_size)?new Rt(l.hit_dice_size):void 0,speeds:new Qn({walking:l.speed_walking,climbing:l.speed_climbing,swimming:l.speed_swimming,flying:l.speed_flying,hover:l.speed_hover,burrowing:l.speed_burrowing}),senses:new Wn({darkvision:l.sense_darkvision,blindsight:l.sense_blindsight,tremorsense:l.sense_tremorsense,truesight:l.sense_truesight}),bond:{level:l.bond_level,points:{current:l.bond_points_cur,max:l.bond_points_max}},avatar:l.avatar_filename?e(l.avatar_filename):void 0}),Jc=l=>({id:l.id.toString(),moveId:l.move_id,pp:{current:l.pp_cur,max:l.pp_max},notes:l.notes}),Xc=l=>({id:l.id.toString(),type:l.item_id!=null?"standard":"custom",itemId:l.item_id,name:l.custom_name,description:l.description}),xc=l=>({id:l.id.toString(),type:l.item_id!=null?"standard":"custom",itemId:l.item_id,quantity:l.quantity,name:l.custom_name,description:l.description}),em=l=>({id:l.id.toString(),name:l.feat_name,description:l.description,isCustom:l.is_custom}),tm=l=>({id:l.id.toString(),name:l.feat_name,description:l.description,isCustom:l.is_custom});class nm{constructor(e){this.baseUrl=e}getAssetUrl(e){return`${this.baseUrl}/${e}`}}const im=new nm(Us);class Fe extends Error{constructor(e,n){super(e+(n!=null&&n.code?` Code: ${n.code}`:"")),this.diagnostics=n}}const Be=new Qc(js,im),lm=()=>{const{subscribe:l,update:e}=Qs({}),n={};let t;const i=(s,f)=>{e(a=>({...a,[s]:{...a[s],...f(a[s])}}))},r=s=>()=>Be.removeTrainer(s.id,s.readKey).then(()=>{e(f=>{const{[s.readKey]:a,...o}=f;return o})});return{get:s=>(n[s]==null&&(n[s]=Be.getTrainer(s).then(f=>{var c;if(f==null)return;const a=m=>({info:async(p,h={})=>{const _=m.info;let E=p.avatar;h.updateAvatar!=null&&(h.updateAvatar.type==="new"?E=await Be.updateTrainerAvatar(m.writeKey,h.updateAvatar.value,p.avatar).catch(w=>{throw Ye.show(w.message),w}):(await Be.removeTrainerAvatar(m.writeKey,p.avatar).catch(w=>{throw Ye.show(w.message),w}),E=null));const g=w=>i(s,D=>({...D,info:{...D.info,...w,avatar:E}}));return h.optimistic?(g(p),Be.updateTrainerInfo(m.writeKey,p).then(()=>{}).catch(w=>{throw g(_),Ye.show(w.message),w})):Be.updateTrainerInfo(m.writeKey,p).then(()=>{g(p)}).catch(w=>{throw Ye.show(w.message),w})},inventory:p=>Be.updateTrainerInventory(m.writeKey,p.inventory).then(h=>{i(s,_=>({..._,info:{..._.info,inventory:h}}))}).catch(h=>{throw Ye.show(h.message),h}),inventoryItem:(p,h={})=>{let _;const E=g=>{i(s,w=>{const D=w.info.inventory.findIndex(H=>H.id===g.id);return _=w.info.inventory[D],w.info.inventory[D]=g,{...w}})};return h.optimistic?(E(p),Be.updateTrainerItem(m.writeKey,p).then(()=>{}).catch(g=>{throw E(_),Ye.show(g.message),g})):Be.updateTrainerItem(m.writeKey,p).then(()=>{E(p)}).catch(g=>{throw Ye.show(g.message),g})},trainerFeats:p=>Be.updateTrainerFeats(m.writeKey,p.feats).then(h=>{i(s,_=>({..._,info:{..._.info,feats:h}}))}).catch(h=>{throw Ye.show(h.message),h}),retire:()=>Be.deleteTrainer(m.writeKey,m.info.id,m.info.readKey).then(()=>{e(p=>{const{[m.info.readKey]:h,..._}=p;return _})}).catch(p=>{throw Ye.show(p.message),p}),pokemon:async(p,h={})=>{let _,E=p.avatar;h.updateAvatar!=null&&(h.updateAvatar.type==="new"?E=await Be.updatePokemonAvatar(m.writeKey,p,h.updateAvatar.value).catch(w=>{throw Ye.show(w.message),w}):(await Be.removePokemonAvatar(m.writeKey,p).catch(w=>{throw Ye.show(w.message),w}),E=null));const g=w=>i(s,D=>{const H=[...D.pokemon],N=H.findIndex(R=>R.id===w.id);return _=H[N],H[N]={...D.pokemon[N],...w,avatar:E},{...D,pokemon:H}});return h.optimistic?(g(p),Be.updatePokemon(m.writeKey,p).then(()=>{}).catch(w=>{throw g(_),Ye.show(w.message),w})):Be.updatePokemon(m.writeKey,p).then(()=>{g(p)}).catch(w=>{throw Ye.show(w.message),w})},moveset:p=>Be.updateMoveset(m.writeKey,p.id,p.moves).then(h=>{i(s,_=>{const E=[..._.pokemon],g=E.findIndex(w=>w.id===p.id);return E[g]={..._.pokemon[g],moves:h},{..._,pokemon:E}})}).catch(h=>{throw Ye.show(h.message),h}),move:(p,h={})=>{let _;const E=g=>{i(s,w=>{const D=w.pokemon.find(N=>N.moves.map(R=>R.id).includes(g.id));if(!D)return w;const H=D.moves.findIndex(N=>N.id===g.id);return _=D.moves[H],D.moves[H]=g,{...w}})};return h.optimistic?(E(p),Be.updateOneMove(m.writeKey,p).then(()=>{}).catch(g=>{throw E(_),Ye.show(g.message),g})):Be.updateOneMove(m.writeKey,p).then(()=>{E(p)}).catch(g=>{throw Ye.show(g.message),g})},heldItems:p=>Be.updateAllHeldItems(m.writeKey,p.id,p.items).then(h=>{i(s,_=>{const E=[..._.pokemon],g=E.findIndex(w=>w.id===p.id);return E[g]={..._.pokemon[g],items:h},{..._,pokemon:E}})}).catch(h=>{throw Ye.show(h.message),h}),pokemonFeats:p=>Be.updatePokemonFeats(m.writeKey,p.id,p.feats).then(h=>{i(s,_=>{const E=[..._.pokemon],g=E.findIndex(w=>w.id===p.id);return E[g]={..._.pokemon[g],feats:h},{..._,pokemon:E}})}).catch(h=>{throw Ye.show(h.message),h}),addToTeam:p=>Be.addPokemonToTeam(m.writeKey,m.info.id,p).then(h=>(i(s,_=>{const E=[..._.pokemon,h];return{..._,pokemon:E}}),h)).catch(h=>{throw Ye.show(h.message),h}),removeFromTeam:p=>Be.removePokemon(m.writeKey,p).then(()=>{i(s,h=>{const _=h.pokemon.filter(E=>E.id!==p);return{...h,pokemon:_}})}).catch(h=>{throw Ye.show(h.message),h})});let o;((c=f.writeKey)==null?void 0:c.length)>0&&(o=a(f));let u=!1;return{subscribe:m=>l(p=>{m(p[s]??{...f,update:o,remove:r(f.info)}),u||(u=!0,e(h=>({...h,[s]:{...f,update:o,remove:r(f.info)}})))}),verifyAccess:m=>Be.verifyWriteKey(f.info,m).then(p=>(p&&i(s,h=>({...h,writeKey:m,update:a({...h,writeKey:m})})),p))}})),n[s]),all:()=>(t==null&&(t=Be.allTrainers().then(s=>{let f=!1;return{subscribe:a=>l(o=>{a(Object.values(o).map(u=>u.info)),f||(f=!0,e(u=>s.reduce((c,m)=>({[m.readKey]:{info:m,pokemon:[],remove:r(m)},...c}),u)))})}})),t),new:s=>Be.newTrainer(s).then(f=>(i(f.info.readKey,()=>f),f))}},Sn=lm();function Yl(l,e,n){const t=l.slice();return t[10]=e[n],t}function rm(l){let e,n="<p>You do not have permission to add pokemon to this trainer.</p>";return{c(){e=T("section"),e.innerHTML=n},l(t){e=S(t,"SECTION",{"data-svelte-h":!0}),ge(e)!=="svelte-lyju69"&&(e.innerHTML=n)},m(t,i){b(t,e,i)},p:le,i:le,o:le,d(t){t&&d(e)}}}function sm(l){let e,n,t="Start typing the pokemon's species, then select from the provided list.",i,r,s,f,a,o,u,c;function m(g){l[8](g)}let p={label:"Species",disabled:l[3]};l[1]!==void 0&&(p.value=l[1]),s=new lt({props:p}),te.push(()=>ie(s,"value",m));const h=[fm,am],_=[];function E(g,w){return g[4].length===0&&g[1].length>0?0:1}return o=E(l),u=_[o]=h[o](l),{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),r=T("div"),A(s.$$.fragment),a=z(),u.c(),this.h()},l(g){e=S(g,"SECTION",{});var w=F(e);n=S(w,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-1nt5sai"&&(n.textContent=t),i=L(w),r=S(w,"DIV",{class:!0});var D=F(r);P(s.$$.fragment,D),D.forEach(d),a=L(w),u.l(w),w.forEach(d),this.h()},h(){C(r,"class","font-lg spaced-lg svelte-6yxzkf")},m(g,w){b(g,e,w),k(e,n),k(e,i),k(e,r),y(s,r,null),k(e,a),_[o].m(e,null),c=!0},p(g,w){const D={};w&8&&(D.disabled=g[3]),!f&&w&2&&(f=!0,D.value=g[1],ne(()=>f=!1)),s.$set(D);let H=o;o=E(g),o===H?_[o].p(g,w):(me(),v(_[H],1,1,()=>{_[H]=null}),de(),u=_[o],u?u.p(g,w):(u=_[o]=h[o](g),u.c()),$(u,1),u.m(e,null))},i(g){c||($(s.$$.fragment,g),$(u),c=!0)},o(g){v(s.$$.fragment,g),v(u),c=!1},d(g){g&&d(e),I(s),_[o].d()}}}function am(l){let e,n,t=Ne(l[4]),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ql(Yl(l,t,s));const r=s=>v(i[s],1,1,()=>{i[s]=null});return{c(){e=T("ul");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=S(s,"UL",{class:!0});var f=F(e);for(let a=0;a<i.length;a+=1)i[a].l(f);f.forEach(d),this.h()},h(){C(e,"class","no-list columnated svelte-6yxzkf")},m(s,f){b(s,e,f);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(s,f){if(f&88){t=Ne(s[4]);let a;for(a=0;a<t.length;a+=1){const o=Yl(s,t,a);i[a]?(i[a].p(o,f),$(i[a],1)):(i[a]=Ql(o),i[a].c(),$(i[a],1),i[a].m(e,null))}for(me(),a=t.length;a<i.length;a+=1)r(a);de()}},i(s){if(!n){for(let f=0;f<t.length;f+=1)$(i[f]);n=!0}},o(s){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)v(i[f]);n=!1},d(s){s&&d(e),nt(i,s)}}}function fm(l){let e,n="No matched pokemon";return{c(){e=T("p"),e.textContent=n,this.h()},l(t){e=S(t,"P",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1bl65jz"&&(e.textContent=n),this.h()},h(){C(e,"class","muted center svelte-6yxzkf")},m(t,i){b(t,e,i)},p:le,i:le,o:le,d(t){t&&d(e)}}}function om(l){let e=l[10].name+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&16&&e!==(e=t[10].name+"")&&re(n,e)},d(t){t&&d(n)}}}function Ql(l){let e,n,t,i;return n=new De({props:{align:"left",width:"full",disabled:l[3],$$slots:{default:[om]},$$scope:{ctx:l}}}),n.$on("click",function(){Kt(l[6](l[10]))&&l[6](l[10]).apply(this,arguments)}),{c(){e=T("li"),A(n.$$.fragment),t=z(),this.h()},l(r){e=S(r,"LI",{class:!0});var s=F(e);P(n.$$.fragment,s),t=L(s),s.forEach(d),this.h()},h(){C(e,"class","spaced-sm svelte-6yxzkf")},m(r,s){b(r,e,s),y(n,e,null),k(e,t),i=!0},p(r,s){l=r;const f={};s&8&&(f.disabled=l[3]),s&8208&&(f.$$scope={dirty:s,ctx:l}),n.$set(f)},i(r){i||($(n.$$.fragment,r),i=!0)},o(r){v(n.$$.fragment,r),i=!1},d(r){r&&d(e),I(n)}}}function um(l){let e,n,t,i;const r=[sm,rm],s=[];function f(a,o){return a[5]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function cm(l){let e,n,t,i;return e=new ft({props:{value:"Add Pokemon"}}),t=new st({props:{title:"Add to "+l[2].info.name+"'s team",$$slots:{default:[um]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&4&&(f.title="Add to "+r[2].info.name+"'s team"),s&8250&&(f.$$scope={dirty:s,ctx:r}),t.$set(f)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function mm(l,e,n){let t,i,r,s,f=le,a=()=>(f(),f=rt(u,_=>n(2,s=_)),u),o;ze(l,dt,_=>n(7,o=_)),l.$$.on_destroy.push(()=>f());let{trainer:u}=e;a();let c="",m=!1;const p=_=>()=>{var E;n(3,m=!0),(E=s.update)==null||E.addToTeam(_).then(({id:g})=>{tt(`${Qe}/trainers?id=${i}&pokemon=${g}`)}).catch(()=>{n(3,m=!1)})};function h(_){c=_,n(1,c)}return l.$$set=_=>{"trainer"in _&&a(n(0,u=_.trainer))},l.$$.update=()=>{l.$$.dirty&4&&n(5,t=s.update!=null),l.$$.dirty&4&&(i=s.info.readKey),l.$$.dirty&130&&n(4,r=c.length>0?(o==null?void 0:o.filter(sa(c)))??[]:[])},[u,c,s,m,r,t,p,o,h]}class dm extends fe{constructor(e){super(),oe(this,e,mm,cm,ae,{trainer:0})}}const _m="https://poke5e.app";function pm(l){let e;return{c(){e=B("Create Trainer")},l(n){e=O(n,"Create Trainer")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Wl(l){let e,n,t,i,r="The Poke 5e App has recently moved to <strong>poke5e.app</strong>! If you had trainer data, it should have been automatically transfered to here.",s,f,a="If that didn't happen, learn how you can recover your trainer data by clicking the link below:",o,u,c,m;return c=new De({props:{href:Qe+"/trainer-recovery",$$slots:{default:[hm]},$$scope:{ctx:l}}}),{c(){e=T("hr"),n=z(),t=T("section"),i=T("p"),i.innerHTML=r,s=z(),f=T("p"),f.textContent=a,o=z(),u=T("p"),A(c.$$.fragment),this.h()},l(p){e=S(p,"HR",{}),n=L(p),t=S(p,"SECTION",{class:!0});var h=F(t);i=S(h,"P",{"data-svelte-h":!0}),ge(i)!=="svelte-1wnxvdx"&&(i.innerHTML=r),s=L(h),f=S(h,"P",{"data-svelte-h":!0}),ge(f)!=="svelte-b7czmg"&&(f.textContent=a),o=L(h),u=S(h,"P",{class:!0});var _=F(u);P(c.$$.fragment,_),_.forEach(d),h.forEach(d),this.h()},h(){C(u,"class","more-space svelte-14tpsu8"),C(t,"class","center more-space svelte-14tpsu8")},m(p,h){b(p,e,h),b(p,n,h),b(p,t,h),k(t,i),k(t,s),k(t,f),k(t,o),k(t,u),y(c,u,null),m=!0},i(p){m||($(c.$$.fragment,p),m=!0)},o(p){v(c.$$.fragment,p),m=!1},d(p){p&&(d(e),d(n),d(t)),I(c)}}}function hm(l){let e;return{c(){e=B("Recover Trainers")},l(n){e=O(n,"Recover Trainers")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function $m(l){let e,n,t,i="Here, you can manage trainers and their pokemon for your campaign!",r,s,f="Create a trainer to get started:",a,o,u,c,m;u=new De({props:{href:Qe+"/trainers?action=new-trainer",$$slots:{default:[pm]},$$scope:{ctx:l}}});let p=l[0]&&Wl(l);return{c(){e=T("div"),n=T("section"),t=T("p"),t.textContent=i,r=z(),s=T("p"),s.textContent=f,a=z(),o=T("p"),A(u.$$.fragment),c=z(),p&&p.c(),this.h()},l(h){e=S(h,"DIV",{class:!0});var _=F(e);n=S(_,"SECTION",{class:!0});var E=F(n);t=S(E,"P",{"data-svelte-h":!0}),ge(t)!=="svelte-j1q6qh"&&(t.textContent=i),r=L(E),s=S(E,"P",{"data-svelte-h":!0}),ge(s)!=="svelte-uodcok"&&(s.textContent=f),a=L(E),o=S(E,"P",{class:!0});var g=F(o);P(u.$$.fragment,g),g.forEach(d),E.forEach(d),c=L(_),p&&p.l(_),_.forEach(d),this.h()},h(){C(o,"class","larger more-space svelte-14tpsu8"),C(n,"class","larger center more-space svelte-14tpsu8"),C(e,"class","scrollable svelte-14tpsu8")},m(h,_){b(h,e,_),k(e,n),k(n,t),k(n,r),k(n,s),k(n,a),k(n,o),y(u,o,null),k(e,c),p&&p.m(e,null),m=!0},p(h,[_]){const E={};_&4&&(E.$$scope={dirty:_,ctx:h}),u.$set(E),h[0]?p?_&1&&$(p,1):(p=Wl(h),p.c(),$(p,1),p.m(e,null)):p&&(me(),v(p,1,1,()=>{p=null}),de())},i(h){m||($(u.$$.fragment,h),$(p),m=!0)},o(h){v(u.$$.fragment,h),v(p),m=!1},d(h){h&&d(e),I(u),p&&p.d()}}}function gm(l,e,n){let t,i;return ze(l,fa,r=>n(1,i=r)),l.$$.update=()=>{l.$$.dirty&2&&n(0,t=window.location.origin===_m&&(i==="done"||i==="failed"))},[t,i]}class vm extends fe{constructor(e){super(),oe(this,e,gm,$m,ae,{})}}function Zl(l){let e,n,t,i="Learn how to recover them",r,s,f="dismiss this message.",a,o,u,c;return{c(){e=T("p"),n=B("Trainers missing? "),t=T("a"),t.textContent=i,r=B("! Or, "),s=T("button"),s.textContent=f,this.h()},l(m){e=S(m,"P",{class:!0});var p=F(e);n=O(p,"Trainers missing? "),t=S(p,"A",{href:!0,"data-svelte-h":!0}),ge(t)!=="svelte-17wm6fs"&&(t.textContent=i),r=O(p,"! Or, "),s=S(p,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-i1ukrp"&&(s.textContent=f),p.forEach(d),this.h()},h(){C(t,"href",Qe+"/trainer-recovery"),C(s,"class","svelte-urnljq"),C(e,"class","svelte-urnljq")},m(m,p){b(m,e,p),k(e,n),k(e,t),k(e,r),k(e,s),o=!0,u||(c=it(s,"click",l[1]),u=!0)},p:le,i(m){o||(m&&ys(()=>{o&&(a||(a=ai(e,ui,{axis:"y",duration:200},!0)),a.run(1))}),o=!0)},o(m){m&&(a||(a=ai(e,ui,{axis:"y",duration:200},!1)),a.run(0)),o=!1},d(m){m&&d(e),m&&a&&a.end(),u=!1,c()}}}function bm(l){let e,n=!l[0]&&Zl(l);return{c(){n&&n.c(),e=x()},l(t){n&&n.l(t),e=x()},m(t,i){n&&n.m(t,i),b(t,e,i)},p(t,[i]){t[0]?n&&(me(),v(n,1,1,()=>{n=null}),de()):n?(n.p(t,i),i&1&&$(n,1)):(n=Zl(t),n.c(),$(n,1),n.m(e.parentNode,e))},i(t){$(n)},o(t){v(n)},d(t){t&&d(e),n&&n.d(t)}}}function km(l,e,n){let t;return ze(l,Ei,r=>n(0,t=r)),[t,()=>Ei.set(!0)]}class wm extends fe{constructor(e){super(),oe(this,e,km,bm,ae,{})}}function Em(l){let e,n;return{c(){e=T("a"),n=B("Find by trainer ID >"),this.h()},l(t){e=S(t,"A",{slot:!0,href:!0,class:!0});var i=F(e);n=O(i,"Find by trainer ID >"),i.forEach(d),this.h()},h(){C(e,"slot","link"),C(e,"href",Pe.trainers(void 0,void 0,Re.findTrainer)),C(e,"class","dark-font svelte-1nzhjm0")},m(t,i){b(t,e,i),k(e,n)},p:le,d(t){t&&d(e)}}}function Cm(l){let e;return{c(){e=B("+ New Trainer")},l(n){e=O(n,"+ New Trainer")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Sm(l){let e,n;return e=new De({props:{slot:"action",href:Qe+"/trainers?action=new-trainer",$$slots:{default:[Cm]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4096&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Tm(l){let e,n,t,i,r;e=new wm({});function s(a){l[9](a)}let f={items:l[4],headers:[{key:"name",name:"Name",ratio:1,sort:l[7](Nm)}],$$slots:{default:[Pm,({item:a,cellVisibility:o})=>({10:a,11:o}),({item:a,cellVisibility:o})=>(a?1024:0)|(o?2048:0)]},$$scope:{ctx:l}};return l[6]!==void 0&&(f.currentSorter=l[6]),t=new aa({props:f}),te.push(()=>ie(t,"currentSorter",s)),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(a){P(e.$$.fragment,a),n=L(a),P(t.$$.fragment,a)},m(a,o){y(e,a,o),b(a,n,o),y(t,a,o),r=!0},p(a,o){const u={};o&16&&(u.items=a[4]),o&7168&&(u.$$scope={dirty:o,ctx:a}),!i&&o&64&&(i=!0,u.currentSorter=a[6],ne(()=>i=!1)),t.$set(u)},i(a){r||($(e.$$.fragment,a),$(t.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),v(t.$$.fragment,a),r=!1},d(a){a&&d(n),I(e,a),I(t,a)}}}function Im(l){let e,n,t=l[1]&&Jl();return{c(){t&&t.c(),e=x()},l(i){t&&t.l(i),e=x()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,r){i[1]?t?r&2&&$(t,1):(t=Jl(),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(me(),v(t,1,1,()=>{t=null}),de())},i(i){n||($(t),n=!0)},o(i){v(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function ym(l){let e,n=l[10].name+"",t,i;return{c(){e=T("a"),t=B(n),this.h()},l(r){e=S(r,"A",{href:!0});var s=F(e);t=O(s,n),s.forEach(d),this.h()},h(){C(e,"href",i=Qe+"/trainers?id="+l[10].readKey)},m(r,s){b(r,e,s),k(e,t)},p(r,s){s&1024&&n!==(n=r[10].name+"")&&re(t,n),s&1024&&i!==(i=Qe+"/trainers?id="+r[10].readKey)&&C(e,"href",i)},d(r){r&&d(e)}}}function Am(l){let e,n;return e=new ts.Cell({props:{cellVisibility:l[11][0],primary:!0,$$slots:{default:[ym]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2048&&(r.cellVisibility=t[11][0]),i&5120&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Pm(l){let e,n;return e=new ts.Row({props:{interactive:!0,mainBg:"var(--skin-bg-dark)",$$slots:{default:[Am]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&7168&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Jl(l){let e,n;return e=new vm({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Dm(l){let e,n,t,i,r,s,f,a,o,u;e=new Vr({props:{title:"Trainer List",target:"/trainers",$$slots:{action:[Sm],link:[Em]},$$scope:{ctx:l}}});function c(E){l[8](E)}let m={id:"filter-pokemon",label:"Search",matched:l[4].length,max:l[3].length};l[2]!==void 0&&(m.value=l[2]),i=new qr({props:m}),te.push(()=>ie(i,"value",c));const p=[Im,Tm],h=[];function _(E,g){return E[5]?0:1}return f=_(l),a=h[f]=p[f](l),{c(){A(e.$$.fragment),n=z(),t=T("div"),A(i.$$.fragment),s=z(),a.c(),o=x(),this.h()},l(E){P(e.$$.fragment,E),n=L(E),t=S(E,"DIV",{class:!0});var g=F(t);P(i.$$.fragment,g),g.forEach(d),s=L(E),a.l(E),o=x(),this.h()},h(){C(t,"class","space-bottom svelte-1nzhjm0")},m(E,g){y(e,E,g),b(E,n,g),b(E,t,g),y(i,t,null),b(E,s,g),h[f].m(E,g),b(E,o,g),u=!0},p(E,[g]){const w={};g&4096&&(w.$$scope={dirty:g,ctx:E}),e.$set(w);const D={};g&16&&(D.matched=E[4].length),g&8&&(D.max=E[3].length),!r&&g&4&&(r=!0,D.value=E[2],ne(()=>r=!1)),i.$set(D);let H=f;f=_(E),f===H?h[f].p(E,g):(me(),v(h[H],1,1,()=>{h[H]=null}),de(),a=h[f],a?a.p(E,g):(a=h[f]=p[f](E),a.c()),$(a,1),a.m(o.parentNode,o))},i(E){u||($(e.$$.fragment,E),$(i.$$.fragment,E),$(a),u=!0)},o(E){v(e.$$.fragment,E),v(i.$$.fragment,E),v(a),u=!1},d(E){E&&(d(n),d(t),d(s),d(o)),I(e,E),I(i),h[f].d(E)}}}const Nm=l=>l.name;function Lm(l,e,n){let t,i,r,s,f=le,a=()=>(f(),f=rt(u,_=>n(3,s=_)),u),o;ze(l,bi,_=>n(2,r=_)),ze(l,ki,_=>n(6,o=_)),l.$$.on_destroy.push(()=>f());let{trainers:u}=e;a();let{showGetStarted:c=!1}=e;const m=_=>(E,g)=>_(E).localeCompare(_(g));function p(_){r=_,bi.set(r)}function h(_){o=_,ki.set(o)}return l.$$set=_=>{"trainers"in _&&a(n(0,u=_.trainers)),"showGetStarted"in _&&n(1,c=_.showGetStarted)},l.$$.update=()=>{l.$$.dirty&8&&n(5,t=s.length===0),l.$$.dirty&12&&n(4,i=s.filter(_=>_.name.toLocaleLowerCase().includes(r.toLocaleLowerCase())))},[u,c,r,s,i,t,o,m,p,h]}class zm extends fe{constructor(e){super(),oe(this,e,Lm,Dm,ae,{trainers:0,showGetStarted:1})}}function Hm(l){let e,n,t,i,r,s;function f(c){l[6](c)}let a={label:"Name",disabled:l[3],required:!0};l[1]!==void 0&&(a.value=l[1]),e=new lt({props:a}),te.push(()=>ie(e,"value",f));function o(c){l[7](c)}let u={label:"Description",rows:6,disabled:l[3]};return l[2]!==void 0&&(u.value=l[2]),i=new kt({props:u}),te.push(()=>ie(i,"value",o)),{c(){A(e.$$.fragment),t=z(),A(i.$$.fragment)},l(c){P(e.$$.fragment,c),t=L(c),P(i.$$.fragment,c)},m(c,m){y(e,c,m),b(c,t,m),y(i,c,m),s=!0},p(c,m){const p={};m&8&&(p.disabled=c[3]),!n&&m&2&&(n=!0,p.value=c[1],ne(()=>n=!1)),e.$set(p);const h={};m&8&&(h.disabled=c[3]),!r&&m&4&&(r=!0,h.value=c[2],ne(()=>r=!1)),i.$set(h)},i(c){s||($(e.$$.fragment,c),$(i.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),v(i.$$.fragment,c),s=!1},d(c){c&&d(t),I(e,c),I(i,c)}}}function Fm(l){let e;return{c(){e=B("Once your trainer is created, you will be able to edit their stats, Pokémon, and inventory!")},l(n){e=O(n,"Once your trainer is created, you will be able to edit their stats, Pokémon, and inventory!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Rm(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Vm(l){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Mm(l){let e,n,t,i;return e=new De({props:{variant:"ghost",disabled:l[3],$$slots:{default:[Rm]},$$scope:{ctx:l}}}),e.$on("click",l[5]),t=new De({props:{type:"submit",disabled:l[3],$$slots:{default:[Vm]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s&8&&(f.disabled=r[3]),s&256&&(f.$$scope={dirty:s,ctx:r}),e.$set(f);const a={};s&8&&(a.disabled=r[3]),s&256&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function Om(l){let e,n,t,i,r,s;return e=new Je({props:{title:"Basic Info",$$slots:{default:[Hm]},$$scope:{ctx:l}}}),t=new xn({props:{$$slots:{default:[Fm]},$$scope:{ctx:l}}}),r=new Ze({props:{$$slots:{default:[Mm]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment),i=z(),A(r.$$.fragment)},l(f){P(e.$$.fragment,f),n=L(f),P(t.$$.fragment,f),i=L(f),P(r.$$.fragment,f)},m(f,a){y(e,f,a),b(f,n,a),y(t,f,a),b(f,i,a),y(r,f,a),s=!0},p(f,a){const o={};a&270&&(o.$$scope={dirty:a,ctx:f}),e.$set(o);const u={};a&256&&(u.$$scope={dirty:a,ctx:f}),t.$set(u);const c={};a&264&&(c.$$scope={dirty:a,ctx:f}),r.$set(c)},i(f){s||($(e.$$.fragment,f),$(t.$$.fragment,f),$(r.$$.fragment,f),s=!0)},o(f){v(e.$$.fragment,f),v(t.$$.fragment,f),v(r.$$.fragment,f),s=!1},d(f){f&&(d(n),d(i)),I(e,f),I(t,f),I(r,f)}}}function Bm(l){let e,n;return e=new Ut({props:{onsubmit:l[4],saving:l[0],$$slots:{default:[Om]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.saving=t[0]),i&270&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function qm(l){let e,n,t,i;return e=new ft({props:{value:"Create Trainer"}}),t=new st({props:{title:"Create a New Trainer",$$slots:{default:[Bm]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&271&&(f.$$scope={dirty:s,ctx:r}),t.$set(f)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function Km(l,e,n){let t,i="",r="",s=!1;const f=()=>{n(0,s=!0),Sn.new({name:i,description:r}).then(({info:c})=>{tt(`${Qe}/trainers?id=${c.readKey}`)}).catch(()=>{n(0,s=!1)})},a=()=>{tt(`${Qe}/trainers`)};function o(c){i=c,n(1,i)}function u(c){r=c,n(2,r)}return l.$$.update=()=>{l.$$.dirty&1&&n(3,t=s)},[s,i,r,t,f,a,o,u]}class Um extends fe{constructor(e){super(),oe(this,e,Km,qm,ae,{})}}function jm(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Gm(l){let e,n;return e=new st({props:{title:"Remove "+l[2].nickname+"?",$$slots:{default:[td]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.title="Remove "+t[2].nickname+"?"),i&636&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ym(l){let e,n,t="You do not have permission to remove this pokemon.",i,r,s;return r=new Ze({props:{$$slots:{default:[Zm]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-tjgn9a"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&524&&(o.$$scope={dirty:a,ctx:f}),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function Qm(l){let e,n;return e=new sn({props:{saving:l[4],$$slots:{default:[ed]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.saving=t[4]),i&556&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Wm(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Zm(l){let e,n;return e=new De({props:{href:Qe+"/trainers?id="+l[3].info.readKey+"&pokemon="+l[2].id,$$slots:{default:[Wm]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&12&&(r.href=Qe+"/trainers?id="+t[3].info.readKey+"&pokemon="+t[2].id),i&512&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Xl(l){let e,n,t;return n=new Xn({props:{media:l[5].media,alt:l[5].name}}),{c(){e=T("p"),A(n.$$.fragment),this.h()},l(i){e=S(i,"P",{class:!0});var r=F(e);P(n.$$.fragment,r),r.forEach(d),this.h()},h(){C(e,"class","centered greyscale svelte-li4qwo")},m(i,r){b(i,e,r),y(n,e,null),t=!0},p(i,r){const s={};r&32&&(s.media=i[5].media),r&32&&(s.alt=i[5].name),n.$set(s)},i(i){t||($(n.$$.fragment,i),t=!0)},o(i){v(n.$$.fragment,i),t=!1},d(i){i&&d(e),I(n)}}}function Jm(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Xm(l){let e;return{c(){e=B("Delete")},l(n){e=O(n,"Delete")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function xm(l){let e,n,t,i;return e=new De({props:{href:Qe+"/trainers?id="+l[3].info.readKey+"&pokemon="+l[2].id,variant:"ghost",$$slots:{default:[Jm]},$$scope:{ctx:l}}}),t=new De({props:{variant:"danger",$$slots:{default:[Xm]},$$scope:{ctx:l}}}),t.$on("click",l[7]),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s&12&&(f.href=Qe+"/trainers?id="+r[3].info.readKey+"&pokemon="+r[2].id),s&512&&(f.$$scope={dirty:s,ctx:r}),e.$set(f);const a={};s&512&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function ed(l){var w;let e,n,t,i=l[2].nickname+"",r,s,f=l[3].info.name+"",a,o,u,c,m="Removal is permanent and cannot be undone!",p,h,_,E,g=((w=l[5].media)==null?void 0:w.main)&&Xl(l);return _=new Ze({props:{$$slots:{default:[xm]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to remove "),r=B(i),s=B(" from "),a=B(f),o=B("'s team?"),u=z(),c=T("p"),c.textContent=m,p=z(),g&&g.c(),h=z(),A(_.$$.fragment)},l(D){e=S(D,"SECTION",{});var H=F(e);n=S(H,"P",{});var N=F(n);t=O(N,"Are you sure you want to remove "),r=O(N,i),s=O(N," from "),a=O(N,f),o=O(N,"'s team?"),N.forEach(d),u=L(H),c=S(H,"P",{"data-svelte-h":!0}),ge(c)!=="svelte-raeweb"&&(c.textContent=m),p=L(H),g&&g.l(H),h=L(H),P(_.$$.fragment,H),H.forEach(d)},m(D,H){b(D,e,H),k(e,n),k(n,t),k(n,r),k(n,s),k(n,a),k(n,o),k(e,u),k(e,c),k(e,p),g&&g.m(e,null),k(e,h),y(_,e,null),E=!0},p(D,H){var R;(!E||H&4)&&i!==(i=D[2].nickname+"")&&re(r,i),(!E||H&8)&&f!==(f=D[3].info.name+"")&&re(a,f),(R=D[5].media)!=null&&R.main?g?(g.p(D,H),H&32&&$(g,1)):(g=Xl(D),g.c(),$(g,1),g.m(e,h)):g&&(me(),v(g,1,1,()=>{g=null}),de());const N={};H&524&&(N.$$scope={dirty:H,ctx:D}),_.$set(N)},i(D){E||($(g),$(_.$$.fragment,D),E=!0)},o(D){v(g),v(_.$$.fragment,D),E=!1},d(D){D&&d(e),g&&g.d(),I(_)}}}function td(l){let e,n,t,i;const r=[Qm,Ym],s=[];function f(a,o){return a[6]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function nd(l){let e,n,t,i;const r=[Gm,jm],s=[];function f(a,o){return a[5]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function id(l){let e,n;return e=new un({props:{trainer:l[3],id:l[1],titlePrefix:"Remove",$$slots:{default:[nd]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&8&&(r.trainer=t[3]),i&2&&(r.id=t[1]),i&636&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function ld(l,e,n){let t,i,r,s,f=le,a=()=>(f(),f=rt(u,h=>n(3,s=h)),u),o;ze(l,dt,h=>n(8,o=h)),l.$$.on_destroy.push(()=>f());let{trainer:u}=e;a();let{id:c}=e,m=!1;const p=()=>{var h;n(4,m=!0),(h=s.update)==null||h.removeFromTeam(c).then(()=>{tt(`${Qe}/trainers?id=${s.info.readKey}`)}).catch(()=>{n(4,m=!1)})};return l.$$set=h=>{"trainer"in h&&a(n(0,u=h.trainer)),"id"in h&&n(1,c=h.id)},l.$$.update=()=>{l.$$.dirty&8&&n(6,t=s.update!=null),l.$$.dirty&10&&n(2,i=s.pokemon.find(h=>h.id===c)),l.$$.dirty&260&&n(5,r=o==null?void 0:o.find(h=>h.id===(i==null?void 0:i.pokemonId)))},[u,c,i,s,m,r,t,p,o]}class rd extends fe{constructor(e){super(),oe(this,e,ld,id,ae,{trainer:0,id:1})}}function sd(l){let e,n;return e=new Je({props:{title:"Basic Info",columns:2,$$slots:{default:[fd]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1073744127&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function ad(l){let e,n;return e=new Je({props:{title:"Basic Info",$$slots:{default:[od]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1073745919&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function fd(l){let e,n,t,i,r,s,f,a,o,u,c,m,p,h,_,E,g,w,D,H,N,R,V;function M(Y){l[23](Y)}let q={label:"Nickname",disabled:l[11]};l[0]!==void 0&&(q.value=l[0]),e=new lt({props:q}),te.push(()=>ie(e,"value",M));function U(Y){l[24](Y)}let Q={disabled:l[11]};l[1]!==void 0&&(Q.value=l[1]),i=new hs({props:Q}),te.push(()=>ie(i,"value",U));function J(Y){l[25](Y)}let K={label:"Tera",options:l[13],disabled:l[11]};l[2].data!==void 0&&(K.value=l[2].data),f=new mt({props:K}),te.push(()=>ie(f,"value",J)),u=new et({props:{label:"Level",value:l[3],min:1,max:20,disabled:l[11]}}),u.$on("change",l[12]);function G(Y){l[26](Y)}let ue={label:"AC",min:0,max:99,disabled:l[11]};l[4]!==void 0&&(ue.value=l[4]),m=new et({props:ue}),te.push(()=>ie(m,"value",G));function ve(Y){l[27](Y)}let Z={label:"Max HP",min:0,disabled:l[11]};l[5]!==void 0&&(Z.value=l[5]),_=new et({props:Z}),te.push(()=>ie(_,"value",ve));function he(Y){l[28](Y)}let Ce={label:"Max Hit Dice",min:0,max:20,disabled:l[11]};l[6]!==void 0&&(Ce.value=l[6]),w=new et({props:Ce}),te.push(()=>ie(w,"value",he));function se(Y){l[29](Y)}let ee={label:"Shiny",disabled:l[11]};return l[7]!==void 0&&(ee.value=l[7]),N=new ns({props:ee}),te.push(()=>ie(N,"value",se)),{c(){A(e.$$.fragment),t=z(),A(i.$$.fragment),s=z(),A(f.$$.fragment),o=z(),A(u.$$.fragment),c=z(),A(m.$$.fragment),h=z(),A(_.$$.fragment),g=z(),A(w.$$.fragment),H=z(),A(N.$$.fragment)},l(Y){P(e.$$.fragment,Y),t=L(Y),P(i.$$.fragment,Y),s=L(Y),P(f.$$.fragment,Y),o=L(Y),P(u.$$.fragment,Y),c=L(Y),P(m.$$.fragment,Y),h=L(Y),P(_.$$.fragment,Y),g=L(Y),P(w.$$.fragment,Y),H=L(Y),P(N.$$.fragment,Y)},m(Y,ce){y(e,Y,ce),b(Y,t,ce),y(i,Y,ce),b(Y,s,ce),y(f,Y,ce),b(Y,o,ce),y(u,Y,ce),b(Y,c,ce),y(m,Y,ce),b(Y,h,ce),y(_,Y,ce),b(Y,g,ce),y(w,Y,ce),b(Y,H,ce),y(N,Y,ce),V=!0},p(Y,ce){const _e={};ce&2048&&(_e.disabled=Y[11]),!n&&ce&1&&(n=!0,_e.value=Y[0],ne(()=>n=!1)),e.$set(_e);const $e={};ce&2048&&($e.disabled=Y[11]),!r&&ce&2&&(r=!0,$e.value=Y[1],ne(()=>r=!1)),i.$set($e);const Te={};ce&2048&&(Te.disabled=Y[11]),!a&&ce&4&&(a=!0,Te.value=Y[2].data,ne(()=>a=!1)),f.$set(Te);const we={};ce&8&&(we.value=Y[3]),ce&2048&&(we.disabled=Y[11]),u.$set(we);const X={};ce&2048&&(X.disabled=Y[11]),!p&&ce&16&&(p=!0,X.value=Y[4],ne(()=>p=!1)),m.$set(X);const be={};ce&2048&&(be.disabled=Y[11]),!E&&ce&32&&(E=!0,be.value=Y[5],ne(()=>E=!1)),_.$set(be);const Ie={};ce&2048&&(Ie.disabled=Y[11]),!D&&ce&64&&(D=!0,Ie.value=Y[6],ne(()=>D=!1)),w.$set(Ie);const He={};ce&2048&&(He.disabled=Y[11]),!R&&ce&128&&(R=!0,He.value=Y[7],ne(()=>R=!1)),N.$set(He)},i(Y){V||($(e.$$.fragment,Y),$(i.$$.fragment,Y),$(f.$$.fragment,Y),$(u.$$.fragment,Y),$(m.$$.fragment,Y),$(_.$$.fragment,Y),$(w.$$.fragment,Y),$(N.$$.fragment,Y),V=!0)},o(Y){v(e.$$.fragment,Y),v(i.$$.fragment,Y),v(f.$$.fragment,Y),v(u.$$.fragment,Y),v(m.$$.fragment,Y),v(_.$$.fragment,Y),v(w.$$.fragment,Y),v(N.$$.fragment,Y),V=!1},d(Y){Y&&(d(t),d(s),d(o),d(c),d(h),d(g),d(H)),I(e,Y),I(i,Y),I(f,Y),I(u,Y),I(m,Y),I(_,Y),I(w,Y),I(N,Y)}}}function od(l){let e,n,t,i,r,s,f,a,o,u,c,m,p,h,_,E,g,w,D,H,N,R,V,M,q,U,Q,J,K,G,ue,ve;function Z(pe){l[14](pe)}let he={label:"Nickname",disabled:l[11]};l[0]!==void 0&&(he.value=l[0]),t=new lt({props:he}),te.push(()=>ie(t,"value",Z));function Ce(pe){l[15](pe)}let se={label:"Tera",options:l[13],disabled:l[11]};l[2].data!==void 0&&(se.value=l[2].data),f=new mt({props:se}),te.push(()=>ie(f,"value",Ce));function ee(pe){l[16](pe)}let Y={disabled:l[11]};l[1]!==void 0&&(Y.value=l[1]),c=new hs({props:Y}),te.push(()=>ie(c,"value",ee)),h=new et({props:{label:"Level",value:l[3],min:1,max:20,disabled:l[11]}}),h.$on("change",l[12]);function ce(pe){l[17](pe)}let _e={label:"AC",min:0,max:99,disabled:l[11]};l[4]!==void 0&&(_e.value=l[4]),E=new et({props:_e}),te.push(()=>ie(E,"value",ce));function $e(pe){l[18](pe)}let Te={label:"Max HP",min:0,disabled:l[11]};l[5]!==void 0&&(Te.value=l[5]),D=new et({props:Te}),te.push(()=>ie(D,"value",$e));function we(pe){l[19](pe)}let X={label:"Max Hit Dice",min:0,max:20,disabled:l[11]};l[6]!==void 0&&(X.value=l[6]),R=new et({props:X}),te.push(()=>ie(R,"value",we));function be(pe){l[20](pe)}let Ie={label:"Shiny",disabled:l[11]};l[7]!==void 0&&(Ie.value=l[7]),q=new ns({props:Ie}),te.push(()=>ie(q,"value",be));function He(pe){l[21](pe)}function Ve(pe){l[22](pe)}let Ue={label:"Custom Image",previousValue:l[10],maxbytes:cd,disabled:l[11]};return l[8]!==void 0&&(Ue.currentValue=l[8]),l[9]!==void 0&&(Ue.isValid=l[9]),K=new is({props:Ue}),te.push(()=>ie(K,"currentValue",He)),te.push(()=>ie(K,"isValid",Ve)),{c(){e=T("div"),n=T("div"),A(t.$$.fragment),r=z(),s=T("div"),A(f.$$.fragment),o=z(),u=T("div"),A(c.$$.fragment),p=z(),A(h.$$.fragment),_=z(),A(E.$$.fragment),w=z(),A(D.$$.fragment),N=z(),A(R.$$.fragment),M=z(),A(q.$$.fragment),Q=z(),J=T("div"),A(K.$$.fragment),this.h()},l(pe){e=S(pe,"DIV",{class:!0});var ye=F(e);n=S(ye,"DIV",{});var Oe=F(n);P(t.$$.fragment,Oe),Oe.forEach(d),r=L(ye),s=S(ye,"DIV",{});var je=F(s);P(f.$$.fragment,je),je.forEach(d),o=L(ye),u=S(ye,"DIV",{});var Xe=F(u);P(c.$$.fragment,Xe),Xe.forEach(d),p=L(ye),P(h.$$.fragment,ye),_=L(ye),P(E.$$.fragment,ye),w=L(ye),P(D.$$.fragment,ye),N=L(ye),P(R.$$.fragment,ye),M=L(ye),P(q.$$.fragment,ye),Q=L(ye),J=S(ye,"DIV",{class:!0});var Me=F(J);P(K.$$.fragment,Me),Me.forEach(d),ye.forEach(d),this.h()},h(){Se(n,"grid-area","field1"),Se(s,"grid-area","field2"),Se(u,"grid-area","field3"),C(J,"class","image-field svelte-1oudq7k"),Se(J,"grid-area","avatar"),C(e,"class","grid svelte-1oudq7k")},m(pe,ye){b(pe,e,ye),k(e,n),y(t,n,null),k(e,r),k(e,s),y(f,s,null),k(e,o),k(e,u),y(c,u,null),k(e,p),y(h,e,null),k(e,_),y(E,e,null),k(e,w),y(D,e,null),k(e,N),y(R,e,null),k(e,M),y(q,e,null),k(e,Q),k(e,J),y(K,J,null),ve=!0},p(pe,ye){const Oe={};ye&2048&&(Oe.disabled=pe[11]),!i&&ye&1&&(i=!0,Oe.value=pe[0],ne(()=>i=!1)),t.$set(Oe);const je={};ye&2048&&(je.disabled=pe[11]),!a&&ye&4&&(a=!0,je.value=pe[2].data,ne(()=>a=!1)),f.$set(je);const Xe={};ye&2048&&(Xe.disabled=pe[11]),!m&&ye&2&&(m=!0,Xe.value=pe[1],ne(()=>m=!1)),c.$set(Xe);const Me={};ye&8&&(Me.value=pe[3]),ye&2048&&(Me.disabled=pe[11]),h.$set(Me);const We={};ye&2048&&(We.disabled=pe[11]),!g&&ye&16&&(g=!0,We.value=pe[4],ne(()=>g=!1)),E.$set(We);const _t={};ye&2048&&(_t.disabled=pe[11]),!H&&ye&32&&(H=!0,_t.value=pe[5],ne(()=>H=!1)),D.$set(_t);const ut={};ye&2048&&(ut.disabled=pe[11]),!V&&ye&64&&(V=!0,ut.value=pe[6],ne(()=>V=!1)),R.$set(ut);const pt={};ye&2048&&(pt.disabled=pe[11]),!U&&ye&128&&(U=!0,pt.value=pe[7],ne(()=>U=!1)),q.$set(pt);const at={};ye&1024&&(at.previousValue=pe[10]),ye&2048&&(at.disabled=pe[11]),!G&&ye&256&&(G=!0,at.currentValue=pe[8],ne(()=>G=!1)),!ue&&ye&512&&(ue=!0,at.isValid=pe[9],ne(()=>ue=!1)),K.$set(at)},i(pe){ve||($(t.$$.fragment,pe),$(f.$$.fragment,pe),$(c.$$.fragment,pe),$(h.$$.fragment,pe),$(E.$$.fragment,pe),$(D.$$.fragment,pe),$(R.$$.fragment,pe),$(q.$$.fragment,pe),$(K.$$.fragment,pe),ve=!0)},o(pe){v(t.$$.fragment,pe),v(f.$$.fragment,pe),v(c.$$.fragment,pe),v(h.$$.fragment,pe),v(E.$$.fragment,pe),v(D.$$.fragment,pe),v(R.$$.fragment,pe),v(q.$$.fragment,pe),v(K.$$.fragment,pe),ve=!1},d(pe){pe&&d(e),I(t),I(f),I(c),I(h),I(E),I(D),I(R),I(q),I(K)}}}function ud(l){let e,n,t,i;const r=[ad,sd],s=[];function f(a,o){return 0}return e=f(),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,[o]){n.p(a,o)},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}const cd=524288;function md(l,e,n){let{nickname:t}=e,{nature:i}=e,{tera:r}=e,{level:s}=e,{ac:f}=e,{maxHp:a}=e,{maxHitDice:o}=e,{isShiny:u}=e,{originalAvatarSrc:c}=e,{avatar:m}=e,{isValid:p=!0}=e,{disabled:h=!1}=e;const _=Z=>{s===o&&n(6,o=Z.detail.value),n(3,s=Z.detail.value)},E=It.list.map(Z=>({name:Z,value:Z}));function g(Z){t=Z,n(0,t)}function w(Z){l.$$.not_equal(r.data,Z)&&(r.data=Z,n(2,r))}function D(Z){i=Z,n(1,i)}function H(Z){f=Z,n(4,f)}function N(Z){a=Z,n(5,a)}function R(Z){o=Z,n(6,o)}function V(Z){u=Z,n(7,u)}function M(Z){m=Z,n(8,m)}function q(Z){p=Z,n(9,p)}function U(Z){t=Z,n(0,t)}function Q(Z){i=Z,n(1,i)}function J(Z){l.$$.not_equal(r.data,Z)&&(r.data=Z,n(2,r))}function K(Z){f=Z,n(4,f)}function G(Z){a=Z,n(5,a)}function ue(Z){o=Z,n(6,o)}function ve(Z){u=Z,n(7,u)}return l.$$set=Z=>{"nickname"in Z&&n(0,t=Z.nickname),"nature"in Z&&n(1,i=Z.nature),"tera"in Z&&n(2,r=Z.tera),"level"in Z&&n(3,s=Z.level),"ac"in Z&&n(4,f=Z.ac),"maxHp"in Z&&n(5,a=Z.maxHp),"maxHitDice"in Z&&n(6,o=Z.maxHitDice),"isShiny"in Z&&n(7,u=Z.isShiny),"originalAvatarSrc"in Z&&n(10,c=Z.originalAvatarSrc),"avatar"in Z&&n(8,m=Z.avatar),"isValid"in Z&&n(9,p=Z.isValid),"disabled"in Z&&n(11,h=Z.disabled)},[t,i,r,s,f,a,o,u,m,p,c,h,_,E,g,w,D,H,N,R,V,M,q,U,Q,J,K,G,ue,ve]}let dd=class extends fe{constructor(e){super(),oe(this,e,md,ud,ae,{nickname:0,nature:1,tera:2,level:3,ac:4,maxHp:5,maxHitDice:6,isShiny:7,originalAvatarSrc:10,avatar:8,isValid:9,disabled:11})}};function _d(l){let e,n,t;function i(s){l[7](s)}let r={label:"Ability",options:l[2],disabled:l[1]};return l[0]!==void 0&&(r.value=l[0]),e=new mt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&4&&(a.options=s[2]),f&2&&(a.disabled=s[1]),!n&&f&1&&(n=!0,a.value=s[0],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function pd(l){let e,n;return e=new Je({props:{title:"Ability",$$slots:{default:[_d]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&263&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function hd(l,e,n){let t,i,r,s;ze(l,ds,c=>n(6,s=c));let{ability:f}=e,{species:a}=e,{disabled:o}=e;function u(c){f=c,n(0,f)}return l.$$set=c=>{"ability"in c&&n(0,f=c.ability),"species"in c&&n(3,a=c.species),"disabled"in c&&n(1,o=c.disabled)},l.$$.update=()=>{l.$$.dirty&8&&n(5,t=a.abilities.map(c=>c.id)),l.$$.dirty&96&&n(4,i=s==null?void 0:s.filter(c=>!t.includes(c.id))),l.$$.dirty&24&&n(2,r=[{name:"Learnable Abilities",values:a.abilities.map(c=>({name:c.name+(c.hidden?" (hidden)":""),value:c.id}))},{name:"All Other Abilities",values:i.map(c=>({name:c.name,value:c.id}))}])},[f,o,r,a,i,t,s,u]}class $d extends fe{constructor(e){super(),oe(this,e,hd,pd,ae,{ability:0,species:3,disabled:1})}}const gd=["pokeball","medicine","berry","held item","evolution","trainer gear"],vd=l=>({name:l,items:[]});function bd(l,e){const n=e.concat(gd.filter(i=>!e.includes(i))),t=n.reduce((i,r)=>({...i,[r]:vd(ua(r))}),{});return l.forEach(i=>t[i.type].items.push(i)),n.map(i=>t[i])}function kd(l){let e,n,t,i,r;e=new Pn({props:{$$slots:{default:[Ed]},$$scope:{ctx:l}}}),e.$on("remove",l[10]);function s(a){l[11](a)}let f={label:"Item Description",name:"item-description-"+l[0].id,disabled:l[1]};return l[0].description!==void 0&&(f.value=l[0].description),t=new kt({props:f}),te.push(()=>ie(t,"value",s)),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(a){P(e.$$.fragment,a),n=L(a),P(t.$$.fragment,a)},m(a,o){y(e,a,o),b(a,n,o),y(t,a,o),r=!0},p(a,o){const u={};o&4103&&(u.$$scope={dirty:o,ctx:a}),e.$set(u);const c={};o&1&&(c.name="item-description-"+a[0].id),o&2&&(c.disabled=a[1]),!i&&o&1&&(i=!0,c.value=a[0].description,ne(()=>i=!1)),t.$set(c)},i(a){r||($(e.$$.fragment,a),$(t.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),v(t.$$.fragment,a),r=!1},d(a){a&&d(n),I(e,a),I(t,a)}}}function wd(l){let e,n;return e=new Pn({props:{$$slots:{default:[Cd]},$$scope:{ctx:l}}}),e.$on("remove",l[8]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4111&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ed(l){let e,n,t;function i(s){l[9](s)}let r={label:"Name",name:l[2],disabled:l[1]};return l[0].name!==void 0&&(r.value=l[0].name),e=new lt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&4&&(a.name=s[2]),f&2&&(a.disabled=s[1]),!n&&f&1&&(n=!0,a.value=s[0].name,ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Cd(l){let e,n,t;function i(s){l[7](s)}let r={label:"Item",name:l[2],options:l[3],disabled:l[1]};return l[0].itemId!==void 0&&(r.value=l[0].itemId),e=new mt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&4&&(a.name=s[2]),f&8&&(a.options=s[3]),f&2&&(a.disabled=s[1]),!n&&f&1&&(n=!0,a.value=s[0].itemId,ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Sd(l){let e,n,t,i,r;const s=[wd,kd],f=[];function a(o,u){return o[0].type==="standard"?0:1}return e=a(l),n=f[e]=s[e](l),i=new rs({}),{c(){n.c(),t=z(),A(i.$$.fragment)},l(o){n.l(o),t=L(o),P(i.$$.fragment,o)},m(o,u){f[e].m(o,u),b(o,t,u),y(i,o,u),r=!0},p(o,[u]){let c=e;e=a(o),e===c?f[e].p(o,u):(me(),v(f[c],1,1,()=>{f[c]=null}),de(),n=f[e],n?n.p(o,u):(n=f[e]=s[e](o),n.c()),$(n,1),n.m(t.parentNode,t))},i(o){r||($(n),$(i.$$.fragment,o),r=!0)},o(o){v(n),v(i.$$.fragment,o),r=!1},d(o){o&&d(t),f[e].d(o),I(i,o)}}}const qn=l=>`item-id-${l}`;function Td(l,e,n){let t,i,r,s;ze(l,Jn,_=>n(6,s=_));let{value:f}=e,{groupOrder:a=[]}=e,{disabled:o=!1}=e;function u(_){l.$$.not_equal(f.itemId,_)&&(f.itemId=_,n(0,f))}function c(_){en.call(this,l,_)}function m(_){l.$$.not_equal(f.name,_)&&(f.name=_,n(0,f))}function p(_){en.call(this,l,_)}function h(_){l.$$.not_equal(f.description,_)&&(f.description=_,n(0,f))}return l.$$set=_=>{"value"in _&&n(0,f=_.value),"groupOrder"in _&&n(4,a=_.groupOrder),"disabled"in _&&n(1,o=_.disabled)},l.$$.update=()=>{l.$$.dirty&80&&n(5,t=bd(s??[],a)),l.$$.dirty&32&&n(3,i=t.map(_=>({name:_.name,values:_.items.map(E=>({name:E.name,value:E.id}))}))),l.$$.dirty&1&&n(2,r=qn(f.id))},[f,o,r,i,a,t,s,u,c,m,p,h]}class Id extends fe{constructor(e){super(),oe(this,e,Td,Sd,ae,{value:0,groupOrder:4,disabled:1})}}function xl(l,e,n){const t=l.slice();return t[10]=e[n],t}function er(l,e){let n,t,i;return t=new Id({props:{value:e[10],disabled:e[2],groupOrder:e[1]}}),t.$on("remove",function(){Kt(e[3](e[10].id))&&e[3](e[10].id).apply(this,arguments)}),{key:l,first:null,c(){n=x(),A(t.$$.fragment),this.h()},l(r){n=x(),P(t.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){b(r,n,s),y(t,r,s),i=!0},p(r,s){e=r;const f={};s&1&&(f.value=e[10]),s&4&&(f.disabled=e[2]),s&2&&(f.groupOrder=e[1]),t.$set(f)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(t,r)}}}function yd(l){let e;return{c(){e=B("Add Item")},l(n){e=O(n,"Add Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Ad(l){let e;return{c(){e=B("Add Custom Item")},l(n){e=O(n,"Add Custom Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Pd(l){let e,n=[],t=new Map,i,r,s,f,a,o,u=Ne(l[0]);const c=m=>m[10].id;for(let m=0;m<u.length;m+=1){let p=xl(l,u,m),h=c(p);t.set(h,n[m]=er(h,p))}return s=new De({props:{$$slots:{default:[yd]},$$scope:{ctx:l}}}),s.$on("click",l[4]),a=new De({props:{$$slots:{default:[Ad]},$$scope:{ctx:l}}}),a.$on("click",l[5]),{c(){e=T("div");for(let m=0;m<n.length;m+=1)n[m].c();i=z(),r=T("div"),A(s.$$.fragment),f=z(),A(a.$$.fragment),this.h()},l(m){e=S(m,"DIV",{class:!0});var p=F(e);for(let _=0;_<n.length;_+=1)n[_].l(p);i=L(p),r=S(p,"DIV",{class:!0});var h=F(r);P(s.$$.fragment,h),f=L(h),P(a.$$.fragment,h),h.forEach(d),p.forEach(d),this.h()},h(){C(r,"class","row svelte-pqgyo1"),C(e,"class","inventory-editor svelte-pqgyo1")},m(m,p){b(m,e,p);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(e,null);k(e,i),k(e,r),y(s,r,null),k(r,f),y(a,r,null),o=!0},p(m,[p]){p&15&&(u=Ne(m[0]),me(),n=an(n,p,c,1,m,u,t,e,fn,er,i,xl),de());const h={};p&8192&&(h.$$scope={dirty:p,ctx:m}),s.$set(h);const _={};p&8192&&(_.$$scope={dirty:p,ctx:m}),a.$set(_)},i(m){if(!o){for(let p=0;p<u.length;p+=1)$(n[p]);$(s.$$.fragment,m),$(a.$$.fragment,m),o=!0}},o(m){for(let p=0;p<n.length;p+=1)v(n[p]);v(s.$$.fragment,m),v(a.$$.fragment,m),o=!1},d(m){m&&d(e);for(let p=0;p<n.length;p+=1)n[p].d();I(s),I(a)}}}function Dd(l,e,n){let{values:t}=e,{groupOrder:i=[]}=e,{disabled:r}=e,{newStandardItem:s}=e,{newCustomItem:f}=e,a=-1001;const o=()=>(--a).toString(),u=p=>()=>{n(0,t=t.filter(h=>h.id!==p))},c=()=>{const p=o();n(0,t=[...t,s(p)]),nn(qn(p))},m=()=>{const p=o();n(0,t=[...t,f(p)]),nn(qn(p))};return l.$$set=p=>{"values"in p&&n(0,t=p.values),"groupOrder"in p&&n(1,i=p.groupOrder),"disabled"in p&&n(2,r=p.disabled),"newStandardItem"in p&&n(6,s=p.newStandardItem),"newCustomItem"in p&&n(7,f=p.newCustomItem)},[t,i,r,u,c,m,s,f]}class bs extends fe{constructor(e){super(),oe(this,e,Dd,Pd,ae,{values:0,groupOrder:1,disabled:2,newStandardItem:6,newCustomItem:7})}}function Nd(l){let e,n,t;function i(s){l[4](s)}let r={disabled:l[1],newStandardItem:l[2],newCustomItem:l[3],groupOrder:["berry","held item","evolution","medicine","pokeball"]};return l[0]!==void 0&&(r.values=l[0]),e=new bs({props:r}),te.push(()=>ie(e,"values",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&2&&(a.disabled=s[1]),!n&&f&1&&(n=!0,a.values=s[0],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Ld(l){let e,n;return e=new Je({props:{title:"Inventory",$$slots:{default:[Nd]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&35&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function zd(l,e,n){let{items:t}=e,{disabled:i}=e;const r=a=>({id:a,type:"standard",itemId:"lum-berry"}),s=a=>({id:a,type:"custom",name:"",description:""});function f(a){t=a,n(0,t)}return l.$$set=a=>{"items"in a&&n(0,t=a.items),"disabled"in a&&n(1,i=a.disabled)},[t,i,r,s,f]}class Hd extends fe{constructor(e){super(),oe(this,e,zd,Ld,ae,{items:0,disabled:1})}}const pn=(l,e)=>l.localeCompare(e),Jt=l=>({name:l,moves:[]});function Fd(l,e,n,t){var _,E;const i=(g,w,D)=>g>=w?D??[]:[],r=(g,w,D)=>g<w?D??[]:[],s=n.moves.start.concat(i(t,2,n.moves.level2),i(t,6,n.moves.level6),i(t,10,n.moves.level10),i(t,14,n.moves.level14),i(t,18,n.moves.level18)).toSorted(pn),f=[].concat(r(t,2,n.moves.level2),r(t,6,n.moves.level6),r(t,10,n.moves.level10),r(t,14,n.moves.level14),r(t,18,n.moves.level18)).toSorted(pn),a=((_=n.moves.tm)==null?void 0:_.map(g=>e.find(w=>w.id===g)).map(g=>g==null?void 0:g.move).filter(g=>g!=null).toSorted(pn))??[],o=((E=n.moves.egg)==null?void 0:E.toSorted(pn))??[],u=Jt("Learnable at Current Level"),c=Jt("Learnable at Later Levels"),m=Jt("TMs"),p=Jt("Egg Moves"),h=Jt("All Other Moves");return l.forEach(g=>{const w=[];s.includes(g.id)&&w.push(u),f.includes(g.id)&&w.push(c),a.includes(g.id)&&w.push(m),o.includes(g.id)&&w.push(p),w.forEach(D=>D.moves.push(g)),w.length===0&&h.moves.push(g)}),[u,c,m,p,h].filter(g=>g.moves.length>0)}function Rd(l){let e,n,t;function i(s){l[10](s)}let r={label:"Move",name:l[2],options:l[3],disabled:l[1]};return l[0].moveId!==void 0&&(r.value=l[0].moveId),e=new mt({props:r}),te.push(()=>ie(e,"value",i)),e.$on("change",l[4]),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&4&&(a.name=s[2]),f&8&&(a.options=s[3]),f&2&&(a.disabled=s[1]),!n&&f&1&&(n=!0,a.value=s[0].moveId,ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Vd(l){let e,n,t,i,r,s,f,a,o;n=new Pn({props:{$$slots:{default:[Rd]},$$scope:{ctx:l}}}),n.$on("remove",l[11]);function u(h){l[12](h)}let c={label:"Max PP",name:"move-pp-"+l[0].id,disabled:l[1]};l[0].pp.max!==void 0&&(c.value=l[0].pp.max),i=new et({props:c}),te.push(()=>ie(i,"value",u));function m(h){l[13](h)}let p={label:"Notes",name:"move-notes-"+l[0].id,disabled:l[1]};return l[0].notes!==void 0&&(p.value=l[0].notes),f=new kt({props:p}),te.push(()=>ie(f,"value",m)),{c(){e=T("div"),A(n.$$.fragment),t=z(),A(i.$$.fragment),s=z(),A(f.$$.fragment),this.h()},l(h){e=S(h,"DIV",{class:!0});var _=F(e);P(n.$$.fragment,_),t=L(_),P(i.$$.fragment,_),s=L(_),P(f.$$.fragment,_),_.forEach(d),this.h()},h(){C(e,"class","move-editor svelte-k0a7do")},m(h,_){b(h,e,_),y(n,e,null),k(e,t),y(i,e,null),k(e,s),y(f,e,null),o=!0},p(h,[_]){const E={};_&16399&&(E.$$scope={dirty:_,ctx:h}),n.$set(E);const g={};_&1&&(g.name="move-pp-"+h[0].id),_&2&&(g.disabled=h[1]),!r&&_&1&&(r=!0,g.value=h[0].pp.max,ne(()=>r=!1)),i.$set(g);const w={};_&1&&(w.name="move-notes-"+h[0].id),_&2&&(w.disabled=h[1]),!a&&_&1&&(a=!0,w.value=h[0].notes,ne(()=>a=!1)),f.$set(w)},i(h){o||($(n.$$.fragment,h),$(i.$$.fragment,h),$(f.$$.fragment,h),o=!0)},o(h){v(n.$$.fragment,h),v(i.$$.fragment,h),v(f.$$.fragment,h),o=!1},d(h){h&&d(e),I(n),I(i),I(f)}}}const ks=l=>`move-id-${l}`;function Md(l,e,n){let t,i,r,s,f;ze(l,yn,g=>n(8,s=g)),ze(l,ea,g=>n(9,f=g));let{value:a}=e,{species:o}=e,{level:u}=e,{disabled:c=!1}=e;const m=()=>{var w;const g=((w=s.find(D=>D.id===a.moveId))==null?void 0:w.pp)??0;n(0,a.pp.current=g,a),n(0,a.pp.max=g,a)};function p(g){l.$$.not_equal(a.moveId,g)&&(a.moveId=g,n(0,a))}function h(g){en.call(this,l,g)}function _(g){l.$$.not_equal(a.pp.max,g)&&(a.pp.max=g,n(0,a))}function E(g){l.$$.not_equal(a.notes,g)&&(a.notes=g,n(0,a))}return l.$$set=g=>{"value"in g&&n(0,a=g.value),"species"in g&&n(5,o=g.species),"level"in g&&n(6,u=g.level),"disabled"in g&&n(1,c=g.disabled)},l.$$.update=()=>{l.$$.dirty&864&&n(7,t=Fd(s??[],f??[],o,u)),l.$$.dirty&128&&n(3,i=t.map(g=>({name:g.name,values:g.moves.map(w=>({name:w.name,value:w.id}))}))),l.$$.dirty&1&&n(2,r=ks(a.id))},[a,c,r,i,m,o,u,t,s,f,p,h,_,E]}class Od extends fe{constructor(e){super(),oe(this,e,Md,Vd,ae,{value:0,species:5,level:6,disabled:1})}}function tr(l,e,n){const t=l.slice();return t[9]=e[n],t}function nr(l,e){let n,t,i,r,s;return t=new Od({props:{value:e[9],species:e[1],disabled:e[3],level:e[2]}}),t.$on("remove",function(){Kt(e[4](e[9].id))&&e[4](e[9].id).apply(this,arguments)}),{key:l,first:null,c(){n=x(),A(t.$$.fragment),i=z(),r=T("hr"),this.h()},l(f){n=x(),P(t.$$.fragment,f),i=L(f),r=S(f,"HR",{class:!0}),this.h()},h(){C(r,"class","svelte-bk1q1p"),this.first=n},m(f,a){b(f,n,a),y(t,f,a),b(f,i,a),b(f,r,a),s=!0},p(f,a){e=f;const o={};a&1&&(o.value=e[9]),a&2&&(o.species=e[1]),a&8&&(o.disabled=e[3]),a&4&&(o.level=e[2]),t.$set(o)},i(f){s||($(t.$$.fragment,f),s=!0)},o(f){v(t.$$.fragment,f),s=!1},d(f){f&&(d(n),d(i),d(r)),I(t,f)}}}function Bd(l){let e;return{c(){e=B("Add Move")},l(n){e=O(n,"Add Move")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function qd(l){let e=[],n=new Map,t,i,r,s=Ne(l[0]);const f=a=>a[9].id;for(let a=0;a<s.length;a+=1){let o=tr(l,s,a),u=f(o);n.set(u,e[a]=nr(u,o))}return i=new De({props:{$$slots:{default:[Bd]},$$scope:{ctx:l}}}),i.$on("click",l[5]),{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=z(),A(i.$$.fragment)},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);t=L(a),P(i.$$.fragment,a)},m(a,o){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,o);b(a,t,o),y(i,a,o),r=!0},p(a,o){o&31&&(s=Ne(a[0]),me(),e=an(e,o,f,1,a,s,n,t.parentNode,fn,nr,t,tr),de());const u={};o&4096&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){if(!r){for(let o=0;o<s.length;o+=1)$(e[o]);$(i.$$.fragment,a),r=!0}},o(a){for(let o=0;o<e.length;o+=1)v(e[o]);v(i.$$.fragment,a),r=!1},d(a){a&&d(t);for(let o=0;o<e.length;o+=1)e[o].d(a);I(i,a)}}}function Kd(l){let e,n;return e=new Je({props:{title:"Moves",$$slots:{default:[qd]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&4111&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ud(l,e,n){let t;ze(l,yn,m=>n(7,t=m));let{values:i}=e,{species:r}=e,{level:s}=e,{disabled:f}=e,a=-1001;const o=()=>(--a).toString(),u=m=>()=>{n(0,i=i.filter(p=>p.id!==m))},c=()=>{var _,E,g,w,D;const m=((E=(_=r==null?void 0:r.moves)==null?void 0:_.start)==null?void 0:E[0])??"tackle",p=((g=t==null?void 0:t.find(H=>H.id===m))==null?void 0:g.pp)??20,h=o();n(0,i=[...i,{id:h,moveId:((D=(w=r==null?void 0:r.moves)==null?void 0:w.start)==null?void 0:D[0])??"tackle",pp:{current:p,max:p},notes:""}]),nn(ks(h))};return l.$$set=m=>{"values"in m&&n(0,i=m.values),"species"in m&&n(1,r=m.species),"level"in m&&n(2,s=m.level),"disabled"in m&&n(3,f=m.disabled)},[i,r,s,f,u,c]}class jd extends fe{constructor(e){super(),oe(this,e,Ud,Kd,ae,{values:0,species:1,level:2,disabled:3})}}function Gd(l){let e,n,t;function i(s){l[5](s)}let r={label:"Feat",name:"feat-name-"+l[0].id,options:l[2],disabled:l[3]};return l[0].name!==void 0&&(r.value=l[0].name),e=new mt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&1&&(a.name="feat-name-"+s[0].id),f&4&&(a.options=s[2]),f&8&&(a.disabled=s[3]),!n&&f&1&&(n=!0,a.value=s[0].name,ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Yd(l){let e,n,t;function i(s){l[4](s)}let r={label:"Feat",name:"feat-name-"+l[0].id,disabled:l[3]};return l[0].name!==void 0&&(r.value=l[0].name),e=new lt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&1&&(a.name="feat-name-"+s[0].id),f&8&&(a.disabled=s[3]),!n&&f&1&&(n=!0,a.value=s[0].name,ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Qd(l){let e,n,t,i;const r=[Yd,Gd],s=[];function f(a,o){return a[1]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Wd(l){let e,n,t;function i(s){l[8](s)}let r={label:"Notes",name:"feat-description-"+l[0].id,placeholder:"Any additional notes",rows:3,disabled:l[3]};return l[0].description!==void 0&&(r.value=l[0].description),e=new kt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&1&&(a.name="feat-description-"+s[0].id),f&8&&(a.disabled=s[3]),!n&&f&1&&(n=!0,a.value=s[0].description,ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Zd(l){let e,n,t;function i(s){l[7](s)}let r={label:"Feat Description",name:"feat-description-"+l[0].id,placeholder:"Provide a custom description",rows:6,disabled:l[3]};return l[0].description!==void 0&&(r.value=l[0].description),e=new kt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&1&&(a.name="feat-description-"+s[0].id),f&8&&(a.disabled=s[3]),!n&&f&1&&(n=!0,a.value=s[0].description,ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Jd(l){let e,n,t,i,r,s,f,a;n=new Pn({props:{$$slots:{default:[Qd]},$$scope:{ctx:l}}}),n.$on("remove",l[6]);const o=[Zd,Wd],u=[];function c(m,p){return m[1]?0:1}return i=c(l),r=u[i]=o[i](l),f=new rs({}),{c(){e=T("div"),A(n.$$.fragment),t=z(),r.c(),s=z(),A(f.$$.fragment),this.h()},l(m){e=S(m,"DIV",{class:!0});var p=F(e);P(n.$$.fragment,p),t=L(p),r.l(p),s=L(p),P(f.$$.fragment,p),p.forEach(d),this.h()},h(){C(e,"class","feat-editor svelte-1dezyrp")},m(m,p){b(m,e,p),y(n,e,null),k(e,t),u[i].m(e,null),k(e,s),y(f,e,null),a=!0},p(m,[p]){const h={};p&527&&(h.$$scope={dirty:p,ctx:m}),n.$set(h);let _=i;i=c(m),i===_?u[i].p(m,p):(me(),v(u[_],1,1,()=>{u[_]=null}),de(),r=u[i],r?r.p(m,p):(r=u[i]=o[i](m),r.c()),$(r,1),r.m(e,s))},i(m){a||($(n.$$.fragment,m),$(r),$(f.$$.fragment,m),a=!0)},o(m){v(n.$$.fragment,m),v(r),v(f.$$.fragment,m),a=!1},d(m){m&&d(e),I(n),u[i].d(),I(f)}}}function Xd(l,e,n){let{value:t}=e,{custom:i=!1}=e,{options:r}=e,{disabled:s=!1}=e;function f(m){l.$$.not_equal(t.name,m)&&(t.name=m,n(0,t))}function a(m){l.$$.not_equal(t.name,m)&&(t.name=m,n(0,t))}function o(m){en.call(this,l,m)}function u(m){l.$$.not_equal(t.description,m)&&(t.description=m,n(0,t))}function c(m){l.$$.not_equal(t.description,m)&&(t.description=m,n(0,t))}return l.$$set=m=>{"value"in m&&n(0,t=m.value),"custom"in m&&n(1,i=m.custom),"options"in m&&n(2,r=m.options),"disabled"in m&&n(3,s=m.disabled)},[t,i,r,s,f,a,o,u,c]}class xd extends fe{constructor(e){super(),oe(this,e,Xd,Jd,ae,{value:0,custom:1,options:2,disabled:3})}}function ir(l,e,n){const t=l.slice();return t[9]=e[n],t}function lr(l){let e,n;return e=new xd({props:{value:l[9],options:l[2],disabled:l[1],custom:l[9].isCustom}}),e.$on("remove",function(){Kt(l[3](l[9].id))&&l[3](l[9].id).apply(this,arguments)}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){l=t;const r={};i&1&&(r.value=l[9]),i&4&&(r.options=l[2]),i&2&&(r.disabled=l[1]),i&1&&(r.custom=l[9].isCustom),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function e_(l){let e;return{c(){e=B("Add Feat")},l(n){e=O(n,"Add Feat")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function t_(l){let e;return{c(){e=B("Add Custom Feat")},l(n){e=O(n,"Add Custom Feat")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function n_(l){let e,n,t,i,r,s,f=Ne(l[0]),a=[];for(let u=0;u<f.length;u+=1)a[u]=lr(ir(l,f,u));const o=u=>v(a[u],1,1,()=>{a[u]=null});return t=new De({props:{$$slots:{default:[e_]},$$scope:{ctx:l}}}),t.$on("click",l[4]),r=new De({props:{$$slots:{default:[t_]},$$scope:{ctx:l}}}),r.$on("click",l[5]),{c(){for(let u=0;u<a.length;u+=1)a[u].c();e=z(),n=T("div"),A(t.$$.fragment),i=z(),A(r.$$.fragment),this.h()},l(u){for(let m=0;m<a.length;m+=1)a[m].l(u);e=L(u),n=S(u,"DIV",{class:!0});var c=F(n);P(t.$$.fragment,c),i=L(c),P(r.$$.fragment,c),c.forEach(d),this.h()},h(){C(n,"class","row svelte-d7pdnl")},m(u,c){for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(u,c);b(u,e,c),b(u,n,c),y(t,n,null),k(n,i),y(r,n,null),s=!0},p(u,c){if(c&15){f=Ne(u[0]);let h;for(h=0;h<f.length;h+=1){const _=ir(u,f,h);a[h]?(a[h].p(_,c),$(a[h],1)):(a[h]=lr(_),a[h].c(),$(a[h],1),a[h].m(e.parentNode,e))}for(me(),h=f.length;h<a.length;h+=1)o(h);de()}const m={};c&4096&&(m.$$scope={dirty:c,ctx:u}),t.$set(m);const p={};c&4096&&(p.$$scope={dirty:c,ctx:u}),r.$set(p)},i(u){if(!s){for(let c=0;c<f.length;c+=1)$(a[c]);$(t.$$.fragment,u),$(r.$$.fragment,u),s=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)v(a[c]);v(t.$$.fragment,u),v(r.$$.fragment,u),s=!1},d(u){u&&(d(e),d(n)),nt(a,u),I(t),I(r)}}}function i_(l){let e,n;return e=new Je({props:{title:"Feats",$$slots:{default:[n_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&4103&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function l_(l,e,n){let t,{values:i}=e,{disabled:r}=e,{feats:s}=e,f=-1001;const a=()=>(--f).toString(),o=m=>()=>{n(0,i=i.filter(p=>p.id!==m))},u=()=>{const m=a();n(0,i=[...i,{id:m,name:s[0].name,description:"",isCustom:!1}]),nn(`feat-name-${m}`)},c=()=>{const m=a();n(0,i=[...i,{id:m,name:"",description:"",isCustom:!0}]),nn(`feat-name-${m}`)};return l.$$set=m=>{"values"in m&&n(0,i=m.values),"disabled"in m&&n(1,r=m.disabled),"feats"in m&&n(6,s=m.feats)},l.$$.update=()=>{l.$$.dirty&64&&n(2,t=s.map(m=>({name:m.name,value:m.name,placeholder:m.description})))},[i,r,t,o,u,c,s]}class ws extends fe{constructor(e){super(),oe(this,e,l_,i_,ae,{values:0,disabled:1,feats:6})}}function r_(l){let e,n,t,i,r,s;function f(c){l[5](c)}let a={label:"Size",options:l[3],disabled:l[2]};l[0]!==void 0&&(a.value=l[0]),e=new mt({props:a}),te.push(()=>ie(e,"value",f));function o(c){l[6](c)}let u={label:"Hit Dice",options:l[4],disabled:l[2]};return l[1]!==void 0&&(u.value=l[1]),i=new mt({props:u}),te.push(()=>ie(i,"value",o)),{c(){A(e.$$.fragment),t=z(),A(i.$$.fragment)},l(c){P(e.$$.fragment,c),t=L(c),P(i.$$.fragment,c)},m(c,m){y(e,c,m),b(c,t,m),y(i,c,m),s=!0},p(c,m){const p={};m&4&&(p.disabled=c[2]),!n&&m&1&&(n=!0,p.value=c[0],ne(()=>n=!1)),e.$set(p);const h={};m&4&&(h.disabled=c[2]),!r&&m&2&&(r=!0,h.value=c[1],ne(()=>r=!1)),i.$set(h)},i(c){s||($(e.$$.fragment,c),$(i.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),v(i.$$.fragment,c),s=!1},d(c){c&&d(t),I(e,c),I(i,c)}}}function s_(l){let e,n;return e=new Je({props:{title:"Custom Basic Info",columns:2,$$slots:{default:[r_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&135&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function a_(l,e,n){let{customSize:t}=e,{customHitDiceSize:i}=e,{disabled:r=!1}=e;const s=[{name:"— Default —",value:void 0}].concat(Object.values(Ns).map(u=>({name:ca(u),value:u}))),f=[{name:"— Default —",value:void 0}].concat(Rt.list.map(u=>({name:u,value:u})));function a(u){t=u,n(0,t)}function o(u){i=u,n(1,i)}return l.$$set=u=>{"customSize"in u&&n(0,t=u.customSize),"customHitDiceSize"in u&&n(1,i=u.customHitDiceSize),"disabled"in u&&n(2,r=u.disabled)},[t,i,r,s,f,a,o]}class f_ extends fe{constructor(e){super(),oe(this,e,a_,s_,ae,{customSize:0,customHitDiceSize:1,disabled:2})}}function o_(l){let e,n,t,i,r;e=new ls({props:{label:"Bond Level",min:-3,max:3,value:l[0].level,disabled:l[1]}}),e.$on("input",l[2]);function s(a){l[3](a)}let f={label:"Max Bond Points",min:0,disabled:l[1]};return l[0].points.max!==void 0&&(f.value=l[0].points.max),t=new et({props:f}),te.push(()=>ie(t,"value",s)),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(a){P(e.$$.fragment,a),n=L(a),P(t.$$.fragment,a)},m(a,o){y(e,a,o),b(a,n,o),y(t,a,o),r=!0},p(a,o){const u={};o&1&&(u.value=a[0].level),o&2&&(u.disabled=a[1]),e.$set(u);const c={};o&2&&(c.disabled=a[1]),!i&&o&1&&(i=!0,c.value=a[0].points.max,ne(()=>i=!1)),t.$set(c)},i(a){r||($(e.$$.fragment,a),$(t.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),v(t.$$.fragment,a),r=!1},d(a){a&&d(n),I(e,a),I(t,a)}}}function u_(l){let e,n;return e=new Je({props:{title:"Bond",columns:2,$$slots:{default:[o_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&19&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function c_(l,e,n){let{value:t}=e,{disabled:i=!1}=e;const r=f=>{Math.max(0,t.level)===t.points.max&&n(0,t.points.max=Math.max(0,f.detail.value),t),n(0,t.level=f.detail.value,t)};function s(f){l.$$.not_equal(t.points.max,f)&&(t.points.max=f,n(0,t))}return l.$$set=f=>{"value"in f&&n(0,t=f.value),"disabled"in f&&n(1,i=f.disabled)},[t,i,r,s]}class m_ extends fe{constructor(e){super(),oe(this,e,c_,u_,ae,{value:0,disabled:1})}}function d_(l){let e,n,t;function i(s){l[52](s)}let r={label:"Notes",placeholder:"Use this for any general notes not covered by the above fields...",disabled:l[27]};return l[14]!==void 0&&(r.value=l[14]),e=new kt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f[0]&134217728&&(a.disabled=s[27]),!n&&f[0]&16384&&(n=!0,a.value=s[14],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function __(l){let e,n,t,i,r,s,f,a,o,u,c,m,p;function h(V){l[53](V)}let _={disabled:l[27]};l[15].data!==void 0&&(_.value=l[15].data),e=new Ls({props:_}),te.push(()=>ie(e,"value",h));function E(V){l[54](V)}function g(V){l[55](V)}let w={disabled:l[27]};l[18]!==void 0&&(w.customSize=l[18]),l[19]!==void 0&&(w.customHitDiceSize=l[19]),i=new f_({props:w}),te.push(()=>ie(i,"customSize",E)),te.push(()=>ie(i,"customHitDiceSize",g));function D(V){l[56](V)}let H={disabled:l[27]};l[20]!==void 0&&(H.values=l[20]),a=new zs({props:H}),te.push(()=>ie(a,"values",D));function N(V){l[57](V)}let R={disabled:l[27]};return l[21]!==void 0&&(R.values=l[21]),c=new Hs({props:R}),te.push(()=>ie(c,"values",N)),{c(){A(e.$$.fragment),t=z(),A(i.$$.fragment),f=z(),A(a.$$.fragment),u=z(),A(c.$$.fragment)},l(V){P(e.$$.fragment,V),t=L(V),P(i.$$.fragment,V),f=L(V),P(a.$$.fragment,V),u=L(V),P(c.$$.fragment,V)},m(V,M){y(e,V,M),b(V,t,M),y(i,V,M),b(V,f,M),y(a,V,M),b(V,u,M),y(c,V,M),p=!0},p(V,M){const q={};M[0]&134217728&&(q.disabled=V[27]),!n&&M[0]&32768&&(n=!0,q.value=V[15].data,ne(()=>n=!1)),e.$set(q);const U={};M[0]&134217728&&(U.disabled=V[27]),!r&&M[0]&262144&&(r=!0,U.customSize=V[18],ne(()=>r=!1)),!s&&M[0]&524288&&(s=!0,U.customHitDiceSize=V[19],ne(()=>s=!1)),i.$set(U);const Q={};M[0]&134217728&&(Q.disabled=V[27]),!o&&M[0]&1048576&&(o=!0,Q.values=V[20],ne(()=>o=!1)),a.$set(Q);const J={};M[0]&134217728&&(J.disabled=V[27]),!m&&M[0]&2097152&&(m=!0,J.values=V[21],ne(()=>m=!1)),c.$set(J)},i(V){p||($(e.$$.fragment,V),$(i.$$.fragment,V),$(a.$$.fragment,V),$(c.$$.fragment,V),p=!0)},o(V){v(e.$$.fragment,V),v(i.$$.fragment,V),v(a.$$.fragment,V),v(c.$$.fragment,V),p=!1},d(V){V&&(d(t),d(f),d(u)),I(e,V),I(i,V),I(a,V),I(c,V)}}}function p_(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function h_(l){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function $_(l){let e,n,t,i;return e=new De({props:{variant:"ghost",disabled:l[27],$$slots:{default:[p_]},$$scope:{ctx:l}}}),e.$on("click",l[30]),t=new De({props:{type:"submit",disabled:l[27]||!l[24],$$slots:{default:[h_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s[0]&134217728&&(f.disabled=r[27]),s[1]&268435456&&(f.$$scope={dirty:s,ctx:r}),e.$set(f);const a={};s[0]&150994944&&(a.disabled=r[27]||!r[24]),s[1]&268435456&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function g_(l){var Ct;let e,n,t,i,r,s,f,a,o,u,c,m,p,h,_,E,g,w,D,H,N,R,V,M,q,U,Q,J,K,G,ue,ve,Z,he,Ce,se,ee,Y,ce,_e,$e,Te,we,X,be;function Ie(j){l[33](j)}function He(j){l[34](j)}function Ve(j){l[35](j)}function Ue(j){l[36](j)}function pe(j){l[37](j)}function ye(j){l[38](j)}function Oe(j){l[39](j)}function je(j){l[40](j)}function Xe(j){l[41](j)}function Me(j){l[42](j)}let We={originalAvatarSrc:(Ct=l[29])==null?void 0:Ct.href,disabled:l[27]};l[2]!==void 0&&(We.nickname=l[2]),l[3]!==void 0&&(We.nature=l[3]),l[4]!==void 0&&(We.tera=l[4]),l[5]!==void 0&&(We.level=l[5]),l[6]!==void 0&&(We.ac=l[6]),l[7]!==void 0&&(We.maxHp=l[7]),l[8]!==void 0&&(We.maxHitDice=l[8]),l[16]!==void 0&&(We.isShiny=l[16]),l[23]!==void 0&&(We.avatar=l[23]),l[24]!==void 0&&(We.isValid=l[24]),e=new dd({props:We}),te.push(()=>ie(e,"nickname",Ie)),te.push(()=>ie(e,"nature",He)),te.push(()=>ie(e,"tera",Ve)),te.push(()=>ie(e,"level",Ue)),te.push(()=>ie(e,"ac",pe)),te.push(()=>ie(e,"maxHp",ye)),te.push(()=>ie(e,"maxHitDice",Oe)),te.push(()=>ie(e,"isShiny",je)),te.push(()=>ie(e,"avatar",Xe)),te.push(()=>ie(e,"isValid",Me));function _t(j){l[43](j)}let ut={disabled:l[27]};l[9]!==void 0&&(ut.value=l[9]),p=new tf({props:ut}),te.push(()=>ie(p,"value",_t));function pt(j){l[44](j)}let at={disabled:l[27]};l[10]!==void 0&&(at.values=l[10]),E=new Mr({props:at}),te.push(()=>ie(E,"values",pt));function Gt(j){l[45](j)}let Et={species:l[0],disabled:l[27]};l[11]!==void 0&&(Et.ability=l[11]),D=new $d({props:Et}),te.push(()=>ie(D,"ability",Gt));function gt(j){l[46](j)}let Ee={disabled:l[27]};l[22]!==void 0&&(Ee.value=l[22]),R=new m_({props:Ee}),te.push(()=>ie(R,"value",gt));function W(j){l[47](j)}let Ae={disabled:l[27]};l[12]!==void 0&&(Ae.values=l[12]),q=new Or({props:Ae}),te.push(()=>ie(q,"values",W));function ht(j){l[48](j)}let vt={disabled:l[27]};l[13]!==void 0&&(vt.values=l[13]),J=new Br({props:vt}),te.push(()=>ie(J,"values",ht));function Yt(j){l[49](j)}let Pt={species:l[0],level:l[5],disabled:l[27]};l[25]!==void 0&&(Pt.values=l[25]),ue=new jd({props:Pt}),te.push(()=>ie(ue,"values",Yt));function Qt(j){l[50](j)}let Dt={feats:l[28],disabled:l[27]};l[17]!==void 0&&(Dt.values=l[17]),he=new ws({props:Dt}),te.push(()=>ie(he,"values",Qt));function Wt(j){l[51](j)}let Nt={disabled:l[27]};return l[26]!==void 0&&(Nt.items=l[26]),ee=new Hd({props:Nt}),te.push(()=>ie(ee,"items",Wt)),_e=new Je({props:{title:"General",$$slots:{default:[d_]},$$scope:{ctx:l}}}),Te=new Ma({props:{title:"Advanced",$$slots:{default:[__]},$$scope:{ctx:l}}}),X=new Ze({props:{error:l[24]?void 0:"One or more fields above have an issue.",$$slots:{default:[$_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),m=z(),A(p.$$.fragment),_=z(),A(E.$$.fragment),w=z(),A(D.$$.fragment),N=z(),A(R.$$.fragment),M=z(),A(q.$$.fragment),Q=z(),A(J.$$.fragment),G=z(),A(ue.$$.fragment),Z=z(),A(he.$$.fragment),se=z(),A(ee.$$.fragment),ce=z(),A(_e.$$.fragment),$e=z(),A(Te.$$.fragment),we=z(),A(X.$$.fragment)},l(j){P(e.$$.fragment,j),m=L(j),P(p.$$.fragment,j),_=L(j),P(E.$$.fragment,j),w=L(j),P(D.$$.fragment,j),N=L(j),P(R.$$.fragment,j),M=L(j),P(q.$$.fragment,j),Q=L(j),P(J.$$.fragment,j),G=L(j),P(ue.$$.fragment,j),Z=L(j),P(he.$$.fragment,j),se=L(j),P(ee.$$.fragment,j),ce=L(j),P(_e.$$.fragment,j),$e=L(j),P(Te.$$.fragment,j),we=L(j),P(X.$$.fragment,j)},m(j,ke){y(e,j,ke),b(j,m,ke),y(p,j,ke),b(j,_,ke),y(E,j,ke),b(j,w,ke),y(D,j,ke),b(j,N,ke),y(R,j,ke),b(j,M,ke),y(q,j,ke),b(j,Q,ke),y(J,j,ke),b(j,G,ke),y(ue,j,ke),b(j,Z,ke),y(he,j,ke),b(j,se,ke),y(ee,j,ke),b(j,ce,ke),y(_e,j,ke),b(j,$e,ke),y(Te,j,ke),b(j,we,ke),y(X,j,ke),be=!0},p(j,ke){const ot={};ke[0]&134217728&&(ot.disabled=j[27]),!n&&ke[0]&4&&(n=!0,ot.nickname=j[2],ne(()=>n=!1)),!t&&ke[0]&8&&(t=!0,ot.nature=j[3],ne(()=>t=!1)),!i&&ke[0]&16&&(i=!0,ot.tera=j[4],ne(()=>i=!1)),!r&&ke[0]&32&&(r=!0,ot.level=j[5],ne(()=>r=!1)),!s&&ke[0]&64&&(s=!0,ot.ac=j[6],ne(()=>s=!1)),!f&&ke[0]&128&&(f=!0,ot.maxHp=j[7],ne(()=>f=!1)),!a&&ke[0]&256&&(a=!0,ot.maxHitDice=j[8],ne(()=>a=!1)),!o&&ke[0]&65536&&(o=!0,ot.isShiny=j[16],ne(()=>o=!1)),!u&&ke[0]&8388608&&(u=!0,ot.avatar=j[23],ne(()=>u=!1)),!c&&ke[0]&16777216&&(c=!0,ot.isValid=j[24],ne(()=>c=!1)),e.$set(ot);const Ln={};ke[0]&134217728&&(Ln.disabled=j[27]),!h&&ke[0]&512&&(h=!0,Ln.value=j[9],ne(()=>h=!1)),p.$set(Ln);const zn={};ke[0]&134217728&&(zn.disabled=j[27]),!g&&ke[0]&1024&&(g=!0,zn.values=j[10],ne(()=>g=!1)),E.$set(zn);const cn={};ke[0]&1&&(cn.species=j[0]),ke[0]&134217728&&(cn.disabled=j[27]),!H&&ke[0]&2048&&(H=!0,cn.ability=j[11],ne(()=>H=!1)),D.$set(cn);const Hn={};ke[0]&134217728&&(Hn.disabled=j[27]),!V&&ke[0]&4194304&&(V=!0,Hn.value=j[22],ne(()=>V=!1)),R.$set(Hn);const Fn={};ke[0]&134217728&&(Fn.disabled=j[27]),!U&&ke[0]&4096&&(U=!0,Fn.values=j[12],ne(()=>U=!1)),q.$set(Fn);const Rn={};ke[0]&134217728&&(Rn.disabled=j[27]),!K&&ke[0]&8192&&(K=!0,Rn.values=j[13],ne(()=>K=!1)),J.$set(Rn);const Zt={};ke[0]&1&&(Zt.species=j[0]),ke[0]&32&&(Zt.level=j[5]),ke[0]&134217728&&(Zt.disabled=j[27]),!ve&&ke[0]&33554432&&(ve=!0,Zt.values=j[25],ne(()=>ve=!1)),ue.$set(Zt);const mn={};ke[0]&268435456&&(mn.feats=j[28]),ke[0]&134217728&&(mn.disabled=j[27]),!Ce&&ke[0]&131072&&(Ce=!0,mn.values=j[17],ne(()=>Ce=!1)),he.$set(mn);const Vn={};ke[0]&134217728&&(Vn.disabled=j[27]),!Y&&ke[0]&67108864&&(Y=!0,Vn.items=j[26],ne(()=>Y=!1)),ee.$set(Vn);const ii={};ke[0]&134234112|ke[1]&268435456&&(ii.$$scope={dirty:ke,ctx:j}),_e.$set(ii);const li={};ke[0]&138182656|ke[1]&268435456&&(li.$$scope={dirty:ke,ctx:j}),Te.$set(li);const Mn={};ke[0]&16777216&&(Mn.error=j[24]?void 0:"One or more fields above have an issue."),ke[0]&150994944|ke[1]&268435456&&(Mn.$$scope={dirty:ke,ctx:j}),X.$set(Mn)},i(j){be||($(e.$$.fragment,j),$(p.$$.fragment,j),$(E.$$.fragment,j),$(D.$$.fragment,j),$(R.$$.fragment,j),$(q.$$.fragment,j),$(J.$$.fragment,j),$(ue.$$.fragment,j),$(he.$$.fragment,j),$(ee.$$.fragment,j),$(_e.$$.fragment,j),$(Te.$$.fragment,j),$(X.$$.fragment,j),be=!0)},o(j){v(e.$$.fragment,j),v(p.$$.fragment,j),v(E.$$.fragment,j),v(D.$$.fragment,j),v(R.$$.fragment,j),v(q.$$.fragment,j),v(J.$$.fragment,j),v(ue.$$.fragment,j),v(he.$$.fragment,j),v(ee.$$.fragment,j),v(_e.$$.fragment,j),v(Te.$$.fragment,j),v(X.$$.fragment,j),be=!1},d(j){j&&(d(m),d(_),d(w),d(N),d(M),d(Q),d(G),d(Z),d(se),d(ce),d($e),d(we)),I(e,j),I(p,j),I(E,j),I(D,j),I(R,j),I(q,j),I(J,j),I(ue,j),I(he,j),I(ee,j),I(_e,j),I(Te,j),I(X,j)}}}function v_(l){let e,n;return e=new Ut({props:{onsubmit:l[31],saving:l[1],$$slots:{default:[g_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i[0]&2&&(r.saving=t[1]),i[0]&536870909|i[1]&268435456&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function b_(l,e,n){var Et,gt;let t,i;ze(l,Zs,Ee=>n(28,i=Ee));const r=xe();let{pokemon:s}=e,{species:f}=e,{saving:a=!1}=e,o=s.nickname,u=s.nature.copy(),c=((Et=s.teraType)==null?void 0:Et.copy())??new It(""),m=s.level.data,p=s.ac,h=s.hp.max,_=s.hitDice.max,E=s.gender,g=s.attributes.copy(),w=s.ability,D=s.proficiencies.copy(),H=[...s.savingThrows],N=s.notes,R=s.type.copy(),V=s.isShiny,M=s.feats.map(Ee=>structuredClone(Ee)),q=s.customSize,U=(gt=s.customHitDiceSize)==null?void 0:gt.data,Q=s.speeds.copy(),J=s.senses.copy(),K=structuredClone(s.bond),G=s.avatar,ue,ve=!0,Z=structuredClone(s.moves),he=structuredClone(s.items);const Ce=()=>{r("cancel")},se=()=>{r("update",{pokemon:{...s,nickname:o.length>0?o:f.name,type:R,nature:u,teraType:c,level:new Vt(m),ac:p,hp:{current:s.hp.current+(h-s.hp.max),max:h},hitDice:{current:s.hitDice.current+(_-s.hitDice.max),max:_},gender:E,isShiny:V,attributes:g,ability:w,proficiencies:D,savingThrows:H,moves:Z,items:he,notes:N,feats:M,customSize:q,customHitDiceSize:U?new Rt(U):void 0,speeds:Q,senses:J,bond:{...K,points:{current:Math.max(0,s.bond.points.current+(K.points.max-s.bond.points.max)),max:K.points.max}},avatar:G},updateAvatar:ue})};function ee(Ee){o=Ee,n(2,o)}function Y(Ee){u=Ee,n(3,u)}function ce(Ee){c=Ee,n(4,c)}function _e(Ee){m=Ee,n(5,m)}function $e(Ee){p=Ee,n(6,p)}function Te(Ee){h=Ee,n(7,h)}function we(Ee){_=Ee,n(8,_)}function X(Ee){V=Ee,n(16,V)}function be(Ee){ue=Ee,n(23,ue)}function Ie(Ee){ve=Ee,n(24,ve)}function He(Ee){E=Ee,n(9,E)}function Ve(Ee){g=Ee,n(10,g)}function Ue(Ee){w=Ee,n(11,w)}function pe(Ee){K=Ee,n(22,K)}function ye(Ee){D=Ee,n(12,D)}function Oe(Ee){H=Ee,n(13,H)}function je(Ee){Z=Ee,n(25,Z)}function Xe(Ee){M=Ee,n(17,M)}function Me(Ee){he=Ee,n(26,he)}function We(Ee){N=Ee,n(14,N)}function _t(Ee){l.$$.not_equal(R.data,Ee)&&(R.data=Ee,n(15,R))}function ut(Ee){q=Ee,n(18,q)}function pt(Ee){U=Ee,n(19,U)}function at(Ee){Q=Ee,n(20,Q)}function Gt(Ee){J=Ee,n(21,J)}return l.$$set=Ee=>{"pokemon"in Ee&&n(32,s=Ee.pokemon),"species"in Ee&&n(0,f=Ee.species),"saving"in Ee&&n(1,a=Ee.saving)},l.$$.update=()=>{l.$$.dirty[0]&2&&n(27,t=a)},[f,a,o,u,c,m,p,h,_,E,g,w,D,H,N,R,V,M,q,U,Q,J,K,ue,ve,Z,he,t,i,G,Ce,se,s,ee,Y,ce,_e,$e,Te,we,X,be,Ie,He,Ve,Ue,pe,ye,Oe,je,Xe,Me,We,_t,ut,pt,at,Gt]}let k_=class extends fe{constructor(e){super(),oe(this,e,b_,v_,ae,{pokemon:32,species:0,saving:1},null,[-1,-1])}};function w_(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function E_(l){let e,n;return e=new st({props:{title:"Edit "+l[2].nickname,$$slots:{default:[y_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.title="Edit "+t[2].nickname),i&1150&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function C_(l){let e,n,t="You do not have permission to edit this pokemon.",i,r,s;return r=new Ze({props:{$$slots:{default:[I_]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-1ag681u"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&1034&&(o.$$scope={dirty:a,ctx:f}),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function S_(l){let e,n;return e=new k_({props:{pokemon:l[2],species:l[5],saving:l[4]}}),e.$on("cancel",l[8]),e.$on("update",l[7]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.pokemon=t[2]),i&32&&(r.species=t[5]),i&16&&(r.saving=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function T_(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function I_(l){let e,n;return e=new De({props:{href:Pe.trainers(l[3].info.readKey,l[1]),$$slots:{default:[T_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&10&&(r.href=Pe.trainers(t[3].info.readKey,t[1])),i&1024&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function y_(l){let e,n,t,i;const r=[S_,C_],s=[];function f(a,o){return a[6]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function A_(l){let e,n,t,i;const r=[E_,w_],s=[];function f(a,o){return a[5]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function P_(l){let e,n;return e=new un({props:{trainer:l[3],id:l[1],titlePrefix:"Edit",$$slots:{default:[A_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&8&&(r.trainer=t[3]),i&2&&(r.id=t[1]),i&1150&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function D_(l,e,n){let t,i,r,s,f=le,a=()=>(f(),f=rt(u,_=>n(3,s=_)),u),o;ze(l,dt,_=>n(9,o=_)),l.$$.on_destroy.push(()=>f());let{trainer:u}=e;a();let{id:c}=e,m=!1;const p=_=>{var E;n(4,m=!0),(E=s.update)==null||E.pokemon(_.detail.pokemon,{updateAvatar:_.detail.updateAvatar}).then(()=>{var g,w,D;return Promise.all([((g=s.update)==null?void 0:g.moveset(_.detail.pokemon))??Promise.resolve(),((w=s.update)==null?void 0:w.heldItems(_.detail.pokemon))??Promise.resolve(),((D=s.update)==null?void 0:D.pokemonFeats(_.detail.pokemon))??Promise.resolve()])}).then(()=>{n(4,m=!1),tt(Pe.trainers(s.info.readKey,c))}).catch(()=>{n(4,m=!1)})},h=()=>{tt(Pe.trainers(s.info.readKey,c))};return l.$$set=_=>{"trainer"in _&&a(n(0,u=_.trainer)),"id"in _&&n(1,c=_.id)},l.$$.update=()=>{l.$$.dirty&8&&n(6,t=s.update!=null),l.$$.dirty&10&&n(2,i=s.pokemon.find(_=>_.id===c)),l.$$.dirty&516&&n(5,r=o==null?void 0:o.find(_=>_.id===(i==null?void 0:i.pokemonId)))},[u,c,i,s,m,r,t,p,h,o]}class N_ extends fe{constructor(e){super(),oe(this,e,D_,P_,ae,{trainer:0,id:1})}}function rr(l){let e,n,t,i,r,s;e=new Je({props:{title:"Choose one",columns:2,$$slots:{default:[L_]},$$scope:{ctx:l}}});let f=l[14]&&sr(l);return r=new Ze({props:{$$slots:{default:[F_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),t=T("section"),f&&f.c(),i=z(),A(r.$$.fragment),this.h()},l(a){P(e.$$.fragment,a),n=L(a),t=S(a,"SECTION",{class:!0});var o=F(t);f&&f.l(o),o.forEach(d),i=L(a),P(r.$$.fragment,a),this.h()},h(){C(t,"class","svelte-1r7xq7f"),Se(t,"min-height","12em")},m(a,o){y(e,a,o),b(a,n,o),b(a,t,o),f&&f.m(t,null),b(a,i,o),y(r,a,o),s=!0},p(a,o){const u={};o&33554442&&(u.$$scope={dirty:o,ctx:a}),e.$set(u),a[14]?f?f.p(a,o):(f=sr(a),f.c(),f.m(t,null)):f&&(f.d(1),f=null);const c={};o&33587200&&(c.$$scope={dirty:o,ctx:a}),r.$set(c)},i(a){s||($(e.$$.fragment,a),$(r.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),v(r.$$.fragment,a),s=!1},d(a){a&&(d(n),d(t),d(i)),I(e,a),f&&f.d(),I(r,a)}}}function L_(l){let e,n,t;function i(s){l[23](s)}let r={label:"Evolution Choices",values:l[1].evolution.to.map(l[22]),required:!0};return l[3]!==void 0&&(r.checked=l[3]),e=new Dn({props:r}),te.push(()=>ie(e,"checked",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&2&&(a.values=s[1].evolution.to.map(s[22])),!n&&f&8&&(n=!0,a.checked=s[3],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function sr(l){let e,n,t=gi(l[1].name,l[14],$i(Qe,l[6],l[16]))+"",i,r,s="Evolving this pokemon will have these effects:",f,a,o,u,c,m,p,h,_,E,g,w=!l[13]&&l[12]&&ar(l),D=l[10]>0&&fr(l),H=l[9].length>0&&or(l),N=l[8].length>0&&ur(l),R=l[7]&&l[0].ability!==l[7].id&&cr(l),V=l[13]&&l[12]&&mr();return{c(){e=T("p"),n=new rn(!1),i=z(),r=T("p"),r.textContent=s,f=z(),a=T("ul"),w&&w.c(),o=z(),u=T("li"),c=B("Max HP will increase by "),m=B(l[11]),p=z(),D&&D.c(),h=z(),H&&H.c(),_=z(),N&&N.c(),E=z(),R&&R.c(),g=z(),V&&V.c(),this.h()},l(M){e=S(M,"P",{});var q=F(e);n=ln(q,!1),q.forEach(d),i=L(M),r=S(M,"P",{"data-svelte-h":!0}),ge(r)!=="svelte-stsmeq"&&(r.textContent=s),f=L(M),a=S(M,"UL",{});var U=F(a);w&&w.l(U),o=L(U),u=S(U,"LI",{});var Q=F(u);c=O(Q,"Max HP will increase by "),m=O(Q,l[11]),Q.forEach(d),p=L(U),D&&D.l(U),h=L(U),H&&H.l(U),_=L(U),N&&N.l(U),E=L(U),R&&R.l(U),g=L(U),V&&V.l(U),U.forEach(d),this.h()},h(){n.a=null},m(M,q){b(M,e,q),n.m(t,e),b(M,i,q),b(M,r,q),b(M,f,q),b(M,a,q),w&&w.m(a,null),k(a,o),k(a,u),k(u,c),k(u,m),k(a,p),D&&D.m(a,null),k(a,h),H&&H.m(a,null),k(a,_),N&&N.m(a,null),k(a,E),R&&R.m(a,null),k(a,g),V&&V.m(a,null)},p(M,q){q&81986&&t!==(t=gi(M[1].name,M[14],$i(Qe,M[6],M[16]))+"")&&n.p(t),!M[13]&&M[12]?w?w.p(M,q):(w=ar(M),w.c(),w.m(a,o)):w&&(w.d(1),w=null),q&2048&&re(m,M[11]),M[10]>0?D?D.p(M,q):(D=fr(M),D.c(),D.m(a,h)):D&&(D.d(1),D=null),M[9].length>0?H?H.p(M,q):(H=or(M),H.c(),H.m(a,_)):H&&(H.d(1),H=null),M[8].length>0?N?N.p(M,q):(N=ur(M),N.c(),N.m(a,E)):N&&(N.d(1),N=null),M[7]&&M[0].ability!==M[7].id?R?R.p(M,q):(R=cr(M),R.c(),R.m(a,g)):R&&(R.d(1),R=null),M[13]&&M[12]?V||(V=mr(),V.c(),V.m(a,null)):V&&(V.d(1),V=null)},d(M){M&&(d(e),d(i),d(r),d(f),d(a)),w&&w.d(),D&&D.d(),H&&H.d(),N&&N.d(),R&&R.d(),V&&V.d()}}}function ar(l){var s;let e,n,t,i=((s=l[4])==null?void 0:s.data.join("/"))+"",r;return{c(){e=T("li"),n=B("Type will change to "),t=T("span"),r=B(i),this.h()},l(f){e=S(f,"LI",{});var a=F(e);n=O(a,"Type will change to "),t=S(a,"SPAN",{class:!0});var o=F(t);r=O(o,i),o.forEach(d),a.forEach(d),this.h()},h(){C(t,"class","cap")},m(f,a){b(f,e,a),k(e,n),k(e,t),k(t,r)},p(f,a){var o;a&16&&i!==(i=((o=f[4])==null?void 0:o.data.join("/"))+"")&&re(r,i)},d(f){f&&d(e)}}}function fr(l){let e,n,t;return{c(){e=T("li"),n=B("AC will increase by "),t=B(l[10])},l(i){e=S(i,"LI",{});var r=F(e);n=O(r,"AC will increase by "),t=O(r,l[10]),r.forEach(d)},m(i,r){b(i,e,r),k(e,n),k(e,t)},p(i,r){r&1024&&re(t,i[10])},d(i){i&&d(e)}}}function or(l){let e,n,t,i=l[9].join(", ")+"",r;return{c(){e=T("li"),n=B("Proficiency in "),t=T("span"),r=B(i),this.h()},l(s){e=S(s,"LI",{});var f=F(e);n=O(f,"Proficiency in "),t=S(f,"SPAN",{class:!0});var a=F(t);r=O(a,i),a.forEach(d),f.forEach(d),this.h()},h(){C(t,"class","cap")},m(s,f){b(s,e,f),k(e,n),k(e,t),k(t,r)},p(s,f){f&512&&i!==(i=s[9].join(", ")+"")&&re(r,i)},d(s){s&&d(e)}}}function ur(l){let e,n,t,i=l[8].join(", ")+"",r,s;return{c(){e=T("li"),n=B("Proficiency in "),t=T("span"),r=B(i),s=B(" saving throws"),this.h()},l(f){e=S(f,"LI",{});var a=F(e);n=O(a,"Proficiency in "),t=S(a,"SPAN",{class:!0});var o=F(t);r=O(o,i),o.forEach(d),s=O(a," saving throws"),a.forEach(d),this.h()},h(){C(t,"class","upper")},m(f,a){b(f,e,a),k(e,n),k(e,t),k(t,r),k(e,s)},p(f,a){a&256&&i!==(i=f[8].join(", ")+"")&&re(r,i)},d(f){f&&d(e)}}}function cr(l){let e,n,t=l[5].name+"",i,r,s=l[7].name+"",f;return{c(){e=T("li"),n=B("Ability will change from "),i=B(t),r=B(" to "),f=B(s)},l(a){e=S(a,"LI",{});var o=F(e);n=O(o,"Ability will change from "),i=O(o,t),r=O(o," to "),f=O(o,s),o.forEach(d)},m(a,o){b(a,e,o),k(e,n),k(e,i),k(e,r),k(e,f)},p(a,o){o&32&&t!==(t=a[5].name+"")&&re(i,t),o&128&&s!==(s=a[7].name+"")&&re(f,s)},d(a){a&&d(e)}}}function mr(l){let e,n="<strong>Note:</strong> This Pokémon&#39;s type will not change since its type was customized.";return{c(){e=T("li"),e.innerHTML=n},l(t){e=S(t,"LI",{"data-svelte-h":!0}),ge(e)!=="svelte-1bqjkyd"&&(e.innerHTML=n)},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function z_(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function H_(l){let e;return{c(){e=B("Evolve!")},l(n){e=O(n,"Evolve!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function F_(l){let e,n,t,i;return e=new De({props:{variant:"ghost",disabled:l[15],$$slots:{default:[z_]},$$scope:{ctx:l}}}),e.$on("click",l[17]),t=new De({props:{type:"submit",disabled:l[15],$$slots:{default:[H_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s&32768&&(f.disabled=r[15]),s&33554432&&(f.$$scope={dirty:s,ctx:r}),e.$set(f);const a={};s&32768&&(a.disabled=r[15]),s&33554432&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function R_(l){var i,r;let e,n,t=((r=(i=l[1].evolution)==null?void 0:i.to)==null?void 0:r.length)>0&&rr(l);return{c(){t&&t.c(),e=x()},l(s){t&&t.l(s),e=x()},m(s,f){t&&t.m(s,f),b(s,e,f),n=!0},p(s,f){var a,o;((o=(a=s[1].evolution)==null?void 0:a.to)==null?void 0:o.length)>0?t?(t.p(s,f),f&2&&$(t,1)):(t=rr(s),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(me(),v(t,1,1,()=>{t=null}),de())},i(s){n||($(t),n=!0)},o(s){v(t),n=!1},d(s){s&&d(e),t&&t.d(s)}}}function V_(l){let e,n;return e=new Ut({props:{onsubmit:l[18],saving:l[2],$$slots:{default:[R_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.saving=t[2]),i&33685499&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function M_(l,e,n){var J,K;let t,i,r,s,f,a,o,u,c,m,p,h,_,E,g;ze(l,dt,G=>n(6,E=G)),ze(l,yn,G=>n(16,g=G));const w=xe();let{pokemon:D}=e,{species:H}=e,{saving:N=!1}=e,R=((K=(J=H.evolution)==null?void 0:J.to)==null?void 0:K.length)===1?H.evolution.to[0].id:void 0;const V=()=>{w("cancel")},M=()=>{const G={...D,pokemonId:R,nickname:D.nickname===H.name?f.name:D.nickname,type:o,hp:{current:D.hp.max+c,max:D.hp.max+c},ac:D.ac+m,proficiencies:D.proficiencies.addProficiencies(p),savingThrows:D.savingThrows.concat(h),ability:(_==null?void 0:_.id)??D.ability};w("submit",G)},q=G=>{var ue;return((ue=E==null?void 0:E.find(ve=>ve.id===G))==null?void 0:ue.name)??""},U=G=>({name:q(G.id),value:G.id});function Q(G){R=G,n(3,R)}return l.$$set=G=>{"pokemon"in G&&n(0,D=G.pokemon),"species"in G&&n(1,H=G.species),"saving"in G&&n(2,N=G.saving)},l.$$.update=()=>{var G,ue;l.$$.dirty&4&&n(15,t=N),l.$$.dirty&3&&n(5,i=H.abilities.find(ve=>ve.id===D.ability)),l.$$.dirty&34&&n(21,r=H.abilities.indexOf(i)),l.$$.dirty&10&&n(14,s=(ue=(G=H.evolution)==null?void 0:G.to)==null?void 0:ue.find(ve=>ve.id===R)),l.$$.dirty&72&&n(20,f=E==null?void 0:E.find(ve=>ve.id===R)),l.$$.dirty&3&&n(13,a=!D.type.equivalent(H.type)),l.$$.dirty&1048576&&n(4,o=f==null?void 0:f.type),l.$$.dirty&18&&n(12,u=o!=null&&!H.type.equivalent(o)),l.$$.dirty&1&&n(11,c=D.level.data*2),l.$$.dirty&1048577&&n(10,m=Math.max(0,((f==null?void 0:f.ac)??0)-D.ac)),l.$$.dirty&1048577&&n(9,p=wi((f==null?void 0:f.skills.toList())??[])(D.proficiencies.toList())),l.$$.dirty&1048577&&n(8,h=wi((f==null?void 0:f.savingThrows)??[])(D.savingThrows)),l.$$.dirty&3145728&&n(7,_=f==null?void 0:f.abilities[Math.min((f==null?void 0:f.abilities.length)-1,r)])},[D,H,N,R,o,i,E,_,h,p,m,c,u,a,s,t,g,V,M,q,f,r,U,Q]}class O_ extends fe{constructor(e){super(),oe(this,e,M_,V_,ae,{pokemon:0,species:1,saving:2})}}function B_(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function q_(l){let e,n;return e=new st({props:{title:"Evolve "+l[2].nickname,$$slots:{default:[Y_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.title="Evolve "+t[2].nickname),i&1150&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function K_(l){let e,n,t="You do not have permission to evolve this pokemon.",i,r,s;return r=new Ze({props:{$$slots:{default:[G_]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-756k5x"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&1034&&(o.$$scope={dirty:a,ctx:f}),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function U_(l){let e,n;return e=new O_({props:{pokemon:l[2],species:l[5],saving:l[4]}}),e.$on("cancel",l[8]),e.$on("submit",l[7]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.pokemon=t[2]),i&32&&(r.species=t[5]),i&16&&(r.saving=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function j_(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function G_(l){let e,n;return e=new De({props:{href:Pe.trainers(l[3].info.readKey,l[1]),$$slots:{default:[j_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&10&&(r.href=Pe.trainers(t[3].info.readKey,t[1])),i&1024&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Y_(l){let e,n,t,i;const r=[U_,K_],s=[];function f(a,o){return a[6]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Q_(l){let e,n,t,i;const r=[q_,B_],s=[];function f(a,o){return a[5]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function W_(l){let e,n;return e=new un({props:{trainer:l[3],id:l[1],titlePrefix:"Evolve",$$slots:{default:[Q_]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&8&&(r.trainer=t[3]),i&2&&(r.id=t[1]),i&1150&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Z_(l,e,n){let t,i,r,s,f=le,a=()=>(f(),f=rt(u,_=>n(3,s=_)),u),o;ze(l,dt,_=>n(9,o=_)),l.$$.on_destroy.push(()=>f());let{trainer:u}=e;a();let{id:c}=e,m=!1;const p=_=>{var E;n(4,m=!0),(E=s.update)==null||E.pokemon(_.detail).then(()=>{n(4,m=!1),tt(Pe.trainers(s.info.readKey,c))}).catch(()=>{n(4,m=!1)})},h=()=>{tt(Pe.trainers(s.info.readKey,c))};return l.$$set=_=>{"trainer"in _&&a(n(0,u=_.trainer)),"id"in _&&n(1,c=_.id)},l.$$.update=()=>{l.$$.dirty&8&&n(6,t=s.update!=null),l.$$.dirty&10&&n(2,i=s.pokemon.find(_=>_.id===c)),l.$$.dirty&516&&n(5,r=o==null?void 0:o.find(_=>_.id===(i==null?void 0:i.pokemonId)))},[u,c,i,s,m,r,t,p,h,o]}class J_ extends fe{constructor(e){super(),oe(this,e,Z_,W_,ae,{trainer:0,id:1})}}function X_(l){let e,n="Cannot find trainer",t,i,r,s,f,a,o,u,c=`You can view a <a href="${Pe.trainers()}">list of your trainers</a> or search by trainer id.`;return{c(){e=T("h1"),e.textContent=n,t=z(),i=T("p"),r=B("No trainer with id "),s=T("strong"),f=B(l[0]),a=B(" seems to be registered."),o=z(),u=T("p"),u.innerHTML=c,this.h()},l(m){e=S(m,"H1",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-q8duw8"&&(e.textContent=n),t=L(m),i=S(m,"P",{class:!0});var p=F(i);r=O(p,"No trainer with id "),s=S(p,"STRONG",{});var h=F(s);f=O(h,l[0]),h.forEach(d),a=O(p," seems to be registered."),p.forEach(d),o=L(m),u=S(m,"P",{class:!0,"data-svelte-h":!0}),ge(u)!=="svelte-dt3m1x"&&(u.innerHTML=c),this.h()},h(){C(e,"class","large-font space-bottom bubble-padded svelte-1st51oh"),C(i,"class","bubble-padded svelte-1st51oh"),C(u,"class","bubble svelte-1st51oh")},m(m,p){b(m,e,p),b(m,t,p),b(m,i,p),k(i,r),k(i,s),k(s,f),k(i,a),b(m,o,p),b(m,u,p)},p(m,[p]){p&1&&re(f,m[0])},i:le,o:le,d(m){m&&(d(e),d(t),d(i),d(o),d(u))}}}function x_(l,e,n){let{trainerKey:t}=e;return l.$$set=i=>{"trainerKey"in i&&n(0,t=i.trainerKey)},[t]}class ep extends fe{constructor(e){super(),oe(this,e,x_,X_,ae,{trainerKey:0})}}const tp="/_app/immutable/assets/find-trainer-id.DcdDbnCJ.png";function np(l){let e,n,t;function i(s){l[4](s)}let r={label:"Trainer ID",maxlength:12,placeholder:"e.g. H4PF8E2GZA0A",disabled:l[2],required:!0};return l[0]!==void 0&&(r.value=l[0]),e=new lt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&4&&(a.disabled=s[2]),!n&&f&1&&(n=!0,a.value=s[0],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function dr(l){let e,n="No trainer is registered with this id";return{c(){e=T("p"),e.textContent=n,this.h()},l(t){e=S(t,"P",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-y99bmo"&&(e.textContent=n),this.h()},h(){C(e,"class","font-sm error svelte-larh64")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function ip(l){let e,n,t=`Enter the trainer's unique ID below and click "Search".`,i,r,s,f,a,o,u,c,m=`<p>Each trainer has a unique 12-character ID. You can find it on their page, pictured below.</p> <figure class="spaced-lg svelte-larh64"><img src="${tp}" alt="The label &#39;Trainer ID&#39; denotes the trainer&#39;s id." width="800" height="256" class="svelte-larh64"/> <figcaption>Use this ID for searching</figcaption></figure> <p>Searching by a trainer&#39;s ID can allow you to view a friend&#39;s pokemon or view your own trainer&#39;s pokemon on different devices.</p>`,p,h,_;s=new An({props:{label:"Search",type:"submit",$$slots:{default:[np]},$$scope:{ctx:l}}});let E=l[1].length>0&&l[1]===l[0]&&dr();return{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),r=T("form"),A(s.$$.fragment),f=z(),E&&E.c(),a=z(),o=T("hr"),u=z(),c=T("section"),c.innerHTML=m,this.h()},l(g){e=S(g,"SECTION",{});var w=F(e);n=S(w,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-xh6jag"&&(n.textContent=t),i=L(w),r=S(w,"FORM",{class:!0,disabled:!0});var D=F(r);P(s.$$.fragment,D),f=L(D),E&&E.l(D),D.forEach(d),w.forEach(d),a=L(g),o=S(g,"HR",{}),u=L(g),c=S(g,"SECTION",{"data-svelte-h":!0}),ge(c)!=="svelte-4nha7h"&&(c.innerHTML=m),this.h()},h(){C(r,"class","vertical spaced-lg svelte-larh64"),C(r,"disabled",l[2])},m(g,w){b(g,e,w),k(e,n),k(e,i),k(e,r),y(s,r,null),k(r,f),E&&E.m(r,null),b(g,a,w),b(g,o,w),b(g,u,w),b(g,c,w),p=!0,h||(_=it(r,"submit",Rr(l[3])),h=!0)},p(g,w){const D={};w&37&&(D.$$scope={dirty:w,ctx:g}),s.$set(D),g[1].length>0&&g[1]===g[0]?E||(E=dr(),E.c(),E.m(r,null)):E&&(E.d(1),E=null),(!p||w&4)&&C(r,"disabled",g[2])},i(g){p||($(s.$$.fragment,g),p=!0)},o(g){v(s.$$.fragment,g),p=!1},d(g){g&&(d(e),d(a),d(o),d(u),d(c)),I(s),E&&E.d(),h=!1,_()}}}function lp(l){let e,n;return e=new sn({props:{saving:l[2],caption:"Searching...",$$slots:{default:[ip]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.saving=t[2]),i&39&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function rp(l){let e,n,t,i;return e=new ft({props:{value:"Find Trainer by ID"}}),t=new st({props:{title:"Find Trainer by ID",$$slots:{default:[lp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&39&&(f.$$scope={dirty:s,ctx:r}),t.$set(f)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function sp(l,e,n){let t="",i="",r=!1;const s=()=>{n(2,r=!0),Sn.get(t).then(a=>{a?tt(Pe.trainers(t)):(n(2,r=!1),n(1,i=t))})};function f(a){t=a,n(0,t)}return l.$$.update=()=>{l.$$.dirty&1&&n(0,t=t.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,""))},[t,i,r,s,f]}class ap extends fe{constructor(e){super(),oe(this,e,sp,rp,ae,{})}}function fp(l){let e,n,t,i,r,s,f,a,o,u,c,m,p,h;function _(V){l[7](V)}let E={label:"Name",disabled:l[5]};l[0]!==void 0&&(E.value=l[0]),e=new lt({props:E}),te.push(()=>ie(e,"value",_)),i=new et({props:{label:"Level",value:l[1],min:1,max:20,disabled:l[5]}}),i.$on("change",l[6]);function g(V){l[8](V)}let w={label:"AC",min:0,max:99,disabled:l[5]};l[2]!==void 0&&(w.value=l[2]),s=new et({props:w}),te.push(()=>ie(s,"value",g));function D(V){l[9](V)}let H={label:"Max HP",min:0,disabled:l[5]};l[3]!==void 0&&(H.value=l[3]),o=new et({props:H}),te.push(()=>ie(o,"value",D));function N(V){l[10](V)}let R={label:"Max Hit Dice",min:0,max:20,disabled:l[5]};return l[4]!==void 0&&(R.value=l[4]),m=new et({props:R}),te.push(()=>ie(m,"value",N)),{c(){A(e.$$.fragment),t=z(),A(i.$$.fragment),r=z(),A(s.$$.fragment),a=z(),A(o.$$.fragment),c=z(),A(m.$$.fragment)},l(V){P(e.$$.fragment,V),t=L(V),P(i.$$.fragment,V),r=L(V),P(s.$$.fragment,V),a=L(V),P(o.$$.fragment,V),c=L(V),P(m.$$.fragment,V)},m(V,M){y(e,V,M),b(V,t,M),y(i,V,M),b(V,r,M),y(s,V,M),b(V,a,M),y(o,V,M),b(V,c,M),y(m,V,M),h=!0},p(V,M){const q={};M&32&&(q.disabled=V[5]),!n&&M&1&&(n=!0,q.value=V[0],ne(()=>n=!1)),e.$set(q);const U={};M&2&&(U.value=V[1]),M&32&&(U.disabled=V[5]),i.$set(U);const Q={};M&32&&(Q.disabled=V[5]),!f&&M&4&&(f=!0,Q.value=V[2],ne(()=>f=!1)),s.$set(Q);const J={};M&32&&(J.disabled=V[5]),!u&&M&8&&(u=!0,J.value=V[3],ne(()=>u=!1)),o.$set(J);const K={};M&32&&(K.disabled=V[5]),!p&&M&16&&(p=!0,K.value=V[4],ne(()=>p=!1)),m.$set(K)},i(V){h||($(e.$$.fragment,V),$(i.$$.fragment,V),$(s.$$.fragment,V),$(o.$$.fragment,V),$(m.$$.fragment,V),h=!0)},o(V){v(e.$$.fragment,V),v(i.$$.fragment,V),v(s.$$.fragment,V),v(o.$$.fragment,V),v(m.$$.fragment,V),h=!1},d(V){V&&(d(t),d(r),d(a),d(c)),I(e,V),I(i,V),I(s,V),I(o,V),I(m,V)}}}function op(l){let e,n;return e=new Je({props:{title:"Basic Info",columns:2,$$slots:{default:[fp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&2111&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function up(l,e,n){let{name:t}=e,{level:i}=e,{ac:r}=e,{maxHp:s}=e,{maxHitDice:f}=e,{disabled:a=!1}=e;const o=h=>{i===f&&n(4,f=h.detail.value),n(1,i=h.detail.value)};function u(h){t=h,n(0,t)}function c(h){r=h,n(2,r)}function m(h){s=h,n(3,s)}function p(h){f=h,n(4,f)}return l.$$set=h=>{"name"in h&&n(0,t=h.name),"level"in h&&n(1,i=h.level),"ac"in h&&n(2,r=h.ac),"maxHp"in h&&n(3,s=h.maxHp),"maxHitDice"in h&&n(4,f=h.maxHitDice),"disabled"in h&&n(5,a=h.disabled)},[t,i,r,s,f,a,o,u,c,m,p]}class cp extends fe{constructor(e){super(),oe(this,e,up,op,ae,{name:0,level:1,ac:2,maxHp:3,maxHitDice:4,disabled:5})}}function mp(l){let e,n,t,i,r,s,f,a,o,u,c,m,p,h,_,E,g,w,D,H,N,R,V,M,q,U;function Q(_e){l[10](_e)}let J={label:"Species",placeholder:"e.g. Human",disabled:l[3]};l[4]!==void 0&&(J.value=l[4]),t=new lt({props:J}),te.push(()=>ie(t,"value",Q));function K(_e){l[11](_e)}let G={label:"Gender",disabled:l[3]};l[5]!==void 0&&(G.value=l[5]),f=new lt({props:G}),te.push(()=>ie(f,"value",K));function ue(_e){l[12](_e)}let ve={label:"Age",disabled:l[3]};l[6]!==void 0&&(ve.value=l[6]),c=new et({props:ve}),te.push(()=>ie(c,"value",ue));function Z(_e){l[13](_e)}let he={label:"Home Region",placeholder:"e.g. Sinnoh",disabled:l[3]};l[7]!==void 0&&(he.value=l[7]),_=new lt({props:he}),te.push(()=>ie(_,"value",Z));function Ce(_e){l[14](_e)}let se={label:"Background",placeholder:"e.g. Entertainer",disabled:l[3]};l[8]!==void 0&&(se.value=l[8]),D=new lt({props:se}),te.push(()=>ie(D,"value",Ce));function ee(_e){l[15](_e)}function Y(_e){l[16](_e)}let ce={label:"Avatar",previousValue:l[2],maxbytes:_p,disabled:l[3]};return l[0]!==void 0&&(ce.currentValue=l[0]),l[1]!==void 0&&(ce.isValid=l[1]),V=new is({props:ce}),te.push(()=>ie(V,"currentValue",ee)),te.push(()=>ie(V,"isValid",Y)),{c(){e=T("div"),n=T("div"),A(t.$$.fragment),r=z(),s=T("div"),A(f.$$.fragment),o=z(),u=T("div"),A(c.$$.fragment),p=z(),h=T("div"),A(_.$$.fragment),g=z(),w=T("div"),A(D.$$.fragment),N=z(),R=T("div"),A(V.$$.fragment),this.h()},l(_e){e=S(_e,"DIV",{class:!0});var $e=F(e);n=S($e,"DIV",{});var Te=F(n);P(t.$$.fragment,Te),Te.forEach(d),r=L($e),s=S($e,"DIV",{});var we=F(s);P(f.$$.fragment,we),we.forEach(d),o=L($e),u=S($e,"DIV",{});var X=F(u);P(c.$$.fragment,X),X.forEach(d),p=L($e),h=S($e,"DIV",{});var be=F(h);P(_.$$.fragment,be),be.forEach(d),g=L($e),w=S($e,"DIV",{});var Ie=F(w);P(D.$$.fragment,Ie),Ie.forEach(d),N=L($e),R=S($e,"DIV",{class:!0});var He=F(R);P(V.$$.fragment,He),He.forEach(d),$e.forEach(d),this.h()},h(){Se(n,"grid-area","field1"),Se(s,"grid-area","field2"),Se(u,"grid-area","field3"),Se(h,"grid-area","field4"),Se(w,"grid-area","field5"),C(R,"class","image-field svelte-1qp92on"),Se(R,"grid-area","avatar"),C(e,"class","grid svelte-1qp92on")},m(_e,$e){b(_e,e,$e),k(e,n),y(t,n,null),k(e,r),k(e,s),y(f,s,null),k(e,o),k(e,u),y(c,u,null),k(e,p),k(e,h),y(_,h,null),k(e,g),k(e,w),y(D,w,null),k(e,N),k(e,R),y(V,R,null),U=!0},p(_e,$e){const Te={};$e&8&&(Te.disabled=_e[3]),!i&&$e&16&&(i=!0,Te.value=_e[4],ne(()=>i=!1)),t.$set(Te);const we={};$e&8&&(we.disabled=_e[3]),!a&&$e&32&&(a=!0,we.value=_e[5],ne(()=>a=!1)),f.$set(we);const X={};$e&8&&(X.disabled=_e[3]),!m&&$e&64&&(m=!0,X.value=_e[6],ne(()=>m=!1)),c.$set(X);const be={};$e&8&&(be.disabled=_e[3]),!E&&$e&128&&(E=!0,be.value=_e[7],ne(()=>E=!1)),_.$set(be);const Ie={};$e&8&&(Ie.disabled=_e[3]),!H&&$e&256&&(H=!0,Ie.value=_e[8],ne(()=>H=!1)),D.$set(Ie);const He={};$e&4&&(He.previousValue=_e[2]),$e&8&&(He.disabled=_e[3]),!M&&$e&1&&(M=!0,He.currentValue=_e[0],ne(()=>M=!1)),!q&&$e&2&&(q=!0,He.isValid=_e[1],ne(()=>q=!1)),V.$set(He)},i(_e){U||($(t.$$.fragment,_e),$(f.$$.fragment,_e),$(c.$$.fragment,_e),$(_.$$.fragment,_e),$(D.$$.fragment,_e),$(V.$$.fragment,_e),U=!0)},o(_e){v(t.$$.fragment,_e),v(f.$$.fragment,_e),v(c.$$.fragment,_e),v(_.$$.fragment,_e),v(D.$$.fragment,_e),v(V.$$.fragment,_e),U=!1},d(_e){_e&&d(e),I(t),I(f),I(c),I(_),I(D),I(V)}}}function dp(l){let e,n;return e=new Je({props:{title:"Biography",$$slots:{default:[mp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&131583&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}const _p=524288;function pp(l,e,n){let{biography:t}=e,{originalAvatarSrc:i}=e,{avatar:r}=e,{disabled:s=!1}=e,{isValid:f=!0}=e,{species:a,gender:o,age:u,homeRegion:c,background:m}=t;function p(H){a=H,n(4,a)}function h(H){o=H,n(5,o)}function _(H){u=H,n(6,u)}function E(H){c=H,n(7,c)}function g(H){m=H,n(8,m)}function w(H){r=H,n(0,r)}function D(H){f=H,n(1,f)}return l.$$set=H=>{"biography"in H&&n(9,t=H.biography),"originalAvatarSrc"in H&&n(2,i=H.originalAvatarSrc),"avatar"in H&&n(0,r=H.avatar),"disabled"in H&&n(3,s=H.disabled),"isValid"in H&&n(1,f=H.isValid)},l.$$.update=()=>{l.$$.dirty&496&&n(9,t={species:a,gender:o,age:u,homeRegion:c,background:m})},[r,f,i,s,a,o,u,c,m,t,p,h,_,E,g,w,D]}class hp extends fe{constructor(e){super(),oe(this,e,pp,dp,ae,{biography:9,originalAvatarSrc:2,avatar:0,disabled:3,isValid:1})}}function $p(l){let e,n,t,i,r,s;function f(c){l[5](c)}let a={label:"Money",disabled:l[2]};l[0]!==void 0&&(a.value=l[0]),e=new ga({props:a}),te.push(()=>ie(e,"value",f));function o(c){l[6](c)}let u={disabled:l[2],newStandardItem:l[3],newCustomItem:l[4],groupOrder:["pokeball","medicine","berry","held item","evolution"]};return l[1]!==void 0&&(u.values=l[1]),i=new bs({props:u}),te.push(()=>ie(i,"values",o)),{c(){A(e.$$.fragment),t=z(),A(i.$$.fragment)},l(c){P(e.$$.fragment,c),t=L(c),P(i.$$.fragment,c)},m(c,m){y(e,c,m),b(c,t,m),y(i,c,m),s=!0},p(c,m){const p={};m&4&&(p.disabled=c[2]),!n&&m&1&&(n=!0,p.value=c[0],ne(()=>n=!1)),e.$set(p);const h={};m&4&&(h.disabled=c[2]),!r&&m&2&&(r=!0,h.values=c[1],ne(()=>r=!1)),i.$set(h)},i(c){s||($(e.$$.fragment,c),$(i.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),v(i.$$.fragment,c),s=!1},d(c){c&&d(t),I(e,c),I(i,c)}}}function gp(l){let e,n;return e=new Je({props:{title:"Inventory",$$slots:{default:[$p]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&135&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function vp(l,e,n){let{money:t}=e,{inventory:i}=e,{disabled:r}=e;const s=u=>({id:u,type:"standard",itemId:"poke-ball",quantity:1}),f=u=>({id:u,type:"custom",name:"",description:"",quantity:1});function a(u){t=u,n(0,t)}function o(u){i=u,n(1,i)}return l.$$set=u=>{"money"in u&&n(0,t=u.money),"inventory"in u&&n(1,i=u.inventory),"disabled"in u&&n(2,r=u.disabled)},[t,i,r,s,f,a,o]}class bp extends fe{constructor(e){super(),oe(this,e,vp,gp,ae,{money:0,inventory:1,disabled:2})}}function kp(l){let e,n,t;function i(s){l[39](s)}let r={label:"Description",placeholder:"General info about this trainer...",disabled:l[18]};return l[9]!==void 0&&(r.value=l[9]),e=new kt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f[0]&262144&&(a.disabled=s[18]),!n&&f[0]&512&&(n=!0,a.value=s[9],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function wp(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Ep(l){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Cp(l){let e,n,t,i;return e=new De({props:{variant:"ghost",disabled:l[18],$$slots:{default:[wp]},$$scope:{ctx:l}}}),e.$on("click",l[20]),t=new De({props:{type:"submit",disabled:l[18]||!l[16],$$slots:{default:[Ep]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s[0]&262144&&(f.disabled=r[18]),s[1]&1024&&(f.$$scope={dirty:s,ctx:r}),e.$set(f);const a={};s[0]&327680&&(a.disabled=r[18]||!r[16]),s[1]&1024&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function Sp(l){var Ee;let e,n,t,i,r,s,f,a,o,u,c,m,p,h,_,E,g,w,D,H,N,R,V,M,q,U,Q,J,K,G,ue,ve,Z,he,Ce,se,ee,Y;function ce(W){l[23](W)}function _e(W){l[24](W)}function $e(W){l[25](W)}function Te(W){l[26](W)}function we(W){l[27](W)}let X={disabled:l[18]};l[1]!==void 0&&(X.name=l[1]),l[2]!==void 0&&(X.level=l[2]),l[3]!==void 0&&(X.ac=l[3]),l[4]!==void 0&&(X.maxHp=l[4]),l[5]!==void 0&&(X.maxHitDice=l[5]),e=new cp({props:X}),te.push(()=>ie(e,"name",ce)),te.push(()=>ie(e,"level",_e)),te.push(()=>ie(e,"ac",$e)),te.push(()=>ie(e,"maxHp",Te)),te.push(()=>ie(e,"maxHitDice",we));function be(W){l[28](W)}function Ie(W){l[29](W)}function He(W){l[30](W)}let Ve={originalAvatarSrc:(Ee=l[19])==null?void 0:Ee.href,disabled:l[18]};l[10]!==void 0&&(Ve.biography=l[10]),l[15]!==void 0&&(Ve.avatar=l[15]),l[16]!==void 0&&(Ve.isValid=l[16]),a=new hp({props:Ve}),te.push(()=>ie(a,"biography",be)),te.push(()=>ie(a,"avatar",Ie)),te.push(()=>ie(a,"isValid",He));function Ue(W){l[31](W)}let pe={disabled:l[18]};l[6]!==void 0&&(pe.values=l[6]),p=new Mr({props:pe}),te.push(()=>ie(p,"values",Ue));function ye(W){l[32](W)}let Oe={disabled:l[18]};l[7]!==void 0&&(Oe.values=l[7]),E=new Or({props:Oe}),te.push(()=>ie(E,"values",ye));function je(W){l[33](W)}let Xe={disabled:l[18]};l[8]!==void 0&&(Xe.values=l[8]),D=new Br({props:Xe}),te.push(()=>ie(D,"values",je));function Me(W){l[34](W)}let We={disabled:l[18]};l[12]!==void 0&&(We.values=l[12]),R=new sf({props:We}),te.push(()=>ie(R,"values",Me));function _t(W){l[35](W)}let ut={disabled:l[18]};l[13]!==void 0&&(ut.value=l[13]),q=new _f({props:ut}),te.push(()=>ie(q,"value",_t));function pt(W){l[36](W)}let at={feats:xr,disabled:l[18]};l[14]!==void 0&&(at.values=l[14]),J=new ws({props:at}),te.push(()=>ie(J,"values",pt));function Gt(W){l[37](W)}function Et(W){l[38](W)}let gt={disabled:l[18]};return l[11]!==void 0&&(gt.money=l[11]),l[17]!==void 0&&(gt.inventory=l[17]),ue=new bp({props:gt}),te.push(()=>ie(ue,"money",Gt)),te.push(()=>ie(ue,"inventory",Et)),Ce=new Je({props:{title:"General",$$slots:{default:[kp]},$$scope:{ctx:l}}}),ee=new Ze({props:{error:l[16]?void 0:"One or more fields above have an issue.",$$slots:{default:[Cp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),f=z(),A(a.$$.fragment),m=z(),A(p.$$.fragment),_=z(),A(E.$$.fragment),w=z(),A(D.$$.fragment),N=z(),A(R.$$.fragment),M=z(),A(q.$$.fragment),Q=z(),A(J.$$.fragment),G=z(),A(ue.$$.fragment),he=z(),A(Ce.$$.fragment),se=z(),A(ee.$$.fragment)},l(W){P(e.$$.fragment,W),f=L(W),P(a.$$.fragment,W),m=L(W),P(p.$$.fragment,W),_=L(W),P(E.$$.fragment,W),w=L(W),P(D.$$.fragment,W),N=L(W),P(R.$$.fragment,W),M=L(W),P(q.$$.fragment,W),Q=L(W),P(J.$$.fragment,W),G=L(W),P(ue.$$.fragment,W),he=L(W),P(Ce.$$.fragment,W),se=L(W),P(ee.$$.fragment,W)},m(W,Ae){y(e,W,Ae),b(W,f,Ae),y(a,W,Ae),b(W,m,Ae),y(p,W,Ae),b(W,_,Ae),y(E,W,Ae),b(W,w,Ae),y(D,W,Ae),b(W,N,Ae),y(R,W,Ae),b(W,M,Ae),y(q,W,Ae),b(W,Q,Ae),y(J,W,Ae),b(W,G,Ae),y(ue,W,Ae),b(W,he,Ae),y(Ce,W,Ae),b(W,se,Ae),y(ee,W,Ae),Y=!0},p(W,Ae){const ht={};Ae[0]&262144&&(ht.disabled=W[18]),!n&&Ae[0]&2&&(n=!0,ht.name=W[1],ne(()=>n=!1)),!t&&Ae[0]&4&&(t=!0,ht.level=W[2],ne(()=>t=!1)),!i&&Ae[0]&8&&(i=!0,ht.ac=W[3],ne(()=>i=!1)),!r&&Ae[0]&16&&(r=!0,ht.maxHp=W[4],ne(()=>r=!1)),!s&&Ae[0]&32&&(s=!0,ht.maxHitDice=W[5],ne(()=>s=!1)),e.$set(ht);const vt={};Ae[0]&262144&&(vt.disabled=W[18]),!o&&Ae[0]&1024&&(o=!0,vt.biography=W[10],ne(()=>o=!1)),!u&&Ae[0]&32768&&(u=!0,vt.avatar=W[15],ne(()=>u=!1)),!c&&Ae[0]&65536&&(c=!0,vt.isValid=W[16],ne(()=>c=!1)),a.$set(vt);const Yt={};Ae[0]&262144&&(Yt.disabled=W[18]),!h&&Ae[0]&64&&(h=!0,Yt.values=W[6],ne(()=>h=!1)),p.$set(Yt);const Pt={};Ae[0]&262144&&(Pt.disabled=W[18]),!g&&Ae[0]&128&&(g=!0,Pt.values=W[7],ne(()=>g=!1)),E.$set(Pt);const Qt={};Ae[0]&262144&&(Qt.disabled=W[18]),!H&&Ae[0]&256&&(H=!0,Qt.values=W[8],ne(()=>H=!1)),D.$set(Qt);const Dt={};Ae[0]&262144&&(Dt.disabled=W[18]),!V&&Ae[0]&4096&&(V=!0,Dt.values=W[12],ne(()=>V=!1)),R.$set(Dt);const Wt={};Ae[0]&262144&&(Wt.disabled=W[18]),!U&&Ae[0]&8192&&(U=!0,Wt.value=W[13],ne(()=>U=!1)),q.$set(Wt);const Nt={};Ae[0]&262144&&(Nt.disabled=W[18]),!K&&Ae[0]&16384&&(K=!0,Nt.values=W[14],ne(()=>K=!1)),J.$set(Nt);const Ct={};Ae[0]&262144&&(Ct.disabled=W[18]),!ve&&Ae[0]&2048&&(ve=!0,Ct.money=W[11],ne(()=>ve=!1)),!Z&&Ae[0]&131072&&(Z=!0,Ct.inventory=W[17],ne(()=>Z=!1)),ue.$set(Ct);const j={};Ae[0]&262656|Ae[1]&1024&&(j.$$scope={dirty:Ae,ctx:W}),Ce.$set(j);const ke={};Ae[0]&65536&&(ke.error=W[16]?void 0:"One or more fields above have an issue."),Ae[0]&327680|Ae[1]&1024&&(ke.$$scope={dirty:Ae,ctx:W}),ee.$set(ke)},i(W){Y||($(e.$$.fragment,W),$(a.$$.fragment,W),$(p.$$.fragment,W),$(E.$$.fragment,W),$(D.$$.fragment,W),$(R.$$.fragment,W),$(q.$$.fragment,W),$(J.$$.fragment,W),$(ue.$$.fragment,W),$(Ce.$$.fragment,W),$(ee.$$.fragment,W),Y=!0)},o(W){v(e.$$.fragment,W),v(a.$$.fragment,W),v(p.$$.fragment,W),v(E.$$.fragment,W),v(D.$$.fragment,W),v(R.$$.fragment,W),v(q.$$.fragment,W),v(J.$$.fragment,W),v(ue.$$.fragment,W),v(Ce.$$.fragment,W),v(ee.$$.fragment,W),Y=!1},d(W){W&&(d(f),d(m),d(_),d(w),d(N),d(M),d(Q),d(G),d(he),d(se)),I(e,W),I(a,W),I(p,W),I(E,W),I(D,W),I(R,W),I(q,W),I(J,W),I(ue,W),I(Ce,W),I(ee,W)}}}function Tp(l){let e,n;return e=new Ut({props:{onsubmit:l[21],saving:l[0],$$slots:{default:[Sp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i[0]&1&&(r.saving=t[0]),i[0]&524286|i[1]&1024&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ip(l,e,n){let t;const i=xe();let{trainer:r}=e,{saving:s=!1}=e,f=r.name,a=r.level.data,o=r.ac,u=r.hp.max,c=r.hitDice.max,m=r.attributes.copy(),p=r.proficiencies.copy(),h=[...r.savingThrows],_=r.description,E=r.biography,g=r.avatar,w=r.money,D=structuredClone(r.specializations),H=structuredClone(r.path),N=r.feats.map(X=>structuredClone(X)),R,V=!0,M=structuredClone(r.inventory);const q=()=>{i("cancel")},U=()=>{i("update",{trainer:{name:f,description:_,level:new Vt(a),ac:o,hp:{current:r.hp.current+(u-r.hp.max),max:u},hitDice:{current:r.hitDice.current+(c-r.hitDice.max),max:c},attributes:m,proficiencies:p,savingThrows:h,biography:E,money:w,inventory:M,avatar:g,specializations:D,path:H,feats:N},updateAvatar:R})};function Q(X){f=X,n(1,f)}function J(X){a=X,n(2,a)}function K(X){o=X,n(3,o)}function G(X){u=X,n(4,u)}function ue(X){c=X,n(5,c)}function ve(X){E=X,n(10,E)}function Z(X){R=X,n(15,R)}function he(X){V=X,n(16,V)}function Ce(X){m=X,n(6,m)}function se(X){p=X,n(7,p)}function ee(X){h=X,n(8,h)}function Y(X){D=X,n(12,D)}function ce(X){H=X,n(13,H)}function _e(X){N=X,n(14,N)}function $e(X){w=X,n(11,w)}function Te(X){M=X,n(17,M)}function we(X){_=X,n(9,_)}return l.$$set=X=>{"trainer"in X&&n(22,r=X.trainer),"saving"in X&&n(0,s=X.saving)},l.$$.update=()=>{l.$$.dirty[0]&1&&n(18,t=s)},[s,f,a,o,u,c,m,p,h,_,E,w,D,H,N,R,V,M,t,g,q,U,r,Q,J,K,G,ue,ve,Z,he,Ce,se,ee,Y,ce,_e,$e,Te,we]}class yp extends fe{constructor(e){super(),oe(this,e,Ip,Tp,ae,{trainer:22,saving:0},null,[-1,-1])}}function Ap(l){let e,n,t="You do not have permission to edit this trainer.",i,r,s;return r=new Ze({props:{$$slots:{default:[Np]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-1kn7ebq"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&66&&(o.$$scope={dirty:a,ctx:f}),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function Pp(l){let e,n;return e=new yp({props:{trainer:l[1].info,saving:l[2]}}),e.$on("update",l[5]),e.$on("cancel",l[4]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.trainer=t[1].info),i&4&&(r.saving=t[2]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Dp(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Np(l){let e,n;return e=new De({props:{href:Pe.trainers(l[1].info.readKey),$$slots:{default:[Dp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.href=Pe.trainers(t[1].info.readKey)),i&64&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Lp(l){let e,n,t,i;const r=[Pp,Ap],s=[];function f(a,o){return a[3]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function zp(l){let e,n,t,i;return e=new ft({props:{value:"Edit "+l[1].info.name}}),t=new st({props:{title:l[1].info.name,$$slots:{default:[Lp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&2&&(f.value="Edit "+r[1].info.name),e.$set(f);const a={};s&2&&(a.title=r[1].info.name),s&78&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function Hp(l,e,n){let t,i,r=le,s=()=>(r(),r=rt(f,c=>n(1,i=c)),f);l.$$.on_destroy.push(()=>r());let{trainer:f}=e;s();let a=!1;const o=()=>{tt(Pe.trainers(i.info.readKey))},u=c=>{var m;n(2,a=!0),(m=i.update)==null||m.info(c.detail.trainer,{updateAvatar:c.detail.updateAvatar}).then(()=>{var p,h;return Promise.all([((p=i.update)==null?void 0:p.inventory(c.detail.trainer))??Promise.resolve(),((h=i.update)==null?void 0:h.trainerFeats(c.detail.trainer))??Promise.resolve()])}).then(()=>{n(2,a=!1),tt(Pe.trainers(i.info.readKey))}).catch(()=>{n(2,a=!1)})};return l.$$set=c=>{"trainer"in c&&s(n(0,f=c.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(3,t=i.update!=null)},[f,i,a,t,o,u]}class Fp extends fe{constructor(e){super(),oe(this,e,Hp,zp,ae,{trainer:0})}}function Rp(l){let e,n,t="You do not have permission to retire this trainer.",i,r,s;return r=new Ze({props:{$$slots:{default:[Op]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-10ipcbz"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&66&&(o.$$scope={dirty:a,ctx:f}),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function Vp(l){let e,n;return e=new sn({props:{saving:l[2],$$slots:{default:[Up]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.saving=t[2]),i&82&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Mp(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Op(l){var t;let e,n;return e=new De({props:{href:Pe.trainers((t=l[1])==null?void 0:t.info.readKey),$$slots:{default:[Mp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,r){y(e,i,r),n=!0},p(i,r){var f;const s={};r&2&&(s.href=Pe.trainers((f=i[1])==null?void 0:f.info.readKey)),r&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function Bp(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function qp(l){let e;return{c(){e=B("Delete")},l(n){e=O(n,"Delete")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Kp(l){var r;let e,n,t,i;return e=new De({props:{href:Pe.trainers((r=l[1])==null?void 0:r.info.readKey),variant:"ghost",$$slots:{default:[Bp]},$$scope:{ctx:l}}}),t=new De({props:{variant:"danger",$$slots:{default:[qp]},$$scope:{ctx:l}}}),t.$on("click",l[5]),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(s){P(e.$$.fragment,s),n=L(s),P(t.$$.fragment,s)},m(s,f){y(e,s,f),b(s,n,f),y(t,s,f),i=!0},p(s,f){var u;const a={};f&2&&(a.href=Pe.trainers((u=s[1])==null?void 0:u.info.readKey)),f&64&&(a.$$scope={dirty:f,ctx:s}),e.$set(a);const o={};f&64&&(o.$$scope={dirty:f,ctx:s}),t.$set(o)},i(s){i||($(e.$$.fragment,s),$(t.$$.fragment,s),i=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),i=!1},d(s){s&&d(n),I(e,s),I(t,s)}}}function Up(l){let e,n,t,i,r,s,f,a="<strong>This is permanent and cannot be undone!</strong>",o,u,c;return u=new Ze({props:{$$slots:{default:[Kp]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to retire "),i=B(l[4]),r=B("? This will delete all of their data, including all of their pokemon, from our records."),s=z(),f=T("p"),f.innerHTML=a,o=z(),A(u.$$.fragment)},l(m){e=S(m,"SECTION",{});var p=F(e);n=S(p,"P",{});var h=F(n);t=O(h,"Are you sure you want to retire "),i=O(h,l[4]),r=O(h,"? This will delete all of their data, including all of their pokemon, from our records."),h.forEach(d),s=L(p),f=S(p,"P",{"data-svelte-h":!0}),ge(f)!=="svelte-1ocw14s"&&(f.innerHTML=a),o=L(p),P(u.$$.fragment,p),p.forEach(d)},m(m,p){b(m,e,p),k(e,n),k(n,t),k(n,i),k(n,r),k(e,s),k(e,f),k(e,o),y(u,e,null),c=!0},p(m,p){(!c||p&16)&&re(i,m[4]);const h={};p&66&&(h.$$scope={dirty:p,ctx:m}),u.$set(h)},i(m){c||($(u.$$.fragment,m),c=!0)},o(m){v(u.$$.fragment,m),c=!1},d(m){m&&d(e),I(u)}}}function jp(l){let e,n,t,i;const r=[Vp,Rp],s=[];function f(a,o){return a[3]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Gp(l){let e,n,t,i;return e=new ft({props:{value:"Retire "+l[4]+"?"}}),t=new st({props:{title:"Retire "+l[4]+"?",$$slots:{default:[jp]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&16&&(f.value="Retire "+r[4]+"?"),e.$set(f);const a={};s&16&&(a.title="Retire "+r[4]+"?"),s&94&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function Yp(l,e,n){let t,i,r,s=le,f=()=>(s(),s=rt(a,c=>n(1,r=c)),a);l.$$.on_destroy.push(()=>s());let{trainer:a}=e;f();let o=!1;const u=()=>{var c;n(2,o=!0),(c=r.update)==null||c.retire().then(()=>{tt(Pe.trainers())}).catch(()=>{n(2,o=!1)})};return l.$$set=c=>{"trainer"in c&&f(n(0,a=c.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(4,t=(r==null?void 0:r.info.name)??""),l.$$.dirty&2&&n(3,i=r.update!=null)},[a,r,o,i,t,u]}class Qp extends fe{constructor(e){super(),oe(this,e,Yp,Gp,ae,{trainer:0})}}const Wp="/_app/immutable/assets/find-access-key.BK3o4iYv.png";function Zp(l){let e,n="<p>A trainer&#39;s <dfn>Access Key</dfn> is a special code that allows you to manage a trainer&#39;s info and their pokemon. Each trainer has a unique key, and the key must be saved to each device from which you want to manage the trainer.</p>",t,i,r,s,f,a;const o=[xp,Xp],u=[];function c(m,p){return m[6]?0:1}return i=c(l),r=u[i]=o[i](l),f=new Ze({props:{$$slots:{default:[i1]},$$scope:{ctx:l}}}),{c(){e=T("section"),e.innerHTML=n,t=z(),r.c(),s=z(),A(f.$$.fragment)},l(m){e=S(m,"SECTION",{"data-svelte-h":!0}),ge(e)!=="svelte-pmiax8"&&(e.innerHTML=n),t=L(m),r.l(m),s=L(m),P(f.$$.fragment,m)},m(m,p){b(m,e,p),b(m,t,p),u[i].m(m,p),b(m,s,p),y(f,m,p),a=!0},p(m,p){let h=i;i=c(m),i===h?u[i].p(m,p):(me(),v(u[h],1,1,()=>{u[h]=null}),de(),r=u[i],r?r.p(m,p):(r=u[i]=o[i](m),r.c()),$(r,1),r.m(s.parentNode,s));const _={};p&1028&&(_.$$scope={dirty:p,ctx:m}),f.$set(_)},i(m){a||($(r),$(f.$$.fragment,m),a=!0)},o(m){v(r),v(f.$$.fragment,m),a=!1},d(m){m&&(d(e),d(t),d(s)),u[i].d(m),I(f,m)}}}function Jp(l){let e,n,t="<strong>Success!</strong>",i,r,s,f,a,o,u,c;return u=new Ze({props:{$$slots:{default:[r1]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.innerHTML=t,i=z(),r=T("p"),s=B("You can now manage "),f=B(l[7]),a=B(" and their pokemon."),o=z(),A(u.$$.fragment)},l(m){e=S(m,"SECTION",{});var p=F(e);n=S(p,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-no3oh3"&&(n.innerHTML=t),i=L(p),r=S(p,"P",{});var h=F(r);s=O(h,"You can now manage "),f=O(h,l[7]),a=O(h," and their pokemon."),h.forEach(d),o=L(p),P(u.$$.fragment,p),p.forEach(d)},m(m,p){b(m,e,p),k(e,n),k(e,i),k(e,r),k(r,s),k(r,f),k(r,a),k(e,o),y(u,e,null),c=!0},p(m,p){(!c||p&128)&&re(f,m[7]);const h={};p&1028&&(h.$$scope={dirty:p,ctx:m}),u.$set(h)},i(m){c||($(u.$$.fragment,m),c=!0)},o(m){v(u.$$.fragment,m),c=!1},d(m){m&&d(e),I(u)}}}function Xp(l){let e,n;return e=new sn({props:{saving:l[3],caption:"Searching...",$$slots:{default:[t1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.saving=t[3]),i&1178&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function xp(l){let e,n,t,i,r,s,f,a;return f=new Ka({props:{label:"Access Key",value:l[2].writeKey,disabled:!0}}),{c(){e=T("section"),n=T("p"),t=B("You currently have "),i=B(l[7]),r=B("'s access key saved to this device. To share this key, press Reveal below."),s=z(),A(f.$$.fragment)},l(o){e=S(o,"SECTION",{});var u=F(e);n=S(u,"P",{});var c=F(n);t=O(c,"You currently have "),i=O(c,l[7]),r=O(c,"'s access key saved to this device. To share this key, press Reveal below."),c.forEach(d),s=L(u),P(f.$$.fragment,u),u.forEach(d)},m(o,u){b(o,e,u),k(e,n),k(n,t),k(n,i),k(n,r),k(e,s),y(f,e,null),a=!0},p(o,u){(!a||u&128)&&re(i,o[7]);const c={};u&4&&(c.value=o[2].writeKey),f.$set(c)},i(o){a||($(f.$$.fragment,o),a=!0)},o(o){v(f.$$.fragment,o),a=!1},d(o){o&&d(e),I(f)}}}function e1(l){let e,n,t;function i(s){l[9](s)}let r={label:"Access Key",placeholder:"e.g. JM7WEZ0YKW3WGC8I",disabled:l[3],required:!0};return l[1]!==void 0&&(r.value=l[1]),e=new lt({props:r}),te.push(()=>ie(e,"value",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};f&8&&(a.disabled=s[3]),!n&&f&2&&(n=!0,a.value=s[1],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function _r(l){let e,n="The provided access key does match this trainer's key";return{c(){e=T("p"),e.textContent=n,this.h()},l(t){e=S(t,"P",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-7yk1wk"&&(e.textContent=n),this.h()},h(){C(e,"class","font-sm error svelte-larh64")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function t1(l){let e,n,t,i,r,s,f,a,o,u,c,m,p,h,_,E,g,w,D,H,N,R=`<img src="${Wp}" alt="&#39;Access Key&#39; is a button at the bottom of the trainer&#39;s page." width="800" height="250" class="svelte-larh64"/> <figcaption>Click this button to get the access key</figcaption>`,V,M,q;u=new An({props:{label:"Submit",type:"submit",$$slots:{default:[e1]},$$scope:{ctx:l}}});let U=l[4].length>0&&l[4]===l[1]&&_r();return{c(){e=T("section"),n=T("p"),t=B("You currently do not have permission to manage "),i=B(l[7]),r=B(". To obtain permission, put "),s=B(l[7]),f=B("'s access key into the field below and press Submit."),a=z(),o=T("form"),A(u.$$.fragment),c=z(),U&&U.c(),m=z(),p=T("hr"),h=z(),_=T("section"),E=T("p"),g=B("If you are managing "),w=B(l[7]),D=B(" from another device, you can find their access code from the trainer's page."),H=z(),N=T("figure"),N.innerHTML=R,this.h()},l(Q){e=S(Q,"SECTION",{});var J=F(e);n=S(J,"P",{});var K=F(n);t=O(K,"You currently do not have permission to manage "),i=O(K,l[7]),r=O(K,". To obtain permission, put "),s=O(K,l[7]),f=O(K,"'s access key into the field below and press Submit."),K.forEach(d),a=L(J),o=S(J,"FORM",{class:!0});var G=F(o);P(u.$$.fragment,G),c=L(G),U&&U.l(G),G.forEach(d),J.forEach(d),m=L(Q),p=S(Q,"HR",{}),h=L(Q),_=S(Q,"SECTION",{});var ue=F(_);E=S(ue,"P",{});var ve=F(E);g=O(ve,"If you are managing "),w=O(ve,l[7]),D=O(ve," from another device, you can find their access code from the trainer's page."),ve.forEach(d),H=L(ue),N=S(ue,"FIGURE",{class:!0,"data-svelte-h":!0}),ge(N)!=="svelte-1p2g8w8"&&(N.innerHTML=R),ue.forEach(d),this.h()},h(){C(o,"class","vertical spaced-lg svelte-larh64"),C(N,"class","spaced-lg svelte-larh64")},m(Q,J){b(Q,e,J),k(e,n),k(n,t),k(n,i),k(n,r),k(n,s),k(n,f),k(e,a),k(e,o),y(u,o,null),k(o,c),U&&U.m(o,null),b(Q,m,J),b(Q,p,J),b(Q,h,J),b(Q,_,J),k(_,E),k(E,g),k(E,w),k(E,D),k(_,H),k(_,N),V=!0,M||(q=it(o,"submit",Rr(l[8])),M=!0)},p(Q,J){(!V||J&128)&&re(i,Q[7]),(!V||J&128)&&re(s,Q[7]);const K={};J&1034&&(K.$$scope={dirty:J,ctx:Q}),u.$set(K),Q[4].length>0&&Q[4]===Q[1]?U||(U=_r(),U.c(),U.m(o,null)):U&&(U.d(1),U=null),(!V||J&128)&&re(w,Q[7])},i(Q){V||($(u.$$.fragment,Q),V=!0)},o(Q){v(u.$$.fragment,Q),V=!1},d(Q){Q&&(d(e),d(m),d(p),d(h),d(_)),I(u),U&&U.d(),M=!1,q()}}}function n1(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function i1(l){var t;let e,n;return e=new De({props:{href:Pe.trainers((t=l[2])==null?void 0:t.info.readKey),variant:"ghost",$$slots:{default:[n1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,r){y(e,i,r),n=!0},p(i,r){var f;const s={};r&4&&(s.href=Pe.trainers((f=i[2])==null?void 0:f.info.readKey)),r&1024&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function l1(l){let e;return{c(){e=B("Go to Trainer's Page")},l(n){e=O(n,"Go to Trainer's Page")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function r1(l){var t;let e,n;return e=new De({props:{href:Pe.trainers((t=l[2])==null?void 0:t.info.readKey),$$slots:{default:[l1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(i){P(e.$$.fragment,i)},m(i,r){y(e,i,r),n=!0},p(i,r){var f;const s={};r&4&&(s.href=Pe.trainers((f=i[2])==null?void 0:f.info.readKey)),r&1024&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){I(e,i)}}}function s1(l){let e,n,t,i;const r=[Jp,Zp],s=[];function f(a,o){return a[5]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function a1(l){let e,n,t,i;return e=new ft({props:{value:l[7]+"'s Access Key"}}),t=new st({props:{title:l[7]+"'s Access Key",$$slots:{default:[s1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&128&&(f.value=r[7]+"'s Access Key"),e.$set(f);const a={};s&128&&(a.title=r[7]+"'s Access Key"),s&1278&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function f1(l,e,n){let t,i,r,s=le,f=()=>(s(),s=rt(a,_=>n(2,r=_)),a);l.$$.on_destroy.push(()=>s());let{trainer:a}=e;f();let o="",u=!1,c="",m=!1;const p=()=>{n(3,u=!0),a.verifyAccess(o).then(_=>{_?n(5,m=!0):n(4,c=o)}).finally(()=>{n(3,u=!1)})};function h(_){o=_,n(1,o)}return l.$$set=_=>{"trainer"in _&&f(n(0,a=_.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(1,o=o.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,"")),l.$$.dirty&4&&n(7,t=(r==null?void 0:r.info.name)??""),l.$$.dirty&4&&n(6,i=r.update!=null)},[a,o,r,u,c,m,i,t,p,h]}class o1 extends fe{constructor(e){super(),oe(this,e,f1,a1,ae,{trainer:0})}}function u1(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function c1(l){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function m1(l){var r;let e,n,t,i;return e=new De({props:{href:Pe.trainers((r=l[1])==null?void 0:r.info.readKey),variant:"ghost",$$slots:{default:[u1]},$$scope:{ctx:l}}}),t=new De({props:{variant:"danger",$$slots:{default:[c1]},$$scope:{ctx:l}}}),t.$on("click",l[4]),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(s){P(e.$$.fragment,s),n=L(s),P(t.$$.fragment,s)},m(s,f){y(e,s,f),b(s,n,f),y(t,s,f),i=!0},p(s,f){var u;const a={};f&2&&(a.href=Pe.trainers((u=s[1])==null?void 0:u.info.readKey)),f&32&&(a.$$scope={dirty:f,ctx:s}),e.$set(a);const o={};f&32&&(o.$$scope={dirty:f,ctx:s}),t.$set(o)},i(s){i||($(e.$$.fragment,s),$(t.$$.fragment,s),i=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),i=!1},d(s){s&&d(n),I(e,s),I(t,s)}}}function d1(l){let e,n,t,i,r,s,f,a,o,u="This is not a permanent removal. The trainer can still be accessed via their access code, and they will continue to exist on other devices' lists until removed from those devices explicitly.",c,m,p;return m=new Ze({props:{$$slots:{default:[m1]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to remove "),i=B(l[3]),r=B("? This will remove "),s=B(l[3]),f=B(" from your list of trainers."),a=z(),o=T("p"),o.textContent=u,c=z(),A(m.$$.fragment)},l(h){e=S(h,"SECTION",{});var _=F(e);n=S(_,"P",{});var E=F(n);t=O(E,"Are you sure you want to remove "),i=O(E,l[3]),r=O(E,"? This will remove "),s=O(E,l[3]),f=O(E," from your list of trainers."),E.forEach(d),a=L(_),o=S(_,"P",{"data-svelte-h":!0}),ge(o)!=="svelte-148gamw"&&(o.textContent=u),c=L(_),P(m.$$.fragment,_),_.forEach(d)},m(h,_){b(h,e,_),k(e,n),k(n,t),k(n,i),k(n,r),k(n,s),k(n,f),k(e,a),k(e,o),k(e,c),y(m,e,null),p=!0},p(h,_){(!p||_&8)&&re(i,h[3]),(!p||_&8)&&re(s,h[3]);const E={};_&34&&(E.$$scope={dirty:_,ctx:h}),m.$set(E)},i(h){p||($(m.$$.fragment,h),p=!0)},o(h){v(m.$$.fragment,h),p=!1},d(h){h&&d(e),I(m)}}}function _1(l){let e,n;return e=new sn({props:{saving:l[2],$$slots:{default:[d1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.saving=t[2]),i&42&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function p1(l){let e,n,t,i;return e=new ft({props:{value:"Remove "+l[3]+"?"}}),t=new st({props:{title:"Remove "+l[3]+"?",$$slots:{default:[_1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&8&&(f.value="Remove "+r[3]+"?"),e.$set(f);const a={};s&8&&(a.title="Remove "+r[3]+"?"),s&46&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function h1(l,e,n){let t,i,r=le,s=()=>(r(),r=rt(f,u=>n(1,i=u)),f);l.$$.on_destroy.push(()=>r());let{trainer:f}=e;s();let a=!1;const o=()=>{n(2,a=!0),i.remove().then(()=>{tt(Pe.trainers())}).catch(()=>{n(2,a=!1)})};return l.$$set=u=>{"trainer"in u&&s(n(0,f=u.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(3,t=(i==null?void 0:i.info.name)??"")},[f,i,a,t,o]}class $1 extends fe{constructor(e){super(),oe(this,e,h1,p1,ae,{trainer:0})}}class g1 extends fe{constructor(e){super(),oe(this,e,null,null,ae,{})}}const Tn=class Tn{roll(e){return Math.floor(Math.random()*e)+1}};Le(Tn,"instance",new Tn);let Kn=Tn;class gn{description(e){return[`<strong>HP</strong>: ${e.hp.current} → ${e.hp.max}`]}isApplicable(e){return e.hp.current<e.hp.max}apply(e){return e.hp.current=e.hp.max,e}}class Un{description(e){return[`<strong>Hit Dice</strong>: ${e.hitDice.current} → ${e.hitDice.max}`]}isApplicable(e){return e.hitDice.current<e.hitDice.max}apply(e){return e.hitDice.current=e.hitDice.max,e}}class hn{description(e){return[`<strong>Status</strong>: ${e.status??"None"} → None`]}isApplicable(e){return e.status!=null}apply(e){return e.status=null,e}}class Es{constructor(e,n,t=Kn.instance){this.amount=e,this.hitDice=n,this.diceRoller=t}description(e){const n=this.hitDice.sizeAsInt(),t=e.hp.current+(this.amount-1)*n>e.hp.max;return[`<strong>HP</strong>: ${e.hp.current} → +${this.amount}${this.hitDice.data}`,`<strong>Hit Dice</strong>: ${e.hitDice.current} → ${Math.max(0,e.hitDice.current-this.amount)}${t?" (or higher)":""}`]}isApplicable(e){return e.hp.current<e.hp.max}apply(e){const n=this.hitDice.sizeAsInt();for(let t=0;t<this.amount&&e.hp.current<e.hp.max&&e.hitDice.current>0;++t)e.hp.current=Math.min(e.hp.max,e.hp.current+this.diceRoller.roll(n)),e.hitDice.current-=1;return e}}class pr{description(){return["<strong>Move PP</strong>: Restored to max"]}isApplicable(){return!0}apply(e){return e.moves.forEach(n=>{n.pp.current=n.pp.max}),e}}class hr{description(e){return[`<strong>Bond Points</strong>: ${e.bond.points.current} → ${e.bond.points.max}`]}isApplicable(e){return e.bond.points.current<e.bond.points.max}apply(e){return e.bond.points.current=e.bond.points.max,e}}class v1{constructor(e){this.possiblePaths=e}description(e){const n=this.myResource(e);if(n!=null){const t=n.max(e),i=e.path.resource>t?e.path.resource:t;return[`<strong>${n.name}</strong>: ${e.path.resource} → ${i}`]}else return[]}isApplicable(e){const n=this.myResource(e);return n!=null&&e.path.resource<n.max(e)}apply(e){const n=this.myResource(e);if(n!=null){const t=n.max(e);e.path.resource=e.path.resource>t?e.path.resource:t}return e}myResource(e){var n;return(n=this.possiblePaths.find(t=>t.name===e.path.name))==null?void 0:n.resource}}class Tt{constructor(e,n){this.name=e,this.effects=n}apply(e){return this.effects.reduce((n,t)=>t.apply(n),e)}}const jn={Long:()=>new Tt("Long Rest",[new gn,new Un,new hn,new pr,new hr]),Short:l=>new Tt("Short Rest",[new Es(l.hitDiceToSpend,l.hitDiceSize,l.diceRoller),new hn]),Pokecenter:l=>l.rulesVersion==="2018"?new Tt("Pokécenter",[new gn,new Un,new hn,new pr,new hr]):new Tt("Pokécenter",[new gn,new hn])},$r={Long:l=>new Tt("Long Rest",[new gn,new Un,new v1(l.trainerPaths)]),Short:l=>new Tt("Short Rest",[new Es(l.hitDiceToSpend,l.hitDiceSize,l.diceRoller)]),Pokecenter:()=>new Tt("Pokécenter",[])};function gr(l,e,n){const t=l.slice();return t[16]=e[n],t}function vr(l,e,n){const t=l.slice();return t[19]=e[n],t}function b1(l){let e,n,t;function i(s){l[13](s)}let r={label:"Rest Choices",values:l[8],required:!0};return l[3]!==void 0&&(r.checked=l[3]),e=new Dn({props:r}),te.push(()=>ie(e,"checked",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};!n&&f&8&&(n=!0,a.checked=s[3],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function br(l){let e,n,t,i="Resting will have these effects:",r,s,f=l[3]==="Short"&&kr(l);function a(c,m){return c[6].length>0?E1:w1}let o=a(l),u=o(l);return{c(){f&&f.c(),e=z(),n=T("div"),t=T("p"),t.textContent=i,r=z(),u.c(),this.h()},l(c){f&&f.l(c),e=L(c),n=S(c,"DIV",{class:!0});var m=F(n);t=S(m,"P",{"data-svelte-h":!0}),ge(t)!=="svelte-1nc30jv"&&(t.textContent=i),r=L(m),u.l(m),m.forEach(d),this.h()},h(){C(n,"class","effects svelte-1vw4dj1")},m(c,m){f&&f.m(c,m),b(c,e,m),b(c,n,m),k(n,t),k(n,r),u.m(n,null),s=!0},p(c,m){c[3]==="Short"?f?(f.p(c,m),m&8&&$(f,1)):(f=kr(c),f.c(),$(f,1),f.m(e.parentNode,e)):f&&(me(),v(f,1,1,()=>{f=null}),de()),o===(o=a(c))&&u?u.p(c,m):(u.d(1),u=o(c),u&&(u.c(),u.m(n,null)))},i(c){s||($(f),s=!0)},o(c){v(f),s=!1},d(c){c&&(d(e),d(n)),f&&f.d(c),u.d()}}}function kr(l){let e,n,t,i,r;function s(a){l[14](a)}let f={label:"Max Hit Dice to Spend",min:0,max:l[0].hitDice.current};return l[4]!==void 0&&(f.value=l[4]),e=new et({props:f}),te.push(()=>ie(e,"value",s)),i=new xn({props:{$$slots:{default:[k1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),t=z(),A(i.$$.fragment)},l(a){P(e.$$.fragment,a),t=L(a),P(i.$$.fragment,a)},m(a,o){y(e,a,o),b(a,t,o),y(i,a,o),r=!0},p(a,o){const u={};o&1&&(u.max=a[0].hitDice.current),!n&&o&16&&(n=!0,u.value=a[4],ne(()=>n=!1)),e.$set(u);const c={};o&4194304&&(c.$$scope={dirty:o,ctx:a}),i.$set(c)},i(a){r||($(e.$$.fragment,a),$(i.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),v(i.$$.fragment,a),r=!1},d(a){a&&d(t),I(e,a),I(i,a)}}}function k1(l){let e;return{c(){e=B("This will stop spending hit dice once max HP is reached.")},l(n){e=O(n,"This will stop spending hit dice once max HP is reached.")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function w1(l){let e,n="This Pokémon is already well-rested.";return{c(){e=T("p"),e.textContent=n},l(t){e=S(t,"P",{"data-svelte-h":!0}),ge(e)!=="svelte-gsd9ep"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:le,d(t){t&&d(e)}}}function E1(l){let e,n=Ne(l[6]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Er(gr(l,n,i));return{c(){e=T("ul");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=S(i,"UL",{});var r=F(e);for(let s=0;s<t.length;s+=1)t[s].l(r);r.forEach(d)},m(i,r){b(i,e,r);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,r){if(r&65){n=Ne(i[6]);let s;for(s=0;s<n.length;s+=1){const f=gr(i,n,s);t[s]?t[s].p(f,r):(t[s]=Er(f),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),nt(t,i)}}}function wr(l){let e,n,t=l[19]+"";return{c(){e=T("li"),n=new rn(!1),this.h()},l(i){e=S(i,"LI",{});var r=F(e);n=ln(r,!1),r.forEach(d),this.h()},h(){n.a=null},m(i,r){b(i,e,r),n.m(t,e)},p(i,r){r&65&&t!==(t=i[19]+"")&&n.p(t)},d(i){i&&d(e)}}}function Er(l){let e,n=Ne(l[16].description(l[0])),t=[];for(let i=0;i<n.length;i+=1)t[i]=wr(vr(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=x()},l(i){for(let r=0;r<t.length;r+=1)t[r].l(i);e=x()},m(i,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,r);b(i,e,r)},p(i,r){if(r&65){n=Ne(i[16].description(i[0]));let s;for(s=0;s<n.length;s+=1){const f=vr(i,n,s);t[s]?t[s].p(f,r):(t[s]=wr(f),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),nt(t,i)}}}function C1(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function S1(l){let e;return{c(){e=B("Rest!")},l(n){e=O(n,"Rest!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function T1(l){let e,n,t,i;return e=new De({props:{variant:"ghost",disabled:l[7],$$slots:{default:[C1]},$$scope:{ctx:l}}}),e.$on("click",l[10]),t=new De({props:{type:"submit",disabled:l[7]||l[5]==null,$$slots:{default:[S1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s&128&&(f.disabled=r[7]),s&4194304&&(f.$$scope={dirty:s,ctx:r}),e.$set(f);const a={};s&160&&(a.disabled=r[7]||r[5]==null),s&4194304&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function I1(l){let e,n,t,i,r,s,f,a,o;n=new Je({props:{title:"Choose one",columns:1,$$slots:{default:[b1]},$$scope:{ctx:l}}}),i=new Xn({props:{avatar:l[0].avatar,media:l[1].media,shiny:l[0].isShiny,alt:l[0].nickname??l[1].name}});let u=l[5]!=null&&br(l);return a=new Ze({props:{$$slots:{default:[T1]},$$scope:{ctx:l}}}),{c(){e=T("div"),A(n.$$.fragment),t=z(),A(i.$$.fragment),r=z(),s=T("section"),u&&u.c(),f=z(),A(a.$$.fragment),this.h()},l(c){e=S(c,"DIV",{class:!0});var m=F(e);P(n.$$.fragment,m),t=L(m),P(i.$$.fragment,m),m.forEach(d),r=L(c),s=S(c,"SECTION",{class:!0});var p=F(s);u&&u.l(p),p.forEach(d),f=L(c),P(a.$$.fragment,c),this.h()},h(){C(e,"class","art-row svelte-1vw4dj1"),C(s,"class","svelte-1vw4dj1"),Se(s,"min-height","8em")},m(c,m){b(c,e,m),y(n,e,null),k(e,t),y(i,e,null),b(c,r,m),b(c,s,m),u&&u.m(s,null),b(c,f,m),y(a,c,m),o=!0},p(c,m){const p={};m&4194312&&(p.$$scope={dirty:m,ctx:c}),n.$set(p);const h={};m&1&&(h.avatar=c[0].avatar),m&2&&(h.media=c[1].media),m&1&&(h.shiny=c[0].isShiny),m&3&&(h.alt=c[0].nickname??c[1].name),i.$set(h),c[5]!=null?u?(u.p(c,m),m&32&&$(u,1)):(u=br(c),u.c(),$(u,1),u.m(s,null)):u&&(me(),v(u,1,1,()=>{u=null}),de());const _={};m&4194464&&(_.$$scope={dirty:m,ctx:c}),a.$set(_)},i(c){o||($(n.$$.fragment,c),$(i.$$.fragment,c),$(u),$(a.$$.fragment,c),o=!0)},o(c){v(n.$$.fragment,c),v(i.$$.fragment,c),v(u),v(a.$$.fragment,c),o=!1},d(c){c&&(d(e),d(r),d(s),d(f)),I(n),I(i),u&&u.d(),I(a,c)}}}function y1(l){let e,n;return e=new Ut({props:{onsubmit:l[9],saving:l[2],$$slots:{default:[I1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.saving=t[2]),i&4194555&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function A1(l,e,n){let t,i,r,s,f;ze(l,jt,D=>n(12,f=D));const a=xe();let{pokemon:o}=e,{species:u}=e,{saving:c=!1}=e,m,p=0;const h=Object.entries(jn).map(([D,H])=>({name:H({hitDiceToSpend:0,hitDiceSize:i,rulesVersion:f}).name,value:D})),_=()=>{const D=r.apply(o);a("submit",D)},E=()=>{a("cancel")};function g(D){m=D,n(3,m)}function w(D){p=D,n(4,p)}return l.$$set=D=>{"pokemon"in D&&n(0,o=D.pokemon),"species"in D&&n(1,u=D.species),"saving"in D&&n(2,c=D.saving)},l.$$.update=()=>{l.$$.dirty&4&&n(7,t=c),l.$$.dirty&3&&n(11,i=o.customHitDiceSize??u.hitDice),l.$$.dirty&6168&&n(5,r=m?jn[m]({hitDiceToSpend:p,hitDiceSize:i,rulesVersion:f}):void 0),l.$$.dirty&33&&n(6,s=(r==null?void 0:r.effects.filter(D=>D.isApplicable(o)))??[])},[o,u,c,m,p,r,s,t,h,_,E,i,f,g,w]}class P1 extends fe{constructor(e){super(),oe(this,e,A1,y1,ae,{pokemon:0,species:1,saving:2})}}function Cr(l,e,n){const t=l.slice();return t[4]=e[n],t}function Sr(l){let e,n;return e=new ps({props:{media:l[4],alt:""}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.media=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function D1(l){let e,n,t=Ne(l[1]),i=[];for(let s=0;s<t.length;s+=1)i[s]=Sr(Cr(l,t,s));const r=s=>v(i[s],1,1,()=>{i[s]=null});return{c(){e=T("figure");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=S(s,"FIGURE",{"aria-hidden":!0,class:!0});var f=F(e);for(let a=0;a<i.length;a+=1)i[a].l(f);f.forEach(d),this.h()},h(){C(e,"aria-hidden","true"),C(e,"class","svelte-11rq5mk"),Ge(e,"darken",l[0])},m(s,f){b(s,e,f);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(s,[f]){if(f&2){t=Ne(s[1]);let a;for(a=0;a<t.length;a+=1){const o=Cr(s,t,a);i[a]?(i[a].p(o,f),$(i[a],1)):(i[a]=Sr(o),i[a].c(),$(i[a],1),i[a].m(e,null))}for(me(),a=t.length;a<i.length;a+=1)r(a);de()}(!n||f&1)&&Ge(e,"darken",s[0])},i(s){if(!n){for(let f=0;f<t.length;f+=1)$(i[f]);n=!0}},o(s){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)v(i[f]);n=!1},d(s){s&&d(e),nt(i,s)}}}function N1(l,e,n){let t,i;ze(l,dt,f=>n(3,i=f));let{pokemon:r}=e,{darken:s=!1}=e;return l.$$set=f=>{"pokemon"in f&&n(2,r=f.pokemon),"darken"in f&&n(0,s=f.darken)},l.$$.update=()=>{l.$$.dirty&12&&n(1,t=r.map(f=>i==null?void 0:i.find(a=>a.id===f.pokemonId)).filter(f=>f!=null).map(f=>f.media))},[s,t,r,i]}class L1 extends fe{constructor(e){super(),oe(this,e,N1,D1,ae,{pokemon:2,darken:0})}}function Tr(l,e,n){const t=l.slice();return t[22]=e[n],t}function Ir(l,e,n){const t=l.slice();return t[25]=e[n],t}function z1(l){let e,n,t;function i(s){l[16](s)}let r={label:"Rest Choices",values:l[9],required:!0};return l[2]!==void 0&&(r.checked=l[2]),e=new Dn({props:r}),te.push(()=>ie(e,"checked",i)),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,f){y(e,s,f),t=!0},p(s,f){const a={};!n&&f&4&&(n=!0,a.checked=s[2],ne(()=>n=!1)),e.$set(a)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function yr(l){let e,n;return e=new Wr({props:{src:l[0].info.avatar.href,alt:l[0].info.name}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.src=t[0].info.avatar.href),i&1&&(r.alt=t[0].info.name),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ar(l){let e,n,t,i=l[2]==="Short"&&Pr(l);function r(a,o){return a[2]==="Pokecenter"?R1:F1}let s=r(l),f=s(l);return{c(){i&&i.c(),e=z(),n=T("div"),f.c(),this.h()},l(a){i&&i.l(a),e=L(a),n=S(a,"DIV",{class:!0});var o=F(n);f.l(o),o.forEach(d),this.h()},h(){C(n,"class","effects svelte-cnvk8h")},m(a,o){i&&i.m(a,o),b(a,e,o),b(a,n,o),f.m(n,null),t=!0},p(a,o){a[2]==="Short"?i?(i.p(a,o),o&4&&$(i,1)):(i=Pr(a),i.c(),$(i,1),i.m(e.parentNode,e)):i&&(me(),v(i,1,1,()=>{i=null}),de()),s===(s=r(a))&&f?f.p(a,o):(f.d(1),f=s(a),f&&(f.c(),f.m(n,null)))},i(a){t||($(i),t=!0)},o(a){v(i),t=!1},d(a){a&&(d(e),d(n)),i&&i.d(a),f.d()}}}function Pr(l){let e,n,t,i,r;function s(a){l[18](a)}let f={label:"Max Hit Dice to Spend",min:0,max:l[0].info.hitDice.current,disabled:l[8]};return l[3]!==void 0&&(f.value=l[3]),e=new et({props:f}),te.push(()=>ie(e,"value",s)),i=new xn({props:{$$slots:{default:[H1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),t=z(),A(i.$$.fragment)},l(a){P(e.$$.fragment,a),t=L(a),P(i.$$.fragment,a)},m(a,o){y(e,a,o),b(a,t,o),y(i,a,o),r=!0},p(a,o){const u={};o&1&&(u.max=a[0].info.hitDice.current),o&256&&(u.disabled=a[8]),!n&&o&8&&(n=!0,u.value=a[3],ne(()=>n=!1)),e.$set(u);const c={};o&268435456&&(c.$$scope={dirty:o,ctx:a}),i.$set(c)},i(a){r||($(e.$$.fragment,a),$(i.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),v(i.$$.fragment,a),r=!1},d(a){a&&d(t),I(e,a),I(i,a)}}}function H1(l){let e;return{c(){e=B("This will stop spending hit dice once max HP is reached.")},l(n){e=O(n,"This will stop spending hit dice once max HP is reached.")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function F1(l){let e,n=l[0].info.name+"",t,i,r,s,f;function a(m,p){return m[7].length>0?M1:V1}let o=a(l),u=o(l),c=l[6]&&Lr(l);return{c(){e=T("p"),t=B(n),i=B(" will benefit from these effects:"),r=z(),u.c(),s=z(),c&&c.c(),f=x()},l(m){e=S(m,"P",{});var p=F(e);t=O(p,n),i=O(p," will benefit from these effects:"),p.forEach(d),r=L(m),u.l(m),s=L(m),c&&c.l(m),f=x()},m(m,p){b(m,e,p),k(e,t),k(e,i),b(m,r,p),u.m(m,p),b(m,s,p),c&&c.m(m,p),b(m,f,p)},p(m,p){p&1&&n!==(n=m[0].info.name+"")&&re(t,n),o===(o=a(m))&&u?u.p(m,p):(u.d(1),u=o(m),u&&(u.c(),u.m(s.parentNode,s))),m[6]?c?c.p(m,p):(c=Lr(m),c.c(),c.m(f.parentNode,f)):c&&(c.d(1),c=null)},d(m){m&&(d(e),d(r),d(s),d(f)),u.d(m),c&&c.d(m)}}}function R1(l){let e;function n(r,s){return r[6]?B1:O1}let t=n(l),i=t(l);return{c(){i.c(),e=x()},l(r){i.l(r),e=x()},m(r,s){i.m(r,s),b(r,e,s)},p(r,s){t===(t=n(r))&&i?i.p(r,s):(i.d(1),i=t(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&d(e),i.d(r)}}}function V1(l){let e,n=l[0].info.name+"",t,i;return{c(){e=T("p"),t=B(n),i=B(" is already well-rested.")},l(r){e=S(r,"P",{});var s=F(e);t=O(s,n),i=O(s," is already well-rested."),s.forEach(d)},m(r,s){b(r,e,s),k(e,t),k(e,i)},p(r,s){s&1&&n!==(n=r[0].info.name+"")&&re(t,n)},d(r){r&&d(e)}}}function M1(l){let e,n=Ne(l[7]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Nr(Tr(l,n,i));return{c(){e=T("ul");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=S(i,"UL",{});var r=F(e);for(let s=0;s<t.length;s+=1)t[s].l(r);r.forEach(d)},m(i,r){b(i,e,r);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,r){if(r&129){n=Ne(i[7]);let s;for(s=0;s<n.length;s+=1){const f=Tr(i,n,s);t[s]?t[s].p(f,r):(t[s]=Nr(f),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),nt(t,i)}}}function Dr(l){let e,n,t=l[25]+"";return{c(){e=T("li"),n=new rn(!1),this.h()},l(i){e=S(i,"LI",{});var r=F(e);n=ln(r,!1),r.forEach(d),this.h()},h(){n.a=null},m(i,r){b(i,e,r),n.m(t,e)},p(i,r){r&129&&t!==(t=i[25]+"")&&n.p(t)},d(i){i&&d(e)}}}function Nr(l){let e,n=Ne(l[22].description(l[0].info)),t=[];for(let i=0;i<n.length;i+=1)t[i]=Dr(Ir(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=x()},l(i){for(let r=0;r<t.length;r+=1)t[r].l(i);e=x()},m(i,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,r);b(i,e,r)},p(i,r){if(r&129){n=Ne(i[22].description(i[0].info));let s;for(s=0;s<n.length;s+=1){const f=Ir(i,n,s);t[s]?t[s].p(f,r):(t[s]=Dr(f),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),nt(t,i)}}}function Lr(l){let e,n,t,i;return{c(){e=T("p"),n=B("Additionally, their Pokémon will undergo a "),t=B(l[2]),i=B(" Rest.")},l(r){e=S(r,"P",{});var s=F(e);n=O(s,"Additionally, their Pokémon will undergo a "),t=O(s,l[2]),i=O(s," Rest."),s.forEach(d)},m(r,s){b(r,e,s),k(e,n),k(e,t),k(e,i)},p(r,s){s&4&&re(t,r[2])},d(r){r&&d(e)}}}function O1(l){let e,n=l[0].info.name+"",t,i,r,s,f,a,o,u=l[0].info.name+"",c,m,p;return{c(){e=T("p"),t=B(n),i=B(" does not benefit directly from resting at a Pokécenter!"),r=z(),s=T("p"),f=B("Ensure the "),a=T("strong"),o=B('"Apply to '),c=B(u),m=B(`'s Pokémon Also"`),p=B(" is checked above to rest all of your Pokémon at the center")},l(h){e=S(h,"P",{});var _=F(e);t=O(_,n),i=O(_," does not benefit directly from resting at a Pokécenter!"),_.forEach(d),r=L(h),s=S(h,"P",{});var E=F(s);f=O(E,"Ensure the "),a=S(E,"STRONG",{});var g=F(a);o=O(g,'"Apply to '),c=O(g,u),m=O(g,`'s Pokémon Also"`),g.forEach(d),p=O(E," is checked above to rest all of your Pokémon at the center"),E.forEach(d)},m(h,_){b(h,e,_),k(e,t),k(e,i),b(h,r,_),b(h,s,_),k(s,f),k(s,a),k(a,o),k(a,c),k(a,m),k(s,p)},p(h,_){_&1&&n!==(n=h[0].info.name+"")&&re(t,n),_&1&&u!==(u=h[0].info.name+"")&&re(c,u)},d(h){h&&(d(e),d(r),d(s))}}}function B1(l){let e,n="Resting will have these effects:",t,i,r,s=l[0].info.name+"",f,a,o,u;return{c(){e=T("p"),e.textContent=n,t=z(),i=T("ul"),r=T("li"),f=B(s),a=B("'s Pokémon will benefit from a "),o=B(l[2]),u=B(" Rest.")},l(c){e=S(c,"P",{"data-svelte-h":!0}),ge(e)!=="svelte-1nc30jv"&&(e.textContent=n),t=L(c),i=S(c,"UL",{});var m=F(i);r=S(m,"LI",{});var p=F(r);f=O(p,s),a=O(p,"'s Pokémon will benefit from a "),o=O(p,l[2]),u=O(p," Rest."),p.forEach(d),m.forEach(d)},m(c,m){b(c,e,m),b(c,t,m),b(c,i,m),k(i,r),k(r,f),k(r,a),k(r,o),k(r,u)},p(c,m){m&1&&s!==(s=c[0].info.name+"")&&re(f,s),m&4&&re(o,c[2])},d(c){c&&(d(e),d(t),d(i))}}}function q1(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function K1(l){let e;return{c(){e=B("Rest!")},l(n){e=O(n,"Rest!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function U1(l){let e,n,t,i;return e=new De({props:{variant:"ghost",disabled:l[8],$$slots:{default:[q1]},$$scope:{ctx:l}}}),e.$on("click",l[11]),t=new De({props:{type:"submit",disabled:l[8]||l[5]==null,$$slots:{default:[K1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,s){const f={};s&256&&(f.disabled=r[8]),s&268435456&&(f.$$scope={dirty:s,ctx:r}),e.$set(f);const a={};s&288&&(a.disabled=r[8]||r[5]==null),s&268435456&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function j1(l){var D;let e,n,t,i,r,s,f,a,o,u,c,m,p,h;n=new Je({props:{title:"Choose one",columns:1,$$slots:{default:[z1]},$$scope:{ctx:l}}});let _=((D=l[0].info.avatar)==null?void 0:D.href)&&yr(l);function E(H){l[17](H)}let g={label:"Apply to "+l[0].info.name+"'s Pokémon also",name:Xt,values:[{name:`Apply to ${l[0].info.name}'s Pokémon also`,value:Xt}],disabled:l[8]};l[4]!==void 0&&(g.checked=l[4]),s=new oa({props:g}),te.push(()=>ie(s,"checked",E)),o=new L1({props:{pokemon:l[0].pokemon,darken:!l[6]}});let w=l[5]!=null&&Ar(l);return p=new Ze({props:{$$slots:{default:[U1]},$$scope:{ctx:l}}}),{c(){e=T("div"),A(n.$$.fragment),t=z(),_&&_.c(),i=z(),r=T("section"),A(s.$$.fragment),a=z(),A(o.$$.fragment),u=z(),c=T("section"),w&&w.c(),m=z(),A(p.$$.fragment),this.h()},l(H){e=S(H,"DIV",{class:!0});var N=F(e);P(n.$$.fragment,N),t=L(N),_&&_.l(N),N.forEach(d),i=L(H),r=S(H,"SECTION",{class:!0});var R=F(r);P(s.$$.fragment,R),a=L(R),P(o.$$.fragment,R),R.forEach(d),u=L(H),c=S(H,"SECTION",{class:!0});var V=F(c);w&&w.l(V),V.forEach(d),m=L(H),P(p.$$.fragment,H),this.h()},h(){C(e,"class","art-row svelte-cnvk8h"),C(r,"class","pokemon svelte-cnvk8h"),C(c,"class","svelte-cnvk8h"),Se(c,"min-height","8em")},m(H,N){b(H,e,N),y(n,e,null),k(e,t),_&&_.m(e,null),b(H,i,N),b(H,r,N),y(s,r,null),k(r,a),y(o,r,null),b(H,u,N),b(H,c,N),w&&w.m(c,null),b(H,m,N),y(p,H,N),h=!0},p(H,N){var U;const R={};N&268435460&&(R.$$scope={dirty:N,ctx:H}),n.$set(R),(U=H[0].info.avatar)!=null&&U.href?_?(_.p(H,N),N&1&&$(_,1)):(_=yr(H),_.c(),$(_,1),_.m(e,null)):_&&(me(),v(_,1,1,()=>{_=null}),de());const V={};N&1&&(V.label="Apply to "+H[0].info.name+"'s Pokémon also"),N&1&&(V.values=[{name:`Apply to ${H[0].info.name}'s Pokémon also`,value:Xt}]),N&256&&(V.disabled=H[8]),!f&&N&16&&(f=!0,V.checked=H[4],ne(()=>f=!1)),s.$set(V);const M={};N&1&&(M.pokemon=H[0].pokemon),N&64&&(M.darken=!H[6]),o.$set(M),H[5]!=null?w?(w.p(H,N),N&32&&$(w,1)):(w=Ar(H),w.c(),$(w,1),w.m(c,null)):w&&(me(),v(w,1,1,()=>{w=null}),de());const q={};N&268435744&&(q.$$scope={dirty:N,ctx:H}),p.$set(q)},i(H){h||($(n.$$.fragment,H),$(_),$(s.$$.fragment,H),$(o.$$.fragment,H),$(w),$(p.$$.fragment,H),h=!0)},o(H){v(n.$$.fragment,H),v(_),v(s.$$.fragment,H),v(o.$$.fragment,H),v(w),v(p.$$.fragment,H),h=!1},d(H){H&&(d(e),d(i),d(r),d(u),d(c),d(m)),I(n),_&&_.d(),I(s),I(o),w&&w.d(),I(p,H)}}}function G1(l){let e,n;return e=new Ut({props:{onsubmit:l[10],saving:l[1],$$slots:{default:[j1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&2&&(r.saving=t[1]),i&268435965&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}const Xt="apply-to-pokemon";function Y1(l,e,n){let t,i,r,s,f,a,o,u,c;ze(l,jt,q=>n(14,o=q)),ze(l,us,q=>n(15,u=q)),ze(l,dt,q=>n(19,c=q));const m=xe(),p=q=>c.find(U=>U.id===q);let{trainer:h}=e,{saving:_=!1}=e,E,g=0,w=[Xt];const D=Object.entries($r).map(([q,U])=>({name:U({hitDiceToSpend:0,hitDiceSize:i,trainerPaths:r}).name,value:q})),H=()=>{const q=f.apply(h.info);n(0,h.info=q,h),s&&n(0,h.pokemon=h.pokemon.map(U=>{const Q=U.customHitDiceSize??p(U.pokemonId).hitDice;return jn[E]({hitDiceToSpend:g,hitDiceSize:Q,rulesVersion:o}).apply(U)}),h),m("submit",{trainer:h,didUpdatePokemon:s})},N=()=>{m("cancel")};function R(q){E=q,n(2,E)}function V(q){w=q,n(4,w)}function M(q){g=q,n(3,g)}return l.$$set=q=>{"trainer"in q&&n(0,h=q.trainer),"saving"in q&&n(1,_=q.saving)},l.$$.update=()=>{l.$$.dirty&2&&n(8,t=_),l.$$.dirty&32768&&n(13,i=u),l.$$.dirty&16384&&n(12,r=Xr[o]),l.$$.dirty&16&&n(6,s=w.includes(Xt)),l.$$.dirty&12300&&n(5,f=E?$r[E]({hitDiceToSpend:g,hitDiceSize:i,trainerPaths:r}):void 0),l.$$.dirty&33&&n(7,a=(f==null?void 0:f.effects.filter(q=>q.isApplicable(h.info)))??[])},[h,_,E,g,w,f,s,a,t,D,H,N,r,i,o,u,R,V,M]}class Q1 extends fe{constructor(e){super(),oe(this,e,Y1,G1,ae,{trainer:0,saving:1})}}function W1(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Z1(l){let e,n;return e=new st({props:{title:"Rest "+l[2].nickname,$$slots:{default:[th]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.title="Rest "+t[2].nickname),i&1150&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function J1(l){let e,n,t="You do not have permission to edit this pokemon.",i,r,s;return r=new Ze({props:{$$slots:{default:[eh]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-1ag681u"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&1034&&(o.$$scope={dirty:a,ctx:f}),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function X1(l){let e,n;return e=new P1({props:{pokemon:l[2],species:l[5],saving:l[4]}}),e.$on("cancel",l[8]),e.$on("submit",l[7]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.pokemon=t[2]),i&32&&(r.species=t[5]),i&16&&(r.saving=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function x1(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function eh(l){let e,n;return e=new De({props:{href:Pe.trainers(l[3].info.readKey,l[1]),$$slots:{default:[x1]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&10&&(r.href=Pe.trainers(t[3].info.readKey,t[1])),i&1024&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function th(l){let e,n,t,i;const r=[X1,J1],s=[];function f(a,o){return a[6]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function nh(l){let e,n,t,i;const r=[Z1,W1],s=[];function f(a,o){return a[5]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function ih(l){let e,n;return e=new un({props:{trainer:l[3],id:l[1],titlePrefix:"Rest",$$slots:{default:[nh]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,[i]){const r={};i&8&&(r.trainer=t[3]),i&2&&(r.id=t[1]),i&1150&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function lh(l,e,n){let t,i,r,s,f=le,a=()=>(f(),f=rt(u,_=>n(3,s=_)),u),o;ze(l,dt,_=>n(9,o=_)),l.$$.on_destroy.push(()=>f());let{trainer:u}=e;a();let{id:c}=e,m=!1;const p=_=>{var E,g;n(4,m=!0),Promise.all([(E=s.update)==null?void 0:E.pokemon(_.detail),(g=s.update)==null?void 0:g.moveset(_.detail)]).then(()=>{n(4,m=!1),tt(Pe.trainers(s.info.readKey,c))}).catch(()=>{n(4,m=!1)})},h=()=>{tt(Pe.trainers(s.info.readKey,c))};return l.$$set=_=>{"trainer"in _&&a(n(0,u=_.trainer)),"id"in _&&n(1,c=_.id)},l.$$.update=()=>{l.$$.dirty&8&&n(6,t=s.update!=null),l.$$.dirty&10&&n(2,i=s.pokemon.find(_=>_.id===c)),l.$$.dirty&516&&n(5,r=o==null?void 0:o.find(_=>_.id===(i==null?void 0:i.pokemonId)))},[u,c,i,s,m,r,t,p,h,o]}class rh extends fe{constructor(e){super(),oe(this,e,lh,ih,ae,{trainer:0,id:1})}}function sh(l){let e,n,t="You do not have permission to edit this trainer.",i,r,s;return r=new Ze({props:{$$slots:{default:[oh]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=z(),A(r.$$.fragment)},l(f){e=S(f,"SECTION",{});var a=F(e);n=S(a,"P",{"data-svelte-h":!0}),ge(n)!=="svelte-1kn7ebq"&&(n.textContent=t),i=L(a),P(r.$$.fragment,a),a.forEach(d)},m(f,a){b(f,e,a),k(e,n),k(e,i),y(r,e,null),s=!0},p(f,a){const o={};a&66&&(o.$$scope={dirty:a,ctx:f}),r.$set(o)},i(f){s||($(r.$$.fragment,f),s=!0)},o(f){v(r.$$.fragment,f),s=!1},d(f){f&&d(e),I(r)}}}function ah(l){let e,n;return e=new Q1({props:{trainer:l[1],saving:l[2]}}),e.$on("cancel",l[5]),e.$on("submit",l[4]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.trainer=t[1]),i&4&&(r.saving=t[2]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function fh(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function oh(l){let e,n;return e=new De({props:{href:Pe.trainers(l[1].info.readKey),$$slots:{default:[fh]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.href=Pe.trainers(t[1].info.readKey)),i&64&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function uh(l){let e,n,t,i;const r=[ah,sh],s=[];function f(a,o){return a[3]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function ch(l){let e,n,t,i;return e=new ft({props:{value:"Rest "+l[1].info.name}}),t=new st({props:{title:"Rest "+l[1].info.name,$$slots:{default:[uh]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&2&&(f.value="Rest "+r[1].info.name),e.$set(f);const a={};s&2&&(a.title="Rest "+r[1].info.name),s&78&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function mh(l,e,n){let t,i,r=le,s=()=>(r(),r=rt(f,c=>n(1,i=c)),f);l.$$.on_destroy.push(()=>r());let{trainer:f}=e;s();let a=!1;const o=c=>{var p;n(2,a=!0);const m=[(p=i.update)==null?void 0:p.info(c.detail.trainer.info)];c.detail.didUpdatePokemon&&(m.push(...c.detail.trainer.pokemon.map(h=>{var _;return(_=i.update)==null?void 0:_.pokemon(h)})),m.push(...c.detail.trainer.pokemon.map(h=>{var _;return(_=i.update)==null?void 0:_.moveset(h)}))),Promise.all(m).then(()=>{n(2,a=!1),tt(Pe.trainers(i.info.readKey))}).catch(()=>{n(2,a=!1)})},u=()=>{tt(Pe.trainers(i.info.readKey))};return l.$$set=c=>{"trainer"in c&&s(n(0,f=c.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(3,t=i.update!=null)},[f,i,a,t,o,u]}class dh extends fe{constructor(e){super(),oe(this,e,mh,ch,ae,{trainer:0})}}function _h(l){let e,n;return e=new ft({props:{value:"Trainers"}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function ph(l){let e,n;return e=new ap({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function hh(l){let e,n;return e=new Um({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function $h(l){let e,n,t,i={ctx:l,current:null,token:null,hasCatch:!0,pending:Lh,then:vh,catch:gh,value:4,error:6,blocks:[,,,]};return zt(n=l[4],i),{c(){e=x(),i.block.c()},l(r){e=x(),i.block.l(r)},m(r,s){b(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(r,s){l=r,i.ctx=l,s&16&&n!==(n=l[4])&&zt(n,i)||Yn(i,l,s)},i(r){t||($(i.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const f=i.blocks[s];v(f)}t=!1},d(r){r&&d(e),i.block.d(r),i.token=null,i=null}}}function gh(l){let e,n;return e=new Zn({props:{error:l[6]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.error=t[6]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function vh(l){let e,n,t,i;const r=[Nh,Dh,Ph,Ah,yh,Ih,Th,Sh,Ch,Eh,wh,kh,bh],s=[];function f(a,o){return a[4]?a[1]===Re.addPokemon?1:a[1]===Re.editPokemon?2:a[1]===Re.evolvePokemon?3:a[1]===Re.restPokemon?4:a[1]===Re.removePokemon?5:a[2]?6:a[1]===Re.restTrainer?7:a[1]===Re.editTrainer?8:a[1]===Re.removeTrainer?9:a[1]===Re.retireTrainer?10:a[1]===Re.accessKey?11:12:0}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function bh(l){let e,n;return e=new Ho({props:{trainer:l[4]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function kh(l){let e,n;return e=new o1({props:{trainer:l[4]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function wh(l){let e,n;return e=new Qp({props:{trainer:l[4]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Eh(l){let e,n;return e=new $1({props:{trainer:l[4]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ch(l){let e,n;return e=new Fp({props:{trainer:l[4]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Sh(l){let e,n;return e=new dh({props:{trainer:l[4]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Th(l){let e,n;return e=new Nc({props:{trainer:l[4],id:l[2]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ih(l){let e,n;return e=new rd({props:{trainer:l[4],id:l[2]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function yh(l){let e,n;return e=new rh({props:{trainer:l[4],id:l[2]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ah(l){let e,n;return e=new J_({props:{trainer:l[4],id:l[2]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ph(l){let e,n;return e=new N_({props:{trainer:l[4],id:l[2]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Dh(l){let e,n;return e=new dm({props:{trainer:l[4]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Nh(l){let e;return{c(){e=T("br")},l(n){e=S(n,"BR",{})},m(n,t){b(n,e,t)},p:le,i:le,o:le,d(n){n&&d(e)}}}function Lh(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function zh(l){let e,n,t,i;const r=[$h,hh,ph,_h],s=[];function f(a,o){return a[0]?0:a[1]===Re.newTrainer?1:a[1]===Re.findTrainer?2:3}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Hh(l){let e,n;return e=new Rs({props:{slot:"icon"}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Fh(l){let e,n,t,i={ctx:l,current:null,token:null,hasCatch:!0,pending:Oh,then:Mh,catch:Vh,value:3,error:6,blocks:[,,,]};return zt(n=l[3],i),{c(){e=x(),i.block.c()},l(r){e=x(),i.block.l(r)},m(r,s){b(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(r,s){l=r,i.ctx=l,s&8&&n!==(n=l[3])&&zt(n,i)||Yn(i,l,s)},i(r){t||($(i.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const f=i.blocks[s];v(f)}t=!1},d(r){r&&d(e),i.block.d(r),i.token=null,i=null}}}function Rh(l){let e,n,t,i={ctx:l,current:null,token:null,hasCatch:!0,pending:jh,then:qh,catch:Bh,value:4,error:6,blocks:[,,,]};return zt(n=l[4],i),{c(){e=x(),i.block.c()},l(r){e=x(),i.block.l(r)},m(r,s){b(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(r,s){l=r,i.ctx=l,s&16&&n!==(n=l[4])&&zt(n,i)||Yn(i,l,s)},i(r){t||($(i.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const f=i.blocks[s];v(f)}t=!1},d(r){r&&d(e),i.block.d(r),i.token=null,i=null}}}function Vh(l){let e,n;return e=new Zn({props:{error:l[6]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.error=t[6]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Mh(l){let e,n,t=l[3]&&zr(l);return{c(){t&&t.c(),e=x()},l(i){t&&t.l(i),e=x()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,r){i[3]?t?(t.p(i,r),r&8&&$(t,1)):(t=zr(i),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(me(),v(t,1,1,()=>{t=null}),de())},i(i){n||($(t),n=!0)},o(i){v(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function zr(l){let e,n;return e=new zm({props:{trainers:l[3],showGetStarted:l[1]==null}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.trainers=t[3]),i&2&&(r.showGetStarted=t[1]==null),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Oh(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Bh(l){let e,n;return e=new Zn({props:{error:l[6]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.error=t[6]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function qh(l){let e,n,t,i;const r=[Uh,Kh],s=[];function f(a,o){return a[4]?0:1}return e=f(l),n=s[e]=r[e](l),{c(){n.c(),t=x()},l(a){n.l(a),t=x()},m(a,o){s[e].m(a,o),b(a,t,o),i=!0},p(a,o){let u=e;e=f(a),e===u?s[e].p(a,o):(me(),v(s[u],1,1,()=>{s[u]=null}),de(),n=s[e],n?n.p(a,o):(n=s[e]=r[e](a),n.c()),$(n,1),n.m(t.parentNode,t))},i(a){i||($(n),i=!0)},o(a){v(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Kh(l){let e,n;return e=new ep({props:{trainerKey:l[0]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.trainerKey=t[0]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Uh(l){let e,n;return e=new jc({props:{trainer:l[4],currentPokemon:l[2]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.currentPokemon=t[2]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function jh(l){let e,n;return e=new $t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){y(e,t,i),n=!0},p:le,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Gh(l){let e,n,t,i,r,s;n=new g1({});const f=[Rh,Fh],a=[];function o(u,c){return u[0]?0:1}return i=o(l),r=a[i]=f[i](l),{c(){e=T("nav"),A(n.$$.fragment),t=z(),r.c(),this.h()},l(u){e=S(u,"NAV",{id:!0,slot:!0,class:!0,"aria-label":!0});var c=F(e);P(n.$$.fragment,c),t=L(c),r.l(c),c.forEach(d),this.h()},h(){C(e,"id",ma),C(e,"slot","side"),C(e,"class","table svelte-1yryrve"),C(e,"aria-label","Pokemon List")},m(u,c){b(u,e,c),y(n,e,null),k(e,t),a[i].m(e,null),s=!0},p(u,c){let m=i;i=o(u),i===m?a[i].p(u,c):(me(),v(a[m],1,1,()=>{a[m]=null}),de(),r=a[i],r?r.p(u,c):(r=a[i]=f[i](u),r.c()),$(r,1),r.m(e,null))},i(u){s||($(n.$$.fragment,u),$(r),s=!0)},o(u){v(n.$$.fragment,u),v(r),s=!1},d(u){u&&d(e),I(n),a[i].d()}}}function Yh(l){let e,n,t,i;return e=new ft({props:{value:"Trainers"}}),t=new Fs({props:{theme:"green",$$slots:{side:[Gh],icon:[Hh],default:[zh]},$$scope:{ctx:l}}}),{c(){A(e.$$.fragment),n=z(),A(t.$$.fragment)},l(r){P(e.$$.fragment,r),n=L(r),P(t.$$.fragment,r)},m(r,s){y(e,r,s),b(r,n,s),y(t,r,s),i=!0},p(r,[s]){const f={};s&159&&(f.$$scope={dirty:s,ctx:r}),t.$set(f)},i(r){i||($(e.$$.fragment,r),$(t.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),v(t.$$.fragment,r),i=!1},d(r){r&&d(n),I(e,r),I(t,r)}}}function Qh(l,e,n){let t,i,r,s;ze(l,As,o=>n(5,s=o));let f,a;return l.$$.update=()=>{l.$$.dirty&32&&n(0,t=s.url.searchParams.get("id")),l.$$.dirty&32&&n(2,i=s.url.searchParams.get("pokemon")),l.$$.dirty&32&&n(1,r=s.url.searchParams.get("action")),l.$$.dirty&1&&(t&&ci?(n(3,f=void 0),n(4,a=Sn.get(t))):!t&&ci?(n(3,f=Sn.all()),n(4,a=void 0)):(n(4,a=void 0),n(3,f=void 0)))},[t,r,i,f,a,s]}class og extends fe{constructor(e){super(),oe(this,e,Qh,Yh,ae,{})}}export{og as component};
