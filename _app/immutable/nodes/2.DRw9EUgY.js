var le=Object.defineProperty;var ne=(l,e,r)=>e in l?le(l,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[e]=r;var D=(l,e,r)=>ne(l,typeof e!="symbol"?e+"":e,r);import{S as W,i as X,s as Y,N as C,_ as F,f as d,d as h,t as b,a as g,$ as A,g as k,m as v,l as I,n as T,o as E,c as y,w as N,q as O,b as w,y as V,e as R,j as q,k as H,p as M,r as U,A as ae,B as ie,C as oe,D as fe,u as Z,I as ue,J as me}from"../chunks/CDFLjuqR.js";import"../chunks/BxlXVsHr.js";import{p as ce}from"../chunks/BYs7GprO.js";import"../chunks/BHr3Jov9.js";import{P as pe}from"../chunks/Edfpr6WS.js";import{B as _e}from"../chunks/Zo3WkyRf.js";import"../chunks/DNTgK4in.js";import{L as $e}from"../chunks/aRzcfC_g.js";import{a as be}from"../chunks/DPLW2myb.js";/* empty css                */import{L as ge}from"../chunks/ZPChWxUc.js";import{I as z,a as J,b as G,c as de}from"../chunks/CWrXoCtw.js";import{S as he,a as ve,B}from"../chunks/j16m2h5a.js";import{c as ye}from"../chunks/QbQrkOnC.js";import{u as we}from"../chunks/BwYa5QJc.js";import{u as Se}from"../chunks/BnSTf8O7.js";import{u as ke}from"../chunks/BuEExQfH.js";import{r as Ie,u as Le,R as Ce}from"../chunks/P161RzQf.js";import{S as Fe}from"../chunks/CTdUOtp3.js";import{f as K}from"../chunks/p0vX3-a6.js";import{U as Q}from"../chunks/DEpnwz-E.js";import"../chunks/BsiqRlYd.js";import"../chunks/CIB9ZFTq.js";import"../chunks/CdRAs_Ty.js";import"../chunks/B1_3h3uv.js";import"../chunks/BMmmFbWz.js";import"../chunks/Bpj21dPT.js";class Ae{constructor(){D(this,"filters",{name:"",type:"",cost:void 0});D(this,"apply",e=>e.name.toLocaleLowerCase().includes(this.filters.name.toLocaleLowerCase())&&(this.filters.type===""||e.type===this.filters.type)&&(this.filters.cost==null||Ie(this.filters.cost.relative,e.cost??1/0,this.filters.cost.value)))}count(){const e=r=>r==null||(Array.isArray(r)?r.length===0:r==="");return Object.values(this.filters).reduce((r,t)=>r+(e(t)?0:1),0)}name(e){return this.filters.name=e,this}type(e){return this.filters.type=e,this}cost(e,r){return this.filters.cost=r!=null?{relative:e,value:r}:void 0,this}}function Ne(l){let e,r,t,s,n,f,i;function u(a){l[13](a)}let p={label:we(),options:l[8]};l[1]!==void 0&&(p.value=l[1]),e=new ve({props:p}),C.push(()=>F(e,"value",u));function m(a){l[14](a)}function _(a){l[15](a)}let o={label:Se(),min:0,placeholder:ke()};return l[2]!==void 0&&(o.value=l[2]),l[3]!==void 0&&(o.relative=l[3]),s=new Ce({props:o}),C.push(()=>F(s,"value",m)),C.push(()=>F(s,"relative",_)),{c(){w(e.$$.fragment),t=V(),w(s.$$.fragment)},l(a){y(e.$$.fragment,a),t=N(a),y(s.$$.fragment,a)},m(a,$){v(e,a,$),k(a,t,$),v(s,a,$),i=!0},p(a,$){const S={};!r&&$&2&&(r=!0,S.value=a[1],A(()=>r=!1)),e.$set(S);const L={};!n&&$&4&&(n=!0,L.value=a[2],A(()=>n=!1)),!f&&$&8&&(f=!0,L.relative=a[3],A(()=>f=!1)),s.$set(L)},i(a){i||(g(e.$$.fragment,a),g(s.$$.fragment,a),i=!0)},o(a){b(e.$$.fragment,a),b(s.$$.fragment,a),i=!1},d(a){a&&d(t),h(e,a),h(s,a)}}}function Ve(l){let e,r=l[19].name+"",t,s;return{c(){e=O("a"),t=U(r),this.h()},l(n){e=T(n,"A",{href:!0});var f=E(e);t=M(f,r),f.forEach(d),this.h()},h(){I(e,"href",s=Q.items(l[19].id))},m(n,f){k(n,e,f),H(e,t)},p(n,f){f&524288&&r!==(r=n[19].name+"")&&q(t,r),f&524288&&s!==(s=Q.items(n[19].id))&&I(e,"href",s)},d(n){n&&d(e)}}}function Be(l){let e,r=l[19].type+"",t;return{c(){e=O("span"),t=U(r),this.h()},l(s){e=T(s,"SPAN",{class:!0});var n=E(e);t=M(n,r),n.forEach(d),this.h()},h(){I(e,"class","cap")},m(s,n){k(s,e,n),H(e,t)},p(s,n){n&524288&&r!==(r=s[19].type+"")&&q(t,r)},d(s){s&&d(e)}}}function Re(l){let e=(l[19].cost!=null?K(l[19].cost):"-")+"",r;return{c(){r=U(e)},l(t){r=M(t,e)},m(t,s){k(t,r,s)},p(t,s){s&524288&&e!==(e=(t[19].cost!=null?K(t[19].cost):"-")+"")&&q(r,e)},d(t){t&&d(r)}}}function Te(l){let e,r,t,s,n,f;return e=new B.Cell({props:{cellVisibility:l[20][0],primary:!0,$$slots:{default:[Ve]},$$scope:{ctx:l}}}),t=new B.Cell({props:{cellVisibility:l[20][1],$$slots:{default:[Be]},$$scope:{ctx:l}}}),n=new B.Cell({props:{cellVisibility:l[20][2],$$slots:{default:[Re]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment),r=V(),w(t.$$.fragment),s=V(),w(n.$$.fragment)},l(i){y(e.$$.fragment,i),r=N(i),y(t.$$.fragment,i),s=N(i),y(n.$$.fragment,i)},m(i,u){v(e,i,u),k(i,r,u),v(t,i,u),k(i,s,u),v(n,i,u),f=!0},p(i,u){const p={};u&1048576&&(p.cellVisibility=i[20][0]),u&2621440&&(p.$$scope={dirty:u,ctx:i}),e.$set(p);const m={};u&1048576&&(m.cellVisibility=i[20][1]),u&2621440&&(m.$$scope={dirty:u,ctx:i}),t.$set(m);const _={};u&1048576&&(_.cellVisibility=i[20][2]),u&2621440&&(_.$$scope={dirty:u,ctx:i}),n.$set(_)},i(i){f||(g(e.$$.fragment,i),g(t.$$.fragment,i),g(n.$$.fragment,i),f=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),b(n.$$.fragment,i),f=!1},d(i){i&&(d(r),d(s)),h(e,i),h(t,i),h(n,i)}}}function Ee(l){let e,r;return e=new B.Row({props:{interactive:!0,mainBg:"var(--skin-"+l[19].type.replace(" ","-")+"-bg)",$$slots:{default:[Te]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){v(e,t,s),r=!0},p(t,s){const n={};s&524288&&(n.mainBg="var(--skin-"+t[19].type.replace(" ","-")+"-bg)"),s&3670016&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Oe(l){let e,r,t,s,n,f,i;function u(o){l[16](o)}let p={id:"filter-items",label:"Search",matched:l[6].length,max:l[0].length,activeFilters:l[4].count()-(l[5]!==""?1:0),$$slots:{default:[Ne]},$$scope:{ctx:l}};l[5]!==void 0&&(p.value=l[5]),r=new Fe({props:p}),C.push(()=>F(r,"value",u)),r.$on("reset",l[11]);function m(o){l[17](o)}let _={items:l[6],headers:[{key:"name",name:"Name",ratio:3,sort:l[9](Pe)},{key:"type",name:"Type",ratio:2,sort:l[9](je)},{key:"cost",name:"Cost",ratio:2,sort:l[10](De),largeScreenOnly:!0}],$$slots:{default:[Ee,({item:o,cellVisibility:a})=>({19:o,20:a}),({item:o,cellVisibility:a})=>(o?524288:0)|(a?1048576:0)]},$$scope:{ctx:l}};return l[7]!==void 0&&(_.currentSorter=l[7]),n=new he({props:_}),C.push(()=>F(n,"currentSorter",m)),{c(){e=O("div"),w(r.$$.fragment),s=V(),w(n.$$.fragment),this.h()},l(o){e=T(o,"DIV",{class:!0});var a=E(e);y(r.$$.fragment,a),a.forEach(d),s=N(o),y(n.$$.fragment,o),this.h()},h(){I(e,"class","search-field svelte-pdmxly")},m(o,a){k(o,e,a),v(r,e,null),k(o,s,a),v(n,o,a),i=!0},p(o,[a]){const $={};a&64&&($.matched=o[6].length),a&1&&($.max=o[0].length),a&48&&($.activeFilters=o[4].count()-(o[5]!==""?1:0)),a&2097166&&($.$$scope={dirty:a,ctx:o}),!t&&a&32&&(t=!0,$.value=o[5],A(()=>t=!1)),r.$set($);const S={};a&64&&(S.items=o[6]),a&3670016&&(S.$$scope={dirty:a,ctx:o}),!f&&a&128&&(f=!0,S.currentSorter=o[7],A(()=>f=!1)),n.$set(S)},i(o){i||(g(r.$$.fragment,o),g(n.$$.fragment,o),i=!0)},o(o){b(r.$$.fragment,o),b(n.$$.fragment,o),i=!1},d(o){o&&(d(e),d(s)),h(r),h(n,o)}}}const Pe=l=>l.name,je=l=>l.type,De=l=>l.cost??-1;function qe(l,e,r){let t,s,n,f,i;R(l,z,c=>r(5,f=c)),R(l,J,c=>r(7,i=c));let{items:u}=e;const p=[{name:`- ${Le()} -`,value:""}];let m="";const _=p.concat(Object.values(G).map(c=>({value:c,name:ye(c)})));let o,a="=";const $=c=>(P,j)=>c(P).localeCompare(c(j)),S=c=>(P,j)=>c(P)-c(j),L=()=>{r(1,m=""),r(2,o=void 0)};function x(c){m=c,r(1,m)}function ee(c){o=c,r(2,o)}function te(c){a=c,r(3,a)}function re(c){f=c,z.set(f)}function se(c){i=c,J.set(i)}return l.$$set=c=>{"items"in c&&r(0,u=c.items)},l.$$.update=()=>{l.$$.dirty&32&&r(12,t=G.includes(f.toLocaleLowerCase())),l.$$.dirty&4142&&r(4,s=new Ae().name(t?"":f).type(m!==""?m:t?f:"").cost(a,o)),l.$$.dirty&17&&r(6,n=u.filter(s.apply))},[u,m,o,a,s,f,n,i,_,$,S,L,t,x,ee,te,re,se]}class He extends W{constructor(e){super(),X(this,e,qe,Oe,Y,{items:0})}}function Me(l){let e;const r=l[4].default,t=ae(r,l,l[5],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&32)&&ie(t,r,s,s[5],e?fe(r,s[5],n,null):oe(s[5]),null)},i(s){e||(g(t,s),e=!0)},o(s){b(t,s),e=!1},d(s){t&&t.d(s)}}}function Ue(l){let e,r;return e=new _e({props:{slot:"icon"}}),{c(){w(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){v(e,t,s),r=!0},p:Z,i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function ze(l){let e,r;return e=new $e({}),{c(){w(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){v(e,t,s),r=!0},p:Z,i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Je(l){let e,r;return e=new He({props:{items:l[0]}}),{c(){w(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){v(e,t,s),r=!0},p(t,s){const n={};s&1&&(n.items=t[0]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Ge(l){let e,r,t,s,n,f;r=new ge({props:{title:"Item List",target:"/items"}});const i=[Je,ze],u=[];function p(m,_){return m[0]!==void 0?0:1}return s=p(l),n=u[s]=i[s](l),{c(){e=O("nav"),w(r.$$.fragment),t=V(),n.c(),this.h()},l(m){e=T(m,"NAV",{id:!0,slot:!0,class:!0,"aria-label":!0});var _=E(e);y(r.$$.fragment,_),t=N(_),n.l(_),_.forEach(d),this.h()},h(){I(e,"id",be),I(e,"slot","side"),I(e,"class","table svelte-1yryrve"),I(e,"aria-label","Item List")},m(m,_){k(m,e,_),v(r,e,null),H(e,t),u[s].m(e,null),f=!0},p(m,_){let o=s;s=p(m),s===o?u[s].p(m,_):(ue(),b(u[o],1,1,()=>{u[o]=null}),me(),n=u[s],n?n.p(m,_):(n=u[s]=i[s](m),n.c()),g(n,1),n.m(e,null))},i(m){f||(g(r.$$.fragment,m),g(n),f=!0)},o(m){b(r.$$.fragment,m),b(n),f=!1},d(m){m&&d(e),h(r),u[s].d()}}}function Ke(l){let e,r;return e=new pe({props:{theme:"yellow",$$slots:{side:[Ge],icon:[Ue],default:[Me]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,s){v(e,t,s),r=!0},p(t,[s]){const n={};s&33&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Qe(l,e,r){let t,s,n,f;R(l,de,p=>r(2,n=p)),R(l,ce,p=>r(3,f=p));let{$$slots:i={},$$scope:u}=e;return l.$$set=p=>{"$$scope"in p&&r(5,u=p.$$scope)},l.$$.update=()=>{l.$$.dirty&8&&r(1,t=f.data.itemsList),l.$$.dirty&6&&r(0,s=t??n)},[s,t,n,f,i,u]}class St extends W{constructor(e){super(),X(this,e,Qe,Ke,Y,{})}}export{St as component};
