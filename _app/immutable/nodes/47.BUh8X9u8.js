var ks=Object.defineProperty;var ws=(l,e,n)=>e in l?ks(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n;var Ne=(l,e,n)=>ws(l,typeof e!="symbol"?e+"":e,n);import{S as le,i as re,s as se,u as Z,f as d,F as Bn,j as oe,l as D,a8 as Er,O as $n,g as b,k as E,P as ft,n as y,o as L,p as O,w as N,z as he,q as T,r as B,y as F,d as S,t as g,a as h,W as we,m as C,c as A,b as I,Q as tt,H as Xt,I as xt,J as en,K as tn,A as nt,h as J,M as ui,L as Ue,B as ce,C as me,e as Ve,V as x,$ as ee,a0 as te,T as hn,G as Ot,ac as Es,E as Xe,X as qn,Y as Kn,a9 as ci,v as je,x as Ge,a4 as mi,_ as Sr,ab as Cr}from"../chunks/H-jF6Wi2.js";import{P as Lt,h as mt,u as Pt,R as Ir,a as Ss,A as Ar,G as yr,D as di,S as Un,T as Cs}from"../chunks/BltkpsY2.js";import"../chunks/IHki7fMi.js";import{p as Is}from"../chunks/zAN4p2X8.js";import{b as Cn,M as kt,S as ht,T as ut,d as it,R as In,F as Bt,A as Qe,m as gn,L as Tr,c as As,j as ys,H as jn,i as nn,a as Pr,P as Dr,h as Nr,e as Ts,f as Ps,g as Ds,W as Fr,k as Ns,l as pi,E as Gn}from"../chunks/ZCt-nOZo.js";/* empty css                */import{P as Fs}from"../chunks/CwIWAOY3.js";import{a as Hs,b as xe}from"../chunks/DiVfpCPy.js";import{I as zs}from"../chunks/DbUzfkhq.js";import{a as Ls}from"../chunks/BpZtGZxA.js";import{T as st}from"../chunks/Bi_MzZDT.js";import{L as wt}from"../chunks/DtJEzcCZ.js";/* empty css                */import{A as Hr}from"../chunks/BXx970jy.js";import{F as Rt}from"../chunks/BXGrW0S1.js";import{c as yt,S as zr,f as vn,H as Mt,b as Lr,a as Rr,e as Mr,d as Vr,g as Rs,l as Ms,u as Vs,C as Os}from"../chunks/Mexq6K1B.js";import"../chunks/CdRAs_Ty.js";import{b as Yn}from"../chunks/_4kjhbDN.js";/* empty css                */import{g as et}from"../chunks/DTV0leUl.js";import{S as Or}from"../chunks/BYHATpZm.js";import{e as Ye,s as Bs}from"../chunks/Cnsjmwzf.js";import"../chunks/UG_LE4bt.js";import{e as De,u as ln,o as rn}from"../chunks/sNBdf24y.js";import{r as qt,P as Br,H as qs}from"../chunks/8_S3rHgc.js";import{C as _i}from"../chunks/BCaQ5kqJ.js";import{V as Vt}from"../chunks/B2zi3AIx.js";import{N as Ks,S as qr}from"../chunks/GmNOxgei.js";import{c as $i,d as Kr,f as bn}from"../chunks/BaNJctHK.js";import{S as Ur,a as Us,h as hi}from"../chunks/CTobpgRF.js";import{f as gi}from"../chunks/p0vX3-a6.js";import{c as Wn,b as js}from"../chunks/BwSC3uXY.js";import{a as jr,T as Gr}from"../chunks/YAXlRAop.js";import{r as vi}from"../chunks/Bn7C2S5C.js";import{d as An,w as Gs}from"../chunks/CYzF2R-Q.js";import{M as Yr}from"../chunks/Ch1w8FO0.js";import{P as Ys,a as Wr,b as Ws}from"../chunks/DbeZybwG.js";import{C as lt}from"../chunks/DJIrrwsv.js";import{B as Pe}from"../chunks/Bdtgkv0q.js";import{U as Ae}from"../chunks/CGVCxFM6.js";import{P as Le}from"../chunks/D4y0A8zf.js";import{T as Qs}from"../chunks/C_AwEjIU.js";import{P as Ln,e as Zs,d as Qr}from"../chunks/DLn0St_8.js";import{T as Js}from"../chunks/BbUNhxH9.js";import{P as kn}from"../chunks/9P2RModx.js";import{M as Xs}from"../chunks/D8q8QJr-.js";import{M as xs}from"../chunks/CHsLFjIX.js";import{S as Zr}from"../chunks/hOdU6Bz0.js";import{f as bi,t as ki,a as wi}from"../chunks/CzGUn-Bo.js";import{I as ea}from"../chunks/D9XVN46Z.js";import{D as Jr}from"../chunks/Bf-g66YD.js";import{L as bt}from"../chunks/C2DumLO3.js";import{b as ta,c as na}from"../chunks/fiTa_PwR.js";import{T as ot}from"../chunks/qn5y3u3q.js";import{S as ia,B as Xr}from"../chunks/DiHSOhVy.js";import{m as la}from"../chunks/CFg0DBO4.js";import{F as Ze,C as ra}from"../chunks/Y7jkhKLw.js";import{T as sa}from"../chunks/tSix3FNH.js";import{c as xr,u as aa}from"../chunks/QbQrkOnC.js";import{k as es}from"../chunks/CfRs93gm.js";function oa(l){let e,n,t,i,r,s,o="₽",a,f,u,c;return{c(){e=T("div"),n=T("label"),t=B(l[1]),i=F(),r=T("span"),s=T("span"),s.textContent=o,a=F(),f=T("input"),this.h()},l(m){e=y(m,"DIV",{class:!0});var p=L(e);n=y(p,"LABEL",{for:!0,class:!0});var _=L(n);t=O(_,l[1]),_.forEach(d),i=N(p),r=y(p,"SPAN",{class:!0});var $=L(r);s=y($,"SPAN",{class:!0,"data-svelte-h":!0}),he(s)!=="svelte-1jrw84z"&&(s.textContent=o),a=N($),f=y($,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,min:!0,max:!0,step:!0,class:!0}),$.forEach(d),p.forEach(d),this.h()},h(){D(n,"for",l[7]),D(n,"class","svelte-158r6u9"),D(s,"class","currency svelte-158r6u9"),D(f,"type","number"),D(f,"id",l[7]),D(f,"name",l[6]),D(f,"placeholder",l[3]),D(f,"min",l[4]),D(f,"max",l[5]),D(f,"step","1"),f.disabled=l[2],D(f,"class","svelte-158r6u9"),D(r,"class","row svelte-158r6u9"),D(e,"class","money-field svelte-158r6u9")},m(m,p){b(m,e,p),E(e,n),E(n,t),E(e,i),E(e,r),E(r,s),E(r,a),E(r,f),$n(f,l[0]),u||(c=[ft(f,"input",l[10]),ft(f,"change",l[8])],u=!0)},p(m,[p]){p&2&&oe(t,m[1]),p&128&&D(n,"for",m[7]),p&128&&D(f,"id",m[7]),p&64&&D(f,"name",m[6]),p&8&&D(f,"placeholder",m[3]),p&16&&D(f,"min",m[4]),p&32&&D(f,"max",m[5]),p&4&&(f.disabled=m[2]),p&1&&Er(f.value)!==m[0]&&$n(f,m[0])},i:Z,o:Z,d(m){m&&d(e),u=!1,Bn(c)}}}function fa(l,e,n){let t,i,{label:r}=e,{value:s}=e,{name:o=void 0}=e,{disabled:a=!1}=e,{placeholder:f=""}=e,{min:u=-2e9}=e,{max:c=2e9}=e;const m=()=>{s!=null&&n(0,s=Math.round(s))};function p(){s=Er(this.value),n(0,s)}return l.$$set=_=>{"label"in _&&n(1,r=_.label),"value"in _&&n(0,s=_.value),"name"in _&&n(9,o=_.name),"disabled"in _&&n(2,a=_.disabled),"placeholder"in _&&n(3,f=_.placeholder),"min"in _&&n(4,u=_.min),"max"in _&&n(5,c=_.max)},l.$$.update=()=>{l.$$.dirty&514&&n(6,t=o??es(r)),l.$$.dirty&64&&n(7,i=`${t}-input`)},[s,r,a,f,u,c,t,i,m,o,p]}class ua extends le{constructor(e){super(),re(this,e,fa,oa,se,{label:1,value:0,name:9,disabled:2,placeholder:3,min:4,max:5})}}function ca(l){let e,n,t,i,r,s,o,a,f,u=`${l[3]+2.5}ch`,c,m,p;return s=new _i.Up({props:{label:"increment"}}),f=new _i.Down({props:{label:"decrement"}}),{c(){e=T("span"),n=T("input"),t=F(),i=T("span"),r=T("button"),I(s.$$.fragment),o=F(),a=T("button"),I(f.$$.fragment),this.h()},l(_){e=y(_,"SPAN",{class:!0});var $=L(e);n=y($,"INPUT",{id:!0,type:!0,autocomplete:!0,class:!0}),t=N($),i=y($,"SPAN",{class:!0});var k=L(i);r=y(k,"BUTTON",{tabindex:!0,class:!0});var v=L(r);A(s.$$.fragment,v),v.forEach(d),o=N(k),a=y(k,"BUTTON",{tabindex:!0,class:!0});var w=L(a);A(f.$$.fragment,w),w.forEach(d),k.forEach(d),$.forEach(d),this.h()},h(){D(n,"id",l[1]),D(n,"type","text"),n.value=l[0],n.disabled=l[2],D(n,"autocomplete","off"),D(n,"class","svelte-14jmlcf"),D(r,"tabindex","-1"),D(r,"class","svelte-14jmlcf"),D(a,"tabindex","-1"),D(a,"class","svelte-14jmlcf"),D(i,"class","buttons svelte-14jmlcf"),D(e,"class","numeric-resource-field svelte-14jmlcf"),we(e,"width",u)},m(_,$){b(_,e,$),E(e,n),E(e,t),E(e,i),E(i,r),C(s,r,null),E(i,o),E(i,a),C(f,a,null),c=!0,m||(p=[ft(n,"change",l[4]),ft(n,"input",l[5]),ft(n,"keydown",l[8]),ft(r,"click",l[7]),ft(a,"click",l[6])],m=!0)},p(_,[$]){(!c||$&2)&&D(n,"id",_[1]),(!c||$&1&&n.value!==_[0])&&(n.value=_[0]),(!c||$&4)&&(n.disabled=_[2]),$&8&&u!==(u=`${_[3]+2.5}ch`)&&we(e,"width",u)},i(_){c||(h(s.$$.fragment,_),h(f.$$.fragment,_),c=!0)},o(_){g(s.$$.fragment,_),g(f.$$.fragment,_),c=!1},d(_){_&&d(e),S(s),S(f),m=!1,Bn(p)}}}const ma=500;function da(l,e,n){let t;const i=tt();let{id:r}=e,{value:s}=e,{disabled:o=!1}=e;const a={current:-1},f=$=>{const k=$.target,v=/(\d+)\s*(\+|-)\s*(\d+)/,w=k.value.match(v);if(w!=null)n(0,s=parseFloat(w[1])+parseFloat(w[2]+w[3]));else{const P=parseFloat(k.value);n(0,s=isNaN(P)?0:P)}i("change",{value:s})},u=$=>{const k=$.target;n(3,t=k.value.length)},c=$=>{n(0,s+=$),clearTimeout(a.current),a.current=window.setTimeout(()=>{i("change",{value:s})},ma)},m=()=>c(-1),p=()=>c(1),_=$=>{const k=$.target,v=parseInt(k.value);isNaN(v)||($.key==="ArrowDown"?m():$.key==="ArrowUp"&&p())};return l.$$set=$=>{"id"in $&&n(1,r=$.id),"value"in $&&n(0,s=$.value),"disabled"in $&&n(2,o=$.disabled)},l.$$.update=()=>{var $;l.$$.dirty&1&&n(3,t=(($=s==null?void 0:s.toString())==null?void 0:$.length)??0)},[s,r,o,t,f,u,m,p,_]}class Et extends le{constructor(e){super(),re(this,e,da,ca,se,{id:1,value:0,disabled:2})}}function pa(l){let e,n,t,i,r,s;const o=l[2].default,a=Xt(o,l,l[1],null);return{c(){e=T("details"),n=T("summary"),t=T("h2"),i=B(l[0]),r=F(),a&&a.c(),this.h()},l(f){e=y(f,"DETAILS",{class:!0});var u=L(e);n=y(u,"SUMMARY",{class:!0});var c=L(n);t=y(c,"H2",{class:!0});var m=L(t);i=O(m,l[0]),m.forEach(d),c.forEach(d),r=N(u),a&&a.l(u),u.forEach(d),this.h()},h(){D(t,"class","svelte-1lzlvae"),D(n,"class","svelte-1lzlvae"),D(e,"class","svelte-1lzlvae")},m(f,u){b(f,e,u),E(e,n),E(n,t),E(t,i),E(e,r),a&&a.m(e,null),s=!0},p(f,[u]){(!s||u&1)&&oe(i,f[0]),a&&a.p&&(!s||u&2)&&xt(a,o,f,f[1],s?tn(o,f[1],u,null):en(f[1]),null)},i(f){s||(h(a,f),s=!0)},o(f){g(a,f),s=!1},d(f){f&&d(e),a&&a.d(f)}}}function _a(l,e,n){let{$$slots:t={},$$scope:i}=e,{title:r}=e;return l.$$set=s=>{"title"in s&&n(0,r=s.title),"$$scope"in s&&n(1,i=s.$$scope)},[r,i,t]}class $a extends le{constructor(e){super(),re(this,e,_a,pa,se,{title:0})}}function Ei(l,e,n){const t=l.slice();return t[13]=e[n],t}function Si(l){let e,n,t,i=l[13]+"",r,s;return{c(){e=T("div"),n=T("span"),t=T("span"),r=B(i),s=F(),this.h()},l(o){e=y(o,"DIV",{class:!0});var a=L(e);n=y(a,"SPAN",{class:!0});var f=L(n);t=y(f,"SPAN",{});var u=L(t);r=O(u,i),u.forEach(d),s=N(f),f.forEach(d),a.forEach(d),this.h()},h(){we(t,"display","none"),D(n,"class","marker svelte-1u67ix7"),D(e,"class","notch svelte-1u67ix7")},m(o,a){b(o,e,a),E(e,n),E(n,t),E(t,r),E(n,s)},p(o,a){a&128&&i!==(i=o[13]+"")&&oe(r,i)},d(o){o&&d(e)}}}function ha(l){let e,n,t,i,r,s,o,a,f,u,c,m,p,_,$,k=`translateX(${l[8]}%)`,v,w,P=De(l[7]),z=[];for(let H=0;H<P.length;H+=1)z[H]=Si(Ei(l,P,H));return{c(){e=T("div"),n=T("label"),t=B(l[1]),i=F(),r=T("div"),s=T("input"),o=F(),a=T("div"),f=T("div"),u=F(),c=T("div");for(let H=0;H<z.length;H+=1)z[H].c();m=F(),p=T("span"),_=T("span"),$=B(l[0]),this.h()},l(H){e=y(H,"DIV",{class:!0});var R=L(e);n=y(R,"LABEL",{for:!0,class:!0});var M=L(n);t=O(M,l[1]),M.forEach(d),i=N(R),r=y(R,"DIV",{class:!0});var q=L(r);s=y(q,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,min:!0,max:!0,step:!0,class:!0}),o=N(q),a=y(q,"DIV",{class:!0,"aria-hidden":!0});var j=L(a);f=y(j,"DIV",{class:!0}),L(f).forEach(d),u=N(j),c=y(j,"DIV",{class:!0});var K=L(c);for(let V=0;V<z.length;V+=1)z[V].l(K);K.forEach(d),m=N(j),p=y(j,"SPAN",{class:!0});var G=L(p);_=y(G,"SPAN",{class:!0});var Y=L(_);$=O(Y,l[0]),Y.forEach(d),G.forEach(d),j.forEach(d),q.forEach(d),R.forEach(d),this.h()},h(){D(n,"for",l[9]),D(n,"class","svelte-1u67ix7"),D(s,"type","range"),D(s,"id",l[9]),D(s,"name",l[6]),D(s,"placeholder",l[3]),D(s,"min",l[4]),D(s,"max",l[5]),D(s,"step","1"),s.value=l[0],s.disabled=l[2],D(s,"class","svelte-1u67ix7"),D(f,"class","track svelte-1u67ix7"),D(c,"class","notches svelte-1u67ix7"),D(_,"class","knob svelte-1u67ix7"),D(p,"class","knob-container svelte-1u67ix7"),we(p,"transform",k),D(a,"class","range-display svelte-1u67ix7"),D(a,"aria-hidden","true"),D(r,"class","container svelte-1u67ix7"),D(e,"class","ranks-field svelte-1u67ix7")},m(H,R){b(H,e,R),E(e,n),E(n,t),E(e,i),E(e,r),E(r,s),E(r,o),E(r,a),E(a,f),E(a,u),E(a,c);for(let M=0;M<z.length;M+=1)z[M]&&z[M].m(c,null);E(a,m),E(a,p),E(p,_),E(_,$),v||(w=ft(s,"input",l[10]),v=!0)},p(H,[R]){if(R&2&&oe(t,H[1]),R&512&&D(n,"for",H[9]),R&512&&D(s,"id",H[9]),R&64&&D(s,"name",H[6]),R&8&&D(s,"placeholder",H[3]),R&16&&D(s,"min",H[4]),R&32&&D(s,"max",H[5]),R&1&&(s.value=H[0]),R&4&&(s.disabled=H[2]),R&128){P=De(H[7]);let M;for(M=0;M<P.length;M+=1){const q=Ei(H,P,M);z[M]?z[M].p(q,R):(z[M]=Si(q),z[M].c(),z[M].m(c,null))}for(;M<z.length;M+=1)z[M].d(1);z.length=P.length}R&1&&oe($,H[0]),R&256&&k!==(k=`translateX(${H[8]}%)`)&&we(p,"transform",k)},i:Z,o:Z,d(H){H&&d(e),nt(z,H),v=!1,w()}}}function ga(l,e,n){let t,i,r,s,{label:o}=e,{value:a}=e,{name:f=void 0}=e,{disabled:u=!1}=e,{placeholder:c=""}=e,{min:m=0}=e,{max:p}=e;const _=tt(),$=k=>{n(0,a=parseInt(k.target.value)),_("input",{value:a})};return l.$$set=k=>{"label"in k&&n(1,o=k.label),"value"in k&&n(0,a=k.value),"name"in k&&n(11,f=k.name),"disabled"in k&&n(2,u=k.disabled),"placeholder"in k&&n(3,c=k.placeholder),"min"in k&&n(4,m=k.min),"max"in k&&n(5,p=k.max)},l.$$.update=()=>{l.$$.dirty&2050&&n(6,t=f??es(o)),l.$$.dirty&64&&n(9,i=`${t}-input`),l.$$.dirty&49&&n(8,r=100*(a-m)/(p-m)),l.$$.dirty&48&&n(7,s=[...Array(p-m+1)].map((k,v)=>v))},[a,o,u,c,m,p,t,s,r,i,$,f]}class ts extends le{constructor(e){super(),re(this,e,ga,ha,se,{label:1,value:0,name:11,disabled:2,placeholder:3,min:4,max:5})}}function Jt(l){setTimeout(()=>{var e;(e=document.querySelector(`#${l}-input`))==null||e.focus()},50)}function va(l){let e;return{c(){e=T("hr"),this.h()},l(n){e=y(n,"HR",{class:!0}),this.h()},h(){D(e,"class","svelte-bk1q1p")},m(n,t){b(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&d(e)}}}class ns extends le{constructor(e){super(),re(this,e,null,va,se,{})}}function Ci(l){let e,n,t=`${l[1].hueRotate}deg`;return{c(){e=T("img"),this.h()},l(i){e=y(i,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ui(e.src,n=l[2])||D(e,"src",n),D(e,"alt",l[0]),D(e,"class","svelte-qrc8zq"),Ue(e,"using-fallback",l[1].portraitFallback),we(e,"--hue-rotate",t)},m(i,r){b(i,e,r)},p(i,r){r&4&&!ui(e.src,n=i[2])&&D(e,"src",n),r&1&&D(e,"alt",i[0]),r&2&&Ue(e,"using-fallback",i[1].portraitFallback),r&2&&t!==(t=`${i[1].hueRotate}deg`)&&we(e,"--hue-rotate",t)},d(i){i&&d(e)}}}function ba(l){var t;let e,n=((t=l[1].value)==null?void 0:t.href)!=null&&Ci(l);return{c(){n&&n.c(),e=J()},l(i){n&&n.l(i),e=J()},m(i,r){n&&n.m(i,r),b(i,e,r)},p(i,[r]){var s;((s=i[1].value)==null?void 0:s.href)!=null?n?n.p(i,r):(n=Ci(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Z,o:Z,d(i){i&&d(e),n&&n.d(i)}}}function ka(l,e,n){let t,i,r,{media:s}=e,{alt:o}=e,{shiny:a=!1}=e;return l.$$set=f=>{"media"in f&&n(3,s=f.media),"alt"in f&&n(0,o=f.alt),"shiny"in f&&n(4,a=f.shiny)},l.$$.update=()=>{var f,u,c;l.$$.dirty&24&&n(1,t=s.sprite({shiny:a})),l.$$.dirty&2&&n(5,i=/^http/.test((f=t.value)==null?void 0:f.href)),l.$$.dirty&34&&n(2,r=i?(u=t.value)==null?void 0:u.href:`${Hs}${(c=t.value)==null?void 0:c.href}`)},[o,t,r,s,a,i]}class is extends le{constructor(e){super(),re(this,e,ka,ba,se,{media:3,alt:0,shiny:4})}}function wa(l){let e,n,t="Lv.",i,r,s;return{c(){e=T("span"),n=T("span"),n.textContent=t,i=F(),r=T("span"),s=B(l[0]),this.h()},l(o){e=y(o,"SPAN",{class:!0});var a=L(e);n=y(a,"SPAN",{class:!0,"data-svelte-h":!0}),he(n)!=="svelte-2tek6b"&&(n.textContent=t),i=N(a),r=y(a,"SPAN",{class:!0});var f=L(r);s=O(f,l[0]),f.forEach(d),a.forEach(d),this.h()},h(){D(n,"class","level-text svelte-pgha3w"),D(r,"class","level-number svelte-pgha3w"),D(e,"class","level svelte-pgha3w")},m(o,a){b(o,e,a),E(e,n),E(e,i),E(e,r),E(r,s)},p(o,[a]){a&1&&oe(s,o[0])},i:Z,o:Z,d(o){o&&d(e)}}}function Ea(l,e,n){let{value:t}=e;return l.$$set=i=>{"value"in i&&n(0,t=i.value)},[t]}class ls extends le{constructor(e){super(),re(this,e,Ea,wa,se,{value:0})}}function Sa(l){let e,n,t=`${Math.max(100*l[0]/l[1],0)}%`,i,r;return{c(){e=T("div"),n=T("div"),this.h()},l(s){e=y(s,"DIV",{role:!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuetext":!0,class:!0});var o=L(e);n=y(o,"DIV",{class:!0}),L(n).forEach(d),o.forEach(d),this.h()},h(){D(n,"class","bar svelte-1v8g74g"),we(n,"inline-size",t),D(e,"role","meter"),D(e,"aria-valuenow",l[0]),D(e,"aria-valuemin","0"),D(e,"aria-valuemax",l[1]),D(e,"aria-valuetext",i=l[0]+" / "+l[1]),D(e,"class",r="meter "+l[4]+" "+l[2]+" svelte-1v8g74g"),Ue(e,"full",l[3])},m(s,o){b(s,e,o),E(e,n)},p(s,[o]){o&3&&t!==(t=`${Math.max(100*s[0]/s[1],0)}%`)&&we(n,"inline-size",t),o&1&&D(e,"aria-valuenow",s[0]),o&2&&D(e,"aria-valuemax",s[1]),o&3&&i!==(i=s[0]+" / "+s[1])&&D(e,"aria-valuetext",i),o&20&&r!==(r="meter "+s[4]+" "+s[2]+" svelte-1v8g74g")&&D(e,"class",r),o&28&&Ue(e,"full",s[3])},i:Z,o:Z,d(s){s&&d(e)}}}function Ca(l,e,n){let t,i,r,{current:s}=e,{max:o}=e,{variant:a="primary"}=e;return l.$$set=f=>{"current"in f&&n(0,s=f.current),"max"in f&&n(1,o=f.max),"variant"in f&&n(2,a=f.variant)},l.$$.update=()=>{l.$$.dirty&3&&n(5,t=Math.max(100*s/o,0)),l.$$.dirty&32&&n(4,i=t>=50?"healthy":t>=20?"warning":"danger"),l.$$.dirty&32&&n(3,r=t>=100)},[s,o,a,r,i,t]}class wn extends le{constructor(e){super(),re(this,e,Ca,Sa,se,{current:0,max:1,variant:2})}}function Ia(l){let e,n,t,i,r;e=new Cn({props:{$$slots:{default:[ya]},$$scope:{ctx:l}}}),e.$on("remove",l[10]);function s(a){l[11](a)}let o={label:"Item Description",name:"item-description-"+l[0].id,disabled:l[1]};return l[0].description!==void 0&&(o.value=l[0].description),t=new kt({props:o}),x.push(()=>ee(t,"value",s)),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(a){A(e.$$.fragment,a),n=N(a),A(t.$$.fragment,a)},m(a,f){C(e,a,f),b(a,n,f),C(t,a,f),r=!0},p(a,f){const u={};f&4103&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const c={};f&1&&(c.name="item-description-"+a[0].id),f&2&&(c.disabled=a[1]),!i&&f&1&&(i=!0,c.value=a[0].description,te(()=>i=!1)),t.$set(c)},i(a){r||(h(e.$$.fragment,a),h(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&d(n),S(e,a),S(t,a)}}}function Aa(l){let e,n;return e=new Cn({props:{$$slots:{default:[Ta]},$$scope:{ctx:l}}}),e.$on("remove",l[8]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4111&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ya(l){let e,n,t;function i(s){l[9](s)}let r={label:"Name",name:l[2],disabled:l[1]};return l[0].name!==void 0&&(r.value=l[0].name),e=new ut({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.name=s[2]),o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.value=s[0].name,te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ta(l){let e,n,t;function i(s){l[7](s)}let r={label:"Item",name:l[2],options:l[3],disabled:l[1]};return l[0].itemId!==void 0&&(r.value=l[0].itemId),e=new ht({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.name=s[2]),o&8&&(a.options=s[3]),o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.value=s[0].itemId,te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Pa(l){let e,n,t,i,r;const s=[Aa,Ia],o=[];function a(f,u){return f[0].type==="standard"?0:1}return e=a(l),n=o[e]=s[e](l),i=new ns({}),{c(){n.c(),t=F(),I(i.$$.fragment)},l(f){n.l(f),t=N(f),A(i.$$.fragment,f)},m(f,u){o[e].m(f,u),b(f,t,u),C(i,f,u),r=!0},p(f,[u]){let c=e;e=a(f),e===c?o[e].p(f,u):(ce(),g(o[c],1,1,()=>{o[c]=null}),me(),n=o[e],n?n.p(f,u):(n=o[e]=s[e](f),n.c()),h(n,1),n.m(t.parentNode,t))},i(f){r||(h(n),h(i.$$.fragment,f),r=!0)},o(f){g(n),g(i.$$.fragment,f),r=!1},d(f){f&&d(t),o[e].d(f),S(i,f)}}}const Rn=l=>`item-id-${l}`;function Da(l,e,n){let t,i,r,s;Ve(l,Wn,$=>n(6,s=$));let{value:o}=e,{groupOrder:a=[]}=e,{disabled:f=!1}=e;function u($){l.$$.not_equal(o.itemId,$)&&(o.itemId=$,n(0,o))}function c($){hn.call(this,l,$)}function m($){l.$$.not_equal(o.name,$)&&(o.name=$,n(0,o))}function p($){hn.call(this,l,$)}function _($){l.$$.not_equal(o.description,$)&&(o.description=$,n(0,o))}return l.$$set=$=>{"value"in $&&n(0,o=$.value),"groupOrder"in $&&n(4,a=$.groupOrder),"disabled"in $&&n(1,f=$.disabled)},l.$$.update=()=>{l.$$.dirty&80&&n(5,t=js.groupByType(s??[],a)),l.$$.dirty&32&&n(3,i=t.map($=>({name:$.name,values:$.items.map(k=>({name:k.name,value:k.id}))}))),l.$$.dirty&1&&n(2,r=Rn(o.id))},[o,f,r,i,a,t,s,u,c,m,p,_]}class Na extends le{constructor(e){super(),re(this,e,Da,Pa,se,{value:0,groupOrder:4,disabled:1})}}function Ii(l,e,n){const t=l.slice();return t[10]=e[n],t}function Ai(l,e){let n,t,i;return t=new Na({props:{value:e[10],disabled:e[2],groupOrder:e[1]}}),t.$on("remove",function(){Ot(e[3](e[10].id))&&e[3](e[10].id).apply(this,arguments)}),{key:l,first:null,c(){n=J(),I(t.$$.fragment),this.h()},l(r){n=J(),A(t.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){b(r,n,s),C(t,r,s),i=!0},p(r,s){e=r;const o={};s&1&&(o.value=e[10]),s&4&&(o.disabled=e[2]),s&2&&(o.groupOrder=e[1]),t.$set(o)},i(r){i||(h(t.$$.fragment,r),i=!0)},o(r){g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(t,r)}}}function Fa(l){let e;return{c(){e=B("Add Item")},l(n){e=O(n,"Add Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Ha(l){let e;return{c(){e=B("Add Custom Item")},l(n){e=O(n,"Add Custom Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function za(l){let e,n=[],t=new Map,i,r,s,o,a,f,u=De(l[0]);const c=m=>m[10].id;for(let m=0;m<u.length;m+=1){let p=Ii(l,u,m),_=c(p);t.set(_,n[m]=Ai(_,p))}return s=new Pe({props:{$$slots:{default:[Fa]},$$scope:{ctx:l}}}),s.$on("click",l[4]),a=new Pe({props:{$$slots:{default:[Ha]},$$scope:{ctx:l}}}),a.$on("click",l[5]),{c(){e=T("div");for(let m=0;m<n.length;m+=1)n[m].c();i=F(),r=T("div"),I(s.$$.fragment),o=F(),I(a.$$.fragment),this.h()},l(m){e=y(m,"DIV",{class:!0});var p=L(e);for(let $=0;$<n.length;$+=1)n[$].l(p);i=N(p),r=y(p,"DIV",{class:!0});var _=L(r);A(s.$$.fragment,_),o=N(_),A(a.$$.fragment,_),_.forEach(d),p.forEach(d),this.h()},h(){D(r,"class","row svelte-pqgyo1"),D(e,"class","inventory-editor svelte-pqgyo1")},m(m,p){b(m,e,p);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(e,null);E(e,i),E(e,r),C(s,r,null),E(r,o),C(a,r,null),f=!0},p(m,[p]){p&15&&(u=De(m[0]),ce(),n=ln(n,p,c,1,m,u,t,e,rn,Ai,i,Ii),me());const _={};p&8192&&(_.$$scope={dirty:p,ctx:m}),s.$set(_);const $={};p&8192&&($.$$scope={dirty:p,ctx:m}),a.$set($)},i(m){if(!f){for(let p=0;p<u.length;p+=1)h(n[p]);h(s.$$.fragment,m),h(a.$$.fragment,m),f=!0}},o(m){for(let p=0;p<n.length;p+=1)g(n[p]);g(s.$$.fragment,m),g(a.$$.fragment,m),f=!1},d(m){m&&d(e);for(let p=0;p<n.length;p+=1)n[p].d();S(s),S(a)}}}function La(l,e,n){let{values:t}=e,{groupOrder:i=[]}=e,{disabled:r}=e,{newStandardItem:s}=e,{newCustomItem:o}=e,a=-1001;const f=()=>(--a).toString(),u=p=>()=>{n(0,t=t.filter(_=>_.id!==p))},c=()=>{const p=f();n(0,t=[...t,s(p)]),Jt(Rn(p))},m=()=>{const p=f();n(0,t=[...t,o(p)]),Jt(Rn(p))};return l.$$set=p=>{"values"in p&&n(0,t=p.values),"groupOrder"in p&&n(1,i=p.groupOrder),"disabled"in p&&n(2,r=p.disabled),"newStandardItem"in p&&n(6,s=p.newStandardItem),"newCustomItem"in p&&n(7,o=p.newCustomItem)},[t,i,r,u,c,m,s,o]}class rs extends le{constructor(e){super(),re(this,e,La,za,se,{values:0,groupOrder:1,disabled:2,newStandardItem:6,newCustomItem:7})}}function yi(l,e,n){const t=l.slice();return t[3]=e[n],t[4]=e,t[5]=n,t}function Ti(l){let e,n,t,i,r;function s(a){l[2](a,l[3])}let o={label:l[3].abbr,min:0,max:30,disabled:l[1]};return l[0].data[l[3].abbr]!==void 0&&(o.value=l[0].data[l[3].abbr]),n=new it({props:o}),x.push(()=>ee(n,"value",s)),{c(){e=T("div"),I(n.$$.fragment),i=F(),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=L(e);A(n.$$.fragment,f),i=N(f),f.forEach(d),this.h()},h(){D(e,"class","upper")},m(a,f){b(a,e,f),C(n,e,null),E(e,i),r=!0},p(a,f){l=a;const u={};f&2&&(u.disabled=l[1]),!t&&f&1&&(t=!0,u.value=l[0].data[l[3].abbr],te(()=>t=!1)),n.$set(u)},i(a){r||(h(n.$$.fragment,a),r=!0)},o(a){g(n.$$.fragment,a),r=!1},d(a){a&&d(e),S(n)}}}function Ra(l){let e,n,t=De(yt.list),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ti(yi(l,t,s));const r=s=>g(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=J()},l(s){for(let o=0;o<i.length;o+=1)i[o].l(s);e=J()},m(s,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,o);b(s,e,o),n=!0},p(s,o){if(o&3){t=De(yt.list);let a;for(a=0;a<t.length;a+=1){const f=yi(s,t,a);i[a]?(i[a].p(f,o),h(i[a],1)):(i[a]=Ti(f),i[a].c(),h(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)r(a);me()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)h(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)g(i[o]);n=!1},d(s){s&&d(e),nt(i,s)}}}function Ma(l){let e,n;return e=new Ze({props:{title:"Attributes",columns:3,$$slots:{default:[Ra]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&67&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Va(l,e,n){let{values:t}=e,{disabled:i}=e;function r(s,o){l.$$.not_equal(t.data[o.abbr],s)&&(t.data[o.abbr]=s,n(0,t))}return l.$$set=s=>{"values"in s&&n(0,t=s.values),"disabled"in s&&n(1,i=s.disabled)},[t,i,r]}class ss extends le{constructor(e){super(),re(this,e,Va,Ma,se,{values:0,disabled:1})}}function Pi(l,e,n){var o;const t=l.slice();t[6]=e[n],t[11]=n;const i=t[1][t[6].attr].modifier+(t[6].proficient?t[4]:0)+(t[6].expert?t[4]:0)+(((o=t[6].extraModifiers)==null?void 0:o[t[6].name])??0);t[7]=i;const r=t[11]%(2*t[2])>=t[2];t[8]=r;const s=t[11]%(2*t[3])>=t[3];return t[9]=s,t}function Oa(l){let e,n="⦿";return{c(){e=T("abbr"),e.textContent=n,this.h()},l(t){e=y(t,"ABBR",{title:!0,class:!0,"data-svelte-h":!0}),he(e)!=="svelte-1dlfqet"&&(e.textContent=n),this.h()},h(){D(e,"title","Proficient"),D(e,"class","svelte-2tpkxs")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Ba(l){let e,n="★";return{c(){e=T("abbr"),e.textContent=n,this.h()},l(t){e=y(t,"ABBR",{title:!0,class:!0,"data-svelte-h":!0}),he(e)!=="svelte-yrnqc6"&&(e.textContent=n),this.h()},h(){D(e,"title","Expert"),D(e,"class","svelte-2tpkxs")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Di(l){let e,n,t,i,r=l[6].name+"",s,o,a,f=l[7]>=0?"+":"",u,c=l[7]+"",m,p;function _(v,w){if(v[6].expert)return Ba;if(v[6].proficient)return Oa}let $=_(l),k=$&&$(l);return{c(){e=T("dt"),n=T("span"),k&&k.c(),t=F(),i=T("span"),s=B(r),o=F(),a=T("dd"),u=B(f),m=B(c),p=T("dd"),this.h()},l(v){e=y(v,"DT",{class:!0});var w=L(e);n=y(w,"SPAN",{class:!0});var P=L(n);k&&k.l(P),P.forEach(d),t=N(w),i=y(w,"SPAN",{});var z=L(i);s=O(z,r),z.forEach(d),o=N(w),w.forEach(d),a=y(v,"DD",{class:!0});var H=L(a);u=O(H,f),m=O(H,c),H.forEach(d),p=y(v,"DD",{"aria-hidden":!0,class:!0}),L(p).forEach(d),this.h()},h(){D(n,"class","icon svelte-2tpkxs"),D(e,"class","svelte-2tpkxs"),Ue(e,"even",l[9]),Ue(e,"even-lg",l[8]),D(a,"class","svelte-2tpkxs"),Ue(a,"even",l[9]),Ue(a,"even-lg",l[8]),D(p,"aria-hidden","true"),D(p,"class","svelte-2tpkxs"),Ue(p,"even",l[9]),Ue(p,"even-lg",l[8])},m(v,w){b(v,e,w),E(e,n),k&&k.m(n,null),E(e,t),E(e,i),E(i,s),E(e,o),b(v,a,w),E(a,u),E(a,m),b(v,p,w)},p(v,w){$!==($=_(v))&&(k&&k.d(1),k=$&&$(v),k&&(k.c(),k.m(n,null))),w&1&&r!==(r=v[6].name+"")&&oe(s,r),w&8&&Ue(e,"even",v[9]),w&4&&Ue(e,"even-lg",v[8]),w&19&&f!==(f=v[7]>=0?"+":"")&&oe(u,f),w&19&&c!==(c=v[7]+"")&&oe(m,c),w&8&&Ue(a,"even",v[9]),w&4&&Ue(a,"even-lg",v[8]),w&8&&Ue(p,"even",v[9]),w&4&&Ue(p,"even-lg",v[8])},d(v){v&&(d(e),d(a),d(p)),k&&k.d()}}}function qa(l){let e,n=De(l[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Di(Pi(l,n,i));return{c(){e=T("dl");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=y(i,"DL",{class:!0});var r=L(e);for(let s=0;s<t.length;s+=1)t[s].l(r);r.forEach(d),this.h()},h(){D(e,"class","svelte-2tpkxs"),we(e,"--columns",l[3]),we(e,"--columns-lg",l[2])},m(i,r){b(i,e,r);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,[r]){if(r&31){n=De(i[0]);let s;for(s=0;s<n.length;s+=1){const o=Pi(i,n,s);t[s]?t[s].p(o,r):(t[s]=Di(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}r&8&&we(e,"--columns",i[3]),r&4&&we(e,"--columns-lg",i[2])},i:Z,o:Z,d(i){i&&d(e),nt(t,i)}}}function Ka(l,e,n){let t,{values:i}=e,{attributes:r}=e,{level:s}=e,{columnsLg:o=1}=e,{columns:a=1}=e;return l.$$set=f=>{"values"in f&&n(0,i=f.values),"attributes"in f&&n(1,r=f.attributes),"level"in f&&n(5,s=f.level),"columnsLg"in f&&n(2,o=f.columnsLg),"columns"in f&&n(3,a=f.columns)},l.$$.update=()=>{l.$$.dirty&32&&n(4,t=s.proficiencyBonus)},[i,r,o,a,t,s]}class Ni extends le{constructor(e){super(),re(this,e,Ka,qa,se,{values:0,attributes:1,level:5,columnsLg:2,columns:3})}}const Ua="stellar",Zt=class Zt extends Jr{};Ne(Zt,"list",[].concat(Ln.list).concat(Ua)),Ne(Zt,"isTeraType",e=>Zt.list.includes(e));let Tt=Zt;function ja(l){let e,n,t;function i(s){l[3](s)}let r={label:"Gender",values:l[2],disabled:l[1]};return l[0]!==void 0&&(r.checked=l[0]),e=new In({props:r}),x.push(()=>ee(e,"checked",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.checked=s[0],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ga(l){let e,n;return e=new Ze({props:{title:"Gender",columns:4,$$slots:{default:[ja]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&19&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ya(l,e,n){let{value:t}=e,{disabled:i=!1}=e;const r=[Lt.Male,Lt.Female,Lt.None,Lt.Other].map(o=>({name:o,value:o}));function s(o){t=o,n(0,t)}return l.$$set=o=>{"value"in o&&n(0,t=o.value),"disabled"in o&&n(1,i=o.disabled)},[t,i,r,s]}class Wa extends le{constructor(e){super(),re(this,e,Ya,Ga,se,{value:0,disabled:1})}}function Fi(l,e,n){const t=l.slice();return t[2]=e[n],t}function Hi(l){let e,n=l[2]+"",t;return{c(){e=T("p"),t=B(n)},l(i){e=y(i,"P",{});var r=L(e);t=O(r,n),r.forEach(d)},m(i,r){b(i,e,r),E(e,t)},p(i,r){r&1&&n!==(n=i[2]+"")&&oe(t,n)},d(i){i&&d(e)}}}function Qa(l){let e,n=De(l[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=Hi(Fi(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=J()},l(i){for(let r=0;r<t.length;r+=1)t[r].l(i);e=J()},m(i,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,r);b(i,e,r)},p(i,[r]){if(r&1){n=De(i[0]);let s;for(s=0;s<n.length;s+=1){const o=Fi(i,n,s);t[s]?t[s].p(o,r):(t[s]=Hi(o),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:Z,o:Z,d(i){i&&d(e),nt(t,i)}}}function Za(l,e,n){let t,{value:i=""}=e;return l.$$set=r=>{"value"in r&&n(1,i=r.value)},l.$$.update=()=>{l.$$.dirty&2&&n(0,t=i.split(/\n+/))},[t,i]}class Qn extends le{constructor(e){super(),re(this,e,Za,Qa,se,{value:1})}}function zi(l,e,n){const t=l.slice();return t[8]=e[n],t}const Ja=l=>({species:l&1}),Li=l=>({species:l[8]}),Xa=l=>({}),Ri=l=>({});function xa(l){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function eo(l){let e,n,t=De(Object.values(l[0])),i=[];for(let s=0;s<t.length;s+=1)i[s]=Mi(zi(l,t,s));const r=s=>g(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=J()},l(s){for(let o=0;o<i.length;o+=1)i[o].l(s);e=J()},m(s,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,o);b(s,e,o),n=!0},p(s,o){if(o&9){t=De(Object.values(s[0]));let a;for(a=0;a<t.length;a+=1){const f=zi(s,t,a);i[a]?(i[a].p(f,o),h(i[a],1)):(i[a]=Mi(f),i[a].c(),h(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)r(a);me()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)h(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)g(i[o]);n=!1},d(s){s&&d(e),nt(i,s)}}}function Mi(l){let e;const n=l[4].default,t=Xt(n,l,l[3],Li);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&9)&&xt(t,n,i,i[3],e?tn(n,i[3],r,Ja):en(i[3]),Li)},i(i){e||(h(t,i),e=!0)},o(i){g(t,i),e=!1},d(i){t&&t.d(i)}}}function to(l){let e;const n=l[4].loader,t=Xt(n,l,l[3],Ri),i=t||no();return{c(){i&&i.c()},l(r){i&&i.l(r)},m(r,s){i&&i.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&8)&&xt(t,n,r,r[3],e?tn(n,r[3],s,Xa):en(r[3]),Ri)},i(r){e||(h(i,r),e=!0)},o(r){g(i,r),e=!1},d(r){i&&i.d(r)}}}function no(l){let e,n;return e=new wt({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function io(l){let e,n,t,i={ctx:l,current:null,token:null,hasCatch:!1,pending:to,then:eo,catch:xa,blocks:[,,,]};return mt(n=l[1],i),{c(){e=J(),i.block.c()},l(r){e=J(),i.block.l(r)},m(r,s){b(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(r,[s]){l=r,i.ctx=l,s&2&&n!==(n=l[1])&&mt(n,i)||Pt(i,l,s)},i(r){t||(h(i.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const o=i.blocks[s];g(o)}t=!1},d(r){r&&d(e),i.block.d(r),i.token=null,i=null}}}function lo(l,e,n){let{$$slots:t={},$$scope:i}=e,{ids:r}=e,s=[],o={},a=[],f=new Promise(()=>{});function u(c){Zs(c)(s)||(s=c,n(0,o={}),a.forEach(m=>m()),a=[],n(1,f=Promise.all(c.map(m=>zr.get(m).then(p=>{a.push(p.subscribe(_=>{_!=null&&n(0,o={...o,[m.data]:_.value})}))})))))}return Es(()=>{a.forEach(c=>c())}),l.$$set=c=>{"ids"in c&&n(2,r=c.ids),"$$scope"in c&&n(3,i=c.$$scope)},l.$$.update=()=>{l.$$.dirty&4&&u(r)},[o,f,r,i,t]}class Dt extends le{constructor(e){super(),re(this,e,lo,io,se,{ids:2})}}const ro={compute(l,e,n){return so.map(i=>i.createIfApplicable(l,e,n)).filter(i=>i!=null)}};class Zn{constructor(e,n){this.oldAbility=e,this.newAbility=n}apply(e){return{...e,ability:this.newAbility}}toString(){return`Ability will change from {{ability:${this.oldAbility}}} to {{ability:${this.newAbility}}}`}static createIfApplicable(e,n,t){const i=n.abilities.findIndex(e.ability);if(!i.exists)return;const r=t.abilities.findApplicableAbility(i);if(r!=null&&e.ability!==r.id)return new Zn(e.ability,r.id)}}class Jn{constructor(e){this.gainedAc=e}apply(e){return{...e,ac:e.ac+this.gainedAc}}toString(){return`AC will increase by ${this.gainedAc}`}static createIfApplicable(e,n,t){if(n.data.ac!==t.data.ac)return new Jn(t.data.ac-n.data.ac)}}class Xn{constructor(e){Ne(this,"gainedHp");this.gainedHp=e.data*2}apply(e){return{...e,hp:{current:e.hp.max+this.gainedHp,max:e.hp.max+this.gainedHp}}}toString(){return`Max HP will increase by ${this.gainedHp}`}static createIfApplicable(e){return new Xn(e.level)}}class xn{constructor(e){this.newProficiencies=e}apply(e){return{...e,proficiencies:e.proficiencies.addProficiencies(this.newProficiencies)}}toString(){return`Proficiency in ${this.newProficiencies.map(xr).join(", ")}`}static createIfApplicable(e,n,t){const i=Qr(t.skills.toList())(e.proficiencies.toList());if(i.length>0)return new xn(i)}}class ei{constructor(e){this.newSaves=e}apply(e){return{...e,savingThrows:e.savingThrows.concat(this.newSaves)}}toString(){return`Proficiency in ${this.newSaves.map(aa).join(", ")}`}static createIfApplicable(e,n,t){const i=Qr(t.data.saves)(e.savingThrows);if(i.length>0)return new ei(i)}}class ti{constructor(e){this.newName=e}apply(e){return{...e,nickname:this.newName}}toString(){return""}static createIfApplicable(e,n,t){if(e.nickname===n.data.name)return new ti(t.data.name)}}class ni{constructor(e){this.newId=e}apply(e){return{...e,pokemonId:this.newId}}toString(){return""}static createIfApplicable(e,n,t){return new ni(t.id)}}class ii{constructor(e){this.newType=e}apply(e){return{...e,type:this.newType}}toString(){return`Type will change to ${this.newType.toString()}`}static createIfApplicable(e,n,t){const i=!e.type.equivalent(n.type),r=!n.type.equivalent(t.type);if(!(i||!r))return new ii(t.type)}}class li{apply(e){return e}toString(){return"<strong>Note:</strong> This Pokémon's type will not change since its type was customized."}static createIfApplicable(e,n){return!e.type.equivalent(n.type)?new li:void 0}}const so=[ni,ti,ii,Xn,Jn,xn,ei,Zn,li];function Vi(l,e,n){const t=l.slice();t[20]=e[n];const i=t[20].toString();return t[21]=i,t}function Oi(l){let e,n,t,i,r,s;e=new Ze({props:{title:"Choose one",columns:2,$$slots:{default:[ao]},$$scope:{ctx:l}}});let o=l[4]&&Bi(l);return r=new Qe({props:{$$slots:{default:[uo]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),t=T("section"),o&&o.c(),i=F(),I(r.$$.fragment),this.h()},l(a){A(e.$$.fragment,a),n=N(a),t=y(a,"SECTION",{class:!0});var f=L(t);o&&o.l(f),f.forEach(d),i=N(a),A(r.$$.fragment,a),this.h()},h(){D(t,"class","svelte-1r7xq7f"),we(t,"min-height","12em")},m(a,f){C(e,a,f),b(a,n,f),b(a,t,f),o&&o.m(t,null),b(a,i,f),C(r,a,f),s=!0},p(a,f){const u={};f&16777288&&(u.$$scope={dirty:f,ctx:a}),e.$set(u),a[4]?o?(o.p(a,f),f&16&&h(o,1)):(o=Bi(a),o.c(),h(o,1),o.m(t,null)):o&&(ce(),g(o,1,1,()=>{o=null}),me());const c={};f&16777472&&(c.$$scope={dirty:f,ctx:a}),r.$set(c)},i(a){s||(h(e.$$.fragment,a),h(o),h(r.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(o),g(r.$$.fragment,a),s=!1},d(a){a&&(d(n),d(t),d(i)),S(e,a),o&&o.d(),S(r,a)}}}function ao(l){var s;let e,n,t;function i(o){l[18](o)}let r={label:"Evolution Choices",values:((s=l[6])==null?void 0:s.map(l[17]))??[],required:!0};return l[3]!==void 0&&(r.checked=l[3]),e=new In({props:r}),x.push(()=>ee(e,"checked",i)),{c(){I(e.$$.fragment)},l(o){A(e.$$.fragment,o)},m(o,a){C(e,o,a),t=!0},p(o,a){var u;const f={};a&64&&(f.values=((u=o[6])==null?void 0:u.map(o[17]))??[]),!n&&a&8&&(n=!0,f.checked=o[3],te(()=>n=!1)),e.$set(f)},i(o){t||(h(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function Bi(l){let e,n,t,i,r="Evolving this pokemon will have these effects:",s,o,a;n=new Ir({props:{value:l[4].toString()}});let f=De(l[7]),u=[];for(let m=0;m<f.length;m+=1)u[m]=Ki(Vi(l,f,m));const c=m=>g(u[m],1,1,()=>{u[m]=null});return{c(){e=T("p"),I(n.$$.fragment),t=F(),i=T("p"),i.textContent=r,s=F(),o=T("ul");for(let m=0;m<u.length;m+=1)u[m].c()},l(m){e=y(m,"P",{});var p=L(e);A(n.$$.fragment,p),p.forEach(d),t=N(m),i=y(m,"P",{"data-svelte-h":!0}),he(i)!=="svelte-stsmeq"&&(i.textContent=r),s=N(m),o=y(m,"UL",{});var _=L(o);for(let $=0;$<u.length;$+=1)u[$].l(_);_.forEach(d)},m(m,p){b(m,e,p),C(n,e,null),b(m,t,p),b(m,i,p),b(m,s,p),b(m,o,p);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(o,null);a=!0},p(m,p){const _={};if(p&16&&(_.value=m[4].toString()),n.$set(_),p&128){f=De(m[7]);let $;for($=0;$<f.length;$+=1){const k=Vi(m,f,$);u[$]?(u[$].p(k,p),h(u[$],1)):(u[$]=Ki(k),u[$].c(),h(u[$],1),u[$].m(o,null))}for(ce(),$=f.length;$<u.length;$+=1)c($);me()}},i(m){if(!a){h(n.$$.fragment,m);for(let p=0;p<f.length;p+=1)h(u[p]);a=!0}},o(m){g(n.$$.fragment,m),u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)g(u[p]);a=!1},d(m){m&&(d(e),d(t),d(i),d(s),d(o)),S(n),nt(u,m)}}}function qi(l){let e,n,t;return n=new Ir({props:{value:l[21]}}),{c(){e=T("li"),I(n.$$.fragment)},l(i){e=y(i,"LI",{});var r=L(e);A(n.$$.fragment,r),r.forEach(d)},m(i,r){b(i,e,r),C(n,e,null),t=!0},p(i,r){const s={};r&128&&(s.value=i[21]),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function Ki(l){var i;let e,n,t=((i=l[21])==null?void 0:i.length)>0&&qi(l);return{c(){t&&t.c(),e=J()},l(r){t&&t.l(r),e=J()},m(r,s){t&&t.m(r,s),b(r,e,s),n=!0},p(r,s){var o;((o=r[21])==null?void 0:o.length)>0?t?(t.p(r,s),s&128&&h(t,1)):(t=qi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(r){n||(h(t),n=!0)},o(r){g(t),n=!1},d(r){r&&d(e),t&&t.d(r)}}}function oo(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function fo(l){let e;return{c(){e=B("Evolve!")},l(n){e=O(n,"Evolve!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function uo(l){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:l[8],$$slots:{default:[oo]},$$scope:{ctx:l}}}),e.$on("click",l[9]),t=new Pe({props:{type:"submit",disabled:l[8],$$slots:{default:[fo]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s&256&&(o.disabled=r[8]),s&16777216&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const a={};s&256&&(a.disabled=r[8]),s&16777216&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function co(l){var i;let e,n,t=((i=l[5])==null?void 0:i.length)>0&&Oi(l);return{c(){t&&t.c(),e=J()},l(r){t&&t.l(r),e=J()},m(r,s){t&&t.m(r,s),b(r,e,s),n=!0},p(r,s){var o;((o=r[5])==null?void 0:o.length)>0?t?(t.p(r,s),s&32&&h(t,1)):(t=Oi(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(r){n||(h(t),n=!0)},o(r){g(t),n=!1},d(r){r&&d(e),t&&t.d(r)}}}function mo(l){let e,n;return e=new Bt({props:{onsubmit:l[10],saving:l[2],$$slots:{default:[co]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.saving=t[2]),i&16777720&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function po(l,e,n){let t,i,r,s,o,a,f,u=Z,c=()=>(u(),u=Xe(w,G=>n(15,f=G)),w),m,p=Z,_=()=>(p(),p=Xe(P,G=>n(16,m=G)),P);l.$$.on_destroy.push(()=>u()),l.$$.on_destroy.push(()=>p());const $=tt();let{pokemon:k}=e,{species:v}=e,{allSpecies:w}=e;c();let{evolutions:P}=e;_();let{saving:z=!1}=e,H;const R=()=>{$("cancel")},M=()=>{const G=a.reduce((Y,V)=>V.apply(Y),k);$("submit",G)},q=G=>{var Y;return((Y=f==null?void 0:f.find(V=>V.id.data===G))==null?void 0:Y.data.name)??""},j=G=>({name:q(G),value:G});function K(G){H=G,n(3,H),n(6,r),n(5,i),n(16,m),n(13,v)}return l.$$set=G=>{"pokemon"in G&&n(12,k=G.pokemon),"species"in G&&n(13,v=G.species),"allSpecies"in G&&c(n(0,w=G.allSpecies)),"evolutions"in G&&_(n(1,P=G.evolutions)),"saving"in G&&n(2,z=G.saving)},l.$$.update=()=>{l.$$.dirty&4&&n(8,t=z),l.$$.dirty&73728&&n(5,i=m==null?void 0:m.evolvesTo(v.id)),l.$$.dirty&32&&n(6,r=i==null?void 0:i.map(G=>G.to.data)),l.$$.dirty&72&&n(3,H=(r==null?void 0:r.length)===1?r[0]:H),l.$$.dirty&40&&n(4,s=i==null?void 0:i.find(G=>G.to.data===H)),l.$$.dirty&32784&&n(14,o=f==null?void 0:f.find(G=>G.id.data===(s==null?void 0:s.to.data))),l.$$.dirty&28672&&n(7,a=o!=null?ro.compute(k,v,o):[])},[w,P,z,H,s,i,r,a,t,R,M,q,k,v,o,f,m,j,K]}class _o extends le{constructor(e){super(),re(this,e,po,mo,se,{pokemon:12,species:13,allSpecies:0,evolutions:1,saving:2})}}function Ui(l,e,n){const t=l.slice();t[3]=e[n];const i=t[0].find(function(...s){return l[2](t[3],...s)});return t[4]=i,t}function ji(l){let e,n;return e=new Yr({props:{value:l[4].description}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&3&&(r.value=t[4].description),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Gi(l){let e,n;return e=new Qn({props:{value:l[3].description}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.value=t[3].description),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Yi(l){let e,n="No description provided.";return{c(){e=T("p"),e.textContent=n},l(t){e=y(t,"P",{"data-svelte-h":!0}),he(e)!=="svelte-1e2y3du"&&(e.textContent=n)},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Wi(l,e){let n,t,i,r=e[3].name+"",s,o,a,f=e[3].description.trim(),u,c=e[4]==null&&!e[3].description.trim(),m,p,_=e[4]!=null&&ji(e),$=f&&Gi(e),k=c&&Yi();return{key:l,first:null,c(){n=T("li"),t=T("p"),i=T("strong"),s=B(r),o=F(),_&&_.c(),a=F(),$&&$.c(),u=F(),k&&k.c(),m=F(),this.h()},l(v){n=y(v,"LI",{class:!0});var w=L(n);t=y(w,"P",{class:!0});var P=L(t);i=y(P,"STRONG",{});var z=L(i);s=O(z,r),z.forEach(d),P.forEach(d),o=N(w),_&&_.l(w),a=N(w),$&&$.l(w),u=N(w),k&&k.l(w),m=N(w),w.forEach(d),this.h()},h(){D(t,"class","no-margin svelte-11ocs32"),D(n,"class","svelte-11ocs32"),this.first=n},m(v,w){b(v,n,w),E(n,t),E(t,i),E(i,s),E(n,o),_&&_.m(n,null),E(n,a),$&&$.m(n,null),E(n,u),k&&k.m(n,null),E(n,m),p=!0},p(v,w){e=v,(!p||w&2)&&r!==(r=e[3].name+"")&&oe(s,r),e[4]!=null?_?(_.p(e,w),w&3&&h(_,1)):(_=ji(e),_.c(),h(_,1),_.m(n,a)):_&&(ce(),g(_,1,1,()=>{_=null}),me()),w&2&&(f=e[3].description.trim()),f?$?($.p(e,w),w&2&&h($,1)):($=Gi(e),$.c(),h($,1),$.m(n,u)):$&&(ce(),g($,1,1,()=>{$=null}),me()),w&3&&(c=e[4]==null&&!e[3].description.trim()),c?k||(k=Yi(),k.c(),k.m(n,m)):k&&(k.d(1),k=null)},i(v){p||(h(_),h($),p=!0)},o(v){g(_),g($),p=!1},d(v){v&&d(n),_&&_.d(),$&&$.d(),k&&k.d()}}}function $o(l){let e,n=[],t=new Map,i,r=De(l[1]);const s=o=>o[3].id;for(let o=0;o<r.length;o+=1){let a=Ui(l,r,o),f=s(a);t.set(f,n[o]=Wi(f,a))}return{c(){e=T("ul");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=y(o,"UL",{class:!0});var a=L(e);for(let f=0;f<n.length;f+=1)n[f].l(a);a.forEach(d),this.h()},h(){D(e,"class","svelte-11ocs32")},m(o,a){b(o,e,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);i=!0},p(o,[a]){a&3&&(r=De(o[1]),ce(),n=ln(n,a,s,1,o,r,t,e,rn,Wi,null,Ui),me())},i(o){if(!i){for(let a=0;a<r.length;a+=1)h(n[a]);i=!0}},o(o){for(let a=0;a<n.length;a+=1)g(n[a]);i=!1},d(o){o&&d(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function ho(l,e,n){let{allFeats:t}=e,{values:i}=e;const r=(s,o)=>o.name===s.name;return l.$$set=s=>{"allFeats"in s&&n(0,t=s.allFeats),"values"in s&&n(1,i=s.values)},[t,i,r]}class as extends le{constructor(e){super(),re(this,e,ho,$o,se,{allFeats:0,values:1})}}function go(l){let e,n,t;function i(s){l[5](s)}let r={label:"Feat",name:"feat-name-"+l[0].id,options:l[2],disabled:l[3]};return l[0].name!==void 0&&(r.value=l[0].name),e=new ht({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&1&&(a.name="feat-name-"+s[0].id),o&4&&(a.options=s[2]),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0].name,te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function vo(l){let e,n,t;function i(s){l[4](s)}let r={label:"Feat",name:"feat-name-"+l[0].id,disabled:l[3]};return l[0].name!==void 0&&(r.value=l[0].name),e=new ut({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&1&&(a.name="feat-name-"+s[0].id),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0].name,te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function bo(l){let e,n,t,i;const r=[vo,go],s=[];function o(a,f){return a[1]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function ko(l){let e,n,t;function i(s){l[8](s)}let r={label:"Notes",name:"feat-description-"+l[0].id,placeholder:"Any additional notes",rows:3,disabled:l[3]};return l[0].description!==void 0&&(r.value=l[0].description),e=new kt({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&1&&(a.name="feat-description-"+s[0].id),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0].description,te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function wo(l){let e,n,t;function i(s){l[7](s)}let r={label:"Feat Description",name:"feat-description-"+l[0].id,placeholder:"Provide a custom description",rows:6,disabled:l[3]};return l[0].description!==void 0&&(r.value=l[0].description),e=new kt({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&1&&(a.name="feat-description-"+s[0].id),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0].description,te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Eo(l){let e,n,t,i,r,s,o,a;n=new Cn({props:{$$slots:{default:[bo]},$$scope:{ctx:l}}}),n.$on("remove",l[6]);const f=[wo,ko],u=[];function c(m,p){return m[1]?0:1}return i=c(l),r=u[i]=f[i](l),o=new ns({}),{c(){e=T("div"),I(n.$$.fragment),t=F(),r.c(),s=F(),I(o.$$.fragment),this.h()},l(m){e=y(m,"DIV",{class:!0});var p=L(e);A(n.$$.fragment,p),t=N(p),r.l(p),s=N(p),A(o.$$.fragment,p),p.forEach(d),this.h()},h(){D(e,"class","feat-editor svelte-1dezyrp")},m(m,p){b(m,e,p),C(n,e,null),E(e,t),u[i].m(e,null),E(e,s),C(o,e,null),a=!0},p(m,[p]){const _={};p&527&&(_.$$scope={dirty:p,ctx:m}),n.$set(_);let $=i;i=c(m),i===$?u[i].p(m,p):(ce(),g(u[$],1,1,()=>{u[$]=null}),me(),r=u[i],r?r.p(m,p):(r=u[i]=f[i](m),r.c()),h(r,1),r.m(e,s))},i(m){a||(h(n.$$.fragment,m),h(r),h(o.$$.fragment,m),a=!0)},o(m){g(n.$$.fragment,m),g(r),g(o.$$.fragment,m),a=!1},d(m){m&&d(e),S(n),u[i].d(),S(o)}}}function So(l,e,n){let{value:t}=e,{custom:i=!1}=e,{options:r}=e,{disabled:s=!1}=e;function o(m){l.$$.not_equal(t.name,m)&&(t.name=m,n(0,t))}function a(m){l.$$.not_equal(t.name,m)&&(t.name=m,n(0,t))}function f(m){hn.call(this,l,m)}function u(m){l.$$.not_equal(t.description,m)&&(t.description=m,n(0,t))}function c(m){l.$$.not_equal(t.description,m)&&(t.description=m,n(0,t))}return l.$$set=m=>{"value"in m&&n(0,t=m.value),"custom"in m&&n(1,i=m.custom),"options"in m&&n(2,r=m.options),"disabled"in m&&n(3,s=m.disabled)},[t,i,r,s,o,a,f,u,c]}class Co extends le{constructor(e){super(),re(this,e,So,Eo,se,{value:0,custom:1,options:2,disabled:3})}}function Qi(l,e,n){const t=l.slice();return t[9]=e[n],t}function Zi(l){let e,n;return e=new Co({props:{value:l[9],options:Ji(l[2],l[9]),disabled:l[1],custom:l[9].isCustom}}),e.$on("remove",function(){Ot(l[3](l[9].id))&&l[3](l[9].id).apply(this,arguments)}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){l=t;const r={};i&1&&(r.value=l[9]),i&5&&(r.options=Ji(l[2],l[9])),i&2&&(r.disabled=l[1]),i&1&&(r.custom=l[9].isCustom),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Io(l){let e;return{c(){e=B("Add Feat")},l(n){e=O(n,"Add Feat")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Ao(l){let e;return{c(){e=B("Add Custom Feat")},l(n){e=O(n,"Add Custom Feat")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function yo(l){let e,n,t,i,r,s,o=De(l[0]),a=[];for(let u=0;u<o.length;u+=1)a[u]=Zi(Qi(l,o,u));const f=u=>g(a[u],1,1,()=>{a[u]=null});return t=new Pe({props:{$$slots:{default:[Io]},$$scope:{ctx:l}}}),t.$on("click",l[4]),r=new Pe({props:{$$slots:{default:[Ao]},$$scope:{ctx:l}}}),r.$on("click",l[5]),{c(){for(let u=0;u<a.length;u+=1)a[u].c();e=F(),n=T("div"),I(t.$$.fragment),i=F(),I(r.$$.fragment),this.h()},l(u){for(let m=0;m<a.length;m+=1)a[m].l(u);e=N(u),n=y(u,"DIV",{class:!0});var c=L(n);A(t.$$.fragment,c),i=N(c),A(r.$$.fragment,c),c.forEach(d),this.h()},h(){D(n,"class","row svelte-d7pdnl")},m(u,c){for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(u,c);b(u,e,c),b(u,n,c),C(t,n,null),E(n,i),C(r,n,null),s=!0},p(u,c){if(c&15){o=De(u[0]);let _;for(_=0;_<o.length;_+=1){const $=Qi(u,o,_);a[_]?(a[_].p($,c),h(a[_],1)):(a[_]=Zi($),a[_].c(),h(a[_],1),a[_].m(e.parentNode,e))}for(ce(),_=o.length;_<a.length;_+=1)f(_);me()}const m={};c&4096&&(m.$$scope={dirty:c,ctx:u}),t.$set(m);const p={};c&4096&&(p.$$scope={dirty:c,ctx:u}),r.$set(p)},i(u){if(!s){for(let c=0;c<o.length;c+=1)h(a[c]);h(t.$$.fragment,u),h(r.$$.fragment,u),s=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)g(a[c]);g(t.$$.fragment,u),g(r.$$.fragment,u),s=!1},d(u){u&&(d(e),d(n)),nt(a,u),S(t),S(r)}}}function To(l){let e,n;return e=new Ze({props:{title:"Feats",$$slots:{default:[yo]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&4103&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ji(l,e){return l.filter(n=>!n.disabled||e.name===n.name)}function Po(l,e,n){let t,{values:i}=e,{disabled:r}=e,{feats:s}=e,o=-1001;const a=()=>(--o).toString(),f=m=>()=>{n(0,i=i.filter(p=>p.id!==m))},u=()=>{const m=a();n(0,i=[...i,{id:m,name:s[0].name,description:"",isCustom:!1}]),Jt(`feat-name-${m}`)},c=()=>{const m=a();n(0,i=[...i,{id:m,name:"",description:"",isCustom:!0}]),Jt(`feat-name-${m}`)};return l.$$set=m=>{"values"in m&&n(0,i=m.values),"disabled"in m&&n(1,r=m.disabled),"feats"in m&&n(6,s=m.feats)},l.$$.update=()=>{l.$$.dirty&64&&n(2,t=s.map(m=>({name:m.name,value:m.name,placeholder:m.description,disabled:m.removed??!1})))},[i,r,t,f,u,c,s]}class os extends le{constructor(e){super(),re(this,e,Po,To,se,{values:0,disabled:1,feats:6})}}function Xi(l,e,n){const t=l.slice();return t[4]=e[n],t[5]=e,t[6]=n,t}function xi(l){let e,n,t,i,r;function s(a){l[3](a,l[4])}let o={max:5,label:l[4].name+" ("+l[4].type+")",name:"specialization-"+l[4].type,disabled:l[1]};return l[0][l[4].type]!==void 0&&(o.value=l[0][l[4].type]),e=new ts({props:o}),x.push(()=>ee(e,"value",s)),{c(){n=T("div"),I(e.$$.fragment),this.h()},l(a){n=y(a,"DIV",{style:!0});var f=L(n);A(e.$$.fragment,f),this.h()},h(){we(n,"display","contents"),we(n,"--skin-local-bg",i="var(--skin-"+l[4].type+"-bg)")},m(a,f){b(a,n,f),C(e,n,null),r=!0},p(a,f){l=a,f&4&&i!==(i="var(--skin-"+l[4].type+"-bg)")&&we(n,"--skin-local-bg",i);const u={};f&4&&(u.label=l[4].name+" ("+l[4].type+")"),f&4&&(u.name="specialization-"+l[4].type),f&2&&(u.disabled=l[1]),!t&&f&5&&(t=!0,u.value=l[0][l[4].type],te(()=>t=!1)),e.$set(u)},i(a){r||(h(e.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),r=!1},d(a){a&&e&&d(n),S(e,a)}}}function Do(l){let e,n,t=De(Object.values(l[2])),i=[];for(let s=0;s<t.length;s+=1)i[s]=xi(Xi(l,t,s));const r=s=>g(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=J()},l(s){for(let o=0;o<i.length;o+=1)i[o].l(s);e=J()},m(s,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,o);b(s,e,o),n=!0},p(s,o){if(o&7){t=De(Object.values(s[2]));let a;for(a=0;a<t.length;a+=1){const f=Xi(s,t,a);i[a]?(i[a].p(f,o),h(i[a],1)):(i[a]=xi(f),i[a].c(),h(i[a],1),i[a].m(e.parentNode,e))}for(ce(),a=t.length;a<i.length;a+=1)r(a);me()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)h(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)g(i[o]);n=!1},d(s){s&&d(e),nt(i,s)}}}function No(l){let e,n;return e=new Ze({props:{title:"Specializations",columns:2,columnsLg:3,$$slots:{default:[Do]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&135&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Fo(l,e,n){let t;Ve(l,Ur,o=>n(2,t=o));let{values:i}=e,{disabled:r=!1}=e;function s(o,a){l.$$.not_equal(i[a.type],o)&&(i[a.type]=o,n(0,i))}return l.$$set=o=>{"values"in o&&n(0,i=o.values),"disabled"in o&&n(1,r=o.disabled)},[i,r,t,s]}class Ho extends le{constructor(e){super(),re(this,e,Fo,No,se,{values:0,disabled:1})}}const It=[2,5,9,15];function zo(l){return jr.map(e=>e.name).includes(l)}function Lo(){return{name:"",resource:0,customFeatures:{level2:{description:""},level5:{name:"",description:""},level9:{name:"",description:""},level15:{name:"",description:""}}}}function el(l){let e,n,t;function i(s){l[4](s)}let r={label:"Level "+l[2]+" Feature Name",disabled:l[3]};return l[0]!==void 0&&(r.value=l[0]),e=new ut({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.label="Level "+s[2]+" Feature Name"),o&8&&(a.disabled=s[3]),!n&&o&1&&(n=!0,a.value=s[0],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ro(l){let e,n,t,i,r=l[0]!=null&&el(l);function s(a){l[5](a)}let o={label:"Level "+l[2]+" Feature Description",disabled:l[3]};return l[1]!==void 0&&(o.value=l[1]),n=new kt({props:o}),x.push(()=>ee(n,"value",s)),{c(){r&&r.c(),e=F(),I(n.$$.fragment)},l(a){r&&r.l(a),e=N(a),A(n.$$.fragment,a)},m(a,f){r&&r.m(a,f),b(a,e,f),C(n,a,f),i=!0},p(a,[f]){a[0]!=null?r?(r.p(a,f),f&1&&h(r,1)):(r=el(a),r.c(),h(r,1),r.m(e.parentNode,e)):r&&(ce(),g(r,1,1,()=>{r=null}),me());const u={};f&4&&(u.label="Level "+a[2]+" Feature Description"),f&8&&(u.disabled=a[3]),!t&&f&2&&(t=!0,u.value=a[1],te(()=>t=!1)),n.$set(u)},i(a){i||(h(r),h(n.$$.fragment,a),i=!0)},o(a){g(r),g(n.$$.fragment,a),i=!1},d(a){a&&d(e),r&&r.d(a),S(n,a)}}}function Mo(l,e,n){let{level:t}=e,{name:i=void 0}=e,{description:r}=e,{disabled:s=!1}=e;function o(f){i=f,n(0,i)}function a(f){r=f,n(1,r)}return l.$$set=f=>{"level"in f&&n(2,t=f.level),"name"in f&&n(0,i=f.name),"description"in f&&n(1,r=f.description),"disabled"in f&&n(3,s=f.disabled)},[i,r,t,s,o,a]}class un extends le{constructor(e){super(),re(this,e,Mo,Ro,se,{level:2,name:0,description:1,disabled:3})}}function tl(l){let e,n,t,i,r,s,o,a,f,u,c,m,p,_,$,k,v;function w(V){l[7](V)}let P={level:"2",disabled:l[1]};l[0].customFeatures.level2.description!==void 0&&(P.description=l[0].customFeatures.level2.description),t=new un({props:P}),x.push(()=>ee(t,"description",w));function z(V){l[8](V)}function H(V){l[9](V)}let R={level:"5",disabled:l[1]};l[0].customFeatures.level5.name!==void 0&&(R.name=l[0].customFeatures.level5.name),l[0].customFeatures.level5.description!==void 0&&(R.description=l[0].customFeatures.level5.description),s=new un({props:R}),x.push(()=>ee(s,"name",z)),x.push(()=>ee(s,"description",H));function M(V){l[10](V)}function q(V){l[11](V)}let j={level:"9",disabled:l[1]};l[0].customFeatures.level9.name!==void 0&&(j.name=l[0].customFeatures.level9.name),l[0].customFeatures.level9.description!==void 0&&(j.description=l[0].customFeatures.level9.description),u=new un({props:j}),x.push(()=>ee(u,"name",M)),x.push(()=>ee(u,"description",q));function K(V){l[12](V)}function G(V){l[13](V)}let Y={level:"15",disabled:l[1]};return l[0].customFeatures.level15.name!==void 0&&(Y.name=l[0].customFeatures.level15.name),l[0].customFeatures.level15.description!==void 0&&(Y.description=l[0].customFeatures.level15.description),_=new un({props:Y}),x.push(()=>ee(_,"name",K)),x.push(()=>ee(_,"description",G)),{c(){e=T("hr"),n=F(),I(t.$$.fragment),r=F(),I(s.$$.fragment),f=F(),I(u.$$.fragment),p=F(),I(_.$$.fragment)},l(V){e=y(V,"HR",{}),n=N(V),A(t.$$.fragment,V),r=N(V),A(s.$$.fragment,V),f=N(V),A(u.$$.fragment,V),p=N(V),A(_.$$.fragment,V)},m(V,Q){b(V,e,Q),b(V,n,Q),C(t,V,Q),b(V,r,Q),C(s,V,Q),b(V,f,Q),C(u,V,Q),b(V,p,Q),C(_,V,Q),v=!0},p(V,Q){const ie={};Q&2&&(ie.disabled=V[1]),!i&&Q&1&&(i=!0,ie.description=V[0].customFeatures.level2.description,te(()=>i=!1)),t.$set(ie);const _e={};Q&2&&(_e.disabled=V[1]),!o&&Q&1&&(o=!0,_e.name=V[0].customFeatures.level5.name,te(()=>o=!1)),!a&&Q&1&&(a=!0,_e.description=V[0].customFeatures.level5.description,te(()=>a=!1)),s.$set(_e);const ue={};Q&2&&(ue.disabled=V[1]),!c&&Q&1&&(c=!0,ue.name=V[0].customFeatures.level9.name,te(()=>c=!1)),!m&&Q&1&&(m=!0,ue.description=V[0].customFeatures.level9.description,te(()=>m=!1)),u.$set(ue);const ae={};Q&2&&(ae.disabled=V[1]),!$&&Q&1&&($=!0,ae.name=V[0].customFeatures.level15.name,te(()=>$=!1)),!k&&Q&1&&(k=!0,ae.description=V[0].customFeatures.level15.description,te(()=>k=!1)),_.$set(ae)},i(V){v||(h(t.$$.fragment,V),h(s.$$.fragment,V),h(u.$$.fragment,V),h(_.$$.fragment,V),v=!0)},o(V){g(t.$$.fragment,V),g(s.$$.fragment,V),g(u.$$.fragment,V),g(_.$$.fragment,V),v=!1},d(V){V&&(d(e),d(n),d(r),d(f),d(p)),S(t,V),S(s,V),S(u,V),S(_,V)}}}function Vo(l){let e,n,t,i,r,s;function o(c){l[5](c)}function a(c){l[6](c)}let f={label:"Path Name",options:l[4],disabled:l[1]};l[2]!==void 0&&(f.value=l[2]),l[3]!==void 0&&(f.other=l[3]),e=new ht({props:f}),x.push(()=>ee(e,"value",o)),x.push(()=>ee(e,"other",a));let u=l[2]===gn&&tl(l);return{c(){I(e.$$.fragment),i=F(),u&&u.c(),r=J()},l(c){A(e.$$.fragment,c),i=N(c),u&&u.l(c),r=J()},m(c,m){C(e,c,m),b(c,i,m),u&&u.m(c,m),b(c,r,m),s=!0},p(c,m){const p={};m&2&&(p.disabled=c[1]),!n&&m&4&&(n=!0,p.value=c[2],te(()=>n=!1)),!t&&m&8&&(t=!0,p.other=c[3],te(()=>t=!1)),e.$set(p),c[2]===gn?u?(u.p(c,m),m&4&&h(u,1)):(u=tl(c),u.c(),h(u,1),u.m(r.parentNode,r)):u&&(ce(),g(u,1,1,()=>{u=null}),me())},i(c){s||(h(e.$$.fragment,c),h(u),s=!0)},o(c){g(e.$$.fragment,c),g(u),s=!1},d(c){c&&(d(i),d(r)),S(e,c),u&&u.d(c)}}}function Oo(l){let e,n;return e=new Ze({props:{title:"Trainer Path",$$slots:{default:[Vo]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&16399&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Bo(l,e,n){let{value:t}=e,{disabled:i=!1}=e,r=t.name===""||zo(t.name)?t.name:gn,s=t.name;const o=[{name:"— None —",value:""}].concat(jr.map(v=>({name:v.name,value:v.name})));function a(v){r=v,n(2,r)}function f(v){s=v,n(3,s)}function u(v){l.$$.not_equal(t.customFeatures.level2.description,v)&&(t.customFeatures.level2.description=v,n(0,t),n(2,r),n(3,s))}function c(v){l.$$.not_equal(t.customFeatures.level5.name,v)&&(t.customFeatures.level5.name=v,n(0,t),n(2,r),n(3,s))}function m(v){l.$$.not_equal(t.customFeatures.level5.description,v)&&(t.customFeatures.level5.description=v,n(0,t),n(2,r),n(3,s))}function p(v){l.$$.not_equal(t.customFeatures.level9.name,v)&&(t.customFeatures.level9.name=v,n(0,t),n(2,r),n(3,s))}function _(v){l.$$.not_equal(t.customFeatures.level9.description,v)&&(t.customFeatures.level9.description=v,n(0,t),n(2,r),n(3,s))}function $(v){l.$$.not_equal(t.customFeatures.level15.name,v)&&(t.customFeatures.level15.name=v,n(0,t),n(2,r),n(3,s))}function k(v){l.$$.not_equal(t.customFeatures.level15.description,v)&&(t.customFeatures.level15.description=v,n(0,t),n(2,r),n(3,s))}return l.$$set=v=>{"value"in v&&n(0,t=v.value),"disabled"in v&&n(1,i=v.disabled)},l.$$.update=()=>{l.$$.dirty&12&&(r===gn?n(0,t.name=s,t):n(0,t.name=r,t))},[t,i,r,s,o,a,f,u,c,m,p,_,$,k]}class qo extends le{constructor(e){super(),re(this,e,Bo,Oo,se,{value:0,disabled:1})}}function nl(l){var i;let e,n=(((i=l[0])==null?void 0:i.features[l[3]].name)??l[1].customFeatures[l[3]].name)+"",t;return{c(){e=T("h3"),t=B(n)},l(r){e=y(r,"H3",{});var s=L(e);t=O(s,n),s.forEach(d)},m(r,s){b(r,e,s),E(e,t)},p(r,s){var o;s&11&&n!==(n=(((o=r[0])==null?void 0:o.features[r[3]].name)??r[1].customFeatures[r[3]].name)+"")&&oe(t,n)},d(r){r&&d(e)}}}function Ko(l){let e,n;return e=new Qn({props:{value:l[1].customFeatures[l[3]].description}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&10&&(r.value=t[1].customFeatures[t[3]].description),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Uo(l){let e,n=vi(l[0].features[l[3]].description)+"",t;return{c(){e=new Kn(!1),t=J(),this.h()},l(i){e=qn(i,!1),t=J(),this.h()},h(){e.a=t},m(i,r){e.m(n,i,r),b(i,t,r)},p(i,r){r&9&&n!==(n=vi(i[0].features[i[3]].description)+"")&&e.p(n)},i:Z,o:Z,d(i){i&&(d(t),e.d())}}}function jo(l){let e,n,t,i,r,s=l[2]!==It[0]&&nl(l);const o=[Uo,Ko],a=[];function f(u,c){return u[0]!=null?0:1}return t=f(l),i=a[t]=o[t](l),{c(){s&&s.c(),e=F(),n=T("div"),i.c(),this.h()},l(u){s&&s.l(u),e=N(u),n=y(u,"DIV",{class:!0});var c=L(n);i.l(c),c.forEach(d),this.h()},h(){D(n,"class","smaller svelte-t9ks1a")},m(u,c){s&&s.m(u,c),b(u,e,c),b(u,n,c),a[t].m(n,null),r=!0},p(u,[c]){u[2]!==It[0]?s?s.p(u,c):(s=nl(u),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);let m=t;t=f(u),t===m?a[t].p(u,c):(ce(),g(a[m],1,1,()=>{a[m]=null}),me(),i=a[t],i?i.p(u,c):(i=a[t]=o[t](u),i.c()),h(i,1),i.m(n,null))},i(u){r||(h(i),r=!0)},o(u){g(i),r=!1},d(u){u&&(d(e),d(n)),s&&s.d(u),a[t].d()}}}function Go(l,e,n){let t,{standardPath:i}=e,{customPath:r}=e,{level:s}=e;return l.$$set=o=>{"standardPath"in o&&n(0,i=o.standardPath),"customPath"in o&&n(1,r=o.customPath),"level"in o&&n(2,s=o.level)},l.$$.update=()=>{l.$$.dirty&4&&n(3,t=`level${s}`)},[i,r,s,t]}class Yo extends le{constructor(e){super(),re(this,e,Go,jo,se,{standardPath:0,customPath:1,level:2})}}function il(l,e,n){const t=l.slice();return t[9]=e[n],t}function ll(l){let e,n,t,i=l[0].name+"",r,s,o,a,f,u=l[2].data<It[0]&&rl(),c=l[4]!=null&&l[2].data>=l[4].acquiredAtLevel&&sl(l),m=De(It),p=[];for(let $=0;$<m.length;$+=1)p[$]=ol(il(l,m,$));const _=$=>g(p[$],1,1,()=>{p[$]=null});return{c(){e=T("section"),n=T("h2"),t=B("Path: "),r=B(i),s=F(),u&&u.c(),o=F(),c&&c.c(),a=F();for(let $=0;$<p.length;$+=1)p[$].c()},l($){e=y($,"SECTION",{});var k=L(e);n=y(k,"H2",{});var v=L(n);t=O(v,"Path: "),r=O(v,i),v.forEach(d),s=N(k),u&&u.l(k),o=N(k),c&&c.l(k),a=N(k);for(let w=0;w<p.length;w+=1)p[w].l(k);k.forEach(d)},m($,k){b($,e,k),E(e,n),E(n,t),E(n,r),E(e,s),u&&u.m(e,null),E(e,o),c&&c.m(e,null),E(e,a);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(e,null);f=!0},p($,k){if((!f||k&1)&&i!==(i=$[0].name+"")&&oe(r,i),$[2].data<It[0]?u||(u=rl(),u.c(),u.m(e,o)):u&&(u.d(1),u=null),$[4]!=null&&$[2].data>=$[4].acquiredAtLevel?c?(c.p($,k),k&20&&h(c,1)):(c=sl($),c.c(),h(c,1),c.m(e,a)):c&&(ce(),g(c,1,1,()=>{c=null}),me()),k&13){m=De(It);let v;for(v=0;v<m.length;v+=1){const w=il($,m,v);p[v]?(p[v].p(w,k),h(p[v],1)):(p[v]=ol(w),p[v].c(),h(p[v],1),p[v].m(e,null))}for(ce(),v=m.length;v<p.length;v+=1)_(v);me()}},i($){if(!f){h(c);for(let k=0;k<m.length;k+=1)h(p[k]);f=!0}},o($){g(c),p=p.filter(Boolean);for(let k=0;k<p.length;k+=1)g(p[k]);f=!1},d($){$&&d(e),u&&u.d(),c&&c.d(),nt(p,$)}}}function rl(l){let e,n,t=It[0]+"",i,r;return{c(){e=T("p"),n=B("You gain access to your first trainer path feature at level "),i=B(t),r=B(".")},l(s){e=y(s,"P",{});var o=L(e);n=O(o,"You gain access to your first trainer path feature at level "),i=O(o,t),r=O(o,"."),o.forEach(d)},m(s,o){b(s,e,o),E(e,n),E(e,i),E(e,r)},d(s){s&&d(e)}}}function sl(l){let e,n,t,i;const r=[Qo,Wo],s=[];function o(a,f){return a[1]?0:1}return n=o(l),t=s[n]=r[n](l),{c(){e=T("p"),t.c(),this.h()},l(a){e=y(a,"P",{class:!0});var f=L(e);t.l(f),f.forEach(d),this.h()},h(){D(e,"class","row svelte-1o95qc1")},m(a,f){b(a,e,f),s[n].m(e,null),i=!0},p(a,f){let u=n;n=o(a),n===u?s[n].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),t=s[n],t?t.p(a,f):(t=s[n]=r[n](a),t.c()),h(t,1),t.m(e,null))},i(a){i||(h(t),i=!0)},o(a){g(t),i=!1},d(a){a&&d(e),s[n].d()}}}function Wo(l){let e,n=l[4].name+"",t,i,r,s,o=l[0].resource+"",a;return{c(){e=T("strong"),t=B(n),i=B(":"),r=F(),s=T("span"),a=B(o),this.h()},l(f){e=y(f,"STRONG",{});var u=L(e);t=O(u,n),i=O(u,":"),u.forEach(d),r=N(f),s=y(f,"SPAN",{});var c=L(s);a=O(c,o),c.forEach(d),this.h()},h(){we(s,"flex","1")},m(f,u){b(f,e,u),E(e,t),E(e,i),b(f,r,u),b(f,s,u),E(s,a)},p(f,u){u&16&&n!==(n=f[4].name+"")&&oe(t,n),u&1&&o!==(o=f[0].resource+"")&&oe(a,o)},i:Z,o:Z,d(f){f&&(d(e),d(r),d(s))}}}function Qo(l){let e,n=l[4].name+"",t,i,r,s,o,a;return o=new Et({props:{id:"trainer-path-resource",value:l[0].resource}}),o.$on("change",l[5]),{c(){e=T("label"),t=B(n),i=B(":"),r=F(),s=T("span"),I(o.$$.fragment),this.h()},l(f){e=y(f,"LABEL",{for:!0,class:!0});var u=L(e);t=O(u,n),i=O(u,":"),u.forEach(d),r=N(f),s=y(f,"SPAN",{});var c=L(s);A(o.$$.fragment,c),c.forEach(d),this.h()},h(){D(e,"for","trainer-path-resource"),D(e,"class","svelte-1o95qc1"),we(s,"flex","1")},m(f,u){b(f,e,u),E(e,t),E(e,i),b(f,r,u),b(f,s,u),C(o,s,null),a=!0},p(f,u){(!a||u&16)&&n!==(n=f[4].name+"")&&oe(t,n);const c={};u&1&&(c.value=f[0].resource),o.$set(c)},i(f){a||(h(o.$$.fragment,f),a=!0)},o(f){g(o.$$.fragment,f),a=!1},d(f){f&&(d(e),d(r),d(s)),S(o)}}}function al(l){let e,n;return e=new Yo({props:{standardPath:l[3],customPath:l[0],level:l[9]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.standardPath=t[3]),i&1&&(r.customPath=t[0]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ol(l){let e,n,t=l[2].data>=l[9]&&al(l);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,r){i[2].data>=i[9]?t?(t.p(i,r),r&4&&h(t,1)):(t=al(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Zo(l){let e,n,t=l[0].name!==""&&ll(l);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,[r]){i[0].name!==""?t?(t.p(i,r),r&1&&h(t,1)):(t=ll(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Jo(l,e,n){let t,i,r,s;Ve(l,qt,m=>n(7,s=m));const o=tt();let{value:a}=e,{editable:f}=e,{level:u}=e;const c=m=>{o("update",{resource:m.detail.value})};return l.$$set=m=>{"value"in m&&n(0,a=m.value),"editable"in m&&n(1,f=m.editable),"level"in m&&n(2,u=m.level)},l.$$.update=()=>{l.$$.dirty&128&&n(6,t=Gr[s]),l.$$.dirty&65&&n(3,i=t.find(m=>m.name===a.name)),l.$$.dirty&8&&n(4,r=i==null?void 0:i.resource)},[a,f,u,i,r,c,t,s]}class Xo extends le{constructor(e){super(),re(this,e,Jo,Zo,se,{value:0,editable:1,level:2})}}function fl(l,e,n){const t=l.slice();return t[6]=e[n],t}function xo(l){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function ef(l){let e;return{c(){e=B("Add Status")},l(n){e=O(n,"Add Status")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function tf(l){let e;return{c(){e=B("Edit Status")},l(n){e=O(n,"Edit Status")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function ul(l){let e,n=l[6].name+"",t;return{c(){e=T("option"),t=B(n),this.h()},l(i){e=y(i,"OPTION",{});var r=L(e);t=O(r,n),r.forEach(d),this.h()},h(){e.__value=l[6].id,$n(e,e.__value)},m(i,r){b(i,e,r),E(e,t)},p:Z,d(i){i&&d(e)}}}function nf(l){let e,n,t,i,r,s,o,a,f="None",u,c,m;function p(w,P){return w[0]==null?ef:xo}let _=p(l),$=_(l);r=new Vt({props:{$$slots:{default:[tf]},$$scope:{ctx:l}}});let k=De(l[2]),v=[];for(let w=0;w<k.length;w+=1)v[w]=ul(fl(l,k,w));return{c(){e=T("div"),n=T("label"),t=T("span"),$.c(),i=F(),I(r.$$.fragment),s=F(),o=T("select"),a=T("option"),a.textContent=f;for(let w=0;w<v.length;w+=1)v[w].c();this.h()},l(w){e=y(w,"DIV",{class:!0});var P=L(e);n=y(P,"LABEL",{for:!0,class:!0});var z=L(n);t=y(z,"SPAN",{"aria-hidden":!0});var H=L(t);$.l(H),H.forEach(d),i=N(z),A(r.$$.fragment,z),z.forEach(d),s=N(P),o=y(P,"SELECT",{id:!0,class:!0});var R=L(o);a=y(R,"OPTION",{"data-svelte-h":!0}),he(a)!=="svelte-89u4a7"&&(a.textContent=f);for(let M=0;M<v.length;M+=1)v[M].l(R);R.forEach(d),P.forEach(d),this.h()},h(){D(t,"aria-hidden","true"),D(n,"for",l[1]),D(n,"class","smaller interactive svelte-lpgedz"),Ue(n,"invert",l[0]==null),a.__value=null,$n(a,a.__value),D(o,"id",l[1]),D(o,"class","overlay svelte-lpgedz"),D(e,"class","overlapping interactive-container svelte-lpgedz")},m(w,P){b(w,e,P),E(e,n),E(n,t),$.m(t,null),E(n,i),C(r,n,null),E(e,s),E(e,o),E(o,a);for(let z=0;z<v.length;z+=1)v[z]&&v[z].m(o,null);ci(o,l[0]),u=!0,c||(m=[ft(o,"change",l[3]),ft(o,"keyup",l[4])],c=!0)},p(w,[P]){_!==(_=p(w))&&($.d(1),$=_(w),$&&($.c(),$.m(t,null)));const z={};if(P&512&&(z.$$scope={dirty:P,ctx:w}),r.$set(z),(!u||P&2)&&D(n,"for",w[1]),(!u||P&1)&&Ue(n,"invert",w[0]==null),P&4){k=De(w[2]);let H;for(H=0;H<k.length;H+=1){const R=fl(w,k,H);v[H]?v[H].p(R,P):(v[H]=ul(R),v[H].c(),v[H].m(o,null))}for(;H<v.length;H+=1)v[H].d(1);v.length=k.length}(!u||P&2)&&D(o,"id",w[1]),(!u||P&5)&&ci(o,w[0])},i(w){u||(h(r.$$.fragment,w),u=!0)},o(w){g(r.$$.fragment,w),u=!1},d(w){w&&d(e),$.d(),S(r),nt(v,w),c=!1,Bn(m)}}}function lf(l,e,n){const t=tt(),i=Object.values(Ks);let{id:r}=e,{value:s}=e;const o=f=>{const u=f.target;n(0,s=u.value?u.value:null),t("change",{value:s})},a=f=>{if(f.key==="Enter"){const u=f.target;"showPicker"in HTMLSelectElement.prototype&&u.showPicker()}};return l.$$set=f=>{"id"in f&&n(1,r=f.id),"value"in f&&n(0,s=f.value)},[s,r,i,o,a]}class rf extends le{constructor(e){super(),re(this,e,lf,nf,se,{id:1,value:0})}}function sf(l){let e,n="HP";return{c(){e=T("label"),e.textContent=n,this.h()},l(t){e=y(t,"LABEL",{for:!0,"data-svelte-h":!0}),he(e)!=="svelte-nr4t2i"&&(e.textContent=n),this.h()},h(){D(e,"for","current-hp")},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function af(l){let e=l[0].current+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=t[0].current+"")&&oe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function of(l){let e,n;return e=new Et({props:{id:"current-hp",value:l[11]}}),e.$on("change",l[13]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2048&&(r.value=t[11]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ff(l){let e,n="Hit Dice";return{c(){e=T("label"),e.textContent=n,this.h()},l(t){e=y(t,"LABEL",{for:!0,"data-svelte-h":!0}),he(e)!=="svelte-1l1lthl"&&(e.textContent=n),this.h()},h(){D(e,"for","current-hit-dice")},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function uf(l){let e=l[1].current+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&2&&e!==(e=t[1].current+"")&&oe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function cf(l){let e,n;return e=new Et({props:{id:"current-hit-dice",value:l[10]}}),e.$on("change",l[14]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&1024&&(r.value=t[10]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function cl(l){let e,n,t,i,r,s,o,a,f,u,c,m,p="Exp:",_,$,k,v,w,P=l[4]!=null&&ml(l),z=l[6]&&dl(l);o=new wn({props:{variant:"tertiary",current:l[9],max:l[8]}}),u=new Br({props:{id:"exp-remaining",$$slots:{activator:[df],default:[mf]},$$scope:{ctx:l}}});const H=[_f,pf],R=[];function M(q,j){return q[6]?0:1}return k=M(l),v=R[k]=H[k](l),{c(){e=T("span"),n=T("span"),P&&P.c(),t=F(),z&&z.c(),i=F(),r=T("span"),s=T("span"),I(o.$$.fragment),a=F(),f=T("span"),I(u.$$.fragment),c=F(),m=T("label"),m.textContent=p,_=F(),$=T("span"),v.c(),this.h()},l(q){e=y(q,"SPAN",{});var j=L(e);n=y(j,"SPAN",{class:!0});var K=L(n);P&&P.l(K),t=N(K),z&&z.l(K),K.forEach(d),j.forEach(d),i=N(q),r=y(q,"SPAN",{class:!0});var G=L(r);s=y(G,"SPAN",{class:!0});var Y=L(s);A(o.$$.fragment,Y),Y.forEach(d),a=N(G),f=y(G,"SPAN",{class:!0});var V=L(f);A(u.$$.fragment,V),c=N(V),m=y(V,"LABEL",{for:!0,"data-svelte-h":!0}),he(m)!=="svelte-sbvefl"&&(m.textContent=p),_=N(V),$=y(V,"SPAN",{class:!0});var Q=L($);v.l(Q),Q.forEach(d),V.forEach(d),G.forEach(d),this.h()},h(){D(n,"class","row svelte-15fcv4v"),D(s,"class","exp-bar svelte-15fcv4v"),D(m,"for","current-experience"),D($,"class","current-exp svelte-15fcv4v"),D(f,"class","exp-text svelte-15fcv4v"),D(r,"class","exp svelte-15fcv4v")},m(q,j){b(q,e,j),E(e,n),P&&P.m(n,null),E(n,t),z&&z.m(n,null),b(q,i,j),b(q,r,j),E(r,s),C(o,s,null),E(r,a),E(r,f),C(u,f,null),E(f,c),E(f,m),E(f,_),E(f,$),R[k].m($,null),w=!0},p(q,j){q[4]!=null?P?(P.p(q,j),j&16&&h(P,1)):(P=ml(q),P.c(),h(P,1),P.m(n,t)):P&&(ce(),g(P,1,1,()=>{P=null}),me()),q[6]?z?(z.p(q,j),j&64&&h(z,1)):(z=dl(q),z.c(),h(z,1),z.m(n,null)):z&&(ce(),g(z,1,1,()=>{z=null}),me());const K={};j&512&&(K.current=q[9]),j&256&&(K.max=q[8]),o.$set(K);const G={};j&524416&&(G.$$scope={dirty:j,ctx:q}),u.$set(G);let Y=k;k=M(q),k===Y?R[k].p(q,j):(ce(),g(R[Y],1,1,()=>{R[Y]=null}),me(),v=R[k],v?v.p(q,j):(v=R[k]=H[k](q),v.c()),h(v,1),v.m($,null))},i(q){w||(h(P),h(z),h(o.$$.fragment,q),h(u.$$.fragment,q),h(v),w=!0)},o(q){g(P),g(z),g(o.$$.fragment,q),g(u.$$.fragment,q),g(v),w=!1},d(q){q&&(d(e),d(i),d(r)),P&&P.d(),z&&z.d(),S(o),S(u),R[k].d()}}}function ml(l){let e,n;return e=new qr({props:{value:l[4]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.value=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function dl(l){let e,n;return e=new rf({props:{id:"current-status",value:l[12]}}),e.$on("change",l[15]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4096&&(r.value=t[12]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function mf(l){let e,n=bn(l[7])+"",t,i;return{c(){e=T("p"),t=B(n),i=B(" needed until level up."),this.h()},l(r){e=y(r,"P",{});var s=L(e);t=O(s,n),i=O(s," needed until level up."),s.forEach(d),this.h()},h(){we(e,"text-align","center")},m(r,s){b(r,e,s),E(e,t),E(e,i)},p(r,s){s&128&&n!==(n=bn(r[7])+"")&&oe(t,n)},d(r){r&&d(e)}}}function df(l){let e,n;return e=new qs({props:{slot:"activator",label:"Exp Needed"}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function pf(l){let e=bn(l[3])+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&8&&e!==(e=bn(t[3])+"")&&oe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function _f(l){let e,n;return e=new Et({props:{id:"current-experience",value:l[3]}}),e.$on("change",l[16]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.value=t[3]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function $f(l){let e,n,t,i,r,s,o,a,f,u,c,m,p,_=l[0].max+"",$,k,v,w,P,z,H,R,M,q,j,K,G,Y,V,Q=l[1].max+"",ie,_e,ue=l[2].data+"",ae,be,ne,fe;t=new wn({props:{current:l[11],max:l[0].max}}),s=new Vt({props:{$$slots:{default:[sf]},$$scope:{ctx:l}}});const Fe=[of,af],Te=[];function pe(ke,Ie){return ke[6]?0:1}f=pe(l),u=Te[f]=Fe[f](l),P=new wn({props:{variant:"secondary",current:l[10],max:l[1].max}}),R=new Vt({props:{$$slots:{default:[ff]},$$scope:{ctx:l}}});const ge=[cf,uf],ye=[];function Se(ke,Ie){return ke[6]?0:1}j=Se(l),K=ye[j]=ge[j](l);let X=l[5]&&cl(l);return{c(){e=T("div"),n=T("span"),I(t.$$.fragment),i=F(),r=T("span"),I(s.$$.fragment),o=F(),a=T("span"),u.c(),c=F(),m=T("span"),p=B("/ "),$=B(_),k=F(),v=T("span"),w=T("span"),I(P.$$.fragment),z=F(),H=T("span"),I(R.$$.fragment),M=F(),q=T("span"),K.c(),G=F(),Y=T("span"),V=B("/ "),ie=B(Q),_e=B(" ("),ae=B(ue),be=B(")"),ne=F(),X&&X.c(),this.h()},l(ke){e=y(ke,"DIV",{class:!0});var Ie=L(e);n=y(Ie,"SPAN",{class:!0});var ze=L(n);A(t.$$.fragment,ze),ze.forEach(d),i=N(Ie),r=y(Ie,"SPAN",{class:!0});var Re=L(r);A(s.$$.fragment,Re),o=N(Re),a=y(Re,"SPAN",{class:!0});var qe=L(a);u.l(qe),qe.forEach(d),c=N(Re),m=y(Re,"SPAN",{class:!0});var de=L(m);p=O(de,"/ "),$=O(de,_),de.forEach(d),Re.forEach(d),k=N(Ie),v=y(Ie,"SPAN",{class:!0});var Ee=L(v);w=y(Ee,"SPAN",{class:!0});var Oe=L(w);A(P.$$.fragment,Oe),Oe.forEach(d),z=N(Ee),H=y(Ee,"SPAN",{class:!0});var Ke=L(H);A(R.$$.fragment,Ke),M=N(Ke),q=y(Ke,"SPAN",{class:!0});var Je=L(q);K.l(Je),Je.forEach(d),G=N(Ke),Y=y(Ke,"SPAN",{class:!0});var Me=L(Y);V=O(Me,"/ "),ie=O(Me,Q),_e=O(Me," ("),ae=O(Me,ue),be=O(Me,")"),Me.forEach(d),Ke.forEach(d),Ee.forEach(d),ne=N(Ie),X&&X.l(Ie),Ie.forEach(d),this.h()},h(){D(n,"class","bar svelte-15fcv4v"),D(a,"class","current-hp svelte-15fcv4v"),D(m,"class","max-hp"),D(r,"class","hp svelte-15fcv4v"),D(w,"class","hit-dice-bar svelte-15fcv4v"),D(q,"class","current-hit-dice svelte-15fcv4v"),D(Y,"class","max-hit-dice"),D(H,"class","hit-dice-text svelte-15fcv4v"),D(v,"class","hit-dice svelte-15fcv4v"),D(e,"class","grid svelte-15fcv4v")},m(ke,Ie){b(ke,e,Ie),E(e,n),C(t,n,null),E(e,i),E(e,r),C(s,r,null),E(r,o),E(r,a),Te[f].m(a,null),E(r,c),E(r,m),E(m,p),E(m,$),E(e,k),E(e,v),E(v,w),C(P,w,null),E(v,z),E(v,H),C(R,H,null),E(H,M),E(H,q),ye[j].m(q,null),E(H,G),E(H,Y),E(Y,V),E(Y,ie),E(Y,_e),E(Y,ae),E(Y,be),E(e,ne),X&&X.m(e,null),fe=!0},p(ke,[Ie]){const ze={};Ie&2048&&(ze.current=ke[11]),Ie&1&&(ze.max=ke[0].max),t.$set(ze);const Re={};Ie&524288&&(Re.$$scope={dirty:Ie,ctx:ke}),s.$set(Re);let qe=f;f=pe(ke),f===qe?Te[f].p(ke,Ie):(ce(),g(Te[qe],1,1,()=>{Te[qe]=null}),me(),u=Te[f],u?u.p(ke,Ie):(u=Te[f]=Fe[f](ke),u.c()),h(u,1),u.m(a,null)),(!fe||Ie&1)&&_!==(_=ke[0].max+"")&&oe($,_);const de={};Ie&1024&&(de.current=ke[10]),Ie&2&&(de.max=ke[1].max),P.$set(de);const Ee={};Ie&524288&&(Ee.$$scope={dirty:Ie,ctx:ke}),R.$set(Ee);let Oe=j;j=Se(ke),j===Oe?ye[j].p(ke,Ie):(ce(),g(ye[Oe],1,1,()=>{ye[Oe]=null}),me(),K=ye[j],K?K.p(ke,Ie):(K=ye[j]=ge[j](ke),K.c()),h(K,1),K.m(q,null)),(!fe||Ie&2)&&Q!==(Q=ke[1].max+"")&&oe(ie,Q),(!fe||Ie&4)&&ue!==(ue=ke[2].data+"")&&oe(ae,ue),ke[5]?X?(X.p(ke,Ie),Ie&32&&h(X,1)):(X=cl(ke),X.c(),h(X,1),X.m(e,null)):X&&(ce(),g(X,1,1,()=>{X=null}),me())},i(ke){fe||(h(t.$$.fragment,ke),h(s.$$.fragment,ke),h(u),h(P.$$.fragment,ke),h(R.$$.fragment,ke),h(K),h(X),fe=!0)},o(ke){g(t.$$.fragment,ke),g(s.$$.fragment,ke),g(u),g(P.$$.fragment,ke),g(R.$$.fragment,ke),g(K),g(X),fe=!1},d(ke){ke&&d(e),S(t),S(s),Te[f].d(),S(P),S(R),ye[j].d(),X&&X.d()}}}function hf(l,e,n){let t,i,r,s,o,a;const f=tt();let{hp:u}=e,{hitDice:c}=e,{dieSize:m}=e,{exp:p}=e,{level:_}=e,{status:$}=e,{hasStatusAndExp:k=!1}=e,{editable:v}=e;const w=R=>{f("update",{currentHp:R.detail.value,currentHitDice:i,currentStatus:$,exp:p})},P=R=>{f("update",{currentHp:t,currentHitDice:R.detail.value,currentStatus:$,exp:p})},z=R=>{f("update",{currentHp:t,currentHitDice:i,currentStatus:R.detail.value,exp:p})},H=R=>{f("update",{currentHp:t,currentHitDice:i,currentStatus:$,exp:R.detail.value})};return l.$$set=R=>{"hp"in R&&n(0,u=R.hp),"hitDice"in R&&n(1,c=R.hitDice),"dieSize"in R&&n(2,m=R.dieSize),"exp"in R&&n(3,p=R.exp),"level"in R&&n(17,_=R.level),"status"in R&&n(4,$=R.status),"hasStatusAndExp"in R&&n(5,k=R.hasStatusAndExp),"editable"in R&&n(6,v=R.editable)},l.$$.update=()=>{l.$$.dirty&1&&n(11,t=u.current),l.$$.dirty&2&&n(10,i=c.current),l.$$.dirty&16&&n(12,r=$),l.$$.dirty&131072&&n(8,s=$i(Kr(_.data),_.data)),l.$$.dirty&131080&&n(7,o=$i(p,_.data)),l.$$.dirty&384&&n(9,a=s-o)},[u,c,m,p,$,k,v,o,s,a,i,t,r,w,P,z,H,_]}class fs extends le{constructor(e){super(),re(this,e,hf,$f,se,{hp:0,hitDice:1,dieSize:2,exp:3,level:17,status:4,hasStatusAndExp:5,editable:6})}}function gf(l){let e,n='<abbr title="Armor Class">AC</abbr>',t,i,r=l[0].ac+"",s,o,a,f="Bonus",u,c,m,p;return{c(){e=T("dt"),e.innerHTML=n,t=F(),i=T("dd"),s=B(r),o=F(),a=T("dt"),a.textContent=f,u=F(),c=T("dd"),m=B("+"),p=B(l[1])},l(_){e=y(_,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-oq9y6j"&&(e.innerHTML=n),t=N(_),i=y(_,"DD",{});var $=L(i);s=O($,r),$.forEach(d),o=N(_),a=y(_,"DT",{"data-svelte-h":!0}),he(a)!=="svelte-ehj2sb"&&(a.textContent=f),u=N(_),c=y(_,"DD",{});var k=L(c);m=O(k,"+"),p=O(k,l[1]),k.forEach(d)},m(_,$){b(_,e,$),b(_,t,$),b(_,i,$),E(i,s),b(_,o,$),b(_,a,$),b(_,u,$),b(_,c,$),E(c,m),E(c,p)},p(_,$){$&1&&r!==(r=_[0].ac+"")&&oe(s,r),$&2&&oe(p,_[1])},d(_){_&&(d(e),d(t),d(i),d(o),d(a),d(u),d(c))}}}function pl(l){let e,n="Species",t,i,r=l[0].biography.species+"",s;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(r)},l(o){e=y(o,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-1eptv2s"&&(e.textContent=n),t=N(o),i=y(o,"DD",{});var a=L(i);s=O(a,r),a.forEach(d)},m(o,a){b(o,e,a),b(o,t,a),b(o,i,a),E(i,s)},p(o,a){a&1&&r!==(r=o[0].biography.species+"")&&oe(s,r)},d(o){o&&(d(e),d(t),d(i))}}}function _l(l){let e,n="Gender",t,i,r=l[0].biography.gender+"",s,o,a,f;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(r),o=F(),a=T("dt"),f=T("dd")},l(u){e=y(u,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-ae5mer"&&(e.textContent=n),t=N(u),i=y(u,"DD",{});var c=L(i);s=O(c,r),c.forEach(d),o=N(u),a=y(u,"DT",{}),L(a).forEach(d),f=y(u,"DD",{}),L(f).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),E(i,s),b(u,o,c),b(u,a,c),b(u,f,c)},p(u,c){c&1&&r!==(r=u[0].biography.gender+"")&&oe(s,r)},d(u){u&&(d(e),d(t),d(i),d(o),d(a),d(f))}}}function $l(l){let e,n="Age",t,i,r=l[0].biography.age+"",s,o,a,f;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(r),o=F(),a=T("dt"),f=T("dd")},l(u){e=y(u,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-oehtmf"&&(e.textContent=n),t=N(u),i=y(u,"DD",{});var c=L(i);s=O(c,r),c.forEach(d),o=N(u),a=y(u,"DT",{}),L(a).forEach(d),f=y(u,"DD",{}),L(f).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),E(i,s),b(u,o,c),b(u,a,c),b(u,f,c)},p(u,c){c&1&&r!==(r=u[0].biography.age+"")&&oe(s,r)},d(u){u&&(d(e),d(t),d(i),d(o),d(a),d(f))}}}function hl(l){let e,n="Home Region",t,i,r=l[0].biography.homeRegion+"",s,o,a,f;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(r),o=F(),a=T("dt"),f=T("dd")},l(u){e=y(u,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-1rv9izp"&&(e.textContent=n),t=N(u),i=y(u,"DD",{});var c=L(i);s=O(c,r),c.forEach(d),o=N(u),a=y(u,"DT",{}),L(a).forEach(d),f=y(u,"DD",{}),L(f).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),E(i,s),b(u,o,c),b(u,a,c),b(u,f,c)},p(u,c){c&1&&r!==(r=u[0].biography.homeRegion+"")&&oe(s,r)},d(u){u&&(d(e),d(t),d(i),d(o),d(a),d(f))}}}function gl(l){let e,n="Background",t,i,r=l[0].biography.background+"",s,o,a,f;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(r),o=F(),a=T("dt"),f=T("dd")},l(u){e=y(u,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-yp07su"&&(e.textContent=n),t=N(u),i=y(u,"DD",{});var c=L(i);s=O(c,r),c.forEach(d),o=N(u),a=y(u,"DT",{}),L(a).forEach(d),f=y(u,"DD",{}),L(f).forEach(d)},m(u,c){b(u,e,c),b(u,t,c),b(u,i,c),E(i,s),b(u,o,c),b(u,a,c),b(u,f,c)},p(u,c){c&1&&r!==(r=u[0].biography.background+"")&&oe(s,r)},d(u){u&&(d(e),d(t),d(i),d(o),d(a),d(f))}}}function vf(l){let e,n,t,i,r,s=l[0].biography.species&&pl(l),o=l[0].biography.gender&&_l(l),a=l[0].biography.age&&$l(l),f=l[0].biography.homeRegion&&hl(l),u=l[0].biography.background&&gl(l);return{c(){s&&s.c(),e=F(),o&&o.c(),n=F(),a&&a.c(),t=F(),f&&f.c(),i=F(),u&&u.c(),r=J()},l(c){s&&s.l(c),e=N(c),o&&o.l(c),n=N(c),a&&a.l(c),t=N(c),f&&f.l(c),i=N(c),u&&u.l(c),r=J()},m(c,m){s&&s.m(c,m),b(c,e,m),o&&o.m(c,m),b(c,n,m),a&&a.m(c,m),b(c,t,m),f&&f.m(c,m),b(c,i,m),u&&u.m(c,m),b(c,r,m)},p(c,m){c[0].biography.species?s?s.p(c,m):(s=pl(c),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),c[0].biography.gender?o?o.p(c,m):(o=_l(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),c[0].biography.age?a?a.p(c,m):(a=$l(c),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),c[0].biography.homeRegion?f?f.p(c,m):(f=hl(c),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),c[0].biography.background?u?u.p(c,m):(u=gl(c),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},d(c){c&&(d(e),d(n),d(t),d(i),d(r)),s&&s.d(c),o&&o.d(c),a&&a.d(c),f&&f.d(c),u&&u.d(c)}}}function bf(l){let e,n,t,i,r,s,o;return t=new Rt({props:{columns:1,$$slots:{default:[gf]},$$scope:{ctx:l}}}),s=new Rt({props:{columns:1,$$slots:{default:[vf]},$$scope:{ctx:l}}}),{c(){e=T("div"),n=T("div"),I(t.$$.fragment),i=F(),r=T("div"),I(s.$$.fragment),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=L(e);n=y(f,"DIV",{class:!0});var u=L(n);A(t.$$.fragment,u),u.forEach(d),i=N(f),r=y(f,"DIV",{class:!0});var c=L(r);A(s.$$.fragment,c),c.forEach(d),f.forEach(d),this.h()},h(){D(n,"class","svelte-ghg74y"),D(r,"class","svelte-ghg74y"),D(e,"class","two-columns svelte-ghg74y")},m(a,f){b(a,e,f),E(e,n),C(t,n,null),E(e,i),E(e,r),C(s,r,null),o=!0},p(a,[f]){const u={};f&7&&(u.$$scope={dirty:f,ctx:a}),t.$set(u);const c={};f&5&&(c.$$scope={dirty:f,ctx:a}),s.$set(c)},i(a){o||(h(t.$$.fragment,a),h(s.$$.fragment,a),o=!0)},o(a){g(t.$$.fragment,a),g(s.$$.fragment,a),o=!1},d(a){a&&d(e),S(t),S(s)}}}function kf(l,e,n){let t,{trainer:i}=e;return l.$$set=r=>{"trainer"in r&&n(0,i=r.trainer)},l.$$.update=()=>{l.$$.dirty&1&&n(1,t=i.level.proficiencyBonus)},[i,t]}let wf=class extends le{constructor(e){super(),re(this,e,kf,bf,se,{trainer:0})}};function vl(l){let e,n,t,i=l[4].athletics+"",r,s;return{c(){e=T("p"),n=T("small"),t=B("+"),r=B(i),s=B(" from trainer specialization included"),this.h()},l(o){e=y(o,"P",{class:!0});var a=L(e);n=y(a,"SMALL",{});var f=L(n);t=O(f,"+"),r=O(f,i),s=O(f," from trainer specialization included"),f.forEach(d),a.forEach(d),this.h()},h(){D(e,"class","footnote svelte-44t0bz")},m(o,a){b(o,e,a),E(e,n),E(n,t),E(n,r),E(n,s)},p(o,a){a&16&&i!==(i=o[4].athletics+"")&&oe(r,i)},d(o){o&&d(e)}}}function Ef(l){var k;let e,n="Saves",t,i,r,s,o,a="Skills",f,u,c,m,p,_;r=new Ni({props:{level:l[0],attributes:l[1],values:yt.list.map(l[7]),columnsLg:3,columns:2}}),c=new Ni({props:{level:l[0],attributes:l[1],values:vn.list.map(l[8]),columnsLg:2,columns:1}});let $=((k=l[4])==null?void 0:k.athletics)>0&&vl(l);return{c(){e=T("h3"),e.textContent=n,t=F(),i=T("div"),I(r.$$.fragment),s=F(),o=T("h3"),o.textContent=a,f=F(),u=T("div"),I(c.$$.fragment),m=F(),$&&$.c(),p=J(),this.h()},l(v){e=y(v,"H3",{"data-svelte-h":!0}),he(e)!=="svelte-1dg7sjo"&&(e.textContent=n),t=N(v),i=y(v,"DIV",{class:!0});var w=L(i);A(r.$$.fragment,w),w.forEach(d),s=N(v),o=y(v,"H3",{"data-svelte-h":!0}),he(o)!=="svelte-11ea0ie"&&(o.textContent=a),f=N(v),u=y(v,"DIV",{class:!0});var P=L(u);A(c.$$.fragment,P),P.forEach(d),m=N(v),$&&$.l(v),p=J(),this.h()},h(){D(i,"class","upper"),D(u,"class","cap")},m(v,w){b(v,e,w),b(v,t,w),b(v,i,w),C(r,i,null),b(v,s,w),b(v,o,w),b(v,f,w),b(v,u,w),C(c,u,null),b(v,m,w),$&&$.m(v,w),b(v,p,w),_=!0},p(v,[w]){var H;const P={};w&1&&(P.level=v[0]),w&2&&(P.attributes=v[1]),w&4&&(P.values=yt.list.map(v[7])),r.$set(P);const z={};w&1&&(z.level=v[0]),w&2&&(z.attributes=v[1]),w&24&&(z.values=vn.list.map(v[8])),c.$set(z),((H=v[4])==null?void 0:H.athletics)>0?$?$.p(v,w):($=vl(v),$.c(),$.m(p.parentNode,p)):$&&($.d(1),$=null)},i(v){_||(h(r.$$.fragment,v),h(c.$$.fragment,v),_=!0)},o(v){g(r.$$.fragment,v),g(c.$$.fragment,v),_=!1},d(v){v&&(d(e),d(t),d(i),d(s),d(o),d(f),d(u),d(m),d(p)),S(r),S(c),$&&$.d(v)}}}function Sf(l,e,n){let t,{level:i}=e,{attributes:r}=e,{savingThrows:s}=e,{proficiencies:o}=e,{type:a=void 0}=e,{specializations:f=void 0}=e;const u=m=>({name:m.abbr,attr:m.abbr,proficient:s.includes(m.abbr),expert:!1}),c=m=>({name:m.name,attr:m.attribute,proficient:o.isProficient(m.name),expert:o.isExpert(m.name),extraModifiers:t});return l.$$set=m=>{"level"in m&&n(0,i=m.level),"attributes"in m&&n(1,r=m.attributes),"savingThrows"in m&&n(2,s=m.savingThrows),"proficiencies"in m&&n(3,o=m.proficiencies),"type"in m&&n(5,a=m.type),"specializations"in m&&n(6,f=m.specializations)},l.$$.update=()=>{l.$$.dirty&96&&n(4,t=a!=null&&f!=null?Us(f,a.data):void 0)},[i,r,s,o,t,a,f,u,c]}class us extends le{constructor(e){super(),re(this,e,Sf,Ef,se,{level:0,attributes:1,savingThrows:2,proficiencies:3,type:5,specializations:6})}}const bl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA2UExURQAAAD03ByYiBN7PIf/7MqWXAP/72HJOENbTIU8CCFsECJwEEK0IEJQACL4NGMIOFdtyeQAAAB0iiU0AAAASdFJOU///////////////////////AOK/vxIAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABrSURBVDhPzZJBDoAgDAStiKAIyP8/a21q4EAoCTFhTpudCy1dUpM5NACsBAauCg2gmE1ln7XSbHf0XHZrY7X9tDVcdusDOYk3cVlo59xFYKhoH0Ik7uAn08LL23OPLXXsQ4VrEW6tzo86pQdALzDBuu1P9gAAAABJRU5ErkJggg==";function cs(l,e){var n;if(!(e==null||e.length===0))if(l.type==="standard"){const t=e.find(i=>i.id===l.itemId);return{...l,name:(t==null?void 0:t.name)??l.itemId,description:(n=t==null?void 0:t.description)==null?void 0:n.join(" "),media:{sprite:(t==null?void 0:t.media.sprite)??bl}}}else return{...l,media:{sprite:bl}}}function kl(l,e,n){const t=l.slice();t[5]=e[n];const i=cs(t[5],t[2]);return t[6]=i,t}function wl(l){let e,n,t,i,r=`url('${l[6].media.sprite}')`,s;const o=[If,Cf],a=[];function f(u,c){return u[6].quantity!=null?0:1}return n=f(l),t=a[n]=o[n](l),{c(){e=T("li"),t.c(),i=F(),this.h()},l(u){e=y(u,"LI",{class:!0});var c=L(e);t.l(c),i=N(c),c.forEach(d),this.h()},h(){D(e,"class","svelte-1ualp4i"),Ue(e,"imaged",l[6].media.sprite!=null),we(e,"--img",r)},m(u,c){b(u,e,c),a[n].m(e,null),E(e,i),s=!0},p(u,c){let m=n;n=f(u),n===m?a[n].p(u,c):(ce(),g(a[m],1,1,()=>{a[m]=null}),me(),t=a[n],t?t.p(u,c):(t=a[n]=o[n](u),t.c()),h(t,1),t.m(e,i)),(!s||c&5)&&Ue(e,"imaged",u[6].media.sprite!=null),c&5&&r!==(r=`url('${u[6].media.sprite}')`)&&we(e,"--img",r)},i(u){s||(h(t),s=!0)},o(u){g(t),s=!1},d(u){u&&d(e),a[n].d()}}}function Cf(l){let e,n=l[6].name+"",t,i,r=l[6].description+"",s;return{c(){e=T("strong"),t=B(n),i=B(": "),s=B(r)},l(o){e=y(o,"STRONG",{});var a=L(e);t=O(a,n),a.forEach(d),i=O(o,": "),s=O(o,r)},m(o,a){b(o,e,a),E(e,t),b(o,i,a),b(o,s,a)},p(o,a){a&5&&n!==(n=o[6].name+"")&&oe(t,n),a&5&&r!==(r=o[6].description+"")&&oe(s,r)},i:Z,o:Z,d(o){o&&(d(e),d(i),d(s))}}}function If(l){let e,n,t=l[6].name+"",i,r,s,o,a,f,u,c,m,p,_,$=l[6].description+"",k,v;const w=[yf,Af],P=[];function z(H,R){return H[1]?0:1}return c=z(l),m=P[c]=w[c](l),{c(){e=T("div"),n=T("strong"),i=B(t),r=F(),s=T("span"),o=T("label"),a=B("×"),u=F(),m.c(),p=F(),_=T("p"),k=B($),this.h()},l(H){e=y(H,"DIV",{});var R=L(e);n=y(R,"STRONG",{});var M=L(n);i=O(M,t),M.forEach(d),r=N(R),s=y(R,"SPAN",{class:!0});var q=L(s);o=y(q,"LABEL",{for:!0,"aria-label":!0});var j=L(o);a=O(j,"×"),j.forEach(d),u=N(q),m.l(q),q.forEach(d),p=N(R),_=y(R,"P",{});var K=L(_);k=O(K,$),K.forEach(d),R.forEach(d),this.h()},h(){D(o,"for",f="quantity-"+l[6].id),D(o,"aria-label","Quantity"),D(s,"class","editable-quantity svelte-1ualp4i")},m(H,R){b(H,e,R),E(e,n),E(n,i),E(e,r),E(e,s),E(s,o),E(o,a),E(s,u),P[c].m(s,null),E(e,p),E(e,_),E(_,k),v=!0},p(H,R){(!v||R&5)&&t!==(t=H[6].name+"")&&oe(i,t),(!v||R&5&&f!==(f="quantity-"+H[6].id))&&D(o,"for",f);let M=c;c=z(H),c===M?P[c].p(H,R):(ce(),g(P[M],1,1,()=>{P[M]=null}),me(),m=P[c],m?m.p(H,R):(m=P[c]=w[c](H),m.c()),h(m,1),m.m(s,null)),(!v||R&5)&&$!==($=H[6].description+"")&&oe(k,$)},i(H){v||(h(m),v=!0)},o(H){g(m),v=!1},d(H){H&&d(e),P[c].d()}}}function Af(l){let e,n=l[6].quantity+"",t;return{c(){e=T("span"),t=B(n)},l(i){e=y(i,"SPAN",{});var r=L(e);t=O(r,n),r.forEach(d)},m(i,r){b(i,e,r),E(e,t)},p(i,r){r&5&&n!==(n=i[6].quantity+"")&&oe(t,n)},i:Z,o:Z,d(i){i&&d(e)}}}function yf(l){let e,n;return e=new Et({props:{id:"quantity-"+l[6].id,value:l[6].quantity}}),e.$on("change",function(){Ot(l[3](l[6]))&&l[3](l[6]).apply(this,arguments)}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){l=t;const r={};i&5&&(r.id="quantity-"+l[6].id),i&5&&(r.value=l[6].quantity),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function El(l,e){let n,t,i,r=e[6]!=null&&wl(e);return{key:l,first:null,c(){n=J(),r&&r.c(),t=J(),this.h()},l(s){n=J(),r&&r.l(s),t=J(),this.h()},h(){this.first=n},m(s,o){b(s,n,o),r&&r.m(s,o),b(s,t,o),i=!0},p(s,o){e=s,e[6]!=null?r?(r.p(e,o),o&5&&h(r,1)):(r=wl(e),r.c(),h(r,1),r.m(t.parentNode,t)):r&&(ce(),g(r,1,1,()=>{r=null}),me())},i(s){i||(h(r),i=!0)},o(s){g(r),i=!1},d(s){s&&(d(n),d(t)),r&&r.d(s)}}}function Tf(l){let e,n=[],t=new Map,i,r=De(l[0]);const s=o=>o[5].id;for(let o=0;o<r.length;o+=1){let a=kl(l,r,o),f=s(a);t.set(f,n[o]=El(f,a))}return{c(){e=T("ul");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=y(o,"UL",{class:!0});var a=L(e);for(let f=0;f<n.length;f+=1)n[f].l(a);a.forEach(d),this.h()},h(){D(e,"class","svelte-1ualp4i")},m(o,a){b(o,e,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);i=!0},p(o,[a]){a&15&&(r=De(o[0]),ce(),n=ln(n,a,s,1,o,r,t,e,rn,El,null,kl),me())},i(o){if(!i){for(let a=0;a<r.length;a+=1)h(n[a]);i=!0}},o(o){for(let a=0;a<n.length;a+=1)g(n[a]);i=!1},d(o){o&&d(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Pf(l,e,n){let t;Ve(l,Wn,a=>n(2,t=a));const i=tt();let{items:r}=e,{editable:s=!1}=e;const o=a=>f=>{i("update",{id:a.id,quantity:f.detail.value})};return l.$$set=a=>{"items"in a&&n(0,r=a.items),"editable"in a&&n(1,s=a.editable)},[r,s,t,o]}class ms extends le{constructor(e){super(),re(this,e,Pf,Tf,se,{items:0,editable:1})}}function Df(l){let e=gi(l[0])+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=gi(t[0])+"")&&oe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function Nf(l){let e,n,t="₽",i,r,s,o;return s=new Et({props:{id:"current-money",value:l[0]}}),s.$on("change",l[3]),{c(){e=T("span"),n=T("span"),n.textContent=t,i=F(),r=T("span"),I(s.$$.fragment),this.h()},l(a){e=y(a,"SPAN",{class:!0});var f=L(e);n=y(f,"SPAN",{"data-svelte-h":!0}),he(n)!=="svelte-1a8pjbz"&&(n.textContent=t),i=N(f),r=y(f,"SPAN",{});var u=L(r);A(s.$$.fragment,u),u.forEach(d),f.forEach(d),this.h()},h(){we(r,"flex","1"),we(r,"--input-min-width","100%"),D(e,"class","row svelte-xu6ckl"),we(e,"gap","0.25em")},m(a,f){b(a,e,f),E(e,n),E(e,i),E(e,r),C(s,r,null),o=!0},p(a,f){const u={};f&1&&(u.value=a[0]),s.$set(u)},i(a){o||(h(s.$$.fragment,a),o=!0)},o(a){g(s.$$.fragment,a),o=!1},d(a){a&&d(e),S(s)}}}function Ff(l){let e,n="Inventory",t,i,r,s="Money:",o,a,f,u,c,m,p;const _=[Nf,Df],$=[];function k(v,w){return v[2]?0:1}return f=k(l),u=$[f]=_[f](l),m=new ms({props:{items:l[1],editable:l[2]}}),m.$on("update",l[4]),{c(){e=T("h2"),e.textContent=n,t=F(),i=T("p"),r=T("label"),r.textContent=s,o=F(),a=T("span"),u.c(),c=F(),I(m.$$.fragment),this.h()},l(v){e=y(v,"H2",{"data-svelte-h":!0}),he(e)!=="svelte-jfg41u"&&(e.textContent=n),t=N(v),i=y(v,"P",{class:!0});var w=L(i);r=y(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),he(r)!=="svelte-18dsazk"&&(r.textContent=s),o=N(w),a=y(w,"SPAN",{});var P=L(a);u.l(P),P.forEach(d),w.forEach(d),c=N(v),A(m.$$.fragment,v),this.h()},h(){D(r,"for","current-money"),D(r,"class","svelte-xu6ckl"),we(a,"flex","1"),D(i,"class","row svelte-xu6ckl"),we(i,"gap","0.5em")},m(v,w){b(v,e,w),b(v,t,w),b(v,i,w),E(i,r),E(i,o),E(i,a),$[f].m(a,null),b(v,c,w),C(m,v,w),p=!0},p(v,[w]){let P=f;f=k(v),f===P?$[f].p(v,w):(ce(),g($[P],1,1,()=>{$[P]=null}),me(),u=$[f],u?u.p(v,w):(u=$[f]=_[f](v),u.c()),h(u,1),u.m(a,null));const z={};w&2&&(z.items=v[1]),w&4&&(z.editable=v[2]),m.$set(z)},i(v){p||(h(u),h(m.$$.fragment,v),p=!0)},o(v){g(u),g(m.$$.fragment,v),p=!1},d(v){v&&(d(e),d(t),d(i),d(c)),$[f].d(),S(m,v)}}}function Hf(l,e,n){const t=tt();let{money:i}=e,{inventory:r}=e,{editable:s}=e;const o=f=>{t("update",{money:f.detail.value})},a=f=>{const u=r.find(m=>m.id===f.detail.id);if(u==null){Ye.show("Could not update item quantity. It seems to be missing?");return}const c={...u,quantity:f.detail.quantity};t("update-item",c)};return l.$$set=f=>{"money"in f&&n(0,i=f.money),"inventory"in f&&n(1,r=f.inventory),"editable"in f&&n(2,s=f.editable)},[i,r,s,o,a]}class zf extends le{constructor(e){super(),re(this,e,Hf,Ff,se,{money:0,inventory:1,editable:2})}}function Sl(l,e,n){const t=l.slice();t[2]=e[n];const i=t[0][t[2].type];return t[3]=i,t}function Cl(l){let e,n,t,i,r,s,o,a=l[2].type+"",f,u,c,m,p=l[2].name+"",_,$,k,v,w,P=l[3]+"",z,H=`var(--skin-${l[2].type}-bg)`,R,M;return r=new Ss({props:{type:l[2].type}}),{c(){e=T("li"),n=T("span"),t=T("span"),i=T("span"),I(r.$$.fragment),s=F(),o=T("span"),f=B(a),u=F(),c=T("span"),m=T("span"),_=B(p),$=F(),k=T("span"),v=T("strong"),w=B("×"),z=B(P),R=F(),this.h()},l(q){e=y(q,"LI",{class:!0});var j=L(e);n=y(j,"SPAN",{class:!0});var K=L(n);t=y(K,"SPAN",{class:!0});var G=L(t);i=y(G,"SPAN",{class:!0});var Y=L(i);A(r.$$.fragment,Y),Y.forEach(d),s=N(G),o=y(G,"SPAN",{class:!0});var V=L(o);f=O(V,a),V.forEach(d),G.forEach(d),u=N(K),c=y(K,"SPAN",{class:!0});var Q=L(c);m=y(Q,"SPAN",{class:!0});var ie=L(m);_=O(ie,p),ie.forEach(d),$=N(Q),k=y(Q,"SPAN",{class:!0});var _e=L(k);v=y(_e,"STRONG",{});var ue=L(v);w=O(ue,"×"),z=O(ue,P),ue.forEach(d),_e.forEach(d),Q.forEach(d),K.forEach(d),R=N(j),j.forEach(d),this.h()},h(){D(i,"class","type-icon svelte-soeuz1"),D(o,"class","type-name svelte-soeuz1"),D(t,"class","header svelte-soeuz1"),D(m,"class","specialization-name"),D(k,"class","specialization-count"),D(c,"class","main svelte-soeuz1"),D(n,"class","tag svelte-soeuz1"),we(n,"--skin-local-bg",H),D(e,"class","svelte-soeuz1")},m(q,j){b(q,e,j),E(e,n),E(n,t),E(t,i),C(r,i,null),E(t,s),E(t,o),E(o,f),E(n,u),E(n,c),E(c,m),E(m,_),E(c,$),E(c,k),E(k,v),E(v,w),E(v,z),E(e,R),M=!0},p(q,j){const K={};j&2&&(K.type=q[2].type),r.$set(K),(!M||j&2)&&a!==(a=q[2].type+"")&&oe(f,a),(!M||j&2)&&p!==(p=q[2].name+"")&&oe(_,p),(!M||j&3)&&P!==(P=q[3]+"")&&oe(z,P),j&2&&H!==(H=`var(--skin-${q[2].type}-bg)`)&&we(n,"--skin-local-bg",H)},i(q){M||(h(r.$$.fragment,q),M=!0)},o(q){g(r.$$.fragment,q),M=!1},d(q){q&&d(e),S(r)}}}function Il(l){let e,n,t=l[3]>0&&Cl(l);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,r){i[3]>0?t?(t.p(i,r),r&3&&h(t,1)):(t=Cl(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Lf(l){let e,n,t=De(Object.values(l[1])),i=[];for(let s=0;s<t.length;s+=1)i[s]=Il(Sl(l,t,s));const r=s=>g(i[s],1,1,()=>{i[s]=null});return{c(){e=T("ul");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=y(s,"UL",{class:!0});var o=L(e);for(let a=0;a<i.length;a+=1)i[a].l(o);o.forEach(d),this.h()},h(){D(e,"class","svelte-soeuz1")},m(s,o){b(s,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(s,[o]){if(o&3){t=De(Object.values(s[1]));let a;for(a=0;a<t.length;a+=1){const f=Sl(s,t,a);i[a]?(i[a].p(f,o),h(i[a],1)):(i[a]=Il(f),i[a].c(),h(i[a],1),i[a].m(e,null))}for(ce(),a=t.length;a<i.length;a+=1)r(a);me()}},i(s){if(!n){for(let o=0;o<t.length;o+=1)h(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)g(i[o]);n=!1},d(s){s&&d(e),nt(i,s)}}}function Rf(l,e,n){let t;Ve(l,Ur,r=>n(1,t=r));let{specializations:i}=e;return l.$$set=r=>{"specializations"in r&&n(0,i=r.specializations)},[i,t]}class Mf extends le{constructor(e){super(),re(this,e,Rf,Lf,se,{specializations:0})}}const ds=An(qt,l=>l==="2018"?new Mt("d8"):new Mt("d6")),ps=An(Ys,l=>Wr.concat(l));function Vf(l){let e,n="Trainer Id",t,i,r=l[0].readKey+"",s;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(r)},l(o){e=y(o,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-13n2wjg"&&(e.textContent=n),t=N(o),i=y(o,"DD",{});var a=L(i);s=O(a,r),a.forEach(d)},m(o,a){b(o,e,a),b(o,t,a),b(o,i,a),E(i,s)},p(o,a){a&1&&r!==(r=o[0].readKey+"")&&oe(s,r)},d(o){o&&(d(e),d(t),d(i))}}}function Of(l){let e,n,t,i,r,s,o;return e=new Rt({props:{columns:2,$$slots:{default:[Vf]},$$scope:{ctx:l}}}),i=new fs({props:{hp:l[0].hp,hitDice:l[0].hitDice,dieSize:l[3],editable:l[1],status:null,level:l[0].level,exp:0}}),i.$on("update",l[5]),s=new wf({props:{trainer:l[0]}}),{c(){I(e.$$.fragment),n=F(),t=T("div"),I(i.$$.fragment),r=F(),I(s.$$.fragment),this.h()},l(a){A(e.$$.fragment,a),n=N(a),t=y(a,"DIV",{class:!0});var f=L(t);A(i.$$.fragment,f),r=N(f),A(s.$$.fragment,f),f.forEach(d),this.h()},h(){D(t,"class","column svelte-ab94zr")},m(a,f){C(e,a,f),b(a,n,f),b(a,t,f),C(i,t,null),E(t,r),C(s,t,null),o=!0},p(a,f){const u={};f&1025&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const c={};f&1&&(c.hp=a[0].hp),f&1&&(c.hitDice=a[0].hitDice),f&8&&(c.dieSize=a[3]),f&2&&(c.editable=a[1]),f&1&&(c.level=a[0].level),i.$set(c);const m={};f&1&&(m.trainer=a[0]),s.$set(m)},i(a){o||(h(e.$$.fragment,a),h(i.$$.fragment,a),h(s.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),g(i.$$.fragment,a),g(s.$$.fragment,a),o=!1},d(a){a&&(d(n),d(t)),S(e,a),S(i),S(s)}}}function Bf(l){let e,n;return e=new Hr({props:{slot:"art",src:l[0].avatar.href,alt:"Trainer Avatar"}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.src=t[0].avatar.href),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Al(l){let e,n="Specializations",t,i,r;return i=new Mf({props:{specializations:l[0].specializations}}),{c(){e=T("h3"),e.textContent=n,t=F(),I(i.$$.fragment)},l(s){e=y(s,"H3",{"data-svelte-h":!0}),he(e)!=="svelte-1uai780"&&(e.textContent=n),t=N(s),A(i.$$.fragment,s)},m(s,o){b(s,e,o),b(s,t,o),C(i,s,o),r=!0},p(s,o){const a={};o&1&&(a.specializations=s[0].specializations),i.$set(a)},i(s){r||(h(i.$$.fragment,s),r=!0)},o(s){g(i.$$.fragment,s),r=!1},d(s){s&&(d(e),d(t)),S(i,s)}}}function yl(l){let e,n,t="Feats",i,r,s;return r=new as({props:{allFeats:l[4],values:l[0].feats}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"H2",{"data-svelte-h":!0}),he(n)!=="svelte-2ri5u1"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&16&&(f.allFeats=o[4]),a&1&&(f.values=o[0].feats),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function Tl(l){let e,n,t="About",i,r,s;return r=new Qn({props:{value:l[0].description}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"H2",{"data-svelte-h":!0}),he(n)!=="svelte-1h16os9"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&1&&(f.value=o[0].description),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function qf(l){let e,n,t,i,r,s,o,a=hi(l[0].specializations),f,u,c,m,p,_,$,k,v;e=new Or({props:{hasImage:l[2],$$slots:{art:[Bf],default:[Of]},$$scope:{ctx:l}}}),i=new Ar({props:{attributes:l[0].attributes}}),s=new us({props:{level:l[0].level,attributes:l[0].attributes,savingThrows:l[0].savingThrows,proficiencies:l[0].proficiencies}});let w=a&&Al(l);u=new Xo({props:{value:l[0].path,level:l[0].level,editable:l[1]}}),u.$on("update",l[7]);let P=l[0].feats.length>0&&yl(l);_=new zf({props:{money:l[0].money,inventory:l[0].inventory,editable:l[1]}}),_.$on("update",l[6]),_.$on("update-item",l[8]);let z=l[0].description&&Tl(l);return{c(){I(e.$$.fragment),n=F(),t=T("section"),I(i.$$.fragment),r=F(),I(s.$$.fragment),o=F(),w&&w.c(),f=F(),I(u.$$.fragment),c=F(),P&&P.c(),m=F(),p=T("section"),I(_.$$.fragment),$=F(),z&&z.c(),k=J(),this.h()},l(H){A(e.$$.fragment,H),n=N(H),t=y(H,"SECTION",{class:!0});var R=L(t);A(i.$$.fragment,R),r=N(R),A(s.$$.fragment,R),o=N(R),w&&w.l(R),R.forEach(d),f=N(H),A(u.$$.fragment,H),c=N(H),P&&P.l(H),m=N(H),p=y(H,"SECTION",{});var M=L(p);A(_.$$.fragment,M),M.forEach(d),$=N(H),z&&z.l(H),k=J(),this.h()},h(){D(t,"class","stats")},m(H,R){C(e,H,R),b(H,n,R),b(H,t,R),C(i,t,null),E(t,r),C(s,t,null),E(t,o),w&&w.m(t,null),b(H,f,R),C(u,H,R),b(H,c,R),P&&P.m(H,R),b(H,m,R),b(H,p,R),C(_,p,null),b(H,$,R),z&&z.m(H,R),b(H,k,R),v=!0},p(H,[R]){const M={};R&4&&(M.hasImage=H[2]),R&1035&&(M.$$scope={dirty:R,ctx:H}),e.$set(M);const q={};R&1&&(q.attributes=H[0].attributes),i.$set(q);const j={};R&1&&(j.level=H[0].level),R&1&&(j.attributes=H[0].attributes),R&1&&(j.savingThrows=H[0].savingThrows),R&1&&(j.proficiencies=H[0].proficiencies),s.$set(j),R&1&&(a=hi(H[0].specializations)),a?w?(w.p(H,R),R&1&&h(w,1)):(w=Al(H),w.c(),h(w,1),w.m(t,null)):w&&(ce(),g(w,1,1,()=>{w=null}),me());const K={};R&1&&(K.value=H[0].path),R&1&&(K.level=H[0].level),R&2&&(K.editable=H[1]),u.$set(K),H[0].feats.length>0?P?(P.p(H,R),R&1&&h(P,1)):(P=yl(H),P.c(),h(P,1),P.m(m.parentNode,m)):P&&(ce(),g(P,1,1,()=>{P=null}),me());const G={};R&1&&(G.money=H[0].money),R&1&&(G.inventory=H[0].inventory),R&2&&(G.editable=H[1]),_.$set(G),H[0].description?z?(z.p(H,R),R&1&&h(z,1)):(z=Tl(H),z.c(),h(z,1),z.m(k.parentNode,k)):z&&(ce(),g(z,1,1,()=>{z=null}),me())},i(H){v||(h(e.$$.fragment,H),h(i.$$.fragment,H),h(s.$$.fragment,H),h(w),h(u.$$.fragment,H),h(P),h(_.$$.fragment,H),h(z),v=!0)},o(H){g(e.$$.fragment,H),g(i.$$.fragment,H),g(s.$$.fragment,H),g(w),g(u.$$.fragment,H),g(P),g(_.$$.fragment,H),g(z),v=!1},d(H){H&&(d(n),d(t),d(f),d(c),d(m),d(p),d($),d(k)),S(e,H),S(i),S(s),w&&w.d(),S(u,H),P&&P.d(H),S(_),z&&z.d(H)}}}function Kf(l,e,n){let t,i,r;Ve(l,ds,p=>n(3,i=p)),Ve(l,ps,p=>n(4,r=p));const s=tt();let{trainer:o}=e,{editable:a}=e;const f=p=>{s("update",{...o,hp:{current:p.detail.currentHp,max:o.hp.max},hitDice:{current:p.detail.currentHitDice,max:o.hitDice.max}})},u=p=>{s("update",{...o,money:p.detail.money})},c=p=>{s("update",{...o,path:{...o.path,resource:p.detail.resource}})},m=p=>{s("update-item",p.detail)};return l.$$set=p=>{"trainer"in p&&n(0,o=p.trainer),"editable"in p&&n(1,a=p.editable)},l.$$.update=()=>{l.$$.dirty&1&&n(2,t=o.avatar!=null)},[o,a,t,i,r,f,u,c,m]}let Uf=class extends le{constructor(e){super(),re(this,e,Kf,qf,se,{trainer:0,editable:1})}};function jf(l){let e;return{c(){e=B("Access Key")},l(n){e=O(n,"Access Key")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Gf(l){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Pl(l){let e,n,t,i;return e=new Pe({props:{href:Ae.trainers(l[1].info.readKey,void 0,Le.restTrainer),variant:"success",$$slots:{default:[Yf]},$$scope:{ctx:l}}}),t=new Pe({props:{href:Ae.trainers(l[1].info.readKey,void 0,Le.editTrainer),$$slots:{default:[Wf]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s&2&&(o.href=Ae.trainers(r[1].info.readKey,void 0,Le.restTrainer)),s&32&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const a={};s&2&&(a.href=Ae.trainers(r[1].info.readKey,void 0,Le.editTrainer)),s&32&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function Yf(l){let e;return{c(){e=B("Rest")},l(n){e=O(n,"Rest")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Wf(l){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Qf(l){let e,n,t,i,r,s;e=new Pe({props:{href:Ae.trainers(l[1].info.readKey,void 0,Le.accessKey),variant:"ghost",$$slots:{default:[jf]},$$scope:{ctx:l}}}),t=new Pe({props:{href:Ae.trainers(l[1].info.readKey,void 0,Le.removeTrainer),variant:"ghost",$$slots:{default:[Gf]},$$scope:{ctx:l}}});let o=l[1].update&&Pl(l);return{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment),i=F(),o&&o.c(),r=J()},l(a){A(e.$$.fragment,a),n=N(a),A(t.$$.fragment,a),i=N(a),o&&o.l(a),r=J()},m(a,f){C(e,a,f),b(a,n,f),C(t,a,f),b(a,i,f),o&&o.m(a,f),b(a,r,f),s=!0},p(a,f){const u={};f&2&&(u.href=Ae.trainers(a[1].info.readKey,void 0,Le.accessKey)),f&32&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const c={};f&2&&(c.href=Ae.trainers(a[1].info.readKey,void 0,Le.removeTrainer)),f&32&&(c.$$scope={dirty:f,ctx:a}),t.$set(c),a[1].update?o?(o.p(a,f),f&2&&h(o,1)):(o=Pl(a),o.c(),h(o,1),o.m(r.parentNode,r)):o&&(ce(),g(o,1,1,()=>{o=null}),me())},i(a){s||(h(e.$$.fragment,a),h(t.$$.fragment,a),h(o),s=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),g(o),s=!1},d(a){a&&(d(n),d(i),d(r)),S(e,a),S(t,a),o&&o.d(a)}}}function Zf(l){let e,n,t,i;return e=new Uf({props:{trainer:l[1].info,editable:l[2]}}),e.$on("update",l[3]),e.$on("update-item",l[4]),t=new Qe({props:{$$slots:{default:[Qf]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s&2&&(o.trainer=r[1].info),s&4&&(o.editable=r[2]),e.$set(o);const a={};s&34&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function Jf(l){let e,n,t;return n=new ls({props:{value:l[1].info.level.data}}),{c(){e=T("div"),I(n.$$.fragment),this.h()},l(i){e=y(i,"DIV",{slot:!0});var r=L(e);A(n.$$.fragment,r),r.forEach(d),this.h()},h(){D(e,"slot","header-extra"),we(e,"padding-inline-end","0.5em")},m(i,r){b(i,e,r),C(n,e,null),t=!0},p(i,r){const s={};r&2&&(s.value=i[1].info.level.data),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function Xf(l){let e,n,t,i;return e=new st({props:{value:l[1].info.name}}),t=new lt({props:{title:l[1].info.name,$$slots:{"header-extra":[Jf],default:[Zf]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&2&&(o.value=r[1].info.name),e.$set(o);const a={};s&2&&(a.title=r[1].info.name),s&38&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function xf(l,e,n){let t,i,r=Z,s=()=>(r(),r=Xe(o,u=>n(1,i=u)),o);l.$$.on_destroy.push(()=>r());let{trainer:o}=e;s();const a=u=>{var c;(c=i.update)==null||c.info(u.detail,{optimistic:!0})},f=u=>{var c;(c=i.update)==null||c.inventoryItem(u.detail,{optimistic:!0})};return l.$$set=u=>{"trainer"in u&&s(n(0,o=u.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(2,t=i.update!=null)},[o,i,t,a,f]}let eu=class extends le{constructor(e){super(),re(this,e,xf,Xf,se,{trainer:0})}};function tu(l){let e,n,t,i=l[1].data.name+"",r,s,o,a,f,u,c;return a=new yr({props:{gender:l[0].gender}}),u=new ls({props:{value:l[0].level.data}}),{c(){e=T("div"),n=T("span"),t=T("span"),r=B(i),s=F(),o=T("span"),I(a.$$.fragment),f=F(),I(u.$$.fragment),this.h()},l(m){e=y(m,"DIV",{class:!0});var p=L(e);n=y(p,"SPAN",{class:!0});var _=L(n);t=y(_,"SPAN",{});var $=L(t);r=O($,i),$.forEach(d),s=N(_),o=y(_,"SPAN",{class:!0});var k=L(o);A(a.$$.fragment,k),k.forEach(d),_.forEach(d),f=N(p),A(u.$$.fragment,p),p.forEach(d),this.h()},h(){D(o,"class","gender svelte-wwmcf3"),D(n,"class","name svelte-wwmcf3"),D(e,"class","grid svelte-wwmcf3")},m(m,p){b(m,e,p),E(e,n),E(n,t),E(t,r),E(n,s),E(n,o),C(a,o,null),E(e,f),C(u,e,null),c=!0},p(m,[p]){(!c||p&2)&&i!==(i=m[1].data.name+"")&&oe(r,i);const _={};p&1&&(_.gender=m[0].gender),a.$set(_);const $={};p&1&&($.value=m[0].level.data),u.$set($)},i(m){c||(h(a.$$.fragment,m),h(u.$$.fragment,m),c=!0)},o(m){g(a.$$.fragment,m),g(u.$$.fragment,m),c=!1},d(m){m&&d(e),S(a),S(u)}}}function nu(l,e,n){let{pokemon:t}=e,{species:i}=e;return l.$$set=r=>{"pokemon"in r&&n(0,t=r.pokemon),"species"in r&&n(1,i=r.species)},[t,i]}class iu extends le{constructor(e){super(),re(this,e,nu,tu,se,{pokemon:0,species:1})}}function Dl(l){let e,n="Tera",t,i,r,s;return r=new Js({props:{type:l[0].teraType}}),{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),I(r.$$.fragment)},l(o){e=y(o,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-zqzgk0"&&(e.textContent=n),t=N(o),i=y(o,"DD",{});var a=L(i);A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),b(o,t,a),b(o,i,a),C(r,i,null),s=!0},p(o,a){const f={};a&1&&(f.type=o[0].teraType),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&(d(e),d(t),d(i)),S(r)}}}function lu(l){let e,n='<abbr title="Armor Class">AC</abbr>',t,i,r=l[0].ac+"",s,o,a,f="Nature",u,c,m=l[0].nature.data+"",p,_,$,k="Bonus",v,w,P,z,H,R,M="Size",q,j,K=(l[0].customSize??l[1].data.size)+"",G,Y,V,Q,ie,_e,ue,ae;V=new di({props:{label:"Speed",values:l[3]}}),ie=new di({props:{label:"Senses",values:l[2]}});let be=l[0].teraType!=null&&Dl(l);return{c(){e=T("dt"),e.innerHTML=n,t=F(),i=T("dd"),s=B(r),o=F(),a=T("dt"),a.textContent=f,u=F(),c=T("dd"),p=B(m),_=F(),$=T("dt"),$.textContent=k,v=F(),w=T("dd"),P=B("+"),z=B(l[4]),H=F(),R=T("dt"),R.textContent=M,q=F(),j=T("dd"),G=B(K),Y=F(),I(V.$$.fragment),Q=F(),I(ie.$$.fragment),_e=F(),be&&be.c(),ue=J(),this.h()},l(ne){e=y(ne,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-oq9y6j"&&(e.innerHTML=n),t=N(ne),i=y(ne,"DD",{});var fe=L(i);s=O(fe,r),fe.forEach(d),o=N(ne),a=y(ne,"DT",{"data-svelte-h":!0}),he(a)!=="svelte-1u0or05"&&(a.textContent=f),u=N(ne),c=y(ne,"DD",{class:!0});var Fe=L(c);p=O(Fe,m),Fe.forEach(d),_=N(ne),$=y(ne,"DT",{"data-svelte-h":!0}),he($)!=="svelte-ehj2sb"&&($.textContent=k),v=N(ne),w=y(ne,"DD",{});var Te=L(w);P=O(Te,"+"),z=O(Te,l[4]),Te.forEach(d),H=N(ne),R=y(ne,"DT",{"data-svelte-h":!0}),he(R)!=="svelte-rw0fwr"&&(R.textContent=M),q=N(ne),j=y(ne,"DD",{class:!0});var pe=L(j);G=O(pe,K),pe.forEach(d),Y=N(ne),A(V.$$.fragment,ne),Q=N(ne),A(ie.$$.fragment,ne),_e=N(ne),be&&be.l(ne),ue=J(),this.h()},h(){D(c,"class","cap"),D(j,"class","cap")},m(ne,fe){b(ne,e,fe),b(ne,t,fe),b(ne,i,fe),E(i,s),b(ne,o,fe),b(ne,a,fe),b(ne,u,fe),b(ne,c,fe),E(c,p),b(ne,_,fe),b(ne,$,fe),b(ne,v,fe),b(ne,w,fe),E(w,P),E(w,z),b(ne,H,fe),b(ne,R,fe),b(ne,q,fe),b(ne,j,fe),E(j,G),b(ne,Y,fe),C(V,ne,fe),b(ne,Q,fe),C(ie,ne,fe),b(ne,_e,fe),be&&be.m(ne,fe),b(ne,ue,fe),ae=!0},p(ne,fe){(!ae||fe&1)&&r!==(r=ne[0].ac+"")&&oe(s,r),(!ae||fe&1)&&m!==(m=ne[0].nature.data+"")&&oe(p,m),(!ae||fe&16)&&oe(z,ne[4]),(!ae||fe&3)&&K!==(K=(ne[0].customSize??ne[1].data.size)+"")&&oe(G,K);const Fe={};fe&8&&(Fe.values=ne[3]),V.$set(Fe);const Te={};fe&4&&(Te.values=ne[2]),ie.$set(Te),ne[0].teraType!=null?be?(be.p(ne,fe),fe&1&&h(be,1)):(be=Dl(ne),be.c(),h(be,1),be.m(ue.parentNode,ue)):be&&(ce(),g(be,1,1,()=>{be=null}),me())},i(ne){ae||(h(V.$$.fragment,ne),h(ie.$$.fragment,ne),h(be),ae=!0)},o(ne){g(V.$$.fragment,ne),g(ie.$$.fragment,ne),g(be),ae=!1},d(ne){ne&&(d(e),d(t),d(i),d(o),d(a),d(u),d(c),d(_),d($),d(v),d(w),d(H),d(R),d(q),d(j),d(Y),d(Q),d(_e),d(ue)),S(V,ne),S(ie,ne),be&&be.d(ne)}}}function ru(l){let e,n;return e=new Rt({props:{columns:2,$$slots:{default:[lu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&63&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function su(l,e,n){let t,i,r,{pokemon:s}=e,{species:o}=e;return l.$$set=a=>{"pokemon"in a&&n(0,s=a.pokemon),"species"in a&&n(1,o=a.species)},l.$$.update=()=>{l.$$.dirty&1&&n(4,t=s.level.proficiencyBonus),l.$$.dirty&3&&n(3,i=o.speed.mergeWith(s.speeds)),l.$$.dirty&3&&n(2,r=o.senses.mergeWith(s.senses))},[s,o,r,i,t]}class au extends le{constructor(e){super(),re(this,e,su,ru,se,{pokemon:0,species:1})}}const ou=l=>(e,n)=>l(n)>l(e)?n:e;function fu(l,e){if(l.power.data==="none"||l.power.data==="varies")return;const t=(l.power.data==="any"?["str","dex","con","int","wis","cha"]:l.power.data).reduce(ou(o=>e.attributes[o].score)),i=e.attributes[t].modifier,r=e.level.proficiencyBonus,s=e.type.includes(l.type);return{toHit:r+i,dc:8+r+i,dmg:i+(s?i:0)}}function uu(l){let e,n=l[1].name+"",t,i;return{c(){e=T("label"),t=B(n),i=B(" PP"),this.h()},l(r){e=y(r,"LABEL",{for:!0});var s=L(e);t=O(s,n),i=O(s," PP"),s.forEach(d),this.h()},h(){D(e,"for","current-hp")},m(r,s){b(r,e,s),E(e,t),E(e,i)},p(r,s){s&2&&n!==(n=r[1].name+"")&&oe(t,n)},d(r){r&&d(e)}}}function cu(l){let e;return{c(){e=B(l[4])},l(n){e=O(n,l[4])},m(n,t){b(n,e,t)},p(n,t){t&16&&oe(e,n[4])},i:Z,o:Z,d(n){n&&d(e)}}}function mu(l){let e,n;return e=new Et({props:{id:"current-pp-"+l[0].moveId,value:l[4]}}),e.$on("change",l[5]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.id="current-pp-"+t[0].moveId),i&16&&(r.value=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Nl(l){let e,n,t,i=l[3].dc+"",r,s,o,a;return n=new kn({props:{value:l[3].toHit}}),o=new kn({props:{value:l[3].dmg}}),{c(){e=B("To Hit: "),I(n.$$.fragment),t=B(", DC: "),r=B(i),s=B(", Dmg: "),I(o.$$.fragment)},l(f){e=O(f,"To Hit: "),A(n.$$.fragment,f),t=O(f,", DC: "),r=O(f,i),s=O(f,", Dmg: "),A(o.$$.fragment,f)},m(f,u){b(f,e,u),C(n,f,u),b(f,t,u),b(f,r,u),b(f,s,u),C(o,f,u),a=!0},p(f,u){const c={};u&8&&(c.value=f[3].toHit),n.$set(c),(!a||u&8)&&i!==(i=f[3].dc+"")&&oe(r,i);const m={};u&8&&(m.value=f[3].dmg),o.$set(m)},i(f){a||(h(n.$$.fragment,f),h(o.$$.fragment,f),a=!0)},o(f){g(n.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){f&&(d(e),d(t),d(r),d(s)),S(n,f),S(o,f)}}}function du(l){let e,n="Range",t,i,r=l[1].range+"",s,o,a,f="Time",u,c,m=l[1].time+"",p,_,$,k="Duration",v,w,P=l[1].duration+"",z;return{c(){e=T("dt"),e.textContent=n,t=F(),i=T("dd"),s=B(r),o=F(),a=T("dt"),a.textContent=f,u=F(),c=T("dd"),p=B(m),_=F(),$=T("dt"),$.textContent=k,v=F(),w=T("dd"),z=B(P),this.h()},l(H){e=y(H,"DT",{"data-svelte-h":!0}),he(e)!=="svelte-jar7ex"&&(e.textContent=n),t=N(H),i=y(H,"DD",{class:!0});var R=L(i);s=O(R,r),R.forEach(d),o=N(H),a=y(H,"DT",{"data-svelte-h":!0}),he(a)!=="svelte-k4tc9n"&&(a.textContent=f),u=N(H),c=y(H,"DD",{});var M=L(c);p=O(M,m),M.forEach(d),_=N(H),$=y(H,"DT",{"data-svelte-h":!0}),he($)!=="svelte-18qrpyy"&&($.textContent=k),v=N(H),w=y(H,"DD",{class:!0});var q=L(w);z=O(q,P),q.forEach(d),this.h()},h(){D(i,"class","cap"),D(w,"class","cap")},m(H,R){b(H,e,R),b(H,t,R),b(H,i,R),E(i,s),b(H,o,R),b(H,a,R),b(H,u,R),b(H,c,R),E(c,p),b(H,_,R),b(H,$,R),b(H,v,R),b(H,w,R),E(w,z)},p(H,R){R&2&&r!==(r=H[1].range+"")&&oe(s,r),R&2&&m!==(m=H[1].time+"")&&oe(p,m),R&2&&P!==(P=H[1].duration+"")&&oe(z,P)},d(H){H&&(d(e),d(t),d(i),d(o),d(a),d(u),d(c),d(_),d($),d(v),d(w))}}}function Fl(l){let e,n,t,i=l[0].notes+"",r;return{c(){e=T("hr"),n=F(),t=T("div"),r=B(i),this.h()},l(s){e=y(s,"HR",{}),n=N(s),t=y(s,"DIV",{class:!0});var o=L(t);r=O(o,i),o.forEach(d),this.h()},h(){D(t,"class","space-inner smaller-font svelte-1yoj80o")},m(s,o){b(s,e,o),b(s,n,o),b(s,t,o),E(t,r)},p(s,o){o&1&&i!==(i=s[0].notes+"")&&oe(r,i)},d(s){s&&(d(e),d(n),d(t))}}}function pu(l){let e,n,t,i,r,s=l[1].name+"",o,a,f,u,c,m,p,_,$,k,v,w,P=l[0].pp.max+"",z,H,R,M,q=l[1].type+"",j,K,G,Y=`var(--skin-${l[1].type}-bg)`,V,Q,ie,_e,ue,ae,be,ne,fe;c=new Vt({props:{$$slots:{default:[uu]},$$scope:{ctx:l}}});const Fe=[mu,cu],Te=[];function pe(Se,X){return Se[2]?0:1}_=pe(l),$=Te[_]=Fe[_](l);let ge=l[3]!=null&&Nl(l);ie=new Rt({props:{columns:1,$$slots:{default:[du]},$$scope:{ctx:l}}}),be=new Xs({props:{move:l[1]}});let ye=l[0].notes!==void 0&&l[0].notes.length>0&&Fl(l);return{c(){e=T("div"),n=T("div"),t=T("div"),i=T("span"),r=T("a"),o=B(s),f=F(),u=T("span"),I(c.$$.fragment),m=F(),p=T("span"),$.c(),k=F(),v=T("span"),w=B("/ "),z=B(P),H=F(),R=T("div"),M=T("span"),j=B(q),K=F(),G=T("span"),ge&&ge.c(),V=F(),Q=T("div"),I(ie.$$.fragment),_e=F(),ue=T("div"),ae=F(),I(be.$$.fragment),ne=F(),ye&&ye.c(),this.h()},l(Se){e=y(Se,"DIV",{class:!0});var X=L(e);n=y(X,"DIV",{class:!0});var ke=L(n);t=y(ke,"DIV",{class:!0});var Ie=L(t);i=y(Ie,"SPAN",{class:!0});var ze=L(i);r=y(ze,"A",{href:!0,class:!0});var Re=L(r);o=O(Re,s),Re.forEach(d),ze.forEach(d),f=N(Ie),u=y(Ie,"SPAN",{class:!0});var qe=L(u);A(c.$$.fragment,qe),m=N(qe),p=y(qe,"SPAN",{class:!0});var de=L(p);$.l(de),de.forEach(d),k=N(qe),v=y(qe,"SPAN",{class:!0});var Ee=L(v);w=O(Ee,"/ "),z=O(Ee,P),Ee.forEach(d),qe.forEach(d),Ie.forEach(d),H=N(ke),R=y(ke,"DIV",{class:!0});var Oe=L(R);M=y(Oe,"SPAN",{class:!0});var Ke=L(M);j=O(Ke,q),Ke.forEach(d),K=N(Oe),G=y(Oe,"SPAN",{});var Je=L(G);ge&&ge.l(Je),Je.forEach(d),Oe.forEach(d),ke.forEach(d),V=N(X),Q=y(X,"DIV",{class:!0});var Me=L(Q);A(ie.$$.fragment,Me),_e=N(Me),ue=y(Me,"DIV",{}),L(ue).forEach(d),ae=N(Me),A(be.$$.fragment,Me),Me.forEach(d),ne=N(X),ye&&ye.l(X),X.forEach(d),this.h()},h(){D(r,"href",a=xe+"/moves/"+l[0].moveId),D(r,"class","svelte-1yoj80o"),D(i,"class","flex-span svelte-1yoj80o"),D(p,"class","current"),D(v,"class","max"),D(u,"class","pp svelte-1yoj80o"),D(t,"class","hrow space-after-tiny svelte-1yoj80o"),D(M,"class","capitalize flex-span svelte-1yoj80o"),D(R,"class","hrow tiny-font svelte-1yoj80o"),D(n,"class","vstack bg-by-type rounded space-inner svelte-1yoj80o"),we(n,"--bg",Y),we(ue,"margin-block-end","0.5em"),D(Q,"class","space-inner smaller-font svelte-1yoj80o"),D(e,"class","vstack space-after svelte-1yoj80o")},m(Se,X){b(Se,e,X),E(e,n),E(n,t),E(t,i),E(i,r),E(r,o),E(t,f),E(t,u),C(c,u,null),E(u,m),E(u,p),Te[_].m(p,null),E(u,k),E(u,v),E(v,w),E(v,z),E(n,H),E(n,R),E(R,M),E(M,j),E(R,K),E(R,G),ge&&ge.m(G,null),E(e,V),E(e,Q),C(ie,Q,null),E(Q,_e),E(Q,ue),E(Q,ae),C(be,Q,null),E(e,ne),ye&&ye.m(e,null),fe=!0},p(Se,[X]){(!fe||X&2)&&s!==(s=Se[1].name+"")&&oe(o,s),(!fe||X&1&&a!==(a=xe+"/moves/"+Se[0].moveId))&&D(r,"href",a);const ke={};X&1026&&(ke.$$scope={dirty:X,ctx:Se}),c.$set(ke);let Ie=_;_=pe(Se),_===Ie?Te[_].p(Se,X):(ce(),g(Te[Ie],1,1,()=>{Te[Ie]=null}),me(),$=Te[_],$?$.p(Se,X):($=Te[_]=Fe[_](Se),$.c()),h($,1),$.m(p,null)),(!fe||X&1)&&P!==(P=Se[0].pp.max+"")&&oe(z,P),(!fe||X&2)&&q!==(q=Se[1].type+"")&&oe(j,q),Se[3]!=null?ge?(ge.p(Se,X),X&8&&h(ge,1)):(ge=Nl(Se),ge.c(),h(ge,1),ge.m(G,null)):ge&&(ce(),g(ge,1,1,()=>{ge=null}),me()),X&2&&Y!==(Y=`var(--skin-${Se[1].type}-bg)`)&&we(n,"--bg",Y);const ze={};X&1026&&(ze.$$scope={dirty:X,ctx:Se}),ie.$set(ze);const Re={};X&2&&(Re.move=Se[1]),be.$set(Re),Se[0].notes!==void 0&&Se[0].notes.length>0?ye?ye.p(Se,X):(ye=Fl(Se),ye.c(),ye.m(e,null)):ye&&(ye.d(1),ye=null)},i(Se){fe||(h(c.$$.fragment,Se),h($),h(ge),h(ie.$$.fragment,Se),h(be.$$.fragment,Se),fe=!0)},o(Se){g(c.$$.fragment,Se),g($),g(ge),g(ie.$$.fragment,Se),g(be.$$.fragment,Se),fe=!1},d(Se){Se&&d(e),S(c),Te[_].d(),ge&&ge.d(),S(ie),S(be),ye&&ye.d()}}}function _u(l,e,n){let t,i;const r=tt();let{move:s}=e,{moveData:o}=e,{level:a}=e,{pokemonType:f}=e,{attributes:u}=e,{editable:c}=e;const m=p=>{r("update",{value:p.detail.value??0})};return l.$$set=p=>{"move"in p&&n(0,s=p.move),"moveData"in p&&n(1,o=p.moveData),"level"in p&&n(6,a=p.level),"pokemonType"in p&&n(7,f=p.pokemonType),"attributes"in p&&n(8,u=p.attributes),"editable"in p&&n(2,c=p.editable)},l.$$.update=()=>{l.$$.dirty&1&&n(4,t=s.pp.current),l.$$.dirty&450&&n(3,i=fu(o,{attributes:u,level:a,type:f.data}))},[s,o,c,i,t,m,a,f,u]}class $u extends le{constructor(e){super(),re(this,e,_u,pu,se,{move:0,moveData:1,level:6,pokemonType:7,attributes:8,editable:2})}}function Hl(l,e,n){const t=l.slice();t[6]=e[n];const i=t[2].find(function(...s){return l[4](t[6],...s)});return t[7]=i,t}function zl(l){let e,n,t,i;const r=[gu,hu],s=[];function o(a,f){return a[2]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function hu(l){let e,n;return e=new wt({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function gu(l){let e,n="Moves",t,i,r,s=De(l[0].moves),o=[];for(let f=0;f<s.length;f+=1)o[f]=Ll(Hl(l,s,f));const a=f=>g(o[f],1,1,()=>{o[f]=null});return{c(){e=T("h2"),e.textContent=n,t=F(),i=T("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=y(f,"H2",{"data-svelte-h":!0}),he(e)!=="svelte-cbzy28"&&(e.textContent=n),t=N(f),i=y(f,"UL",{});var u=L(i);for(let c=0;c<o.length;c+=1)o[c].l(u);u.forEach(d),this.h()},h(){we(i,"list-style","none"),we(i,"padding","0")},m(f,u){b(f,e,u),b(f,t,u),b(f,i,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(i,null);r=!0},p(f,u){if(u&15){s=De(f[0].moves);let c;for(c=0;c<s.length;c+=1){const m=Hl(f,s,c);o[c]?(o[c].p(m,u),h(o[c],1)):(o[c]=Ll(m),o[c].c(),h(o[c],1),o[c].m(i,null))}for(ce(),c=s.length;c<o.length;c+=1)a(c);me()}},i(f){if(!r){for(let u=0;u<s.length;u+=1)h(o[u]);r=!0}},o(f){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)g(o[u]);r=!1},d(f){f&&(d(e),d(t),d(i)),nt(o,f)}}}function Ll(l){let e,n,t,i;return n=new $u({props:{move:l[6],moveData:l[7],editable:l[1],level:l[0].level,attributes:l[0].attributes,pokemonType:l[0].type}}),n.$on("update",function(){Ot(l[3](l[6]))&&l[3](l[6]).apply(this,arguments)}),{c(){e=T("li"),I(n.$$.fragment),t=F()},l(r){e=y(r,"LI",{});var s=L(e);A(n.$$.fragment,s),t=N(s),s.forEach(d)},m(r,s){b(r,e,s),C(n,e,null),E(e,t),i=!0},p(r,s){l=r;const o={};s&1&&(o.move=l[6]),s&5&&(o.moveData=l[7]),s&2&&(o.editable=l[1]),s&1&&(o.level=l[0].level),s&1&&(o.attributes=l[0].attributes),s&1&&(o.pokemonType=l[0].type),n.$set(o)},i(r){i||(h(n.$$.fragment,r),i=!0)},o(r){g(n.$$.fragment,r),i=!1},d(r){r&&d(e),S(n)}}}function vu(l){let e,n,t=l[0].moves.length>0&&zl(l);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,[r]){i[0].moves.length>0?t?(t.p(i,r),r&1&&h(t,1)):(t=zl(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function bu(l,e,n){let t;Ve(l,Yn,f=>n(2,t=f));const i=tt();let{pokemon:r}=e,{editable:s=!1}=e;const o=f=>u=>{i("update",{...f,pp:{current:u.detail.value,max:f.pp.max}})},a=(f,u)=>u.id===f.moveId;return l.$$set=f=>{"pokemon"in f&&n(0,r=f.pokemon),"editable"in f&&n(1,s=f.editable)},[r,s,t,o,a]}class ku extends le{constructor(e){super(),re(this,e,bu,vu,se,{pokemon:0,editable:1})}}function Rl(l){let e,n,t=l[0].name+"",i,r,s=l[0].description+"",o;return{c(){e=T("p"),n=T("strong"),i=B(t),r=B(": "),o=B(s),this.h()},l(a){e=y(a,"P",{class:!0});var f=L(e);n=y(f,"STRONG",{});var u=L(n);i=O(u,t),u.forEach(d),r=O(f,": "),o=O(f,s),f.forEach(d),this.h()},h(){D(e,"class","svelte-1f7kwjm")},m(a,f){b(a,e,f),E(e,n),E(n,i),E(e,r),E(e,o)},p(a,f){f&1&&t!==(t=a[0].name+"")&&oe(i,t),f&1&&s!==(s=a[0].description+"")&&oe(o,s)},d(a){a&&d(e)}}}function wu(l){let e,n=l[0]&&Rl(l);return{c(){n&&n.c(),e=J()},l(t){n&&n.l(t),e=J()},m(t,i){n&&n.m(t,i),b(t,e,i)},p(t,[i]){t[0]?n?n.p(t,i):(n=Rl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Z,o:Z,d(t){t&&d(e),n&&n.d(t)}}}function Eu(l,e,n){let t,i;Ve(l,Lr,s=>n(2,i=s));let{pokemon:r}=e;return l.$$set=s=>{"pokemon"in s&&n(1,r=s.pokemon)},l.$$.update=()=>{l.$$.dirty&6&&n(0,t=i==null?void 0:i.find(s=>s.id===r.ability))},[t,r,i]}class Su extends le{constructor(e){super(),re(this,e,Eu,wu,se,{pokemon:1})}}function Cu(l){let e,n="General Notes",t,i,r,s;return r=new Yr({props:{value:l[0].notes}}),{c(){e=T("h2"),e.textContent=n,t=F(),i=T("div"),I(r.$$.fragment),this.h()},l(o){e=y(o,"H2",{"data-svelte-h":!0}),he(e)!=="svelte-1da4q7t"&&(e.textContent=n),t=N(o),i=y(o,"DIV",{class:!0});var a=L(i);A(r.$$.fragment,a),a.forEach(d),this.h()},h(){D(i,"class","font-sm svelte-lh5oha")},m(o,a){b(o,e,a),b(o,t,a),b(o,i,a),C(r,i,null),s=!0},p(o,[a]){const f={};a&1&&(f.value=o[0].notes),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&(d(e),d(t),d(i)),S(r)}}}function Iu(l,e,n){let{pokemon:t}=e;return l.$$set=i=>{"pokemon"in i&&n(0,t=i.pokemon)},[t]}class Au extends le{constructor(e){super(),re(this,e,Iu,Cu,se,{pokemon:0})}}function Ml(l){let e,n,t,i,r;function s(f,u){return f[0].items.length===1?Tu:yu}let o=s(l),a=o(l);return i=new ms({props:{items:l[0].items}}),{c(){e=T("h3"),n=B("Held "),a.c(),t=F(),I(i.$$.fragment)},l(f){e=y(f,"H3",{});var u=L(e);n=O(u,"Held "),a.l(u),u.forEach(d),t=N(f),A(i.$$.fragment,f)},m(f,u){b(f,e,u),E(e,n),a.m(e,null),b(f,t,u),C(i,f,u),r=!0},p(f,u){o!==(o=s(f))&&(a.d(1),a=o(f),a&&(a.c(),a.m(e,null)));const c={};u&1&&(c.items=f[0].items),i.$set(c)},i(f){r||(h(i.$$.fragment,f),r=!0)},o(f){g(i.$$.fragment,f),r=!1},d(f){f&&(d(e),d(t)),a.d(),S(i,f)}}}function yu(l){let e;return{c(){e=B("Items")},l(n){e=O(n,"Items")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Tu(l){let e;return{c(){e=B("Item")},l(n){e=O(n,"Item")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Pu(l){let e,n,t=l[0].items.length>0&&Ml(l);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,[r]){i[0].items.length>0?t?(t.p(i,r),r&1&&h(t,1)):(t=Ml(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function Du(l,e,n){let{pokemon:t}=e;return l.$$set=i=>{"pokemon"in i&&n(0,t=i.pokemon)},[t]}class Nu extends le{constructor(e){super(),re(this,e,Du,Pu,se,{pokemon:0})}}function Fu(l){let e,n,t,i=`var(--skin-bond-${l[0]}-bg)`,r=`var(--skin-bond-${l[0]}-bg-dark)`,s;const o=l[2].default,a=Xt(o,l,l[1],null);return{c(){e=Ge("svg"),n=Ge("title"),t=B(l[0]),a&&a.c(),this.h()},l(f){e=je(f,"svg",{xmlns:!0,viewBox:!0,class:!0});var u=L(e);n=je(u,"title",{});var c=L(n);t=O(c,l[0]),c.forEach(d),a&&a.l(u),u.forEach(d),this.h()},h(){D(e,"xmlns","http://www.w3.org/2000/svg"),D(e,"viewBox","0 0 120 120"),D(e,"class","svelte-1utg1ud"),we(e,"--bg",i),we(e,"--bg-dark",r)},m(f,u){b(f,e,u),E(e,n),E(n,t),a&&a.m(e,null),s=!0},p(f,[u]){(!s||u&1)&&oe(t,f[0]),a&&a.p&&(!s||u&2)&&xt(a,o,f,f[1],s?tn(o,f[1],u,null):en(f[1]),null),u&1&&i!==(i=`var(--skin-bond-${f[0]}-bg)`)&&we(e,"--bg",i),u&1&&r!==(r=`var(--skin-bond-${f[0]}-bg-dark)`)&&we(e,"--bg-dark",r)},i(f){s||(h(a,f),s=!0)},o(f){g(a,f),s=!1},d(f){f&&d(e),a&&a.d(f)}}}function Hu(l,e,n){let{$$slots:t={},$$scope:i}=e,{name:r}=e;return l.$$set=s=>{"name"in s&&n(0,r=s.name),"$$scope"in s&&n(1,i=s.$$scope)},[r,i,t]}class Nt extends le{constructor(e){super(),re(this,e,Hu,Fu,se,{name:0})}}function zu(l){let e,n,t;return{c(){e=Ge("path"),n=F(),t=Ge("path"),this.h()},l(i){e=je(i,"path",{class:!0,d:!0}),L(e).forEach(d),n=N(i),t=je(i,"path",{class:!0,d:!0}),L(t).forEach(d),this.h()},h(){D(e,"class","face-feature"),D(e,"d","M 32 40 L 52 50 A 10 10 0 0 1 32 40 Z"),D(t,"class","face-feature"),D(t,"d","M 88 40 L 68 50 A 10 10 0 0 0 88 40 Z")},m(i,r){b(i,e,r),b(i,n,r),b(i,t,r)},p:Z,i:Z,o:Z,d(i){i&&(d(e),d(n),d(t))}}}class Lu extends le{constructor(e){super(),re(this,e,null,zu,se,{})}}function Ru(l){let e,n,t,i,r,s;return t=new Lu({}),{c(){e=Ge("path"),n=F(),I(t.$$.fragment),i=F(),r=Ge("path"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),L(e).forEach(d),n=N(o),A(t.$$.fragment,o),i=N(o),r=je(o,"path",{class:!0,d:!0}),L(r).forEach(d),this.h()},h(){D(e,"d",`M 93.926517,89.396983
		C 92.687534,90.635966 74.012417,84.720747 72.393608,85.391279 70.774799,86.061812 61.752186,103.44981 60,103.44981
		c -1.752186,0 -10.774797,-17.387997 -12.393605,-18.058529 -1.618809,-0.670533 -20.293929,5.244685 -21.532911,4.005702 -1.238983,-1.238982 4.676236,-19.9141 4.005703,-21.532908
		C 29.408655,66.245266 12.02066,57.222653 12.02066,55.470467
		c 0,-1.752186 17.387994,-10.774797 18.058526,-12.393606 0.670533,-1.618809 -5.244685,-20.293928 -4.005703,-21.532911 1.238983,-1.238982 19.9141,4.676236 21.532909,4.005704
		C 49.225201,24.879121 58.247814,7.4911271 60,7.491127
		c 1.752186,-10e-8 10.774797,17.387993 12.393605,18.058526 1.618809,0.670532 20.293929,-5.244686 21.532911,-4.005703 1.238983,1.238983 -4.676236,19.9141 -4.005703,21.532909 0.670532,1.618808 18.058527,10.641421 18.058527,12.393607 0,1.752186 -17.387994,10.774797 -18.058526,12.393606 -0.670533,1.618809 5.244685,20.293928 4.005703,21.532911
		z`),D(e,"transform","scale(1.2) translate(-10 -5)"),D(r,"class","face-feature"),D(r,"d","M 40 85 L 80 85 A 20.5 20.5 0 0 0 40 85 Z")},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,r,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(r)),S(t,o)}}}function Mu(l){let e,n;return e=new Nt({props:{name:"disloyal",$$slots:{default:[Ru]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class Vu extends le{constructor(e){super(),re(this,e,null,Mu,se,{})}}function Ou(l){let e,n,t;return{c(){e=Ge("rect"),n=F(),t=Ge("rect"),this.h()},l(i){e=je(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),L(e).forEach(d),n=N(i),t=je(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0}),L(t).forEach(d),this.h()},h(){D(e,"class","face-feature"),D(e,"x","32"),D(e,"y","42"),D(e,"width","16"),D(e,"height","10"),D(t,"class","face-feature"),D(t,"x","72"),D(t,"y","42"),D(t,"width","16"),D(t,"height","10")},m(i,r){b(i,e,r),b(i,n,r),b(i,t,r)},p:Z,i:Z,o:Z,d(i){i&&(d(e),d(n),d(t))}}}class Bu extends le{constructor(e){super(),re(this,e,null,Ou,se,{})}}function qu(l){let e,n,t,i,r,s;return t=new Bu({}),{c(){e=Ge("path"),n=F(),I(t.$$.fragment),i=F(),r=Ge("path"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),L(e).forEach(d),n=N(o),A(t.$$.fragment,o),i=N(o),r=je(o,"path",{class:!0,transform:!0,d:!0}),L(r).forEach(d),this.h()},h(){D(e,"d",`
		m 15.16496,21.167139
		c -1.285888,0.742408 -8.1346728,-2.33475 -9.6194879,-2.33475 -1.4848155,0 -8.333602,3.077157 -9.61949,2.33475 -1.2858876,-0.742408 -2.0453833,-8.212208 -2.7877908,-9.498096 -0.7424077,-1.285888 -6.8316973,-5.6785327 -6.8316973,-7.1633481 0,-1.4848151 6.0892893,-5.8774579 6.8316969,-7.1633455 0.7424078,-1.2858879 1.501905,-8.7556894 2.7877929,-9.4980974 1.2858876,-0.742407 8.1346724,2.3347502 9.6194875,2.3347503 1.4848154,10e-8 8.3336017,-3.0771573 9.6194897,-2.3347493 1.285888,0.742408 2.045384,8.2122081 2.787791,9.4980957 0.742408,1.2858879 6.831697,5.6785326 6.831697,7.1633481 0,1.4848151 -6.089289,5.8774582 -6.831697,7.1633452 -0.742407,1.285888 -1.501905,8.75569 -2.787792,9.498097
		z`),D(e,"transform","scale(3) translate(14.4 15.5)"),D(r,"class","face-feature"),D(r,"transform","scale(3) translate(-40 -34)"),D(r,"d",`m 60.068359,56.544922 -7.460937,4.095703
		a 1.5,1.5 0 0 0 -0.591797,2.037109 1.5,1.5 0 0 0 2.037109,0.591797
		l 6.00586,-3.296875 5.880859,3.279297
		a 1.5,1.5 0 0 0 2.041016,-0.580078 1.5,1.5 0 0 0 -0.580078,-2.041016
		z`)},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,r,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(r)),S(t,o)}}}function Ku(l){let e,n;return e=new Nt({props:{name:"indifferent",$$slots:{default:[qu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class Uu extends le{constructor(e){super(),re(this,e,null,Ku,se,{})}}function ju(l){let e,n,t;return{c(){e=Ge("circle"),n=F(),t=Ge("circle"),this.h()},l(i){e=je(i,"circle",{class:!0,r:!0,cx:!0,cy:!0}),L(e).forEach(d),n=N(i),t=je(i,"circle",{class:!0,r:!0,cx:!0,cy:!0}),L(t).forEach(d),this.h()},h(){D(e,"class","face-feature"),D(e,"r","8"),D(e,"cx","40"),D(e,"cy","45"),D(t,"class","face-feature"),D(t,"r","8"),D(t,"cx","80"),D(t,"cy","45")},m(i,r){b(i,e,r),b(i,n,r),b(i,t,r)},p:Z,i:Z,o:Z,d(i){i&&(d(e),d(n),d(t))}}}class sn extends le{constructor(e){super(),re(this,e,null,ju,se,{})}}function Gu(l){let e,n,t,i,r,s;return t=new sn({}),{c(){e=Ge("circle"),n=F(),I(t.$$.fragment),i=F(),r=Ge("path"),this.h()},l(o){e=je(o,"circle",{r:!0,cx:!0,cy:!0}),L(e).forEach(d),n=N(o),A(t.$$.fragment,o),i=N(o),r=je(o,"path",{class:!0,transform:!0,d:!0}),L(r).forEach(d),this.h()},h(){D(e,"r","55"),D(e,"cx","60"),D(e,"cy","60"),D(r,"class","face-feature"),D(r,"transform","rotate(180 60 60) scale(1.1) translate(-5 -22.5)"),D(r,"d",`m 41.901123,51.063924
		c -1.034447,-0.28063 -2.128164,-0.09818 -3.039817,0.507106 -1.894916,1.258154 -2.50168,3.963112 -1.355385,6.042317 0,0 7.816855,11.419163 22.446085,11.451349 14.63367,0.03256 22.532267,-11.365399 22.532267,-11.365399 1.155803,-2.074313 0.559405,-4.783824 -1.331882,-6.050912 -1.888741,-1.269524 -4.357947,-0.61924 -5.515548,1.452562 0,0 -6.085402,7.18367 -15.669165,7.162423
		C 50.37947,60.24225 44.369019,53.057975 44.369019,53.057975 43.819416,52.061114 42.931921,51.344022 41.901123,51.063924
		Z`)},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,r,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(r)),S(t,o)}}}function Yu(l){let e,n;return e=new Nt({props:{name:"upset",$$slots:{default:[Gu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class Wu extends le{constructor(e){super(),re(this,e,null,Yu,se,{})}}function Qu(l){let e,n,t,i,r,s;return t=new sn({}),{c(){e=Ge("path"),n=F(),I(t.$$.fragment),i=F(),r=Ge("rect"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),L(e).forEach(d),n=N(o),A(t.$$.fragment,o),i=N(o),r=je(o,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0}),L(r).forEach(d),this.h()},h(){D(e,"d",l[0]),D(e,"transform","translate(7 4.5) rotate(30 60 60)"),D(r,"class","face-feature"),D(r,"x","37.5"),D(r,"y","75"),D(r,"width","45"),D(r,"height","10"),D(r,"rx","5")},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,r,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(r)),S(t,o)}}}function Zu(l){let e,n;return e=new Nt({props:{name:"neutral",$$slots:{default:[Qu]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&262144&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const dt=6,zn=60,cn=0,Ju=0;function Xu(l){const e=P=>Math.sin(P*Math.PI/180),n=P=>Math.cos(P*Math.PI/180),t=zn*n(30),i=zn*e(30),r=t-dt*n(30),s=dt*e(30),o=t+dt*n(30),a=2*t,f=i+zn,u=a-dt*n(30),c=i-dt*e(30),m=i+dt,p=f+i,_=f-dt,$=f+dt*e(30),k=p-dt*e(30),v=dt*n(30);return[`
		M ${r},${s}
		Q ${t},${Ju} ${o},${s}

		L ${u},${c}
		Q ${a},${i} ${a},${m}

		L ${a},${_}
		Q ${a},${f} ${u},${$}

		L ${o},${k}
		Q ${t},${p} ${r},${k}
		
		L ${v},${$}
		Q ${cn},${f} ${cn},${_}
		
		L ${cn},${m}
		Q ${cn},${i} ${v},${c}
		Z
	`]}class xu extends le{constructor(e){super(),re(this,e,Xu,Zu,se,{})}}function ec(l){let e,n,t,i,r,s;return t=new sn({}),{c(){e=Ge("circle"),n=F(),I(t.$$.fragment),i=F(),r=Ge("path"),this.h()},l(o){e=je(o,"circle",{r:!0,cx:!0,cy:!0}),L(e).forEach(d),n=N(o),A(t.$$.fragment,o),i=N(o),r=je(o,"path",{class:!0,transform:!0,d:!0}),L(r).forEach(d),this.h()},h(){D(e,"r","55"),D(e,"cx","60"),D(e,"cy","60"),D(r,"class","face-feature"),D(r,"transform","scale(1.1) translate(-5 15)"),D(r,"d",`m 41.901123,51.063924
		c -1.034447,-0.28063 -2.128164,-0.09818 -3.039817,0.507106 -1.894916,1.258154 -2.50168,3.963112 -1.355385,6.042317 0,0 7.816855,11.419163 22.446085,11.451349 14.63367,0.03256 22.532267,-11.365399 22.532267,-11.365399 1.155803,-2.074313 0.559405,-4.783824 -1.331882,-6.050912 -1.888741,-1.269524 -4.357947,-0.61924 -5.515548,1.452562 0,0 -6.085402,7.18367 -15.669165,7.162423
		C 50.37947,60.24225 44.369019,53.057975 44.369019,53.057975 43.819416,52.061114 42.931921,51.344022 41.901123,51.063924
		Z`)},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,r,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(r)),S(t,o)}}}function tc(l){let e,n;return e=new Nt({props:{name:"content",$$slots:{default:[ec]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class nc extends le{constructor(e){super(),re(this,e,null,tc,se,{})}}function ic(l){let e,n,t,i,r,s;return t=new sn({}),{c(){e=Ge("path"),n=F(),I(t.$$.fragment),i=F(),r=Ge("path"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),L(e).forEach(d),n=N(o),A(t.$$.fragment,o),i=N(o),r=je(o,"path",{class:!0,d:!0}),L(r).forEach(d),this.h()},h(){D(e,"d",`M 25.62686 0
		A 12.302804 12.302804 0 0 0 13.323735 12.302608
		A 12.302804 12.302804 0 0 0 13.365076 12.880351
		A 12.302804 12.302804 0 0 0 12.302608 12.831775
		A 12.302804 12.302804 0 0 0 0 25.1349
		A 12.302804 12.302804 0 0 0 4.8798055 34.906913
		A 12.302804 12.302804 0 0 0 0 44.678927
		A 12.302804 12.302804 0 0 0 12.302608 56.982052
		A 12.302804 12.302804 0 0 0 13.504602 56.895752
		A 12.302804 12.302804 0 0 0 13.323735 58.900798
		A 12.302804 12.302804 0 0 0 25.62686 71.203923
		A 12.302804 12.302804 0 0 0 35.131706 66.681201
		A 12.302804 12.302804 0 0 0 44.636035 71.203923
		A 12.302804 12.302804 0 0 0 56.93916 58.900798
		A 12.302804 12.302804 0 0 0 56.752091 56.787231
		A 12.302804 12.302804 0 0 0 58.821216 56.982052
		A 12.302804 12.302804 0 0 0 71.124341 44.678927
		A 12.302804 12.302804 0 0 0 66.26779 34.889343
		A 12.302804 12.302804 0 0 0 71.124341 25.1349
		A 12.302804 12.302804 0 0 0 58.821216 12.831775
		A 12.302804 12.302804 0 0 0 56.889551 12.996623
		A 12.302804 12.302804 0 0 0 56.93916 12.302608
		A 12.302804 12.302804 0 0 0 44.636035 0
		A 12.302804 12.302804 0 0 0 35.143591 4.5067017
		A 12.302804 12.302804 0 0 0 25.62686 0
		z`),D(e,"transform","scale(1.55) translate(3.5 3.5)"),D(r,"class","face-feature"),D(r,"d","M 37.5 75 L 82.5 75 A 24 24 0 0 1 37.5 75 Z")},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,r,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(r)),S(t,o)}}}function lc(l){let e,n;return e=new Nt({props:{name:"pleased",$$slots:{default:[ic]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class rc extends le{constructor(e){super(),re(this,e,null,lc,se,{})}}function sc(l){let e,n,t,i,r,s;return t=new sn({}),{c(){e=Ge("path"),n=F(),I(t.$$.fragment),i=F(),r=Ge("path"),this.h()},l(o){e=je(o,"path",{d:!0,transform:!0}),L(e).forEach(d),n=N(o),A(t.$$.fragment,o),i=N(o),r=je(o,"path",{class:!0,d:!0}),L(r).forEach(d),this.h()},h(){D(e,"d","M16.5 3C19.538 3 22 5.5 22 9c0 7-7.5 11-10 12.5C9.5 20 2 16 2 9c0-3.5 2.5-6 5.5-6C9.36 3 11 4 12 5c1-1 2.64-2 4.5-2z"),D(e,"transform","scale(5.5 5.75) translate(-1 -1.25)"),D(r,"class","face-feature"),D(r,"d","M 33 70 L 87 70 A 28 28 0 0 1 33 70 Z")},m(o,a){b(o,e,a),b(o,n,a),C(t,o,a),b(o,i,a),b(o,r,a),s=!0},p:Z,i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(e),d(n),d(i),d(r)),S(t,o)}}}function ac(l){let e,n;return e=new Nt({props:{name:"loyal",$$slots:{default:[sc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}class oc extends le{constructor(e){super(),re(this,e,null,ac,se,{})}}function fc(l){let e,n,t;var i=l[0];function r(s,o){return{}}return i&&(e=mi(i,r())),{c(){e&&I(e.$$.fragment),n=J()},l(s){e&&A(e.$$.fragment,s),n=J()},m(s,o){e&&C(e,s,o),b(s,n,o),t=!0},p(s,[o]){if(o&1&&i!==(i=s[0])){if(e){ce();const a=e;g(a.$$.fragment,1,0,()=>{S(a,1)}),me()}i?(e=mi(i,r()),I(e.$$.fragment),h(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}},i(s){t||(e&&h(e.$$.fragment,s),t=!0)},o(s){e&&g(e.$$.fragment,s),t=!1},d(s){s&&d(n),e&&S(e,s)}}}function uc(l,e,n){let t;const i=[Vu,Uu,Wu,xu,nc,rc,oc];let{level:r}=e;return l.$$set=s=>{"level"in s&&n(1,r=s.level)},l.$$.update=()=>{l.$$.dirty&2&&n(0,t=i[Math.round(r+3)])},[t,r]}class _s extends le{constructor(e){super(),re(this,e,uc,fc,se,{level:1})}}const cc={[-3]:"-1 to all saving throws. Roll higher than 15 on a d20 before using a move or it fails.",[-2]:"-1 to all saving throws. Roll higher than 10 on a d20 before using a move or it fails.",[-1]:"-1 to all saving throws.",0:"",1:"+1 to all saving throws.",2:"+1 to all saving throws. Increase max HP by half of level. Gain one skill proficiency.",3:"+1 to all saving throws. Increase max HP by level. Gain one skill proficiency. Gain expertise in an existing proficiency."},mc={[-3]:"When the trainer issues a command, roll a d20. On 10 or lower, the Pokémon disobeys the command.",[-2]:"When the trainer issues a command, roll a d20. On 10 or lower, the Pokémon hesitates and follows the command with disadvantage.",[-1]:"",0:"",1:"",2:"",3:""},dc=An(qt,l=>l==="2018"?cc:mc);function pc(l){let e,n,t,i,r,s,o,a;return t=new _s({props:{level:l[0].level}}),o=new kn({props:{value:l[0].level}}),{c(){e=T("p"),n=T("span"),I(t.$$.fragment),i=F(),r=T("strong"),s=B("Bond: "),I(o.$$.fragment),this.h()},l(f){e=y(f,"P",{class:!0});var u=L(e);n=y(u,"SPAN",{class:!0});var c=L(n);A(t.$$.fragment,c),c.forEach(d),i=N(u),r=y(u,"STRONG",{class:!0});var m=L(r);s=O(m,"Bond: "),A(o.$$.fragment,m),m.forEach(d),u.forEach(d),this.h()},h(){D(n,"class","icon svelte-bcvswd"),D(r,"class","small-text svelte-bcvswd"),D(e,"class","row svelte-bcvswd")},m(f,u){b(f,e,u),E(e,n),C(t,n,null),E(e,i),E(e,r),E(r,s),C(o,r,null),a=!0},p(f,u){const c={};u&1&&(c.level=f[0].level),t.$set(c);const m={};u&1&&(m.value=f[0].level),o.$set(m)},i(f){a||(h(t.$$.fragment,f),h(o.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){f&&d(e),S(t),S(o)}}}function _c(l){let e,n;return e=new Br({props:{id:"bond-effect-popover",block:!0,$$slots:{activator:[hc],default:[$c]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&133&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function $c(l){let e,n;return{c(){e=T("p"),n=B(l[2]),this.h()},l(t){e=y(t,"P",{class:!0});var i=L(e);n=O(i,l[2]),i.forEach(d),this.h()},h(){D(e,"class","small-text svelte-bcvswd")},m(t,i){b(t,e,i),E(e,n)},p(t,i){i&4&&oe(n,t[2])},d(t){t&&d(e)}}}function hc(l){let e,n,t,i,r,s,o,a;return t=new _s({props:{level:l[0].level}}),o=new kn({props:{value:l[0].level}}),{c(){e=T("p"),n=T("span"),I(t.$$.fragment),i=F(),r=T("strong"),s=B("Bond: "),I(o.$$.fragment),this.h()},l(f){e=y(f,"P",{class:!0,slot:!0});var u=L(e);n=y(u,"SPAN",{class:!0});var c=L(n);A(t.$$.fragment,c),c.forEach(d),i=N(u),r=y(u,"STRONG",{class:!0});var m=L(r);s=O(m,"Bond: "),A(o.$$.fragment,m),m.forEach(d),u.forEach(d),this.h()},h(){D(n,"class","icon svelte-bcvswd"),D(r,"class","small-text dotted svelte-bcvswd"),D(e,"class","row svelte-bcvswd"),D(e,"slot","activator")},m(f,u){b(f,e,u),E(e,n),C(t,n,null),E(e,i),E(e,r),E(r,s),C(o,r,null),a=!0},p(f,u){const c={};u&1&&(c.level=f[0].level),t.$set(c);const m={};u&1&&(m.value=f[0].level),o.$set(m)},i(f){a||(h(t.$$.fragment,f),h(o.$$.fragment,f),a=!0)},o(f){g(t.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){f&&d(e),S(t),S(o)}}}function Vl(l){let e,n,t="Points:",i,r,s,o,a,f,u,c=l[0].points.max+"",m,p;const _=[vc,gc],$=[];function k(v,w){return v[1]?0:1}return s=k(l),o=$[s]=_[s](l),{c(){e=T("p"),n=T("label"),n.textContent=t,i=F(),r=T("span"),o.c(),a=F(),f=T("span"),u=B("/ "),m=B(c),this.h()},l(v){e=y(v,"P",{class:!0});var w=L(e);n=y(w,"LABEL",{for:!0,"data-svelte-h":!0}),he(n)!=="svelte-1sirhaw"&&(n.textContent=t),i=N(w),r=y(w,"SPAN",{});var P=L(r);o.l(P),P.forEach(d),a=N(w),f=y(w,"SPAN",{class:!0});var z=L(f);u=O(z,"/ "),m=O(z,c),z.forEach(d),w.forEach(d),this.h()},h(){D(n,"for","current-bond-points"),D(f,"class","max-hit-dice"),D(e,"class","bond-points smaller-text row svelte-bcvswd")},m(v,w){b(v,e,w),E(e,n),E(e,i),E(e,r),$[s].m(r,null),E(e,a),E(e,f),E(f,u),E(f,m),p=!0},p(v,w){let P=s;s=k(v),s===P?$[s].p(v,w):(ce(),g($[P],1,1,()=>{$[P]=null}),me(),o=$[s],o?o.p(v,w):(o=$[s]=_[s](v),o.c()),h(o,1),o.m(r,null)),(!p||w&1)&&c!==(c=v[0].points.max+"")&&oe(m,c)},i(v){p||(h(o),p=!0)},o(v){g(o),p=!1},d(v){v&&d(e),$[s].d()}}}function gc(l){let e=l[0].points.max+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&1&&e!==(e=t[0].points.max+"")&&oe(n,e)},i:Z,o:Z,d(t){t&&d(n)}}}function vc(l){let e,n;return e=new Et({props:{id:"current-bond-points",value:l[3]}}),e.$on("change",l[4]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.value=t[3]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function bc(l){let e,n,t,i,r;const s=[_c,pc],o=[];function a(u,c){return u[2]?0:1}n=a(l),t=o[n]=s[n](l);let f=l[0].points.max>0&&Vl(l);return{c(){e=T("div"),t.c(),i=F(),f&&f.c(),this.h()},l(u){e=y(u,"DIV",{class:!0});var c=L(e);t.l(c),i=N(c),f&&f.l(c),c.forEach(d),this.h()},h(){D(e,"class","bond-info svelte-bcvswd")},m(u,c){b(u,e,c),o[n].m(e,null),E(e,i),f&&f.m(e,null),r=!0},p(u,[c]){let m=n;n=a(u),n===m?o[n].p(u,c):(ce(),g(o[m],1,1,()=>{o[m]=null}),me(),t=o[n],t?t.p(u,c):(t=o[n]=s[n](u),t.c()),h(t,1),t.m(e,i)),u[0].points.max>0?f?(f.p(u,c),c&1&&h(f,1)):(f=Vl(u),f.c(),h(f,1),f.m(e,null)):f&&(ce(),g(f,1,1,()=>{f=null}),me())},i(u){r||(h(t),h(f),r=!0)},o(u){g(t),g(f),r=!1},d(u){u&&d(e),o[n].d(),f&&f.d()}}}function kc(l,e,n){let t,i,r;Ve(l,dc,u=>n(5,r=u));const s=tt();let{value:o}=e,{editable:a}=e;const f=u=>{s("update",{currentBondPoints:u.detail.value})};return l.$$set=u=>{"value"in u&&n(0,o=u.value),"editable"in u&&n(1,a=u.editable)},l.$$.update=()=>{l.$$.dirty&1&&n(3,t=o.points.current),l.$$.dirty&33&&n(2,i=r[o.level])},[o,a,i,t,f,r]}class $s extends le{constructor(e){super(),re(this,e,kc,bc,se,{value:0,editable:1})}}function wc(l){let e,n="Health and Status";return{c(){e=T("h2"),e.textContent=n},l(t){e=y(t,"H2",{"data-svelte-h":!0}),he(e)!=="svelte-d0ovz7"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function Ol(l){let e,n;return e=new $s({props:{value:l[1].bond,editable:l[3]}}),e.$on("update",l[8]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.value=t[1].bond),i&8&&(r.editable=t[3]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ec(l){let e,n,t,i,r,s,o,a,f,u,c;e=new Vt({props:{$$slots:{default:[wc]},$$scope:{ctx:l}}}),i=new iu({props:{pokemon:l[1],species:l[2]}}),s=new fs({props:{hp:l[1].hp,hitDice:l[1].hitDice,level:l[1].level,exp:l[1].exp,dieSize:l[1].customHitDiceSize??l[2].hitDice,status:l[1].status,hasStatusAndExp:!0,editable:l[3]}}),s.$on("update",l[6]),a=new au({props:{pokemon:l[1],species:l[2]}});let m=!l[4]&&Ol(l);return{c(){I(e.$$.fragment),n=F(),t=T("div"),I(i.$$.fragment),r=F(),I(s.$$.fragment),o=F(),I(a.$$.fragment),f=F(),m&&m.c(),u=J(),this.h()},l(p){A(e.$$.fragment,p),n=N(p),t=y(p,"DIV",{});var _=L(t);A(i.$$.fragment,_),r=N(_),A(s.$$.fragment,_),_.forEach(d),o=N(p),A(a.$$.fragment,p),f=N(p),m&&m.l(p),u=J(),this.h()},h(){we(t,"margin-bottom","0.5em")},m(p,_){C(e,p,_),b(p,n,_),b(p,t,_),C(i,t,null),E(t,r),C(s,t,null),b(p,o,_),C(a,p,_),b(p,f,_),m&&m.m(p,_),b(p,u,_),c=!0},p(p,_){const $={};_&1024&&($.$$scope={dirty:_,ctx:p}),e.$set($);const k={};_&2&&(k.pokemon=p[1]),_&4&&(k.species=p[2]),i.$set(k);const v={};_&2&&(v.hp=p[1].hp),_&2&&(v.hitDice=p[1].hitDice),_&2&&(v.level=p[1].level),_&2&&(v.exp=p[1].exp),_&6&&(v.dieSize=p[1].customHitDiceSize??p[2].hitDice),_&2&&(v.status=p[1].status),_&8&&(v.editable=p[3]),s.$set(v);const w={};_&2&&(w.pokemon=p[1]),_&4&&(w.species=p[2]),a.$set(w),p[4]?m&&(ce(),g(m,1,1,()=>{m=null}),me()):m?(m.p(p,_),_&16&&h(m,1)):(m=Ol(p),m.c(),h(m,1),m.m(u.parentNode,u))},i(p){c||(h(e.$$.fragment,p),h(i.$$.fragment,p),h(s.$$.fragment,p),h(a.$$.fragment,p),h(m),c=!0)},o(p){g(e.$$.fragment,p),g(i.$$.fragment,p),g(s.$$.fragment,p),g(a.$$.fragment,p),g(m),c=!1},d(p){p&&(d(n),d(t),d(o),d(f),d(u)),S(e,p),S(i),S(s),S(a,p),m&&m.d(p)}}}function Sc(l){let e,n;return e=new Un({props:{slot:"art",media:l[2].media,avatar:l[1].avatar,alt:"",shiny:l[1].isShiny}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.media=t[2].media),i&2&&(r.avatar=t[1].avatar),i&2&&(r.shiny=t[1].isShiny),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Cc(l){let e,n;return e=new $s({props:{slot:"after-art",value:l[1].bond,editable:l[3]}}),e.$on("update",l[8]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.value=t[1].bond),i&8&&(r.editable=t[3]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ic(l){let e,n="Stats";return{c(){e=T("h2"),e.textContent=n},l(t){e=y(t,"H2",{"data-svelte-h":!0}),he(e)!=="svelte-c6kcpv"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function Ac(l){let e,n;return e=new Cs({props:{type:l[1].type}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.type=t[1].type),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Bl(l){let e,n,t="Feats",i,r,s;return r=new as({props:{allFeats:l[5],values:l[1].feats}}),{c(){e=T("section"),n=T("h2"),n.textContent=t,i=F(),I(r.$$.fragment),this.h()},l(o){e=y(o,"SECTION",{class:!0});var a=L(e);n=y(a,"H2",{"data-svelte-h":!0}),he(n)!=="svelte-2ri5u1"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d),this.h()},h(){D(e,"class","svelte-uir09i")},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&32&&(f.allFeats=o[5]),a&2&&(f.values=o[1].feats),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function ql(l){let e,n,t,i,r;return i=new Au({props:{pokemon:l[1]}}),{c(){e=T("hr"),n=F(),t=T("section"),I(i.$$.fragment),this.h()},l(s){e=y(s,"HR",{}),n=N(s),t=y(s,"SECTION",{class:!0});var o=L(t);A(i.$$.fragment,o),o.forEach(d),this.h()},h(){D(t,"class","svelte-uir09i")},m(s,o){b(s,e,o),b(s,n,o),b(s,t,o),C(i,t,null),r=!0},p(s,o){const a={};o&2&&(a.pokemon=s[1]),i.$set(a)},i(s){r||(h(i.$$.fragment,s),r=!0)},o(s){g(i.$$.fragment,s),r=!1},d(s){s&&(d(e),d(n),d(t)),S(i)}}}function yc(l){var Y;let e,n,t,i,r,s,o,a,f,u,c,m,p,_="Abilities & Items",$,k,v,w,P,z,H,R,M,q,j;e=new Or({props:{hasImage:l[4],$$slots:{"after-art":[Cc],art:[Sc],default:[Ec]},$$scope:{ctx:l}}}),i=new Vt({props:{$$slots:{default:[Ic]},$$scope:{ctx:l}}}),s=new Ar({props:{attributes:l[1].attributes}}),a=new us({props:{level:l[1].level,attributes:l[1].attributes,savingThrows:l[1].savingThrows,proficiencies:l[1].proficiencies,type:l[1].type,specializations:l[0].specializations}}),u=new Rt({props:{$$slots:{default:[Ac]},$$scope:{ctx:l}}}),k=new Su({props:{pokemon:l[1]}}),w=new Nu({props:{pokemon:l[1]}});let K=l[1].feats.length>0&&Bl(l);R=new ku({props:{pokemon:l[1],editable:l[3]}}),R.$on("update",l[7]);let G=((Y=l[1].notes)==null?void 0:Y.length)>0&&ql(l);return{c(){I(e.$$.fragment),n=F(),t=T("section"),I(i.$$.fragment),r=F(),I(s.$$.fragment),o=F(),I(a.$$.fragment),f=F(),I(u.$$.fragment),c=F(),m=T("section"),p=T("h2"),p.textContent=_,$=F(),I(k.$$.fragment),v=F(),I(w.$$.fragment),P=F(),K&&K.c(),z=F(),H=T("section"),I(R.$$.fragment),M=F(),G&&G.c(),q=J(),this.h()},l(V){A(e.$$.fragment,V),n=N(V),t=y(V,"SECTION",{class:!0});var Q=L(t);A(i.$$.fragment,Q),r=N(Q),A(s.$$.fragment,Q),o=N(Q),A(a.$$.fragment,Q),f=N(Q),A(u.$$.fragment,Q),Q.forEach(d),c=N(V),m=y(V,"SECTION",{class:!0});var ie=L(m);p=y(ie,"H2",{"data-svelte-h":!0}),he(p)!=="svelte-182wouu"&&(p.textContent=_),$=N(ie),A(k.$$.fragment,ie),v=N(ie),A(w.$$.fragment,ie),ie.forEach(d),P=N(V),K&&K.l(V),z=N(V),H=y(V,"SECTION",{class:!0});var _e=L(H);A(R.$$.fragment,_e),_e.forEach(d),M=N(V),G&&G.l(V),q=J(),this.h()},h(){D(t,"class","stats svelte-uir09i"),D(m,"class","svelte-uir09i"),D(H,"class","svelte-uir09i")},m(V,Q){C(e,V,Q),b(V,n,Q),b(V,t,Q),C(i,t,null),E(t,r),C(s,t,null),E(t,o),C(a,t,null),E(t,f),C(u,t,null),b(V,c,Q),b(V,m,Q),E(m,p),E(m,$),C(k,m,null),E(m,v),C(w,m,null),b(V,P,Q),K&&K.m(V,Q),b(V,z,Q),b(V,H,Q),C(R,H,null),b(V,M,Q),G&&G.m(V,Q),b(V,q,Q),j=!0},p(V,[Q]){var Te;const ie={};Q&16&&(ie.hasImage=V[4]),Q&1054&&(ie.$$scope={dirty:Q,ctx:V}),e.$set(ie);const _e={};Q&1024&&(_e.$$scope={dirty:Q,ctx:V}),i.$set(_e);const ue={};Q&2&&(ue.attributes=V[1].attributes),s.$set(ue);const ae={};Q&2&&(ae.level=V[1].level),Q&2&&(ae.attributes=V[1].attributes),Q&2&&(ae.savingThrows=V[1].savingThrows),Q&2&&(ae.proficiencies=V[1].proficiencies),Q&2&&(ae.type=V[1].type),Q&1&&(ae.specializations=V[0].specializations),a.$set(ae);const be={};Q&1026&&(be.$$scope={dirty:Q,ctx:V}),u.$set(be);const ne={};Q&2&&(ne.pokemon=V[1]),k.$set(ne);const fe={};Q&2&&(fe.pokemon=V[1]),w.$set(fe),V[1].feats.length>0?K?(K.p(V,Q),Q&2&&h(K,1)):(K=Bl(V),K.c(),h(K,1),K.m(z.parentNode,z)):K&&(ce(),g(K,1,1,()=>{K=null}),me());const Fe={};Q&2&&(Fe.pokemon=V[1]),Q&8&&(Fe.editable=V[3]),R.$set(Fe),((Te=V[1].notes)==null?void 0:Te.length)>0?G?(G.p(V,Q),Q&2&&h(G,1)):(G=ql(V),G.c(),h(G,1),G.m(q.parentNode,q)):G&&(ce(),g(G,1,1,()=>{G=null}),me())},i(V){j||(h(e.$$.fragment,V),h(i.$$.fragment,V),h(s.$$.fragment,V),h(a.$$.fragment,V),h(u.$$.fragment,V),h(k.$$.fragment,V),h(w.$$.fragment,V),h(K),h(R.$$.fragment,V),h(G),j=!0)},o(V){g(e.$$.fragment,V),g(i.$$.fragment,V),g(s.$$.fragment,V),g(a.$$.fragment,V),g(u.$$.fragment,V),g(k.$$.fragment,V),g(w.$$.fragment,V),g(K),g(R.$$.fragment,V),g(G),j=!1},d(V){V&&(d(n),d(t),d(c),d(m),d(P),d(z),d(H),d(M),d(q)),S(e,V),S(i),S(s),S(a),S(u),S(k),S(w),K&&K.d(V),S(R),G&&G.d(V)}}}function Tc(l,e,n){let t,i;Ve(l,ps,p=>n(5,i=p));const r=tt();let{trainer:s}=e,{pokemon:o}=e,{species:a}=e,{editable:f}=e;const u=p=>{r("update-health",{...o,hp:{current:p.detail.currentHp,max:o.hp.max},hitDice:{current:p.detail.currentHitDice,max:o.hitDice.max},status:p.detail.currentStatus,exp:p.detail.exp})},c=p=>{r("update-pp",p.detail)},m=p=>{r("update-bond",{...o,bond:{...o.bond,points:{current:p.detail.currentBondPoints,max:o.bond.points.max}}})};return l.$$set=p=>{"trainer"in p&&n(0,s=p.trainer),"pokemon"in p&&n(1,o=p.pokemon),"species"in p&&n(2,a=p.species),"editable"in p&&n(3,f=p.editable)},l.$$.update=()=>{l.$$.dirty&6&&n(4,t=o.avatar!=null||a.media!=null&&a.media.hasAnyMedia())},[s,o,a,f,t,i,u,c,m]}class Pc extends le{constructor(e){super(),re(this,e,Tc,yc,se,{trainer:0,pokemon:1,species:2,editable:3})}}function Dc(l){let e,n,t="Cannot find pokemon",i,r,s,o,a,f,u=l[0].name+"",c,m,p,_,$,k,v,w,P=l[0].name+"",z,H,R;return $=new xs({}),{c(){e=T("div"),n=T("h1"),n.textContent=t,i=F(),r=T("p"),s=B("No pokemon with id "),o=T("strong"),a=B(l[1]),f=B(" belongs to "),c=B(u),m=B("."),p=F(),_=T("p"),I($.$$.fragment),k=F(),v=T("p"),w=B("Select one of "),z=B(P),H=B("'s pokemon to view its details."),this.h()},l(M){e=y(M,"DIV",{class:!0});var q=L(e);n=y(q,"H1",{class:!0,"data-svelte-h":!0}),he(n)!=="svelte-a6ssar"&&(n.textContent=t),i=N(q),r=y(q,"P",{});var j=L(r);s=O(j,"No pokemon with id "),o=y(j,"STRONG",{});var K=L(o);a=O(K,l[1]),K.forEach(d),f=O(j," belongs to "),c=O(j,u),m=O(j,"."),j.forEach(d),p=N(q),_=y(q,"P",{class:!0});var G=L(_);A($.$$.fragment,G),G.forEach(d),k=N(q),v=y(q,"P",{});var Y=L(v);w=O(Y,"Select one of "),z=O(Y,P),H=O(Y,"'s pokemon to view its details."),Y.forEach(d),q.forEach(d),this.h()},h(){D(n,"class","large-font space-bottom svelte-47myc3"),D(_,"class","missingno svelte-47myc3"),D(e,"class","centered padded svelte-47myc3")},m(M,q){b(M,e,q),E(e,n),E(e,i),E(e,r),E(r,s),E(r,o),E(o,a),E(r,f),E(r,c),E(r,m),E(e,p),E(e,_),C($,_,null),E(e,k),E(e,v),E(v,w),E(v,z),E(v,H),R=!0},p(M,[q]){(!R||q&2)&&oe(a,M[1]),(!R||q&1)&&u!==(u=M[0].name+"")&&oe(c,u),(!R||q&1)&&P!==(P=M[0].name+"")&&oe(z,P)},i(M){R||(h($.$$.fragment,M),R=!0)},o(M){g($.$$.fragment,M),R=!1},d(M){M&&d(e),S($)}}}function Nc(l,e,n){let{trainer:t}=e,{pokemonId:i}=e;return l.$$set=r=>{"trainer"in r&&n(0,t=r.trainer),"pokemonId"in r&&n(1,i=r.pokemonId)},[t,i]}class Fc extends le{constructor(e){super(),re(this,e,Nc,Dc,se,{trainer:0,pokemonId:1})}}function Hc(l){let e,n,t,i;return e=new st({props:{value:"Cannot find pokemon"}}),t=new Fc({props:{trainer:l[0].info,pokemonId:l[1]}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s&1&&(o.trainer=r[0].info),s&2&&(o.pokemonId=r[1]),t.$set(o)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function zc(l){let e,n,t;e=new st({props:{value:(l[2]?`${l[2]} `:"")+l[3].nickname}});const i=l[5].default,r=Xt(i,l,l[4],null);return{c(){I(e.$$.fragment),n=F(),r&&r.c()},l(s){A(e.$$.fragment,s),n=N(s),r&&r.l(s)},m(s,o){C(e,s,o),b(s,n,o),r&&r.m(s,o),t=!0},p(s,o){const a={};o&12&&(a.value=(s[2]?`${s[2]} `:"")+s[3].nickname),e.$set(a),r&&r.p&&(!t||o&16)&&xt(r,i,s,s[4],t?tn(i,s[4],o,null):en(s[4]),null)},i(s){t||(h(e.$$.fragment,s),h(r,s),t=!0)},o(s){g(e.$$.fragment,s),g(r,s),t=!1},d(s){s&&d(n),S(e,s),r&&r.d(s)}}}function Lc(l){let e,n,t,i;const r=[zc,Hc],s=[];function o(a,f){return a[3]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,[f]){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Rc(l,e,n){let t,{$$slots:i={},$$scope:r}=e,{trainer:s}=e,{id:o}=e,{titlePrefix:a=void 0}=e;return l.$$set=f=>{"trainer"in f&&n(0,s=f.trainer),"id"in f&&n(1,o=f.id),"titlePrefix"in f&&n(2,a=f.titlePrefix),"$$scope"in f&&n(4,r=f.$$scope)},l.$$.update=()=>{l.$$.dirty&3&&n(3,t=s.pokemon.find(f=>f.id===o))},[s,o,a,t,r,i]}class an extends le{constructor(e){super(),re(this,e,Rc,Lc,se,{trainer:0,id:1,titlePrefix:2})}}function Mc(l){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Kl(l){let e,n;return e=new Pe({props:{href:Ae.trainers(l[3].info.readKey,l[2].id,Le.evolvePokemon),variant:"ghost",$$slots:{default:[Vc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&12&&(r.href=Ae.trainers(t[3].info.readKey,t[2].id,Le.evolvePokemon)),i&64&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Vc(l){let e;return{c(){e=B("Evolve")},l(n){e=O(n,"Evolve")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Oc(l){let e;return{c(){e=B("Rest")},l(n){e=O(n,"Rest")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Bc(l){let e;return{c(){e=B("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function qc(l){var u;let e,n,t=((u=l[4])==null?void 0:u.evolvesTo(l[0].id).length)>0,i,r,s,o,a;e=new Pe({props:{href:Ae.trainers(l[3].info.readKey,l[2].id,Le.removePokemon),variant:"ghost",$$slots:{default:[Mc]},$$scope:{ctx:l}}});let f=t&&Kl(l);return r=new Pe({props:{href:Ae.trainers(l[3].info.readKey,l[2].id,Le.restPokemon),variant:"success",$$slots:{default:[Oc]},$$scope:{ctx:l}}}),o=new Pe({props:{href:Ae.trainers(l[3].info.readKey,l[2].id,Le.editPokemon),$$slots:{default:[Bc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),f&&f.c(),i=F(),I(r.$$.fragment),s=F(),I(o.$$.fragment)},l(c){A(e.$$.fragment,c),n=N(c),f&&f.l(c),i=N(c),A(r.$$.fragment,c),s=N(c),A(o.$$.fragment,c)},m(c,m){C(e,c,m),b(c,n,m),f&&f.m(c,m),b(c,i,m),C(r,c,m),b(c,s,m),C(o,c,m),a=!0},p(c,m){var k;const p={};m&12&&(p.href=Ae.trainers(c[3].info.readKey,c[2].id,Le.removePokemon)),m&64&&(p.$$scope={dirty:m,ctx:c}),e.$set(p),m&17&&(t=((k=c[4])==null?void 0:k.evolvesTo(c[0].id).length)>0),t?f?(f.p(c,m),m&17&&h(f,1)):(f=Kl(c),f.c(),h(f,1),f.m(i.parentNode,i)):f&&(ce(),g(f,1,1,()=>{f=null}),me());const _={};m&12&&(_.href=Ae.trainers(c[3].info.readKey,c[2].id,Le.restPokemon)),m&64&&(_.$$scope={dirty:m,ctx:c}),r.$set(_);const $={};m&12&&($.href=Ae.trainers(c[3].info.readKey,c[2].id,Le.editPokemon)),m&64&&($.$$scope={dirty:m,ctx:c}),o.$set($)},i(c){a||(h(e.$$.fragment,c),h(f),h(r.$$.fragment,c),h(o.$$.fragment,c),a=!0)},o(c){g(e.$$.fragment,c),g(f),g(r.$$.fragment,c),g(o.$$.fragment,c),a=!1},d(c){c&&(d(n),d(i),d(s)),S(e,c),f&&f.d(c),S(r,c),S(o,c)}}}function Kc(l){let e,n;return e=new Qe({props:{$$slots:{default:[qc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&93&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Uc(l,e,n){let t,i=Z,r=()=>(i(),i=Xe(f,c=>n(3,t=c)),f),s;l.$$.on_destroy.push(()=>i());const o=Rr.all();Ve(l,o,c=>n(4,s=c));let{species:a}=e,{trainer:f}=e;r();let{pokemon:u}=e;return l.$$set=c=>{"species"in c&&n(0,a=c.species),"trainer"in c&&r(n(1,f=c.trainer)),"pokemon"in c&&n(2,u=c.pokemon)},[a,f,u,t,s,o]}class jc extends le{constructor(e){super(),re(this,e,Uc,Kc,se,{species:0,trainer:1,pokemon:2})}}function Ul(l){let e,n;return e=new jc({props:{trainer:l[0],species:l[8],pokemon:l[3]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.trainer=t[0]),i&256&&(r.species=t[8]),i&8&&(r.pokemon=t[3]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Gc(l){let e,n,t,i;e=new Pc({props:{trainer:l[2].info,pokemon:l[3],species:l[8],editable:l[4]}}),e.$on("update-health",l[5]),e.$on("update-pp",l[6]),e.$on("update-bond",l[7]);let r=l[4]&&Ul(l);return{c(){I(e.$$.fragment),n=F(),r&&r.c(),t=J()},l(s){A(e.$$.fragment,s),n=N(s),r&&r.l(s),t=J()},m(s,o){C(e,s,o),b(s,n,o),r&&r.m(s,o),b(s,t,o),i=!0},p(s,o){const a={};o&4&&(a.trainer=s[2].info),o&8&&(a.pokemon=s[3]),o&256&&(a.species=s[8]),o&16&&(a.editable=s[4]),e.$set(a),s[4]?r?(r.p(s,o),o&16&&h(r,1)):(r=Ul(s),r.c(),h(r,1),r.m(t.parentNode,t)):r&&(ce(),g(r,1,1,()=>{r=null}),me())},i(s){i||(h(e.$$.fragment,s),h(r),i=!0)},o(s){g(e.$$.fragment,s),g(r),i=!1},d(s){s&&(d(n),d(t)),S(e,s),r&&r.d(s)}}}function Yc(l){let e,n;return e=new Qs({props:{slot:"header-extra",type:l[3].type.data}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.type=t[3].type.data),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Wc(l){let e,n;return e=new lt({props:{title:l[3].nickname,$$slots:{"header-extra":[Yc],default:[Gc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.title=t[3].nickname),i&797&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Qc(l){var t;let e,n;return e=new Dt({props:{ids:[(t=l[3])==null?void 0:t.pokemonId],$$slots:{default:[Wc,({species:i})=>({8:i}),({species:i})=>i?256:0]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,r){C(e,i,r),n=!0},p(i,r){var o;const s={};r&8&&(s.ids=[(o=i[3])==null?void 0:o.pokemonId]),r&797&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Zc(l){let e,n;return e=new an({props:{trainer:l[2],id:l[1],$$slots:{default:[Qc]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.trainer=t[2]),i&2&&(r.id=t[1]),i&541&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Jc(l,e,n){let t,i,r,s=Z,o=()=>(s(),s=Xe(a,p=>n(2,r=p)),a);l.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let{id:f}=e;const u=p=>{var _;(_=r.update)==null||_.pokemon(p.detail,{optimistic:!0})},c=p=>{var _;(_=r.update)==null||_.move(p.detail,{optimistic:!0})},m=p=>{var _;(_=r.update)==null||_.pokemon(p.detail,{optimistic:!0})};return l.$$set=p=>{"trainer"in p&&o(n(0,a=p.trainer)),"id"in p&&n(1,f=p.id)},l.$$.update=()=>{l.$$.dirty&4&&n(4,t=r.update!=null),l.$$.dirty&6&&n(3,i=r.pokemon.find(p=>p.id===f))},[a,f,r,i,t,u,c,m]}class Xc extends le{constructor(e){super(),re(this,e,Jc,Zc,se,{trainer:0,id:1})}}function jl(l){let e;return{c(){e=T("span"),this.h()},l(n){e=y(n,"SPAN",{class:!0}),L(e).forEach(d),this.h()},h(){D(e,"class","shadow svelte-e0vu9q")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function xc(l){var o,a,f;let e,n,t=((o=l[4])==null?void 0:o.media.sprite().value)!=null,i,r;e=new is({props:{media:(a=l[4])==null?void 0:a.media,alt:(f=l[4])==null?void 0:f.data.name,shiny:l[1].isShiny}});let s=t&&jl();return{c(){I(e.$$.fragment),n=F(),s&&s.c(),i=J()},l(u){A(e.$$.fragment,u),n=N(u),s&&s.l(u),i=J()},m(u,c){C(e,u,c),b(u,n,c),s&&s.m(u,c),b(u,i,c),r=!0},p(u,c){var p,_,$;const m={};c&16&&(m.media=(p=u[4])==null?void 0:p.media),c&16&&(m.alt=(_=u[4])==null?void 0:_.data.name),c&2&&(m.shiny=u[1].isShiny),e.$set(m),c&16&&(t=(($=u[4])==null?void 0:$.media.sprite().value)!=null),t?s||(s=jl(),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i(u){r||(h(e.$$.fragment,u),r=!0)},o(u){g(e.$$.fragment,u),r=!1},d(u){u&&(d(n),d(i)),S(e,u),s&&s.d(u)}}}function em(l){let e;return{c(){e=T("div"),this.h()},l(n){e=y(n,"DIV",{slot:!0}),L(e).forEach(d),this.h()},h(){D(e,"slot","loader")},m(n,t){b(n,e,t)},p:Z,d(n){n&&d(e)}}}function Gl(l){let e,n,t;return n=new ea({props:{src:l[2].media.sprite,alt:"Holding "+l[2].name}}),{c(){e=T("span"),I(n.$$.fragment),this.h()},l(i){e=y(i,"SPAN",{class:!0});var r=L(e);A(n.$$.fragment,r),r.forEach(d),this.h()},h(){D(e,"class","held-item svelte-e0vu9q")},m(i,r){b(i,e,r),C(n,e,null),t=!0},p(i,r){const s={};r&4&&(s.src=i[2].media.sprite),r&4&&(s.alt="Holding "+i[2].name),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function Yl(l){let e,n;return e=new qr({props:{abbr:!0,value:l[1].status}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.value=t[1].status),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function tm(l){let e,n,t,i,r,s,o=l[1].nickname+"",a,f,u,c,m,p,_,$,k,v=l[1].hp.current+"",w,P,z=l[1].hp.max+"",H,R,M,q,j,K,G=l[1].level.data+"",Y,V,Q;t=new Dt({props:{ids:[l[1].pokemonId],$$slots:{loader:[em],default:[xc,({species:ue})=>({4:ue}),({species:ue})=>ue?16:0]},$$scope:{ctx:l}}});let ie=l[2]!=null&&Gl(l);c=new yr({props:{gender:l[1].gender}}),_=new wn({props:{current:l[1].hp.current,max:l[1].hp.max}});let _e=l[1].status!=null&&Yl(l);return{c(){e=T("a"),n=T("span"),I(t.$$.fragment),i=F(),ie&&ie.c(),r=F(),s=T("span"),a=B(o),f=F(),u=T("span"),I(c.$$.fragment),m=F(),p=T("span"),I(_.$$.fragment),$=F(),k=T("span"),w=B(v),P=B("/"),H=B(z),R=F(),M=T("span"),_e&&_e.c(),q=F(),j=T("span"),K=B("Lv. "),Y=B(G),this.h()},l(ue){e=y(ue,"A",{href:!0,class:!0});var ae=L(e);n=y(ae,"SPAN",{class:!0});var be=L(n);A(t.$$.fragment,be),i=N(be),ie&&ie.l(be),be.forEach(d),r=N(ae),s=y(ae,"SPAN",{});var ne=L(s);a=O(ne,o),ne.forEach(d),f=N(ae),u=y(ae,"SPAN",{class:!0});var fe=L(u);A(c.$$.fragment,fe),fe.forEach(d),m=N(ae),p=y(ae,"SPAN",{class:!0});var Fe=L(p);A(_.$$.fragment,Fe),Fe.forEach(d),$=N(ae),k=y(ae,"SPAN",{});var Te=L(k);w=O(Te,v),P=O(Te,"/"),H=O(Te,z),Te.forEach(d),R=N(ae),M=y(ae,"SPAN",{class:!0});var pe=L(M);_e&&_e.l(pe),pe.forEach(d),q=N(ae),j=y(ae,"SPAN",{class:!0});var ge=L(j);K=O(ge,"Lv. "),Y=O(ge,G),ge.forEach(d),ae.forEach(d),this.h()},h(){D(n,"class","max-height holding-item jumping-animation svelte-e0vu9q"),we(n,"grid-area","sprite"),we(s,"grid-area","name"),D(u,"class","right away-from-edge flex svelte-e0vu9q"),we(u,"grid-area","gender"),D(p,"class","away-from-edge svelte-e0vu9q"),we(p,"grid-area","hpbar"),we(k,"grid-area","hp"),D(M,"class","smaller-text svelte-e0vu9q"),we(M,"grid-area","status"),D(j,"class","right svelte-e0vu9q"),we(j,"grid-area","lv"),D(e,"href",V=Ae.trainers(l[0],l[1].id)),D(e,"class","selectable-bubble gridded svelte-e0vu9q")},m(ue,ae){b(ue,e,ae),E(e,n),C(t,n,null),E(n,i),ie&&ie.m(n,null),E(e,r),E(e,s),E(s,a),E(e,f),E(e,u),C(c,u,null),E(e,m),E(e,p),C(_,p,null),E(e,$),E(e,k),E(k,w),E(k,P),E(k,H),E(e,R),E(e,M),_e&&_e.m(M,null),E(e,q),E(e,j),E(j,K),E(j,Y),Q=!0},p(ue,[ae]){const be={};ae&2&&(be.ids=[ue[1].pokemonId]),ae&50&&(be.$$scope={dirty:ae,ctx:ue}),t.$set(be),ue[2]!=null?ie?(ie.p(ue,ae),ae&4&&h(ie,1)):(ie=Gl(ue),ie.c(),h(ie,1),ie.m(n,null)):ie&&(ce(),g(ie,1,1,()=>{ie=null}),me()),(!Q||ae&2)&&o!==(o=ue[1].nickname+"")&&oe(a,o);const ne={};ae&2&&(ne.gender=ue[1].gender),c.$set(ne);const fe={};ae&2&&(fe.current=ue[1].hp.current),ae&2&&(fe.max=ue[1].hp.max),_.$set(fe),(!Q||ae&2)&&v!==(v=ue[1].hp.current+"")&&oe(w,v),(!Q||ae&2)&&z!==(z=ue[1].hp.max+"")&&oe(H,z),ue[1].status!=null?_e?(_e.p(ue,ae),ae&2&&h(_e,1)):(_e=Yl(ue),_e.c(),h(_e,1),_e.m(M,null)):_e&&(ce(),g(_e,1,1,()=>{_e=null}),me()),(!Q||ae&2)&&G!==(G=ue[1].level.data+"")&&oe(Y,G),(!Q||ae&3&&V!==(V=Ae.trainers(ue[0],ue[1].id)))&&D(e,"href",V)},i(ue){Q||(h(t.$$.fragment,ue),h(ie),h(c.$$.fragment,ue),h(_.$$.fragment,ue),h(_e),Q=!0)},o(ue){g(t.$$.fragment,ue),g(ie),g(c.$$.fragment,ue),g(_.$$.fragment,ue),g(_e),Q=!1},d(ue){ue&&d(e),S(t),ie&&ie.d(),S(c),S(_),_e&&_e.d()}}}function nm(l,e,n){let t,i;Ve(l,Wn,o=>n(3,i=o));let{trainer:r}=e,{pokemon:s}=e;return l.$$set=o=>{"trainer"in o&&n(0,r=o.trainer),"pokemon"in o&&n(1,s=o.pokemon)},l.$$.update=()=>{l.$$.dirty&10&&n(2,t=s.items.length>0?cs(s.items[0],i):void 0)},[r,s,t,i]}class im extends le{constructor(e){super(),re(this,e,nm,tm,se,{trainer:0,pokemon:1})}}function Wl(l,e,n){const t=l.slice();return t[10]=e[n],t}function lm(l){let e,n="See Trainer List >";return{c(){e=T("a"),e.textContent=n,this.h()},l(t){e=y(t,"A",{href:!0,class:!0,"data-svelte-h":!0}),he(e)!=="svelte-1hdm44n"&&(e.textContent=n),this.h()},h(){D(e,"href",xe+"/trainers"),D(e,"class","dark-font svelte-19jifka")},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function rm(l){let e,n;return{c(){e=T("a"),n=B("View trainer profile >"),this.h()},l(t){e=y(t,"A",{href:!0,class:!0});var i=L(e);n=O(i,"View trainer profile >"),i.forEach(d),this.h()},h(){D(e,"href",l[4]),D(e,"class","dark-font svelte-19jifka")},m(t,i){b(t,e,i),E(e,n)},p(t,i){i&16&&D(e,"href",t[4])},d(t){t&&d(e)}}}function sm(l){let e;function n(r,s){return r[1]?rm:lm}let t=n(l),i=t(l);return{c(){e=T("span"),i.c(),this.h()},l(r){e=y(r,"SPAN",{slot:!0});var s=L(e);i.l(s),s.forEach(d),this.h()},h(){D(e,"slot","link")},m(r,s){b(r,e,s),i.m(e,null)},p(r,s){t===(t=n(r))&&i?i.p(r,s):(i.d(1),i=t(r),i&&(i.c(),i.m(e,null)))},d(r){r&&d(e),i.d()}}}function am(l){let e;return{c(){e=B("+ Add Pokemon")},l(n){e=O(n,"+ Add Pokemon")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function om(l){let e,n,t;return n=new Pe({props:{href:l[4]+"&action=add-pokemon",$$slots:{default:[am]},$$scope:{ctx:l}}}),{c(){e=T("span"),I(n.$$.fragment),this.h()},l(i){e=y(i,"SPAN",{slot:!0});var r=L(e);A(n.$$.fragment,r),r.forEach(d),this.h()},h(){D(e,"slot","action"),we(e,"visibility",l[6]?"visible":"hidden"),we(e,"display","flex")},m(i,r){b(i,e,r),C(n,e,null),t=!0},p(i,r){const s={};r&16&&(s.href=i[4]+"&action=add-pokemon"),r&8192&&(s.$$scope={dirty:r,ctx:i}),n.$set(s),r&64&&we(e,"visibility",i[6]?"visible":"hidden")},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function Ql(l,e){let n,t,i,r;return t=new im({props:{trainer:e[2].info.readKey,pokemon:e[10]}}),{key:l,first:null,c(){n=T("li"),I(t.$$.fragment),i=F(),this.h()},l(s){n=y(s,"LI",{class:!0});var o=L(n);A(t.$$.fragment,o),i=N(o),o.forEach(d),this.h()},h(){D(n,"class","space-after svelte-19jifka"),this.first=n},m(s,o){b(s,n,o),C(t,n,null),E(n,i),r=!0},p(s,o){e=s;const a={};o&4&&(a.trainer=e[2].info.readKey),o&32&&(a.pokemon=e[10]),t.$set(a)},i(s){r||(h(t.$$.fragment,s),r=!0)},o(s){g(t.$$.fragment,s),r=!1},d(s){s&&d(n),S(t)}}}function fm(l){let e,n,t,i,r,s,o,a,f,u=[],c=new Map,m;e=new Tr({props:{title:l[2].info.name+"'s Pokemon",target:"/trainers",$$slots:{action:[om],link:[sm]},$$scope:{ctx:l}}});function p(v){l[7](v)}let _={id:"filter-pokemon",label:"Search",matched:l[5].length,max:l[2].pokemon.length};l[3]!==void 0&&(_.value=l[3]),i=new Zr({props:_}),x.push(()=>ee(i,"value",p));let $=De(l[5]);const k=v=>v[10].id;for(let v=0;v<$.length;v+=1){let w=Wl(l,$,v),P=k(w);c.set(P,u[v]=Ql(P,w))}return{c(){I(e.$$.fragment),n=F(),t=T("div"),I(i.$$.fragment),s=F(),o=T("div"),a=T("div"),f=T("ul");for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){A(e.$$.fragment,v),n=N(v),t=y(v,"DIV",{class:!0});var w=L(t);A(i.$$.fragment,w),w.forEach(d),s=N(v),o=y(v,"DIV",{class:!0});var P=L(o);a=y(P,"DIV",{class:!0});var z=L(a);f=y(z,"UL",{class:!0});var H=L(f);for(let R=0;R<u.length;R+=1)u[R].l(H);H.forEach(d),z.forEach(d),P.forEach(d),this.h()},h(){D(t,"class","space-bottom svelte-19jifka"),D(f,"class","nolist no-space partial-width svelte-19jifka"),D(a,"class","scrollable svelte-19jifka"),D(o,"class","relative svelte-19jifka")},m(v,w){C(e,v,w),b(v,n,w),b(v,t,w),C(i,t,null),b(v,s,w),b(v,o,w),E(o,a),E(a,f);for(let P=0;P<u.length;P+=1)u[P]&&u[P].m(f,null);m=!0},p(v,[w]){const P={};w&4&&(P.title=v[2].info.name+"'s Pokemon"),w&8274&&(P.$$scope={dirty:w,ctx:v}),e.$set(P);const z={};w&32&&(z.matched=v[5].length),w&4&&(z.max=v[2].pokemon.length),!r&&w&8&&(r=!0,z.value=v[3],te(()=>r=!1)),i.$set(z),w&36&&($=De(v[5]),ce(),u=ln(u,w,k,1,v,$,c,f,rn,Ql,null,Wl),me())},i(v){if(!m){h(e.$$.fragment,v),h(i.$$.fragment,v);for(let w=0;w<$.length;w+=1)h(u[w]);m=!0}},o(v){g(e.$$.fragment,v),g(i.$$.fragment,v);for(let w=0;w<u.length;w+=1)g(u[w]);m=!1},d(v){v&&(d(n),d(t),d(s),d(o)),S(e,v),S(i);for(let w=0;w<u.length;w+=1)u[w].d()}}}function um(l,e,n){let t,i,r,s,o=Z,a=()=>(o(),o=Xe(u,$=>n(2,s=$)),u),f;Ve(l,bi,$=>n(3,f=$)),l.$$.on_destroy.push(()=>o());let{trainer:u}=e;a();let{currentPokemon:c}=e;const m=$=>(k,v)=>$(k).localeCompare($(v)),p=$=>k=>k.nickname.toLocaleLowerCase().includes($)||k.pokemonId.data.replace("-"," ").includes($);function _($){f=$,bi.set(f)}return l.$$set=$=>{"trainer"in $&&a(n(0,u=$.trainer)),"currentPokemon"in $&&n(1,c=$.currentPokemon)},l.$$.update=()=>{l.$$.dirty&4&&n(6,t=s.update!=null),l.$$.dirty&12&&n(5,i=s.pokemon.filter(p(f.toLocaleLowerCase())).sort(m($=>$.nickname))),l.$$.dirty&4&&n(4,r=`${xe}/trainers?id=${s.info.readKey}`)},[u,c,s,f,r,i,t,_]}class cm extends le{constructor(e){super(),re(this,e,um,fm,se,{trainer:0,currentPokemon:1})}}const ri=An(qt,l=>l==="2018"?ta:na);class si extends Jr{isStandard(){return Sr(ri).includes(this.data)}}function mm(l){let e,n,t,i;function r(a){l[6](a)}function s(a){l[7](a)}let o={label:"Nature",options:l[3],disabled:l[0]};return l[1]!==void 0&&(o.value=l[1]),l[2]!==void 0&&(o.other=l[2]),e=new ht({props:o}),x.push(()=>ee(e,"value",r)),x.push(()=>ee(e,"other",s)),{c(){I(e.$$.fragment)},l(a){A(e.$$.fragment,a)},m(a,f){C(e,a,f),i=!0},p(a,[f]){const u={};f&8&&(u.options=a[3]),f&1&&(u.disabled=a[0]),!n&&f&2&&(n=!0,u.value=a[1],te(()=>n=!1)),!t&&f&4&&(t=!0,u.other=a[2],te(()=>t=!1)),e.$set(u)},i(a){i||(h(e.$$.fragment,a),i=!0)},o(a){g(e.$$.fragment,a),i=!1},d(a){S(e,a)}}}const Zl="other";function dm(l,e,n){let t,i;Ve(l,ri,c=>n(5,i=c));let{value:r}=e,{disabled:s=!1}=e,o=r.isStandard()?r.data:Zl,a=r.data;function f(c){o=c,n(1,o)}function u(c){a=c,n(2,a)}return l.$$set=c=>{"value"in c&&n(4,r=c.value),"disabled"in c&&n(0,s=c.disabled)},l.$$.update=()=>{l.$$.dirty&32&&n(3,t=i.map(c=>({name:c,value:c}))),l.$$.dirty&6&&n(4,r=new si(o===Zl?a:o))},[s,o,a,t,r,i,f,u]}class pm extends le{constructor(e){super(),re(this,e,dm,mm,se,{value:4,disabled:0})}}const pn="trainer_avatars";class _m{constructor(e,n){Ne(this,"allTrainers",async()=>Promise.all(ot.getReadKeys().map(e=>this.getOneTrainerInfo(e))).then(e=>e.filter(n=>n!=null)));Ne(this,"getTrainer",async e=>{const n=await this.getOneTrainerInfo(e);if(!n)return;ot.addReadKey(e);const t=await this.getTrainersPokemon(n.id),i=ot.getWriteKey(e);return{info:n,pokemon:t,writeKey:i}});Ne(this,"getOneTrainerInfo",async e=>{const n=await this.supabase.rpc("get_trainer",{_read_key:e}).maybeSingle().then(({data:r,error:s})=>{if(s)throw new He("Could not get trainer.",s);if(r)return $m(r,this.getStorageResource)});if(n==null)return;const[t,i]=await Promise.all([this.getTrainerInventory(n.readKey),this.getTrainerFeats(n.readKey)]);return n.inventory=t,n.feats=i,n});Ne(this,"getTrainersPokemon",async e=>await this.supabase.rpc("get_pokemon",{_trainer_id:e}).select().then(({data:n,error:t})=>{if(t)throw new He("Could not trainer's pokemon.",t);return n.map(i=>hm(i,this.getUserAssetResource))}).then(n=>Promise.all(n.map(t=>this.getMoveset(t.id).then(i=>({...t,moves:i}))))).then(n=>Promise.all(n.map(t=>this.getHeldItems(t.id).then(i=>({...t,items:i}))))).then(n=>Promise.all(n.map(t=>this.getPokemonFeats(t.id).then(i=>({...t,feats:i}))))));Ne(this,"newTrainer",async e=>{const n={...e,level:new bt(1),ac:10,hp:{current:8,max:8},hitDice:{current:1,max:1},attributes:new yt({str:10,dex:10,con:10,int:10,wis:10,cha:10}),proficiencies:new vn({athletics:0,acrobatics:0,"sleight of hand":0,stealth:0,arcana:0,history:0,investigation:0,nature:0,religion:0,"animal handling":1,insight:0,medicine:0,perception:0,survival:0,deception:0,intimidation:0,performance:0,persuasion:0}),savingThrows:["cha"],biography:{species:"Human",gender:null,age:null,homeRegion:null,background:null},money:0,inventory:[],specializations:{ghost:0,fairy:0,normal:0,fighting:0,flying:0,poison:0,fire:0,grass:0,water:0,electric:0,psychic:0,dark:0,bug:0,ice:0,dragon:0,steel:0,rock:0,ground:0},path:Lo(),feats:[]},{data:t,error:i}=await this.supabase.rpc("new_trainer",{_name:n.name,_description:n.description,_level:n.level.data,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_species:n.biography.species,_gender:n.biography.gender,_age:n.biography.age,_home_region:n.biography.homeRegion,_background:n.biography.background,_money:n.money,_special_normal:n.specializations.normal??0,_special_fighting:n.specializations.fighting??0,_special_flying:n.specializations.flying??0,_special_poison:n.specializations.poison??0,_special_ground:n.specializations.ground??0,_special_rock:n.specializations.rock??0,_special_bug:n.specializations.bug??0,_special_ghost:n.specializations.ghost??0,_special_steel:n.specializations.steel??0,_special_fire:n.specializations.fire??0,_special_water:n.specializations.water??0,_special_grass:n.specializations.grass??0,_special_electric:n.specializations.electric??0,_special_psychic:n.specializations.psychic??0,_special_ice:n.specializations.ice??0,_special_dragon:n.specializations.dragon??0,_special_dark:n.specializations.dark??0,_special_fairy:n.specializations.fairy??0,_path_name:n.path.name,_path_resource:n.path.resource,_path_rank_1_name:"",_path_rank_1_desc:n.path.customFeatures.level2.description,_path_rank_2_name:n.path.customFeatures.level5.name,_path_rank_2_desc:n.path.customFeatures.level5.description,_path_rank_3_name:n.path.customFeatures.level9.name,_path_rank_3_desc:n.path.customFeatures.level9.description,_path_rank_4_name:n.path.customFeatures.level15.name,_path_rank_4_desc:n.path.customFeatures.level15.description}).single();if(i)throw new He("Could not create trainer.",i);return ot.addReadKey(t.ret_read_key),ot.addWriteKey(t.ret_read_key,t.ret_write_key),{info:{...n,id:t.ret_id,readKey:t.ret_read_key},pokemon:[],writeKey:t.ret_write_key}});Ne(this,"updateTrainerInfo",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_trainer",{_write_key:e,_name:n.name,_description:n.description,_level:n.level.data,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_species:n.biography.species,_gender:n.biography.gender,_age:n.biography.age,_home_region:n.biography.homeRegion,_background:n.biography.background,_money:n.money,_special_normal:n.specializations.normal??0,_special_fighting:n.specializations.fighting??0,_special_flying:n.specializations.flying??0,_special_poison:n.specializations.poison??0,_special_ground:n.specializations.ground??0,_special_rock:n.specializations.rock??0,_special_bug:n.specializations.bug??0,_special_ghost:n.specializations.ghost??0,_special_steel:n.specializations.steel??0,_special_fire:n.specializations.fire??0,_special_water:n.specializations.water??0,_special_grass:n.specializations.grass??0,_special_electric:n.specializations.electric??0,_special_psychic:n.specializations.psychic??0,_special_ice:n.specializations.ice??0,_special_dragon:n.specializations.dragon??0,_special_dark:n.specializations.dark??0,_special_fairy:n.specializations.fairy??0,_path_name:n.path.name,_path_resource:n.path.resource,_path_rank_1_name:"",_path_rank_1_desc:n.path.customFeatures.level2.description,_path_rank_2_name:n.path.customFeatures.level5.name,_path_rank_2_desc:n.path.customFeatures.level5.description,_path_rank_3_name:n.path.customFeatures.level9.name,_path_rank_3_desc:n.path.customFeatures.level9.description,_path_rank_4_name:n.path.customFeatures.level15.name,_path_rank_4_desc:n.path.customFeatures.level15.description}).single();if(i)throw new He("Could not update trainer.",i);if(t<=0)throw new He("Either this trainer does not exist or you do not have permission to edit them.");return t>0});Ne(this,"updateTrainerAvatar",async(e,n,t)=>{const i=await this.generateTrainerAvatarFilename(e,n),{error:r}=await this.supabase.storage.from(pn).upload(i,n);if(r)throw new He("Could not upload file for trainer.");return await this.removeOldTrainerAvatar(t),this.getStorageResource(pn,i)});Ne(this,"removeTrainerAvatar",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("remove_trainer_avatar",{_write_key:e}).single();if(t!=null&&t<=0)throw new He("You do not have permission to edit this trainer.");if(i)throw new He("Could not remove trainer's avatar image",i);await this.removeOldTrainerAvatar(n)});Ne(this,"generateTrainerAvatarFilename",async(e,n)=>{const t=n.name.split(".").at(-1),{data:i,error:r}=await this.supabase.rpc("new_trainer_avatar_filename",{_write_key:e,_extension:"."+t}).single();if(r)throw new He("Could not generate filename for trainer avatar.",r);return i});Ne(this,"removeOldTrainerAvatar",async e=>{if(e!=null){const{error:n}=await this.supabase.storage.from(pn).remove([e.name]);n&&console.warn("Could not remove old trainer avatar. Ignoring this error.")}});Ne(this,"removeTrainer",async(e,n)=>{ot.removeWriteKey(n),ot.removeReadKey(n)});Ne(this,"deleteTrainer",async(e,n,t)=>{const{data:i,error:r}=await this.supabase.rpc("delete_trainer",{_write_key:e,_id:n}).single();if(r)throw new He("Could not delete trainer.",r);if(i<=0)throw new He("Either this trainer does not exist or you do not have permission to edit them.");return ot.removeWriteKey(t),ot.removeReadKey(t),i>0});Ne(this,"updatePokemon",async(e,n)=>{var r;const{data:t,error:i}=await this.supabase.rpc("update_pokemon",{_write_key:e,_id:parseInt(n.id),_species:n.pokemonId.data,_nickname:n.nickname,_type:n.type.data,_nature:n.nature.data,_level:n.level.data,_gender:n.gender,_strength:n.attributes.str.score,_dexterity:n.attributes.dex.score,_constitution:n.attributes.con.score,_intelligence:n.attributes.int.score,_wisdom:n.attributes.wis.score,_charisma:n.attributes.cha.score,_ac:n.ac,_hp_cur:n.hp.current,_hp_max:n.hp.max,_hit_dice_cur:n.hitDice.current,_hit_dice_max:n.hitDice.max,_rank_athletics:n.proficiencies.data.athletics,_rank_acrobatics:n.proficiencies.data.acrobatics,_rank_sleight_of_hand:n.proficiencies.data["sleight of hand"],_rank_stealth:n.proficiencies.data.stealth,_rank_arcana:n.proficiencies.data.arcana,_rank_history:n.proficiencies.data.history,_rank_investigation:n.proficiencies.data.investigation,_rank_nature:n.proficiencies.data.nature,_rank_religion:n.proficiencies.data.religion,_rank_animal_handling:n.proficiencies.data["animal handling"],_rank_insight:n.proficiencies.data.insight,_rank_medicine:n.proficiencies.data.medicine,_rank_perception:n.proficiencies.data.perception,_rank_survival:n.proficiencies.data.survival,_rank_deception:n.proficiencies.data.deception,_rank_intimidation:n.proficiencies.data.intimidation,_rank_performance:n.proficiencies.data.performance,_rank_persuasion:n.proficiencies.data.persuasion,_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_ability:n.ability??"",_notes:n.notes,_tera_type:n.teraType.data,_exp:n.exp,_status:n.status,_held_item:null,_is_shiny:n.isShiny,_custom_size:n.customSize??null,_hit_dice_size:((r=n.customHitDiceSize)==null?void 0:r.data)??null,_speed_walking:n.speeds.data.walking??null,_speed_climbing:n.speeds.data.climbing??null,_speed_swimming:n.speeds.data.swimming??null,_speed_flying:n.speeds.data.flying??null,_speed_hover:n.speeds.data.hover??null,_speed_burrowing:n.speeds.data.burrowing??null,_sense_darkvision:n.senses.data.darkvision??null,_sense_blindsight:n.senses.data.blindsight??null,_sense_tremorsense:n.senses.data.tremorsense??null,_sense_truesight:n.senses.data.truesight??null,_bond_level:n.bond.level,_bond_points_cur:n.bond.points.current,_bond_points_max:n.bond.points.max}).single();if(i)throw new He("Could not update pokemon.",i);if(t<=0)throw new He("Either this pokemon does not exist or you do not have permission to edit them.");return t>0});Ne(this,"updatePokemonAvatar",async(e,n,t)=>{const{data:i,error:r}=await this.supabase.functions.invoke("user-assets",{method:"POST",body:{type:"pokemon-avatar",params:{id:n.id,key:e,mimetype:t.type,sizeInBytes:t.size}}});if(r)throw new He("Could not upload file for pokemon.");return await this.userAssets.upload(i.values.uploadUrl,t),this.getUserAssetResource(i.values.filename)});Ne(this,"removePokemonAvatar",async(e,n)=>{const{error:t}=await this.supabase.functions.invoke("user-assets",{method:"DELETE",body:{type:"pokemon-avatar",params:{id:n.id,key:e}}});if(t)throw console.error(t),new He("Could not delete file for pokemon.")});Ne(this,"addPokemonToTeam",async(e,n,t)=>{var o,a;const i={trainerId:n,pokemonId:t.id,nickname:t.data.name,type:t.type,nature:new si(Sr(ri)[0]),level:new bt(t.data.minLevel),exp:Kr(t.data.minLevel),gender:Lt.None,attributes:t.attributes,ac:t.data.ac,ability:(o=t.abilities.toList()[0])==null?void 0:o.id,hp:{current:t.data.hp,max:t.data.hp},hitDice:{current:t.data.minLevel,max:t.data.minLevel},proficiencies:t.skills.copy(),savingThrows:t.data.saves,moves:[],items:[],notes:t.data.notes??"",teraType:new Tt(t.type.primary),status:null,isShiny:!1,feats:[],customSize:void 0,customHitDiceSize:void 0,speeds:new Vr({}),senses:new Mr({}),bond:{level:0,points:{current:0,max:0}}},{data:r,error:s}=await this.supabase.rpc("add_pokemon",{_write_key:e,_nickname:t.data.name,_species:t.id.data,_nature:i.nature.data,_type:t.type.data,_level:t.data.minLevel,_gender:Lt.None,_strength:t.attributes.str.score,_dexterity:t.attributes.dex.score,_constitution:t.attributes.con.score,_intelligence:t.attributes.int.score,_wisdom:t.attributes.wis.score,_charisma:t.attributes.cha.score,_ac:t.data.ac,_hp_cur:t.data.hp,_hp_max:t.data.hp,_hit_dice_cur:t.data.minLevel,_hit_dice_max:t.data.minLevel,_rank_athletics:i.proficiencies.data.athletics,_rank_acrobatics:i.proficiencies.data.acrobatics,_rank_sleight_of_hand:i.proficiencies.data["sleight of hand"],_rank_stealth:i.proficiencies.data.stealth,_rank_arcana:i.proficiencies.data.arcana,_rank_history:i.proficiencies.data.history,_rank_investigation:i.proficiencies.data.investigation,_rank_nature:i.proficiencies.data.nature,_rank_religion:i.proficiencies.data.religion,_rank_animal_handling:i.proficiencies.data["animal handling"],_rank_insight:i.proficiencies.data.insight,_rank_medicine:i.proficiencies.data.medicine,_rank_perception:i.proficiencies.data.perception,_rank_survival:i.proficiencies.data.survival,_rank_deception:i.proficiencies.data.deception,_rank_intimidation:i.proficiencies.data.intimidation,_rank_performance:i.proficiencies.data.performance,_rank_persuasion:i.proficiencies.data.persuasion,_save_str:t.data.saves.includes("str"),_save_dex:t.data.saves.includes("dex"),_save_con:t.data.saves.includes("con"),_save_int:t.data.saves.includes("int"),_save_wis:t.data.saves.includes("wis"),_save_cha:t.data.saves.includes("cha"),_ability:((a=t.abilities.toList()[0])==null?void 0:a.id)??"",_notes:i.notes??"",_tera_type:t.type.primary,_exp:i.exp,_status:null,_held_item:null,_is_shiny:!1,_custom_size:null,_hit_dice_size:null,_speed_walking:null,_speed_climbing:null,_speed_swimming:null,_speed_flying:null,_speed_hover:null,_speed_burrowing:null,_sense_darkvision:null,_sense_blindsight:null,_sense_tremorsense:null,_sense_truesight:null,_bond_level:0,_bond_points_cur:0,_bond_points_max:0}).single();if(s)throw new He("Could not add pokemon.",s);return{...i,id:r.toString()}});Ne(this,"removePokemon",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("remove_pokemon",{_write_key:e,_id:n}).single();if(i)throw new He("Could not remove pokemon.",i);return t>0});Ne(this,"updateListOfThings",async({thingName:e,writeKey:n,newThings:t,getExistingThings:i,removeFunctionName:r,updateFunctionName:s,addFunctionName:o,mapThingToDbArgument:a})=>{const f=await i(),u=t.map(p=>p.id),c=f.map(p=>p.id),m=c.filter(p=>!u.includes(p));return await Promise.all(m.map(p=>this.supabase.rpc(r,{_write_key:n,_id:p}).single().then(({data:_,error:$})=>{if($)throw new He(`Could not delete ${e}.`,$);if(_<=0)throw new He("Either this trainer/pokemon does not exist or you do not have permission to edit them.");return _>0}))),await Promise.all(t.map((p,_)=>c.includes(p.id)?this.supabase.rpc(s,a(p,_,"update")).single().then(({data:$,error:k})=>{if(k)throw new He(`Could not update ${e}.`,k);if($<=0)throw new He("Either this trainer/pokemon does not exist or you do not have permission to edit them.");return{...p}}):this.supabase.rpc(o,a(p,_,"add")).single().then(({data:$,error:k})=>{if(k)throw new He(`Could not add ${e}.`,k);return{...p,id:$}})))});Ne(this,"updateMoveset",async(e,n,t)=>this.updateListOfThings({thingName:"move",writeKey:e,newThings:t,getExistingThings:()=>this.getMoveset(n),removeFunctionName:"remove_move",updateFunctionName:"update_move",addFunctionName:"add_move",mapThingToDbArgument:(i,r,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_move_id:i.moveId,_pp_cur:i.pp.current,_pp_max:i.pp.max,_notes:i.notes,_rank:r})}));Ne(this,"updateOneMove",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_move",{_write_key:e,_id:n.id,_move_id:n.moveId,_pp_cur:n.pp.current,_pp_max:n.pp.max,_notes:n.notes}).single();if(i)throw new He("Could not update pokemon.",i);if(t<=0)throw new He("Either this pokemon does not exist or you do not have permission to edit them.");return t>0});Ne(this,"updateAllHeldItems",async(e,n,t)=>this.updateListOfThings({thingName:"held item",writeKey:e,newThings:t,getExistingThings:()=>this.getHeldItems(n),removeFunctionName:"remove_held_item",updateFunctionName:"update_held_item",addFunctionName:"add_held_item",mapThingToDbArgument:(i,r,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_item_id:i.type==="standard"?i.itemId:null,_custom_name:i.type==="custom"?i.name:null,_description:i.type==="custom"?i.description:null,_rank:r})}));Ne(this,"updateTrainerInventory",async(e,n)=>this.updateListOfThings({thingName:"inventory item",writeKey:e,newThings:n,getExistingThings:()=>this.getTrainerInventory(ot.getReadKey(e)),removeFunctionName:"remove_inventory_item",updateFunctionName:"update_inventory_item",addFunctionName:"add_inventory_item",mapThingToDbArgument:(t,i,r)=>({_write_key:e,_id:r==="update"?t.id:void 0,_item_id:t.type==="standard"?t.itemId:null,_quantity:t.quantity,_custom_name:t.type==="custom"?t.name:null,_description:t.type==="custom"?t.description:null,_rank:i})}));Ne(this,"updateTrainerFeats",async(e,n)=>this.updateListOfThings({thingName:"feat",writeKey:e,newThings:n,getExistingThings:()=>this.getTrainerFeats(ot.getReadKey(e)),removeFunctionName:"remove_trainer_feat",updateFunctionName:"update_trainer_feat",addFunctionName:"add_trainer_feat",mapThingToDbArgument:(t,i,r)=>({_write_key:e,_id:r==="update"?t.id:void 0,_feat_name:t.name,_description:t.description,_is_custom:t.isCustom,_rank:i})}));Ne(this,"updatePokemonFeats",async(e,n,t)=>this.updateListOfThings({thingName:"feat",writeKey:e,newThings:t,getExistingThings:()=>this.getPokemonFeats(n),removeFunctionName:"remove_pokemon_feat",updateFunctionName:"update_pokemon_feat",addFunctionName:"add_pokemon_feat",mapThingToDbArgument:(i,r,s)=>({_write_key:e,_pokemon_id:s==="add"?n:void 0,_id:s==="update"?i.id:void 0,_feat_name:i.name,_description:i.description,_is_custom:i.isCustom,_rank:r})}));Ne(this,"updateTrainerItem",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("update_inventory_item",{_write_key:e,_id:n.id,_item_id:n.type==="standard"?n.itemId:null,_quantity:n.quantity,_custom_name:n.type==="custom"?n.name:null,_description:n.type==="custom"?n.description:null}).single();if(i)throw new He("Could not update inventory item.",i);if(t<=0)throw new He("Either this trainer does not exist or you do not have permission to edit them.");return t>0});Ne(this,"verifyWriteKey",async(e,n)=>{const{data:t,error:i}=await this.supabase.rpc("verify_write_key",{_id:e.id,_write_key:n}).single();if(i)throw new He("Could not verify trainer.",i);return t>0&&ot.addWriteKey(e.readKey,n),t>0});Ne(this,"getMoveset",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_moveset",{_pokemon_id:e}).select();if(t)throw new He("Could not get moveset.",t);return(n==null?void 0:n.map(i=>gm(i)))??[]});Ne(this,"getHeldItems",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_held_items",{_pokemon_id:e}).select();if(t)throw new He("Could not get held items.",t);return(n==null?void 0:n.map(i=>vm(i)))??[]});Ne(this,"getTrainerInventory",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_inventory_items",{_read_key:e}).select();if(t)throw new He("Could not get inventory items.",t);return(n==null?void 0:n.map(i=>bm(i)))??[]});Ne(this,"getTrainerFeats",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_trainer_feats",{_read_key:e}).select();if(t)throw new He("Could not get trainer feats.",t);return(n==null?void 0:n.map(i=>km(i)))??[]});Ne(this,"getPokemonFeats",async e=>{const{data:n,error:t}=await this.supabase.rpc("get_pokemon_feats",{_pokemon_id:e}).select();if(t)throw new He("Could not get pokemon feats.",t);return(n==null?void 0:n.map(i=>wm(i)))??[]});Ne(this,"getStorageResource",(e,n)=>({name:n,href:this.supabase.storage.from(e).getPublicUrl(n).data.publicUrl}));Ne(this,"getUserAssetResource",e=>({name:e,href:this.userAssets.getAssetUrl(e)}));this.supabase=e,this.userAssets=n}}const $m=(l,e)=>({id:l.id,readKey:l.read_key,name:l.name,description:l.description,level:new bt(l.level),attributes:new yt({str:l.strength,dex:l.dexterity,con:l.constitution,int:l.intelligence,wis:l.wisdom,cha:l.charisma}),ac:l.ac,hp:{current:l.hp_cur,max:l.hp_max},hitDice:{current:l.hit_dice_cur,max:l.hit_dice_max},proficiencies:gs({athletics:[l.prof_athletics,l.rank_athletics],acrobatics:[l.prof_acrobatics,l.rank_acrobatics],"sleight of hand":[l.prof_sleight_of_hand,l.rank_sleight_of_hand],stealth:[l.prof_stealth,l.rank_stealth],arcana:[l.prof_arcana,l.rank_arcana],history:[l.prof_history,l.rank_history],investigation:[l.prof_investigation,l.rank_investigation],nature:[l.prof_nature,l.rank_nature],religion:[l.prof_religion,l.rank_religion],"animal handling":[l.prof_animal_handling,l.rank_animal_handling],insight:[l.prof_insight,l.rank_insight],medicine:[l.prof_medicine,l.rank_medicine],perception:[l.prof_perception,l.rank_perception],survival:[l.prof_survival,l.rank_survival],deception:[l.prof_deception,l.rank_deception],intimidation:[l.prof_intimidation,l.rank_intimidation],performance:[l.prof_performance,l.rank_performance],persuasion:[l.prof_persuasion,l.rank_persuasion]}),savingThrows:hs({str:l.save_str,dex:l.save_dex,con:l.save_con,int:l.save_int,wis:l.save_wis,cha:l.save_cha}),biography:{species:l.species,gender:l.gender,age:l.age,homeRegion:l.home_region,background:l.background},money:l.money,inventory:[],avatar:l.avatar_filename!=null?e(pn,l.avatar_filename):null,specializations:{normal:l.special_normal,fighting:l.special_fighting,flying:l.special_flying,poison:l.special_poison,ground:l.special_ground,rock:l.special_rock,bug:l.special_bug,ghost:l.special_ghost,steel:l.special_steel,fire:l.special_fire,water:l.special_water,grass:l.special_grass,electric:l.special_electric,psychic:l.special_psychic,ice:l.special_ice,dragon:l.special_dragon,dark:l.special_dark,fairy:l.special_fairy},path:{name:l.path_name,resource:l.path_resource,customFeatures:{level2:{description:l.path_rank_1_desc},level5:{name:l.path_rank_2_name,description:l.path_rank_2_desc},level9:{name:l.path_rank_3_name,description:l.path_rank_3_desc},level15:{name:l.path_rank_4_name,description:l.path_rank_4_desc}}},feats:[]}),hs=l=>Object.entries(l).filter(([,e])=>e).map(([e])=>e),gs=l=>new vn(Object.entries(l).reduce((e,[n,[t,i]])=>({...e,[n]:i>0?i:t?1:0}),{})),hm=(l,e)=>({id:l.id.toString(),trainerId:l.trainer_id,pokemonId:new Rs(l.species),nickname:l.nickname,type:new Ln(l.type.filter(Ln.isPokeType)),nature:new si(l.nature),level:new bt(l.level),exp:l.exp,gender:l.gender,attributes:new yt({str:l.strength,dex:l.dexterity,con:l.constitution,int:l.intelligence,wis:l.wisdom,cha:l.charisma}),ac:l.ac,hp:{current:l.hp_cur,max:l.hp_max},hitDice:{current:l.hit_dice_cur,max:l.hit_dice_max},ability:l.ability,proficiencies:gs({athletics:[l.prof_athletics,l.rank_athletics],acrobatics:[l.prof_acrobatics,l.rank_acrobatics],"sleight of hand":[l.prof_sleight_of_hand,l.rank_sleight_of_hand],stealth:[l.prof_stealth,l.rank_stealth],arcana:[l.prof_arcana,l.rank_arcana],history:[l.prof_history,l.rank_history],investigation:[l.prof_investigation,l.rank_investigation],nature:[l.prof_nature,l.rank_nature],religion:[l.prof_religion,l.rank_religion],"animal handling":[l.prof_animal_handling,l.rank_animal_handling],insight:[l.prof_insight,l.rank_insight],medicine:[l.prof_medicine,l.rank_medicine],perception:[l.prof_perception,l.rank_perception],survival:[l.prof_survival,l.rank_survival],deception:[l.prof_deception,l.rank_deception],intimidation:[l.prof_intimidation,l.rank_intimidation],performance:[l.prof_performance,l.rank_performance],persuasion:[l.prof_persuasion,l.rank_persuasion]}),savingThrows:hs({str:l.save_str,dex:l.save_dex,con:l.save_con,int:l.save_int,wis:l.save_wis,cha:l.save_cha}),moves:[],items:[],notes:l.notes,teraType:Tt.isTeraType(l.tera_type)?new Tt(l.tera_type):void 0,status:l.status,isShiny:l.is_shiny,feats:[],customSize:Ms(l.custom_size)?l.custom_size:void 0,customHitDiceSize:Mt.isHitDice(l.hit_dice_size)?new Mt(l.hit_dice_size):void 0,speeds:new Vr({walking:l.speed_walking,climbing:l.speed_climbing,swimming:l.speed_swimming,flying:l.speed_flying,hover:l.speed_hover,burrowing:l.speed_burrowing}),senses:new Mr({darkvision:l.sense_darkvision,blindsight:l.sense_blindsight,tremorsense:l.sense_tremorsense,truesight:l.sense_truesight}),bond:{level:l.bond_level,points:{current:l.bond_points_cur,max:l.bond_points_max}},avatar:l.avatar_filename?e(l.avatar_filename):void 0}),gm=l=>({id:l.id.toString(),moveId:l.move_id,pp:{current:l.pp_cur,max:l.pp_max},notes:l.notes}),vm=l=>({id:l.id.toString(),type:l.item_id!=null?"standard":"custom",itemId:l.item_id,name:l.custom_name,description:l.description}),bm=l=>({id:l.id.toString(),type:l.item_id!=null?"standard":"custom",itemId:l.item_id,quantity:l.quantity,name:l.custom_name,description:l.description}),km=l=>({id:l.id.toString(),name:l.feat_name,description:l.description,isCustom:l.is_custom}),wm=l=>({id:l.id.toString(),name:l.feat_name,description:l.description,isCustom:l.is_custom});class He extends Error{constructor(e,n){super(e+(n!=null&&n.code?` Code: ${n.code}`:"")),this.diagnostics=n}}const Be=new _m(Bs,Vs),Em=()=>{const{subscribe:l,update:e}=Gs({}),n={};let t;const i=(s,o)=>{e(a=>({...a,[s]:{...a[s],...o(a[s])}}))},r=s=>()=>Be.removeTrainer(s.id,s.readKey).then(()=>{e(o=>{const{[s.readKey]:a,...f}=o;return f})});return{get:s=>(n[s]==null&&(n[s]=Be.getTrainer(s).then(o=>{var c;if(o==null)return;const a=m=>({info:async(p,_={})=>{const $=m.info;let k=p.avatar;_.updateAvatar!=null&&(_.updateAvatar.type==="new"?k=await Be.updateTrainerAvatar(m.writeKey,_.updateAvatar.value,p.avatar).catch(w=>{throw Ye.show(w.message),w}):(await Be.removeTrainerAvatar(m.writeKey,p.avatar).catch(w=>{throw Ye.show(w.message),w}),k=null));const v=w=>i(s,P=>({...P,info:{...P.info,...w,avatar:k}}));return _.optimistic?(v(p),Be.updateTrainerInfo(m.writeKey,p).then(()=>{}).catch(w=>{throw v($),Ye.show(w.message),w})):Be.updateTrainerInfo(m.writeKey,p).then(()=>{v(p)}).catch(w=>{throw Ye.show(w.message),w})},inventory:p=>Be.updateTrainerInventory(m.writeKey,p.inventory).then(_=>{i(s,$=>({...$,info:{...$.info,inventory:_}}))}).catch(_=>{throw Ye.show(_.message),_}),inventoryItem:(p,_={})=>{let $;const k=v=>{i(s,w=>{const P=w.info.inventory.findIndex(z=>z.id===v.id);return $=w.info.inventory[P],w.info.inventory[P]=v,{...w}})};return _.optimistic?(k(p),Be.updateTrainerItem(m.writeKey,p).then(()=>{}).catch(v=>{throw k($),Ye.show(v.message),v})):Be.updateTrainerItem(m.writeKey,p).then(()=>{k(p)}).catch(v=>{throw Ye.show(v.message),v})},trainerFeats:p=>Be.updateTrainerFeats(m.writeKey,p.feats).then(_=>{i(s,$=>({...$,info:{...$.info,feats:_}}))}).catch(_=>{throw Ye.show(_.message),_}),retire:()=>Be.deleteTrainer(m.writeKey,m.info.id,m.info.readKey).then(()=>{e(p=>{const{[m.info.readKey]:_,...$}=p;return $})}).catch(p=>{throw Ye.show(p.message),p}),pokemon:async(p,_={})=>{let $,k=p.avatar;_.updateAvatar!=null&&(_.updateAvatar.type==="new"?k=await Be.updatePokemonAvatar(m.writeKey,p,_.updateAvatar.value).catch(w=>{throw Ye.show(w.message),w}):(await Be.removePokemonAvatar(m.writeKey,p).catch(w=>{throw Ye.show(w.message),w}),k=null));const v=w=>i(s,P=>{const z=[...P.pokemon],H=z.findIndex(R=>R.id===w.id);return $=z[H],z[H]={...P.pokemon[H],...w,avatar:k},{...P,pokemon:z}});return _.optimistic?(v(p),Be.updatePokemon(m.writeKey,p).then(()=>{}).catch(w=>{throw v($),Ye.show(w.message),w})):Be.updatePokemon(m.writeKey,p).then(()=>{v(p)}).catch(w=>{throw Ye.show(w.message),w})},moveset:p=>Be.updateMoveset(m.writeKey,p.id,p.moves).then(_=>{i(s,$=>{const k=[...$.pokemon],v=k.findIndex(w=>w.id===p.id);return k[v]={...$.pokemon[v],moves:_},{...$,pokemon:k}})}).catch(_=>{throw Ye.show(_.message),_}),move:(p,_={})=>{let $;const k=v=>{i(s,w=>{const P=w.pokemon.find(H=>H.moves.map(R=>R.id).includes(v.id));if(!P)return w;const z=P.moves.findIndex(H=>H.id===v.id);return $=P.moves[z],P.moves[z]=v,{...w}})};return _.optimistic?(k(p),Be.updateOneMove(m.writeKey,p).then(()=>{}).catch(v=>{throw k($),Ye.show(v.message),v})):Be.updateOneMove(m.writeKey,p).then(()=>{k(p)}).catch(v=>{throw Ye.show(v.message),v})},heldItems:p=>Be.updateAllHeldItems(m.writeKey,p.id,p.items).then(_=>{i(s,$=>{const k=[...$.pokemon],v=k.findIndex(w=>w.id===p.id);return k[v]={...$.pokemon[v],items:_},{...$,pokemon:k}})}).catch(_=>{throw Ye.show(_.message),_}),pokemonFeats:p=>Be.updatePokemonFeats(m.writeKey,p.id,p.feats).then(_=>{i(s,$=>{const k=[...$.pokemon],v=k.findIndex(w=>w.id===p.id);return k[v]={...$.pokemon[v],feats:_},{...$,pokemon:k}})}).catch(_=>{throw Ye.show(_.message),_}),addToTeam:p=>Be.addPokemonToTeam(m.writeKey,m.info.id,p).then(_=>(i(s,$=>{const k=[...$.pokemon,_];return{...$,pokemon:k}}),_)).catch(_=>{throw Ye.show(_.message),_}),removeFromTeam:p=>Be.removePokemon(m.writeKey,p).then(()=>{i(s,_=>{const $=_.pokemon.filter(k=>k.id!==p);return{..._,pokemon:$}})}).catch(_=>{throw Ye.show(_.message),_})});let f;((c=o.writeKey)==null?void 0:c.length)>0&&(f=a(o));let u=!1;return{subscribe:m=>l(p=>{m(p[s]??{...o,update:f,remove:r(o.info)}),u||(u=!0,e(_=>({..._,[s]:{...o,update:f,remove:r(o.info)}})))}),verifyAccess:m=>Be.verifyWriteKey(o.info,m).then(p=>(p&&i(s,_=>({..._,writeKey:m,update:a({..._,writeKey:m})})),p))}})),n[s]),all:()=>(t==null&&(t=Be.allTrainers().then(s=>{let o=!1;return{subscribe:a=>l(f=>{a(Object.values(f).map(u=>u.info)),o||(o=!0,e(u=>s.reduce((c,m)=>({[m.readKey]:{info:m,pokemon:[],remove:r(m)},...c}),u)))})}})),t),new:s=>Be.newTrainer(s).then(o=>(i(o.info.readKey,()=>o),o))}},En=Em();function Sm(l){let e,n="<p>You do not have permission to add pokemon to this trainer.</p>";return{c(){e=T("section"),e.innerHTML=n},l(t){e=y(t,"SECTION",{"data-svelte-h":!0}),he(e)!=="svelte-lyju69"&&(e.innerHTML=n)},m(t,i){b(t,e,i)},p:Z,i:Z,o:Z,d(t){t&&d(e)}}}function Cm(l){let e,n,t="Start typing the pokemon's species, then select from the provided list.",i,r,s,o,a,f,u=`Or you can add a <a href="${Ae.fakemon()}">Fakémon</a> by its ID.`,c,m,p,_,$;s=new As({props:{label:"Species",value:"",name:"species",allSpecies:l[6],disabled:l[3],explicitSubmit:!0}}),s.$on("change",l[9]),m=new ys({}),m.$on("found",l[8]);let k=l[4]!=null&&Jl(l);return{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),r=T("div"),I(s.$$.fragment),o=F(),a=T("section"),f=T("p"),f.innerHTML=u,c=F(),I(m.$$.fragment),p=F(),_=T("div"),k&&k.c(),this.h()},l(v){e=y(v,"SECTION",{});var w=L(e);n=y(w,"P",{"data-svelte-h":!0}),he(n)!=="svelte-1nt5sai"&&(n.textContent=t),i=N(w),r=y(w,"DIV",{class:!0});var P=L(r);A(s.$$.fragment,P),P.forEach(d),w.forEach(d),o=N(v),a=y(v,"SECTION",{});var z=L(a);f=y(z,"P",{"data-svelte-h":!0}),he(f)!=="svelte-1wz33xn"&&(f.innerHTML=u),c=N(z),A(m.$$.fragment,z),p=N(z),_=y(z,"DIV",{class:!0});var H=L(_);k&&k.l(H),H.forEach(d),z.forEach(d),this.h()},h(){D(r,"class","font-lg svelte-39ptmf"),D(_,"class","min-height svelte-39ptmf")},m(v,w){b(v,e,w),E(e,n),E(e,i),E(e,r),C(s,r,null),b(v,o,w),b(v,a,w),E(a,f),E(a,c),C(m,a,null),E(a,p),E(a,_),k&&k.m(_,null),$=!0},p(v,w){const P={};w&64&&(P.allSpecies=v[6]),w&8&&(P.disabled=v[3]),s.$set(P),v[4]!=null?k?(k.p(v,w),w&16&&h(k,1)):(k=Jl(v),k.c(),h(k,1),k.m(_,null)):k&&(ce(),g(k,1,1,()=>{k=null}),me())},i(v){$||(h(s.$$.fragment,v),h(m.$$.fragment,v),h(k),$=!0)},o(v){g(s.$$.fragment,v),g(m.$$.fragment,v),g(k),$=!1},d(v){v&&(d(e),d(o),d(a)),S(s),S(m),k&&k.d()}}}function Jl(l){let e,n,t;return n=new Pe({props:{$$slots:{default:[Im]},$$scope:{ctx:l}}}),n.$on("click",function(){Ot(l[7](l[4].species))&&l[7](l[4].species).apply(this,arguments)}),{c(){e=T("p"),I(n.$$.fragment),this.h()},l(i){e=y(i,"P",{class:!0});var r=L(e);A(n.$$.fragment,r),r.forEach(d),this.h()},h(){D(e,"class","font-lg svelte-39ptmf")},m(i,r){b(i,e,r),C(n,e,null),t=!0},p(i,r){l=i;const s={};r&2064&&(s.$$scope={dirty:r,ctx:l}),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function Im(l){let e=l[4].species.data.name+"",n;return{c(){n=B(e)},l(t){n=O(t,e)},m(t,i){b(t,n,i)},p(t,i){i&16&&e!==(e=t[4].species.data.name+"")&&oe(n,e)},d(t){t&&d(n)}}}function Am(l){let e,n,t,i;const r=[Cm,Sm],s=[];function o(a,f){return a[5]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function ym(l){let e,n,t,i;return e=new st({props:{value:"Add Pokemon"}}),t=new lt({props:{title:"Add to "+l[2].info.name+"'s team",$$slots:{default:[Am]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&4&&(o.title="Add to "+r[2].info.name+"'s team"),s&2168&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function Tm(l,e,n){let t,i,r,s=Z,o=()=>(s(),s=Xe(c,w=>n(2,r=w)),c),a,f=Z,u=()=>(f(),f=Xe(m,w=>n(6,a=w)),m);l.$$.on_destroy.push(()=>s()),l.$$.on_destroy.push(()=>f());let{trainer:c}=e;o();let{allSpecies:m}=e;u();let p=!1;const _=w=>()=>{var P;n(3,p=!0),(P=r.update)==null||P.addToTeam(w).then(({id:z})=>{et(`${xe}/trainers?id=${i}&pokemon=${z}`)}).catch(()=>{n(3,p=!1)})};let $;const k=w=>{n(4,$=w.detail.value)},v=w=>_(w.detail.species)();return l.$$set=w=>{"trainer"in w&&o(n(0,c=w.trainer)),"allSpecies"in w&&u(n(1,m=w.allSpecies))},l.$$.update=()=>{l.$$.dirty&4&&n(5,t=r.update!=null),l.$$.dirty&4&&(i=r.info.readKey)},[c,m,r,p,$,t,a,_,k,v]}class Pm extends le{constructor(e){super(),re(this,e,Tm,ym,se,{trainer:0,allSpecies:1})}}const Dm="https://poke5e.app";function Nm(l){let e;return{c(){e=B("Create Trainer")},l(n){e=O(n,"Create Trainer")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Xl(l){let e,n,t,i,r="The Poke 5e App has recently moved to <strong>poke5e.app</strong>! If you had trainer data, it should have been automatically transfered to here.",s,o,a="If that didn't happen, learn how you can recover your trainer data by clicking the link below:",f,u,c,m;return c=new Pe({props:{href:xe+"/trainer-recovery",$$slots:{default:[Fm]},$$scope:{ctx:l}}}),{c(){e=T("hr"),n=F(),t=T("section"),i=T("p"),i.innerHTML=r,s=F(),o=T("p"),o.textContent=a,f=F(),u=T("p"),I(c.$$.fragment),this.h()},l(p){e=y(p,"HR",{}),n=N(p),t=y(p,"SECTION",{class:!0});var _=L(t);i=y(_,"P",{"data-svelte-h":!0}),he(i)!=="svelte-1wnxvdx"&&(i.innerHTML=r),s=N(_),o=y(_,"P",{"data-svelte-h":!0}),he(o)!=="svelte-b7czmg"&&(o.textContent=a),f=N(_),u=y(_,"P",{class:!0});var $=L(u);A(c.$$.fragment,$),$.forEach(d),_.forEach(d),this.h()},h(){D(u,"class","more-space svelte-14tpsu8"),D(t,"class","center more-space svelte-14tpsu8")},m(p,_){b(p,e,_),b(p,n,_),b(p,t,_),E(t,i),E(t,s),E(t,o),E(t,f),E(t,u),C(c,u,null),m=!0},i(p){m||(h(c.$$.fragment,p),m=!0)},o(p){g(c.$$.fragment,p),m=!1},d(p){p&&(d(e),d(n),d(t)),S(c)}}}function Fm(l){let e;return{c(){e=B("Recover Trainers")},l(n){e=O(n,"Recover Trainers")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Hm(l){let e,n,t,i="Here, you can manage trainers and their pokemon for your campaign!",r,s,o="Create a trainer to get started:",a,f,u,c,m;u=new Pe({props:{href:xe+"/trainers?action=new-trainer",$$slots:{default:[Nm]},$$scope:{ctx:l}}});let p=l[0]&&Xl(l);return{c(){e=T("div"),n=T("section"),t=T("p"),t.textContent=i,r=F(),s=T("p"),s.textContent=o,a=F(),f=T("p"),I(u.$$.fragment),c=F(),p&&p.c(),this.h()},l(_){e=y(_,"DIV",{class:!0});var $=L(e);n=y($,"SECTION",{class:!0});var k=L(n);t=y(k,"P",{"data-svelte-h":!0}),he(t)!=="svelte-j1q6qh"&&(t.textContent=i),r=N(k),s=y(k,"P",{"data-svelte-h":!0}),he(s)!=="svelte-uodcok"&&(s.textContent=o),a=N(k),f=y(k,"P",{class:!0});var v=L(f);A(u.$$.fragment,v),v.forEach(d),k.forEach(d),c=N($),p&&p.l($),$.forEach(d),this.h()},h(){D(f,"class","larger more-space svelte-14tpsu8"),D(n,"class","larger center more-space svelte-14tpsu8"),D(e,"class","scrollable svelte-14tpsu8")},m(_,$){b(_,e,$),E(e,n),E(n,t),E(n,r),E(n,s),E(n,a),E(n,f),C(u,f,null),E(e,c),p&&p.m(e,null),m=!0},p(_,[$]){const k={};$&4&&(k.$$scope={dirty:$,ctx:_}),u.$set(k),_[0]?p?$&1&&h(p,1):(p=Xl(_),p.c(),h(p,1),p.m(e,null)):p&&(ce(),g(p,1,1,()=>{p=null}),me())},i(_){m||(h(u.$$.fragment,_),h(p),m=!0)},o(_){g(u.$$.fragment,_),g(p),m=!1},d(_){_&&d(e),S(u),p&&p.d()}}}function zm(l,e,n){let t,i;return Ve(l,la,r=>n(1,i=r)),l.$$.update=()=>{l.$$.dirty&2&&n(0,t=window.location.origin===Dm&&(i==="done"||i==="failed"))},[t,i]}class Lm extends le{constructor(e){super(),re(this,e,zm,Hm,se,{})}}function Rm(l){let e,n;return{c(){e=T("a"),n=B("Find by trainer ID >"),this.h()},l(t){e=y(t,"A",{slot:!0,href:!0,class:!0});var i=L(e);n=O(i,"Find by trainer ID >"),i.forEach(d),this.h()},h(){D(e,"slot","link"),D(e,"href",Ae.trainers(void 0,void 0,Le.findTrainer)),D(e,"class","dark-font svelte-1nzhjm0")},m(t,i){b(t,e,i),E(e,n)},p:Z,d(t){t&&d(e)}}}function Mm(l){let e;return{c(){e=B("+ New Trainer")},l(n){e=O(n,"+ New Trainer")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Vm(l){let e,n;return e=new Pe({props:{slot:"action",href:xe+"/trainers?action=new-trainer",$$slots:{default:[Mm]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4096&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Om(l){let e,n,t;function i(s){l[9](s)}let r={items:l[4],headers:[{key:"name",name:"Name",ratio:1,sort:l[7](Gm)}],$$slots:{default:[Um,({item:s,cellVisibility:o})=>({10:s,11:o}),({item:s,cellVisibility:o})=>(s?1024:0)|(o?2048:0)]},$$scope:{ctx:l}};return l[6]!==void 0&&(r.currentSorter=l[6]),e=new ia({props:r}),x.push(()=>ee(e,"currentSorter",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&16&&(a.items=s[4]),o&7168&&(a.$$scope={dirty:o,ctx:s}),!n&&o&64&&(n=!0,a.currentSorter=s[6],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Bm(l){let e,n,t=l[1]&&xl();return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,r){i[1]?t?r&2&&h(t,1):(t=xl(),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function qm(l){let e,n=l[10].name+"",t,i;return{c(){e=T("a"),t=B(n),this.h()},l(r){e=y(r,"A",{href:!0});var s=L(e);t=O(s,n),s.forEach(d),this.h()},h(){D(e,"href",i=xe+"/trainers?id="+l[10].readKey)},m(r,s){b(r,e,s),E(e,t)},p(r,s){s&1024&&n!==(n=r[10].name+"")&&oe(t,n),s&1024&&i!==(i=xe+"/trainers?id="+r[10].readKey)&&D(e,"href",i)},d(r){r&&d(e)}}}function Km(l){let e,n;return e=new Xr.Cell({props:{cellVisibility:l[11][0],primary:!0,$$slots:{default:[qm]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2048&&(r.cellVisibility=t[11][0]),i&5120&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Um(l){let e,n;return e=new Xr.Row({props:{interactive:!0,mainBg:"var(--skin-bg-dark)",$$slots:{default:[Km]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&7168&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function xl(l){let e,n;return e=new Lm({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function jm(l){let e,n,t,i,r,s,o,a,f,u;e=new Tr({props:{title:"Trainer List",target:"/trainers",$$slots:{action:[Vm],link:[Rm]},$$scope:{ctx:l}}});function c(k){l[8](k)}let m={id:"filter-pokemon",label:"Search",matched:l[4].length,max:l[3].length};l[2]!==void 0&&(m.value=l[2]),i=new Zr({props:m}),x.push(()=>ee(i,"value",c));const p=[Bm,Om],_=[];function $(k,v){return k[5]?0:1}return o=$(l),a=_[o]=p[o](l),{c(){I(e.$$.fragment),n=F(),t=T("div"),I(i.$$.fragment),s=F(),a.c(),f=J(),this.h()},l(k){A(e.$$.fragment,k),n=N(k),t=y(k,"DIV",{class:!0});var v=L(t);A(i.$$.fragment,v),v.forEach(d),s=N(k),a.l(k),f=J(),this.h()},h(){D(t,"class","space-bottom svelte-1nzhjm0")},m(k,v){C(e,k,v),b(k,n,v),b(k,t,v),C(i,t,null),b(k,s,v),_[o].m(k,v),b(k,f,v),u=!0},p(k,[v]){const w={};v&4096&&(w.$$scope={dirty:v,ctx:k}),e.$set(w);const P={};v&16&&(P.matched=k[4].length),v&8&&(P.max=k[3].length),!r&&v&4&&(r=!0,P.value=k[2],te(()=>r=!1)),i.$set(P);let z=o;o=$(k),o===z?_[o].p(k,v):(ce(),g(_[z],1,1,()=>{_[z]=null}),me(),a=_[o],a?a.p(k,v):(a=_[o]=p[o](k),a.c()),h(a,1),a.m(f.parentNode,f))},i(k){u||(h(e.$$.fragment,k),h(i.$$.fragment,k),h(a),u=!0)},o(k){g(e.$$.fragment,k),g(i.$$.fragment,k),g(a),u=!1},d(k){k&&(d(n),d(t),d(s),d(f)),S(e,k),S(i),_[o].d(k)}}}const Gm=l=>l.name;function Ym(l,e,n){let t,i,r,s,o=Z,a=()=>(o(),o=Xe(u,$=>n(3,s=$)),u),f;Ve(l,ki,$=>n(2,r=$)),Ve(l,wi,$=>n(6,f=$)),l.$$.on_destroy.push(()=>o());let{trainers:u}=e;a();let{showGetStarted:c=!1}=e;const m=$=>(k,v)=>$(k).localeCompare($(v));function p($){r=$,ki.set(r)}function _($){f=$,wi.set(f)}return l.$$set=$=>{"trainers"in $&&a(n(0,u=$.trainers)),"showGetStarted"in $&&n(1,c=$.showGetStarted)},l.$$.update=()=>{l.$$.dirty&8&&n(5,t=s.length===0),l.$$.dirty&12&&n(4,i=s.filter($=>$.name.toLocaleLowerCase().includes(r.toLocaleLowerCase())))},[u,c,r,s,i,t,f,m,p,_]}class Wm extends le{constructor(e){super(),re(this,e,Ym,jm,se,{trainers:0,showGetStarted:1})}}function Qm(l){let e,n,t,i,r,s;function o(c){l[6](c)}let a={label:"Name",disabled:l[3],required:!0};l[1]!==void 0&&(a.value=l[1]),e=new ut({props:a}),x.push(()=>ee(e,"value",o));function f(c){l[7](c)}let u={label:"Description",rows:6,disabled:l[3]};return l[2]!==void 0&&(u.value=l[2]),i=new kt({props:u}),x.push(()=>ee(i,"value",f)),{c(){I(e.$$.fragment),t=F(),I(i.$$.fragment)},l(c){A(e.$$.fragment,c),t=N(c),A(i.$$.fragment,c)},m(c,m){C(e,c,m),b(c,t,m),C(i,c,m),s=!0},p(c,m){const p={};m&8&&(p.disabled=c[3]),!n&&m&2&&(n=!0,p.value=c[1],te(()=>n=!1)),e.$set(p);const _={};m&8&&(_.disabled=c[3]),!r&&m&4&&(r=!0,_.value=c[2],te(()=>r=!1)),i.$set(_)},i(c){s||(h(e.$$.fragment,c),h(i.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),g(i.$$.fragment,c),s=!1},d(c){c&&d(t),S(e,c),S(i,c)}}}function Zm(l){let e;return{c(){e=B("Once your trainer is created, you will be able to edit their stats, Pokémon, and inventory!")},l(n){e=O(n,"Once your trainer is created, you will be able to edit their stats, Pokémon, and inventory!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Jm(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Xm(l){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function xm(l){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:l[3],$$slots:{default:[Jm]},$$scope:{ctx:l}}}),e.$on("click",l[5]),t=new Pe({props:{type:"submit",disabled:l[3],$$slots:{default:[Xm]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s&8&&(o.disabled=r[3]),s&256&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const a={};s&8&&(a.disabled=r[3]),s&256&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function ed(l){let e,n,t,i,r,s;return e=new Ze({props:{title:"Basic Info",$$slots:{default:[Qm]},$$scope:{ctx:l}}}),t=new jn({props:{$$slots:{default:[Zm]},$$scope:{ctx:l}}}),r=new Qe({props:{$$slots:{default:[xm]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment),i=F(),I(r.$$.fragment)},l(o){A(e.$$.fragment,o),n=N(o),A(t.$$.fragment,o),i=N(o),A(r.$$.fragment,o)},m(o,a){C(e,o,a),b(o,n,a),C(t,o,a),b(o,i,a),C(r,o,a),s=!0},p(o,a){const f={};a&270&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&256&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a&264&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){s||(h(e.$$.fragment,o),h(t.$$.fragment,o),h(r.$$.fragment,o),s=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),g(r.$$.fragment,o),s=!1},d(o){o&&(d(n),d(i)),S(e,o),S(t,o),S(r,o)}}}function td(l){let e,n;return e=new Bt({props:{onsubmit:l[4],saving:l[0],$$slots:{default:[ed]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.saving=t[0]),i&270&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function nd(l){let e,n,t,i;return e=new st({props:{value:"Create Trainer"}}),t=new lt({props:{title:"Create a New Trainer",$$slots:{default:[td]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&271&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function id(l,e,n){let t,i="",r="",s=!1;const o=()=>{n(0,s=!0),En.new({name:i,description:r}).then(({info:c})=>{et(`${xe}/trainers?id=${c.readKey}`)}).catch(()=>{n(0,s=!1)})},a=()=>{et(`${xe}/trainers`)};function f(c){i=c,n(1,i)}function u(c){r=c,n(2,r)}return l.$$.update=()=>{l.$$.dirty&1&&n(3,t=s)},[s,i,r,t,o,a,f,u]}class ld extends le{constructor(e){super(),re(this,e,id,nd,se,{})}}function rd(l){let e,n,t="You do not have permission to remove this pokemon.",i,r,s;return r=new Qe({props:{$$slots:{default:[od]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"P",{"data-svelte-h":!0}),he(n)!=="svelte-tjgn9a"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&276&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function sd(l){let e,n;return e=new nn({props:{saving:l[3],$$slots:{default:[md]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.saving=t[3]),i&404&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ad(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function od(l){let e,n;return e=new Pe({props:{href:xe+"/trainers?id="+l[2].info.readKey+"&pokemon="+l[4].id,$$slots:{default:[ad]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&20&&(r.href=xe+"/trainers?id="+t[2].info.readKey+"&pokemon="+t[4].id),i&256&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function er(l){let e,n,t;return n=new Un({props:{media:l[7].media,alt:l[7].data.name}}),{c(){e=T("p"),I(n.$$.fragment),this.h()},l(i){e=y(i,"P",{class:!0});var r=L(e);A(n.$$.fragment,r),r.forEach(d),this.h()},h(){D(e,"class","centered greyscale svelte-li4qwo")},m(i,r){b(i,e,r),C(n,e,null),t=!0},p(i,r){const s={};r&128&&(s.media=i[7].media),r&128&&(s.alt=i[7].data.name),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function fd(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function ud(l){let e;return{c(){e=B("Delete")},l(n){e=O(n,"Delete")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function cd(l){let e,n,t,i;return e=new Pe({props:{href:xe+"/trainers?id="+l[2].info.readKey+"&pokemon="+l[4].id,variant:"ghost",$$slots:{default:[fd]},$$scope:{ctx:l}}}),t=new Pe({props:{variant:"danger",$$slots:{default:[ud]},$$scope:{ctx:l}}}),t.$on("click",l[6]),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s&20&&(o.href=xe+"/trainers?id="+r[2].info.readKey+"&pokemon="+r[4].id),s&256&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const a={};s&256&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function md(l){var w;let e,n,t,i=l[4].nickname+"",r,s,o=l[2].info.name+"",a,f,u,c,m="Removal is permanent and cannot be undone!",p,_,$,k,v=((w=l[7].media)==null?void 0:w.data.values.normalPortrait)&&er(l);return $=new Qe({props:{$$slots:{default:[cd]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to remove "),r=B(i),s=B(" from "),a=B(o),f=B("'s team?"),u=F(),c=T("p"),c.textContent=m,p=F(),v&&v.c(),_=F(),I($.$$.fragment)},l(P){e=y(P,"SECTION",{});var z=L(e);n=y(z,"P",{});var H=L(n);t=O(H,"Are you sure you want to remove "),r=O(H,i),s=O(H," from "),a=O(H,o),f=O(H,"'s team?"),H.forEach(d),u=N(z),c=y(z,"P",{"data-svelte-h":!0}),he(c)!=="svelte-raeweb"&&(c.textContent=m),p=N(z),v&&v.l(z),_=N(z),A($.$$.fragment,z),z.forEach(d)},m(P,z){b(P,e,z),E(e,n),E(n,t),E(n,r),E(n,s),E(n,a),E(n,f),E(e,u),E(e,c),E(e,p),v&&v.m(e,null),E(e,_),C($,e,null),k=!0},p(P,z){var R;(!k||z&16)&&i!==(i=P[4].nickname+"")&&oe(r,i),(!k||z&4)&&o!==(o=P[2].info.name+"")&&oe(a,o),(R=P[7].media)!=null&&R.data.values.normalPortrait?v?(v.p(P,z),z&128&&h(v,1)):(v=er(P),v.c(),h(v,1),v.m(e,_)):v&&(ce(),g(v,1,1,()=>{v=null}),me());const H={};z&276&&(H.$$scope={dirty:z,ctx:P}),$.$set(H)},i(P){k||(h(v),h($.$$.fragment,P),k=!0)},o(P){g(v),g($.$$.fragment,P),k=!1},d(P){P&&d(e),v&&v.d(),S($)}}}function dd(l){let e,n,t,i;const r=[sd,rd],s=[];function o(a,f){return a[5]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function pd(l){let e,n;return e=new lt({props:{title:"Remove "+l[4].nickname+"?",$$slots:{default:[dd]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.title="Remove "+t[4].nickname+"?"),i&444&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _d(l){var t;let e,n;return e=new Dt({props:{ids:[(t=l[4])==null?void 0:t.pokemonId],$$slots:{default:[pd,({species:i})=>({7:i}),({species:i})=>i?128:0]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,r){C(e,i,r),n=!0},p(i,r){var o;const s={};r&16&&(s.ids=[(o=i[4])==null?void 0:o.pokemonId]),r&444&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function $d(l){let e,n;return e=new an({props:{trainer:l[2],id:l[1],titlePrefix:"Remove",$$slots:{default:[_d]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.trainer=t[2]),i&2&&(r.id=t[1]),i&316&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function hd(l,e,n){let t,i,r,s=Z,o=()=>(s(),s=Xe(a,m=>n(2,r=m)),a);l.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let{id:f}=e,u=!1;const c=()=>{var m;n(3,u=!0),(m=r.update)==null||m.removeFromTeam(f).then(()=>{et(`${xe}/trainers?id=${r.info.readKey}`)}).catch(()=>{n(3,u=!1)})};return l.$$set=m=>{"trainer"in m&&o(n(0,a=m.trainer)),"id"in m&&n(1,f=m.id)},l.$$.update=()=>{l.$$.dirty&4&&n(5,t=r.update!=null),l.$$.dirty&6&&n(4,i=r.pokemon.find(m=>m.id===f))},[a,f,r,u,i,t,c]}class gd extends le{constructor(e){super(),re(this,e,hd,$d,se,{trainer:0,id:1})}}function vd(l){let e,n,t,i,r,s,o,a,f,u,c,m,p,_,$,k,v,w,P,z,H,R,M,q,j,K,G,Y,V,Q,ie,_e;function ue(de){l[14](de)}let ae={label:"Nickname",disabled:l[11]};l[0]!==void 0&&(ae.value=l[0]),t=new ut({props:ae}),x.push(()=>ee(t,"value",ue));function be(de){l[15](de)}let ne={label:"Tera",options:l[13],disabled:l[11]};l[2].data!==void 0&&(ne.value=l[2].data),o=new ht({props:ne}),x.push(()=>ee(o,"value",be));function fe(de){l[16](de)}let Fe={disabled:l[11]};l[1]!==void 0&&(Fe.value=l[1]),c=new pm({props:Fe}),x.push(()=>ee(c,"value",fe)),_=new it({props:{label:"Level",value:l[3],min:1,max:20,disabled:l[11]}}),_.$on("change",l[12]);function Te(de){l[17](de)}let pe={label:"AC",min:0,max:99,disabled:l[11]};l[4]!==void 0&&(pe.value=l[4]),k=new it({props:pe}),x.push(()=>ee(k,"value",Te));function ge(de){l[18](de)}let ye={label:"Max HP",min:0,disabled:l[11]};l[5]!==void 0&&(ye.value=l[5]),P=new it({props:ye}),x.push(()=>ee(P,"value",ge));function Se(de){l[19](de)}let X={label:"Max Hit Dice",min:0,max:20,disabled:l[11]};l[6]!==void 0&&(X.value=l[6]),R=new it({props:X}),x.push(()=>ee(R,"value",Se));function ke(de){l[20](de)}let Ie={label:"Shiny",disabled:l[11]};l[7]!==void 0&&(Ie.value=l[7]),j=new sa({props:Ie}),x.push(()=>ee(j,"value",ke));function ze(de){l[21](de)}function Re(de){l[22](de)}let qe={label:"Custom Image",previousValue:l[10],maxbytes:kd,disabled:l[11]};return l[8]!==void 0&&(qe.currentValue=l[8]),l[9]!==void 0&&(qe.isValid=l[9]),V=new Pr({props:qe}),x.push(()=>ee(V,"currentValue",ze)),x.push(()=>ee(V,"isValid",Re)),{c(){e=T("div"),n=T("div"),I(t.$$.fragment),r=F(),s=T("div"),I(o.$$.fragment),f=F(),u=T("div"),I(c.$$.fragment),p=F(),I(_.$$.fragment),$=F(),I(k.$$.fragment),w=F(),I(P.$$.fragment),H=F(),I(R.$$.fragment),q=F(),I(j.$$.fragment),G=F(),Y=T("div"),I(V.$$.fragment),this.h()},l(de){e=y(de,"DIV",{class:!0});var Ee=L(e);n=y(Ee,"DIV",{});var Oe=L(n);A(t.$$.fragment,Oe),Oe.forEach(d),r=N(Ee),s=y(Ee,"DIV",{});var Ke=L(s);A(o.$$.fragment,Ke),Ke.forEach(d),f=N(Ee),u=y(Ee,"DIV",{});var Je=L(u);A(c.$$.fragment,Je),Je.forEach(d),p=N(Ee),A(_.$$.fragment,Ee),$=N(Ee),A(k.$$.fragment,Ee),w=N(Ee),A(P.$$.fragment,Ee),H=N(Ee),A(R.$$.fragment,Ee),q=N(Ee),A(j.$$.fragment,Ee),G=N(Ee),Y=y(Ee,"DIV",{class:!0});var Me=L(Y);A(V.$$.fragment,Me),Me.forEach(d),Ee.forEach(d),this.h()},h(){we(n,"grid-area","field1"),we(s,"grid-area","field2"),we(u,"grid-area","field3"),D(Y,"class","image-field svelte-1oudq7k"),we(Y,"grid-area","avatar"),D(e,"class","grid svelte-1oudq7k")},m(de,Ee){b(de,e,Ee),E(e,n),C(t,n,null),E(e,r),E(e,s),C(o,s,null),E(e,f),E(e,u),C(c,u,null),E(e,p),C(_,e,null),E(e,$),C(k,e,null),E(e,w),C(P,e,null),E(e,H),C(R,e,null),E(e,q),C(j,e,null),E(e,G),E(e,Y),C(V,Y,null),_e=!0},p(de,Ee){const Oe={};Ee&2048&&(Oe.disabled=de[11]),!i&&Ee&1&&(i=!0,Oe.value=de[0],te(()=>i=!1)),t.$set(Oe);const Ke={};Ee&2048&&(Ke.disabled=de[11]),!a&&Ee&4&&(a=!0,Ke.value=de[2].data,te(()=>a=!1)),o.$set(Ke);const Je={};Ee&2048&&(Je.disabled=de[11]),!m&&Ee&2&&(m=!0,Je.value=de[1],te(()=>m=!1)),c.$set(Je);const Me={};Ee&8&&(Me.value=de[3]),Ee&2048&&(Me.disabled=de[11]),_.$set(Me);const We={};Ee&2048&&(We.disabled=de[11]),!v&&Ee&16&&(v=!0,We.value=de[4],te(()=>v=!1)),k.$set(We);const pt={};Ee&2048&&(pt.disabled=de[11]),!z&&Ee&32&&(z=!0,pt.value=de[5],te(()=>z=!1)),P.$set(pt);const ct={};Ee&2048&&(ct.disabled=de[11]),!M&&Ee&64&&(M=!0,ct.value=de[6],te(()=>M=!1)),R.$set(ct);const _t={};Ee&2048&&(_t.disabled=de[11]),!K&&Ee&128&&(K=!0,_t.value=de[7],te(()=>K=!1)),j.$set(_t);const rt={};Ee&1024&&(rt.previousValue=de[10]),Ee&2048&&(rt.disabled=de[11]),!Q&&Ee&256&&(Q=!0,rt.currentValue=de[8],te(()=>Q=!1)),!ie&&Ee&512&&(ie=!0,rt.isValid=de[9],te(()=>ie=!1)),V.$set(rt)},i(de){_e||(h(t.$$.fragment,de),h(o.$$.fragment,de),h(c.$$.fragment,de),h(_.$$.fragment,de),h(k.$$.fragment,de),h(P.$$.fragment,de),h(R.$$.fragment,de),h(j.$$.fragment,de),h(V.$$.fragment,de),_e=!0)},o(de){g(t.$$.fragment,de),g(o.$$.fragment,de),g(c.$$.fragment,de),g(_.$$.fragment,de),g(k.$$.fragment,de),g(P.$$.fragment,de),g(R.$$.fragment,de),g(j.$$.fragment,de),g(V.$$.fragment,de),_e=!1},d(de){de&&d(e),S(t),S(o),S(c),S(_),S(k),S(P),S(R),S(j),S(V)}}}function bd(l){let e,n;return e=new Ze({props:{title:"Basic Info",$$slots:{default:[vd]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&8392703&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const kd=524288;function wd(l,e,n){let{nickname:t}=e,{nature:i}=e,{tera:r}=e,{level:s}=e,{ac:o}=e,{maxHp:a}=e,{maxHitDice:f}=e,{isShiny:u}=e,{originalAvatarSrc:c}=e,{avatar:m}=e,{isValid:p=!0}=e,{disabled:_=!1}=e;const $=K=>{s===f&&n(6,f=K.detail.value),n(3,s=K.detail.value)},k=Tt.list.map(K=>({name:K,value:K}));function v(K){t=K,n(0,t)}function w(K){l.$$.not_equal(r.data,K)&&(r.data=K,n(2,r))}function P(K){i=K,n(1,i)}function z(K){o=K,n(4,o)}function H(K){a=K,n(5,a)}function R(K){f=K,n(6,f)}function M(K){u=K,n(7,u)}function q(K){m=K,n(8,m)}function j(K){p=K,n(9,p)}return l.$$set=K=>{"nickname"in K&&n(0,t=K.nickname),"nature"in K&&n(1,i=K.nature),"tera"in K&&n(2,r=K.tera),"level"in K&&n(3,s=K.level),"ac"in K&&n(4,o=K.ac),"maxHp"in K&&n(5,a=K.maxHp),"maxHitDice"in K&&n(6,f=K.maxHitDice),"isShiny"in K&&n(7,u=K.isShiny),"originalAvatarSrc"in K&&n(10,c=K.originalAvatarSrc),"avatar"in K&&n(8,m=K.avatar),"isValid"in K&&n(9,p=K.isValid),"disabled"in K&&n(11,_=K.disabled)},[t,i,r,s,o,a,f,u,m,p,c,_,$,k,v,w,P,z,H,R,M,q,j]}let Ed=class extends le{constructor(e){super(),re(this,e,wd,bd,se,{nickname:0,nature:1,tera:2,level:3,ac:4,maxHp:5,maxHitDice:6,isShiny:7,originalAvatarSrc:10,avatar:8,isValid:9,disabled:11})}};function Sd(l){let e,n,t;function i(s){l[7](s)}let r={label:"Ability",options:l[2],disabled:l[1]};return l[0]!==void 0&&(r.value=l[0]),e=new ht({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.options=s[2]),o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.value=s[0],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Cd(l){let e,n;return e=new Ze({props:{title:"Ability",$$slots:{default:[Sd]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&519&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const Id="";function Ad(l,e,n){let t,i,r,s;Ve(l,Lr,m=>n(6,s=m));const o={name:"- None -",value:Id};let{ability:a}=e,{species:f}=e,{disabled:u}=e;function c(m){a=m,n(0,a)}return l.$$set=m=>{"ability"in m&&n(0,a=m.ability),"species"in m&&n(3,f=m.species),"disabled"in m&&n(1,u=m.disabled)},l.$$.update=()=>{l.$$.dirty&8&&n(5,t=f.abilities.toList().map(m=>m.id)),l.$$.dirty&96&&n(4,i=s==null?void 0:s.filter(m=>!t.includes(m.id))),l.$$.dirty&88&&n(2,r=[{name:"Learnable Abilities",values:f.abilities.toList().map(m=>{var p;return{name:((p=s==null?void 0:s.find(_=>_.id===m.id))==null?void 0:p.name)+(m.hidden?" (hidden)":""),value:m.id}})},{name:"All Other Abilities",values:[o].concat(i.map(m=>({name:m.name,value:m.id})))}])},[a,u,r,f,i,t,s,c]}class yd extends le{constructor(e){super(),re(this,e,Ad,Cd,se,{ability:0,species:3,disabled:1})}}function Td(l){let e,n,t;function i(s){l[4](s)}let r={disabled:l[1],newStandardItem:l[2],newCustomItem:l[3],groupOrder:["berry","held item","evolution","medicine","pokeball"]};return l[0]!==void 0&&(r.values=l[0]),e=new rs({props:r}),x.push(()=>ee(e,"values",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.values=s[0],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Pd(l){let e,n;return e=new Ze({props:{title:"Inventory",$$slots:{default:[Td]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&35&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Dd(l,e,n){let{items:t}=e,{disabled:i}=e;const r=a=>({id:a,type:"standard",itemId:"lum-berry"}),s=a=>({id:a,type:"custom",name:"",description:""});function o(a){t=a,n(0,t)}return l.$$set=a=>{"items"in a&&n(0,t=a.items),"disabled"in a&&n(1,i=a.disabled)},[t,i,r,s,o]}class Nd extends le{constructor(e){super(),re(this,e,Dd,Pd,se,{items:0,disabled:1})}}const mn=(l,e)=>l.localeCompare(e),Wt=l=>({name:l,moves:[]});class ai{constructor(e){this.groups=e}nonemptyGroups(){return this.groups.filter(e=>e.moves.length>0)}static groupMoves(e,n,t){var k,v;const i=e.filter(w=>w.isTm()),r=(w,P,z)=>w>=P?z??[]:[],s=(w,P,z)=>w<P?z??[]:[],o=n.moves.data.start.concat(r(t.data,2,n.moves.data.level2),r(t.data,6,n.moves.data.level6),r(t.data,10,n.moves.data.level10),r(t.data,14,n.moves.data.level14),r(t.data,18,n.moves.data.level18)).toSorted(mn),a=[].concat(s(t.data,2,n.moves.data.level2),s(t.data,6,n.moves.data.level6),s(t.data,10,n.moves.data.level10),s(t.data,14,n.moves.data.level14),s(t.data,18,n.moves.data.level18)).toSorted(mn),f=((k=n.moves.data.tm)==null?void 0:k.map(w=>i.find(P=>P.tm.id===w)).map(w=>w==null?void 0:w.id).filter(w=>w!=null).toSorted(mn))??[],u=((v=n.moves.data.egg)==null?void 0:v.toSorted(mn))??[],c=Wt("Learnable at Current Level"),m=Wt("Learnable at Later Levels"),p=Wt("TMs"),_=Wt("Egg Moves"),$=Wt("All Other Moves");return e.forEach(w=>{const P=[];o.includes(w.id)&&P.push(c),a.includes(w.id)&&P.push(m),f.includes(w.id)&&P.push(p),u.includes(w.id)&&P.push(_),P.forEach(z=>z.moves.push(w)),P.length===0&&$.moves.push(w)}),new ai([c,m,p,_,$])}}function Fd(l){let e,n,t;function i(s){l[9](s)}let r={label:"Move",name:l[2],options:l[3],disabled:l[1]};return l[0].moveId!==void 0&&(r.value=l[0].moveId),e=new ht({props:r}),x.push(()=>ee(e,"value",i)),e.$on("change",l[4]),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.name=s[2]),o&8&&(a.options=s[3]),o&2&&(a.disabled=s[1]),!n&&o&1&&(n=!0,a.value=s[0].moveId,te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Hd(l){let e,n,t,i,r,s,o,a,f;n=new Cn({props:{$$slots:{default:[Fd]},$$scope:{ctx:l}}}),n.$on("remove",l[10]);function u(_){l[11](_)}let c={label:"Max PP",name:"move-pp-"+l[0].id,disabled:l[1]};l[0].pp.max!==void 0&&(c.value=l[0].pp.max),i=new it({props:c}),x.push(()=>ee(i,"value",u));function m(_){l[12](_)}let p={label:"Notes",name:"move-notes-"+l[0].id,disabled:l[1]};return l[0].notes!==void 0&&(p.value=l[0].notes),o=new kt({props:p}),x.push(()=>ee(o,"value",m)),{c(){e=T("div"),I(n.$$.fragment),t=F(),I(i.$$.fragment),s=F(),I(o.$$.fragment),this.h()},l(_){e=y(_,"DIV",{class:!0});var $=L(e);A(n.$$.fragment,$),t=N($),A(i.$$.fragment,$),s=N($),A(o.$$.fragment,$),$.forEach(d),this.h()},h(){D(e,"class","move-editor svelte-k0a7do")},m(_,$){b(_,e,$),C(n,e,null),E(e,t),C(i,e,null),E(e,s),C(o,e,null),f=!0},p(_,[$]){const k={};$&8207&&(k.$$scope={dirty:$,ctx:_}),n.$set(k);const v={};$&1&&(v.name="move-pp-"+_[0].id),$&2&&(v.disabled=_[1]),!r&&$&1&&(r=!0,v.value=_[0].pp.max,te(()=>r=!1)),i.$set(v);const w={};$&1&&(w.name="move-notes-"+_[0].id),$&2&&(w.disabled=_[1]),!a&&$&1&&(a=!0,w.value=_[0].notes,te(()=>a=!1)),o.$set(w)},i(_){f||(h(n.$$.fragment,_),h(i.$$.fragment,_),h(o.$$.fragment,_),f=!0)},o(_){g(n.$$.fragment,_),g(i.$$.fragment,_),g(o.$$.fragment,_),f=!1},d(_){_&&d(e),S(n),S(i),S(o)}}}const vs=l=>`move-id-${l}`;function zd(l,e,n){let t,i,r,s;Ve(l,Yn,k=>n(8,s=k));let{value:o}=e,{species:a}=e,{level:f}=e,{disabled:u=!1}=e;const c=()=>{var v;const k=((v=s.find(w=>w.id===o.moveId))==null?void 0:v.pp)??0;n(0,o.pp.current=k,o),n(0,o.pp.max=k,o)};function m(k){l.$$.not_equal(o.moveId,k)&&(o.moveId=k,n(0,o))}function p(k){hn.call(this,l,k)}function _(k){l.$$.not_equal(o.pp.max,k)&&(o.pp.max=k,n(0,o))}function $(k){l.$$.not_equal(o.notes,k)&&(o.notes=k,n(0,o))}return l.$$set=k=>{"value"in k&&n(0,o=k.value),"species"in k&&n(5,a=k.species),"level"in k&&n(6,f=k.level),"disabled"in k&&n(1,u=k.disabled)},l.$$.update=()=>{l.$$.dirty&352&&n(7,t=ai.groupMoves(s??[],a,f)),l.$$.dirty&128&&n(3,i=t.nonemptyGroups().map(k=>({name:k.name,values:k.moves.map(v=>({name:v.name,value:v.id}))}))),l.$$.dirty&1&&n(2,r=vs(o.id))},[o,u,r,i,c,a,f,t,s,m,p,_,$]}class Ld extends le{constructor(e){super(),re(this,e,zd,Hd,se,{value:0,species:5,level:6,disabled:1})}}function tr(l,e,n){const t=l.slice();return t[9]=e[n],t}function nr(l,e){let n,t,i,r,s;return t=new Ld({props:{value:e[9],species:e[1],disabled:e[3],level:e[2]}}),t.$on("remove",function(){Ot(e[4](e[9].id))&&e[4](e[9].id).apply(this,arguments)}),{key:l,first:null,c(){n=J(),I(t.$$.fragment),i=F(),r=T("hr"),this.h()},l(o){n=J(),A(t.$$.fragment,o),i=N(o),r=y(o,"HR",{class:!0}),this.h()},h(){D(r,"class","svelte-bk1q1p"),this.first=n},m(o,a){b(o,n,a),C(t,o,a),b(o,i,a),b(o,r,a),s=!0},p(o,a){e=o;const f={};a&1&&(f.value=e[9]),a&2&&(f.species=e[1]),a&8&&(f.disabled=e[3]),a&4&&(f.level=e[2]),t.$set(f)},i(o){s||(h(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&(d(n),d(i),d(r)),S(t,o)}}}function Rd(l){let e;return{c(){e=B("Add Move")},l(n){e=O(n,"Add Move")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Md(l){let e=[],n=new Map,t,i,r,s=De(l[0]);const o=a=>a[9].id;for(let a=0;a<s.length;a+=1){let f=tr(l,s,a),u=o(f);n.set(u,e[a]=nr(u,f))}return i=new Pe({props:{$$slots:{default:[Rd]},$$scope:{ctx:l}}}),i.$on("click",l[5]),{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=F(),I(i.$$.fragment)},l(a){for(let f=0;f<e.length;f+=1)e[f].l(a);t=N(a),A(i.$$.fragment,a)},m(a,f){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,f);b(a,t,f),C(i,a,f),r=!0},p(a,f){f&31&&(s=De(a[0]),ce(),e=ln(e,f,o,1,a,s,n,t.parentNode,rn,nr,t,tr),me());const u={};f&4096&&(u.$$scope={dirty:f,ctx:a}),i.$set(u)},i(a){if(!r){for(let f=0;f<s.length;f+=1)h(e[f]);h(i.$$.fragment,a),r=!0}},o(a){for(let f=0;f<e.length;f+=1)g(e[f]);g(i.$$.fragment,a),r=!1},d(a){a&&d(t);for(let f=0;f<e.length;f+=1)e[f].d(a);S(i,a)}}}function Vd(l){let e,n;return e=new Ze({props:{title:"Moves",$$slots:{default:[Md]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&4111&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Od(l,e,n){let t;Ve(l,Yn,m=>n(7,t=m));let{values:i}=e,{species:r}=e,{level:s}=e,{disabled:o}=e,a=-1001;const f=()=>(--a).toString(),u=m=>()=>{n(0,i=i.filter(p=>p.id!==m))},c=()=>{var $,k,v,w,P,z,H;const m=((v=(k=($=r==null?void 0:r.moves)==null?void 0:$.data)==null?void 0:k.start)==null?void 0:v[0])??"tackle",p=((w=t==null?void 0:t.find(R=>R.id===m))==null?void 0:w.pp)??20,_=f();n(0,i=[...i,{id:_,moveId:((H=(z=(P=r==null?void 0:r.moves)==null?void 0:P.data)==null?void 0:z.start)==null?void 0:H[0])??"tackle",pp:{current:p,max:p},notes:""}]),Jt(vs(_))};return l.$$set=m=>{"values"in m&&n(0,i=m.values),"species"in m&&n(1,r=m.species),"level"in m&&n(2,s=m.level),"disabled"in m&&n(3,o=m.disabled)},[i,r,s,o,u,c]}class Bd extends le{constructor(e){super(),re(this,e,Od,Vd,se,{values:0,species:1,level:2,disabled:3})}}function qd(l){let e,n,t,i,r,s;function o(c){l[5](c)}let a={label:"Size",options:l[3],disabled:l[2]};l[0]!==void 0&&(a.value=l[0]),e=new ht({props:a}),x.push(()=>ee(e,"value",o));function f(c){l[6](c)}let u={label:"Hit Dice",options:l[4],disabled:l[2]};return l[1]!==void 0&&(u.value=l[1]),i=new ht({props:u}),x.push(()=>ee(i,"value",f)),{c(){I(e.$$.fragment),t=F(),I(i.$$.fragment)},l(c){A(e.$$.fragment,c),t=N(c),A(i.$$.fragment,c)},m(c,m){C(e,c,m),b(c,t,m),C(i,c,m),s=!0},p(c,m){const p={};m&4&&(p.disabled=c[2]),!n&&m&1&&(n=!0,p.value=c[0],te(()=>n=!1)),e.$set(p);const _={};m&4&&(_.disabled=c[2]),!r&&m&2&&(r=!0,_.value=c[1],te(()=>r=!1)),i.$set(_)},i(c){s||(h(e.$$.fragment,c),h(i.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),g(i.$$.fragment,c),s=!1},d(c){c&&d(t),S(e,c),S(i,c)}}}function Kd(l){let e,n;return e=new Ze({props:{title:"Custom Basic Info",columns:2,$$slots:{default:[qd]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&135&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ud(l,e,n){let{customSize:t}=e,{customHitDiceSize:i}=e,{disabled:r=!1}=e;const s=[{name:"— Default —",value:void 0}].concat(Object.values(Os).map(u=>({name:xr(u),value:u}))),o=[{name:"— Default —",value:void 0}].concat(Mt.list.map(u=>({name:u,value:u})));function a(u){t=u,n(0,t)}function f(u){i=u,n(1,i)}return l.$$set=u=>{"customSize"in u&&n(0,t=u.customSize),"customHitDiceSize"in u&&n(1,i=u.customHitDiceSize),"disabled"in u&&n(2,r=u.disabled)},[t,i,r,s,o,a,f]}class jd extends le{constructor(e){super(),re(this,e,Ud,Kd,se,{customSize:0,customHitDiceSize:1,disabled:2})}}function Gd(l){let e,n,t,i,r;e=new ts({props:{label:"Bond Level",min:-3,max:3,value:l[0].level,disabled:l[1]}}),e.$on("input",l[2]);function s(a){l[3](a)}let o={label:"Max Bond Points",min:0,disabled:l[1]};return l[0].points.max!==void 0&&(o.value=l[0].points.max),t=new it({props:o}),x.push(()=>ee(t,"value",s)),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(a){A(e.$$.fragment,a),n=N(a),A(t.$$.fragment,a)},m(a,f){C(e,a,f),b(a,n,f),C(t,a,f),r=!0},p(a,f){const u={};f&1&&(u.value=a[0].level),f&2&&(u.disabled=a[1]),e.$set(u);const c={};f&2&&(c.disabled=a[1]),!i&&f&1&&(i=!0,c.value=a[0].points.max,te(()=>i=!1)),t.$set(c)},i(a){r||(h(e.$$.fragment,a),h(t.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),r=!1},d(a){a&&d(n),S(e,a),S(t,a)}}}function Yd(l){let e,n;return e=new Ze({props:{title:"Bond",columns:2,$$slots:{default:[Gd]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&19&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Wd(l,e,n){let{value:t}=e,{disabled:i=!1}=e;const r=o=>{Math.max(0,t.level)===t.points.max&&n(0,t.points.max=Math.max(0,o.detail.value),t),n(0,t.level=o.detail.value,t)};function s(o){l.$$.not_equal(t.points.max,o)&&(t.points.max=o,n(0,t))}return l.$$set=o=>{"value"in o&&n(0,t=o.value),"disabled"in o&&n(1,i=o.disabled)},[t,i,r,s]}class Qd extends le{constructor(e){super(),re(this,e,Wd,Yd,se,{value:0,disabled:1})}}function Zd(l){let e,n,t;function i(s){l[52](s)}let r={label:"Notes",placeholder:"Use this for any general notes not covered by the above fields...",disabled:l[27]};return l[14]!==void 0&&(r.value=l[14]),e=new kt({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o[0]&134217728&&(a.disabled=s[27]),!n&&o[0]&16384&&(n=!0,a.value=s[14],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Jd(l){let e,n,t,i,r,s,o,a,f,u,c,m,p;function _(M){l[53](M)}let $={disabled:l[27]};l[15].data!==void 0&&($.value=l[15].data),e=new Ts({props:$}),x.push(()=>ee(e,"value",_));function k(M){l[54](M)}function v(M){l[55](M)}let w={disabled:l[27]};l[18]!==void 0&&(w.customSize=l[18]),l[19]!==void 0&&(w.customHitDiceSize=l[19]),i=new jd({props:w}),x.push(()=>ee(i,"customSize",k)),x.push(()=>ee(i,"customHitDiceSize",v));function P(M){l[56](M)}let z={disabled:l[27]};l[20]!==void 0&&(z.values=l[20]),a=new Ps({props:z}),x.push(()=>ee(a,"values",P));function H(M){l[57](M)}let R={disabled:l[27]};return l[21]!==void 0&&(R.values=l[21]),c=new Ds({props:R}),x.push(()=>ee(c,"values",H)),{c(){I(e.$$.fragment),t=F(),I(i.$$.fragment),o=F(),I(a.$$.fragment),u=F(),I(c.$$.fragment)},l(M){A(e.$$.fragment,M),t=N(M),A(i.$$.fragment,M),o=N(M),A(a.$$.fragment,M),u=N(M),A(c.$$.fragment,M)},m(M,q){C(e,M,q),b(M,t,q),C(i,M,q),b(M,o,q),C(a,M,q),b(M,u,q),C(c,M,q),p=!0},p(M,q){const j={};q[0]&134217728&&(j.disabled=M[27]),!n&&q[0]&32768&&(n=!0,j.value=M[15].data,te(()=>n=!1)),e.$set(j);const K={};q[0]&134217728&&(K.disabled=M[27]),!r&&q[0]&262144&&(r=!0,K.customSize=M[18],te(()=>r=!1)),!s&&q[0]&524288&&(s=!0,K.customHitDiceSize=M[19],te(()=>s=!1)),i.$set(K);const G={};q[0]&134217728&&(G.disabled=M[27]),!f&&q[0]&1048576&&(f=!0,G.values=M[20],te(()=>f=!1)),a.$set(G);const Y={};q[0]&134217728&&(Y.disabled=M[27]),!m&&q[0]&2097152&&(m=!0,Y.values=M[21],te(()=>m=!1)),c.$set(Y)},i(M){p||(h(e.$$.fragment,M),h(i.$$.fragment,M),h(a.$$.fragment,M),h(c.$$.fragment,M),p=!0)},o(M){g(e.$$.fragment,M),g(i.$$.fragment,M),g(a.$$.fragment,M),g(c.$$.fragment,M),p=!1},d(M){M&&(d(t),d(o),d(u)),S(e,M),S(i,M),S(a,M),S(c,M)}}}function Xd(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function xd(l){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function ep(l){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:l[27],$$slots:{default:[Xd]},$$scope:{ctx:l}}}),e.$on("click",l[30]),t=new Pe({props:{type:"submit",disabled:l[27]||!l[24],$$slots:{default:[xd]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s[0]&134217728&&(o.disabled=r[27]),s[1]&268435456&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const a={};s[0]&150994944&&(a.disabled=r[27]||!r[24]),s[1]&268435456&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function tp(l){var Ct;let e,n,t,i,r,s,o,a,f,u,c,m,p,_,$,k,v,w,P,z,H,R,M,q,j,K,G,Y,V,Q,ie,_e,ue,ae,be,ne,fe,Fe,Te,pe,ge,ye,Se,X,ke;function Ie(U){l[33](U)}function ze(U){l[34](U)}function Re(U){l[35](U)}function qe(U){l[36](U)}function de(U){l[37](U)}function Ee(U){l[38](U)}function Oe(U){l[39](U)}function Ke(U){l[40](U)}function Je(U){l[41](U)}function Me(U){l[42](U)}let We={originalAvatarSrc:(Ct=l[29])==null?void 0:Ct.href,disabled:l[27]};l[2]!==void 0&&(We.nickname=l[2]),l[3]!==void 0&&(We.nature=l[3]),l[4]!==void 0&&(We.tera=l[4]),l[5]!==void 0&&(We.level=l[5]),l[6]!==void 0&&(We.ac=l[6]),l[7]!==void 0&&(We.maxHp=l[7]),l[8]!==void 0&&(We.maxHitDice=l[8]),l[16]!==void 0&&(We.isShiny=l[16]),l[23]!==void 0&&(We.avatar=l[23]),l[24]!==void 0&&(We.isValid=l[24]),e=new Ed({props:We}),x.push(()=>ee(e,"nickname",Ie)),x.push(()=>ee(e,"nature",ze)),x.push(()=>ee(e,"tera",Re)),x.push(()=>ee(e,"level",qe)),x.push(()=>ee(e,"ac",de)),x.push(()=>ee(e,"maxHp",Ee)),x.push(()=>ee(e,"maxHitDice",Oe)),x.push(()=>ee(e,"isShiny",Ke)),x.push(()=>ee(e,"avatar",Je)),x.push(()=>ee(e,"isValid",Me));function pt(U){l[43](U)}let ct={disabled:l[27]};l[9]!==void 0&&(ct.value=l[9]),p=new Wa({props:ct}),x.push(()=>ee(p,"value",pt));function _t(U){l[44](U)}let rt={disabled:l[27]};l[10]!==void 0&&(rt.values=l[10]),k=new ss({props:rt}),x.push(()=>ee(k,"values",_t));function Kt(U){l[45](U)}let St={species:l[0],disabled:l[27]};l[11]!==void 0&&(St.ability=l[11]),P=new yd({props:St}),x.push(()=>ee(P,"ability",Kt));function gt(U){l[46](U)}let ve={disabled:l[27]};l[22]!==void 0&&(ve.value=l[22]),R=new Qd({props:ve}),x.push(()=>ee(R,"value",gt));function W(U){l[47](U)}let Ce={disabled:l[27]};l[12]!==void 0&&(Ce.values=l[12]),j=new Dr({props:Ce}),x.push(()=>ee(j,"values",W));function $t(U){l[48](U)}let vt={disabled:l[27]};l[13]!==void 0&&(vt.values=l[13]),Y=new Nr({props:vt}),x.push(()=>ee(Y,"values",$t));function Ut(U){l[49](U)}let Ft={species:l[0],level:new bt(l[5]),disabled:l[27]};l[25]!==void 0&&(Ft.values=l[25]),ie=new Bd({props:Ft}),x.push(()=>ee(ie,"values",Ut));function jt(U){l[50](U)}let Ht={feats:l[28],disabled:l[27]};l[17]!==void 0&&(Ht.values=l[17]),ae=new os({props:Ht}),x.push(()=>ee(ae,"values",jt));function Gt(U){l[51](U)}let zt={disabled:l[27]};return l[26]!==void 0&&(zt.items=l[26]),fe=new Nd({props:zt}),x.push(()=>ee(fe,"items",Gt)),pe=new Ze({props:{title:"General",$$slots:{default:[Zd]},$$scope:{ctx:l}}}),ye=new $a({props:{title:"Advanced",$$slots:{default:[Jd]},$$scope:{ctx:l}}}),X=new Qe({props:{error:l[24]?void 0:"One or more fields above have an issue.",$$slots:{default:[ep]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),m=F(),I(p.$$.fragment),$=F(),I(k.$$.fragment),w=F(),I(P.$$.fragment),H=F(),I(R.$$.fragment),q=F(),I(j.$$.fragment),G=F(),I(Y.$$.fragment),Q=F(),I(ie.$$.fragment),ue=F(),I(ae.$$.fragment),ne=F(),I(fe.$$.fragment),Te=F(),I(pe.$$.fragment),ge=F(),I(ye.$$.fragment),Se=F(),I(X.$$.fragment)},l(U){A(e.$$.fragment,U),m=N(U),A(p.$$.fragment,U),$=N(U),A(k.$$.fragment,U),w=N(U),A(P.$$.fragment,U),H=N(U),A(R.$$.fragment,U),q=N(U),A(j.$$.fragment,U),G=N(U),A(Y.$$.fragment,U),Q=N(U),A(ie.$$.fragment,U),ue=N(U),A(ae.$$.fragment,U),ne=N(U),A(fe.$$.fragment,U),Te=N(U),A(pe.$$.fragment,U),ge=N(U),A(ye.$$.fragment,U),Se=N(U),A(X.$$.fragment,U)},m(U,$e){C(e,U,$e),b(U,m,$e),C(p,U,$e),b(U,$,$e),C(k,U,$e),b(U,w,$e),C(P,U,$e),b(U,H,$e),C(R,U,$e),b(U,q,$e),C(j,U,$e),b(U,G,$e),C(Y,U,$e),b(U,Q,$e),C(ie,U,$e),b(U,ue,$e),C(ae,U,$e),b(U,ne,$e),C(fe,U,$e),b(U,Te,$e),C(pe,U,$e),b(U,ge,$e),C(ye,U,$e),b(U,Se,$e),C(X,U,$e),ke=!0},p(U,$e){const at={};$e[0]&134217728&&(at.disabled=U[27]),!n&&$e[0]&4&&(n=!0,at.nickname=U[2],te(()=>n=!1)),!t&&$e[0]&8&&(t=!0,at.nature=U[3],te(()=>t=!1)),!i&&$e[0]&16&&(i=!0,at.tera=U[4],te(()=>i=!1)),!r&&$e[0]&32&&(r=!0,at.level=U[5],te(()=>r=!1)),!s&&$e[0]&64&&(s=!0,at.ac=U[6],te(()=>s=!1)),!o&&$e[0]&128&&(o=!0,at.maxHp=U[7],te(()=>o=!1)),!a&&$e[0]&256&&(a=!0,at.maxHitDice=U[8],te(()=>a=!1)),!f&&$e[0]&65536&&(f=!0,at.isShiny=U[16],te(()=>f=!1)),!u&&$e[0]&8388608&&(u=!0,at.avatar=U[23],te(()=>u=!1)),!c&&$e[0]&16777216&&(c=!0,at.isValid=U[24],te(()=>c=!1)),e.$set(at);const yn={};$e[0]&134217728&&(yn.disabled=U[27]),!_&&$e[0]&512&&(_=!0,yn.value=U[9],te(()=>_=!1)),p.$set(yn);const Tn={};$e[0]&134217728&&(Tn.disabled=U[27]),!v&&$e[0]&1024&&(v=!0,Tn.values=U[10],te(()=>v=!1)),k.$set(Tn);const on={};$e[0]&1&&(on.species=U[0]),$e[0]&134217728&&(on.disabled=U[27]),!z&&$e[0]&2048&&(z=!0,on.ability=U[11],te(()=>z=!1)),P.$set(on);const Pn={};$e[0]&134217728&&(Pn.disabled=U[27]),!M&&$e[0]&4194304&&(M=!0,Pn.value=U[22],te(()=>M=!1)),R.$set(Pn);const Dn={};$e[0]&134217728&&(Dn.disabled=U[27]),!K&&$e[0]&4096&&(K=!0,Dn.values=U[12],te(()=>K=!1)),j.$set(Dn);const Nn={};$e[0]&134217728&&(Nn.disabled=U[27]),!V&&$e[0]&8192&&(V=!0,Nn.values=U[13],te(()=>V=!1)),Y.$set(Nn);const Yt={};$e[0]&1&&(Yt.species=U[0]),$e[0]&32&&(Yt.level=new bt(U[5])),$e[0]&134217728&&(Yt.disabled=U[27]),!_e&&$e[0]&33554432&&(_e=!0,Yt.values=U[25],te(()=>_e=!1)),ie.$set(Yt);const fn={};$e[0]&268435456&&(fn.feats=U[28]),$e[0]&134217728&&(fn.disabled=U[27]),!be&&$e[0]&131072&&(be=!0,fn.values=U[17],te(()=>be=!1)),ae.$set(fn);const Fn={};$e[0]&134217728&&(Fn.disabled=U[27]),!Fe&&$e[0]&67108864&&(Fe=!0,Fn.items=U[26],te(()=>Fe=!1)),fe.$set(Fn);const oi={};$e[0]&134234112|$e[1]&268435456&&(oi.$$scope={dirty:$e,ctx:U}),pe.$set(oi);const fi={};$e[0]&138182656|$e[1]&268435456&&(fi.$$scope={dirty:$e,ctx:U}),ye.$set(fi);const Hn={};$e[0]&16777216&&(Hn.error=U[24]?void 0:"One or more fields above have an issue."),$e[0]&150994944|$e[1]&268435456&&(Hn.$$scope={dirty:$e,ctx:U}),X.$set(Hn)},i(U){ke||(h(e.$$.fragment,U),h(p.$$.fragment,U),h(k.$$.fragment,U),h(P.$$.fragment,U),h(R.$$.fragment,U),h(j.$$.fragment,U),h(Y.$$.fragment,U),h(ie.$$.fragment,U),h(ae.$$.fragment,U),h(fe.$$.fragment,U),h(pe.$$.fragment,U),h(ye.$$.fragment,U),h(X.$$.fragment,U),ke=!0)},o(U){g(e.$$.fragment,U),g(p.$$.fragment,U),g(k.$$.fragment,U),g(P.$$.fragment,U),g(R.$$.fragment,U),g(j.$$.fragment,U),g(Y.$$.fragment,U),g(ie.$$.fragment,U),g(ae.$$.fragment,U),g(fe.$$.fragment,U),g(pe.$$.fragment,U),g(ye.$$.fragment,U),g(X.$$.fragment,U),ke=!1},d(U){U&&(d(m),d($),d(w),d(H),d(q),d(G),d(Q),d(ue),d(ne),d(Te),d(ge),d(Se)),S(e,U),S(p,U),S(k,U),S(P,U),S(R,U),S(j,U),S(Y,U),S(ie,U),S(ae,U),S(fe,U),S(pe,U),S(ye,U),S(X,U)}}}function np(l){let e,n;return e=new Bt({props:{onsubmit:l[31],saving:l[1],$$slots:{default:[tp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i[0]&2&&(r.saving=t[1]),i[0]&536870909|i[1]&268435456&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ip(l,e,n){var St,gt;let t,i;Ve(l,Ws,ve=>n(28,i=ve));const r=tt();let{pokemon:s}=e,{species:o}=e,{saving:a=!1}=e,f=s.nickname,u=s.nature.copy(),c=((St=s.teraType)==null?void 0:St.copy())??new Tt(""),m=s.level.data,p=s.ac,_=s.hp.max,$=s.hitDice.max,k=s.gender,v=s.attributes.copy(),w=s.ability,P=s.proficiencies.copy(),z=[...s.savingThrows],H=s.notes,R=s.type.copy(),M=s.isShiny,q=s.feats.map(ve=>structuredClone(ve)),j=s.customSize,K=(gt=s.customHitDiceSize)==null?void 0:gt.data,G=s.speeds.copy(),Y=s.senses.copy(),V=structuredClone(s.bond),Q=s.avatar,ie,_e=!0,ue=structuredClone(s.moves),ae=structuredClone(s.items);const be=()=>{r("cancel")},ne=()=>{r("update",{pokemon:{...s,nickname:f.length>0?f:o.data.name,type:R,nature:u,teraType:c,level:new bt(m),ac:p,hp:{current:s.hp.current+(_-s.hp.max),max:_},hitDice:{current:s.hitDice.current+($-s.hitDice.max),max:$},gender:k,isShiny:M,attributes:v,ability:w,proficiencies:P,savingThrows:z,moves:ue,items:ae,notes:H,feats:q,customSize:j,customHitDiceSize:K?new Mt(K):void 0,speeds:G,senses:Y,bond:{...V,points:{current:Math.max(0,s.bond.points.current+(V.points.max-s.bond.points.max)),max:V.points.max}},avatar:Q},updateAvatar:ie})};function fe(ve){f=ve,n(2,f)}function Fe(ve){u=ve,n(3,u)}function Te(ve){c=ve,n(4,c)}function pe(ve){m=ve,n(5,m)}function ge(ve){p=ve,n(6,p)}function ye(ve){_=ve,n(7,_)}function Se(ve){$=ve,n(8,$)}function X(ve){M=ve,n(16,M)}function ke(ve){ie=ve,n(23,ie)}function Ie(ve){_e=ve,n(24,_e)}function ze(ve){k=ve,n(9,k)}function Re(ve){v=ve,n(10,v)}function qe(ve){w=ve,n(11,w)}function de(ve){V=ve,n(22,V)}function Ee(ve){P=ve,n(12,P)}function Oe(ve){z=ve,n(13,z)}function Ke(ve){ue=ve,n(25,ue)}function Je(ve){q=ve,n(17,q)}function Me(ve){ae=ve,n(26,ae)}function We(ve){H=ve,n(14,H)}function pt(ve){l.$$.not_equal(R.data,ve)&&(R.data=ve,n(15,R))}function ct(ve){j=ve,n(18,j)}function _t(ve){K=ve,n(19,K)}function rt(ve){G=ve,n(20,G)}function Kt(ve){Y=ve,n(21,Y)}return l.$$set=ve=>{"pokemon"in ve&&n(32,s=ve.pokemon),"species"in ve&&n(0,o=ve.species),"saving"in ve&&n(1,a=ve.saving)},l.$$.update=()=>{l.$$.dirty[0]&2&&n(27,t=a)},[o,a,f,u,c,m,p,_,$,k,v,w,P,z,H,R,M,q,j,K,G,Y,V,ie,_e,ue,ae,t,i,Q,be,ne,s,fe,Fe,Te,pe,ge,ye,Se,X,ke,Ie,ze,Re,qe,de,Ee,Oe,Ke,Je,Me,We,pt,ct,_t,rt,Kt]}let lp=class extends le{constructor(e){super(),re(this,e,ip,np,se,{pokemon:32,species:0,saving:1},null,[-1,-1])}};function rp(l){let e,n,t="You do not have permission to edit this pokemon.",i,r,s;return r=new Qe({props:{$$slots:{default:[op]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"P",{"data-svelte-h":!0}),he(n)!=="svelte-1ag681u"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&518&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function sp(l){let e,n;return e=new lp({props:{pokemon:l[4],species:l[8],saving:l[3]}}),e.$on("cancel",l[7]),e.$on("update",l[6]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.pokemon=t[4]),i&256&&(r.species=t[8]),i&8&&(r.saving=t[3]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ap(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function op(l){let e,n;return e=new Pe({props:{href:Ae.trainers(l[2].info.readKey,l[1]),$$slots:{default:[ap]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&6&&(r.href=Ae.trainers(t[2].info.readKey,t[1])),i&512&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fp(l){let e,n,t,i;const r=[sp,rp],s=[];function o(a,f){return a[5]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function up(l){let e,n;return e=new lt({props:{title:"Edit "+l[4].nickname,$$slots:{default:[fp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.title="Edit "+t[4].nickname),i&830&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function cp(l){var t;let e,n;return e=new Dt({props:{ids:[(t=l[4])==null?void 0:t.pokemonId],$$slots:{default:[up,({species:i})=>({8:i}),({species:i})=>i?256:0]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,r){C(e,i,r),n=!0},p(i,r){var o;const s={};r&16&&(s.ids=[(o=i[4])==null?void 0:o.pokemonId]),r&830&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function mp(l){let e,n;return e=new an({props:{trainer:l[2],id:l[1],titlePrefix:"Edit",$$slots:{default:[cp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.trainer=t[2]),i&2&&(r.id=t[1]),i&574&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function dp(l,e,n){let t,i,r,s=Z,o=()=>(s(),s=Xe(a,p=>n(2,r=p)),a);l.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let{id:f}=e,u=!1;const c=p=>{var _;n(3,u=!0),(_=r.update)==null||_.pokemon(p.detail.pokemon,{updateAvatar:p.detail.updateAvatar}).then(()=>{var $,k,v;return Promise.all([(($=r.update)==null?void 0:$.moveset(p.detail.pokemon))??Promise.resolve(),((k=r.update)==null?void 0:k.heldItems(p.detail.pokemon))??Promise.resolve(),((v=r.update)==null?void 0:v.pokemonFeats(p.detail.pokemon))??Promise.resolve()])}).then(()=>{n(3,u=!1),et(Ae.trainers(r.info.readKey,f))}).catch(()=>{n(3,u=!1)})},m=()=>{et(Ae.trainers(r.info.readKey,f))};return l.$$set=p=>{"trainer"in p&&o(n(0,a=p.trainer)),"id"in p&&n(1,f=p.id)},l.$$.update=()=>{l.$$.dirty&4&&n(5,t=r.update!=null),l.$$.dirty&6&&n(4,i=r.pokemon.find(p=>p.id===f))},[a,f,r,u,i,t,c,m]}class pp extends le{constructor(e){super(),re(this,e,dp,mp,se,{trainer:0,id:1})}}function _p(l){let e,n,t="You do not have permission to evolve this pokemon.",i,r,s;return r=new Qe({props:{$$slots:{default:[gp]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"P",{"data-svelte-h":!0}),he(n)!=="svelte-756k5x"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&2058&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function $p(l){let e,n;return e=new _o({props:{pokemon:l[5],species:l[10],allSpecies:l[2],evolutions:l[7],saving:l[4]}}),e.$on("cancel",l[9]),e.$on("submit",l[8]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&32&&(r.pokemon=t[5]),i&1024&&(r.species=t[10]),i&4&&(r.allSpecies=t[2]),i&16&&(r.saving=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function hp(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function gp(l){let e,n;return e=new Pe({props:{href:Ae.trainers(l[3].info.readKey,l[1]),$$slots:{default:[hp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&10&&(r.href=Ae.trainers(t[3].info.readKey,t[1])),i&2048&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function vp(l){let e,n,t,i;const r=[$p,_p],s=[];function o(a,f){return a[6]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function bp(l){let e,n;return e=new lt({props:{title:"Evolve "+l[5].nickname,$$slots:{default:[vp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&32&&(r.title="Evolve "+t[5].nickname),i&3198&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function kp(l){var t;let e,n;return e=new Dt({props:{ids:[(t=l[5])==null?void 0:t.pokemonId],$$slots:{default:[bp,({species:i})=>({10:i}),({species:i})=>i?1024:0]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,r){C(e,i,r),n=!0},p(i,r){var o;const s={};r&32&&(s.ids=[(o=i[5])==null?void 0:o.pokemonId]),r&3198&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function wp(l){let e,n;return e=new an({props:{trainer:l[3],id:l[1],titlePrefix:"Evolve",$$slots:{default:[kp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&8&&(r.trainer=t[3]),i&2&&(r.id=t[1]),i&2174&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ep(l,e,n){let t,i,r,s=Z,o=()=>(s(),s=Xe(f,$=>n(3,r=$)),f);l.$$.on_destroy.push(()=>s());const a=Rr.all();let{trainer:f}=e;o();let{id:u}=e,{allSpecies:c}=e,m=!1;const p=$=>{var k;n(4,m=!0),(k=r.update)==null||k.pokemon($.detail).then(()=>{n(4,m=!1),et(Ae.trainers(r.info.readKey,u))}).catch(()=>{n(4,m=!1)})},_=()=>{et(Ae.trainers(r.info.readKey,u))};return l.$$set=$=>{"trainer"in $&&o(n(0,f=$.trainer)),"id"in $&&n(1,u=$.id),"allSpecies"in $&&n(2,c=$.allSpecies)},l.$$.update=()=>{l.$$.dirty&8&&n(6,t=r.update!=null),l.$$.dirty&10&&n(5,i=r.pokemon.find($=>$.id===u))},[f,u,c,r,m,i,t,a,p,_]}class Sp extends le{constructor(e){super(),re(this,e,Ep,wp,se,{trainer:0,id:1,allSpecies:2})}}function Cp(l){let e,n="Cannot find trainer",t,i,r,s,o,a,f,u,c=`You can view a <a href="${Ae.trainers()}">list of your trainers</a> or search by trainer id.`;return{c(){e=T("h1"),e.textContent=n,t=F(),i=T("p"),r=B("No trainer with id "),s=T("strong"),o=B(l[0]),a=B(" seems to be registered."),f=F(),u=T("p"),u.innerHTML=c,this.h()},l(m){e=y(m,"H1",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-q8duw8"&&(e.textContent=n),t=N(m),i=y(m,"P",{class:!0});var p=L(i);r=O(p,"No trainer with id "),s=y(p,"STRONG",{});var _=L(s);o=O(_,l[0]),_.forEach(d),a=O(p," seems to be registered."),p.forEach(d),f=N(m),u=y(m,"P",{class:!0,"data-svelte-h":!0}),he(u)!=="svelte-dt3m1x"&&(u.innerHTML=c),this.h()},h(){D(e,"class","large-font space-bottom bubble-padded svelte-1st51oh"),D(i,"class","bubble-padded svelte-1st51oh"),D(u,"class","bubble svelte-1st51oh")},m(m,p){b(m,e,p),b(m,t,p),b(m,i,p),E(i,r),E(i,s),E(s,o),E(i,a),b(m,f,p),b(m,u,p)},p(m,[p]){p&1&&oe(o,m[0])},i:Z,o:Z,d(m){m&&(d(e),d(t),d(i),d(f),d(u))}}}function Ip(l,e,n){let{trainerKey:t}=e;return l.$$set=i=>{"trainerKey"in i&&n(0,t=i.trainerKey)},[t]}class Ap extends le{constructor(e){super(),re(this,e,Ip,Cp,se,{trainerKey:0})}}const yp="/_app/immutable/assets/find-trainer-id.DcdDbnCJ.png";function Tp(l){let e,n,t;function i(s){l[4](s)}let r={label:"Trainer ID",maxlength:12,placeholder:"e.g. H4PF8E2GZA0A",disabled:l[2],required:!0};return l[0]!==void 0&&(r.value=l[0]),e=new ut({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&4&&(a.disabled=s[2]),!n&&o&1&&(n=!0,a.value=s[0],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function ir(l){let e,n="No trainer is registered with this id";return{c(){e=T("p"),e.textContent=n,this.h()},l(t){e=y(t,"P",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-y99bmo"&&(e.textContent=n),this.h()},h(){D(e,"class","font-sm error svelte-larh64")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function Pp(l){let e,n,t=`Enter the trainer's unique ID below and click "Search".`,i,r,s,o,a,f,u,c,m=`<p>Each trainer has a unique 12-character ID. You can find it on their page, pictured below.</p> <figure class="spaced-lg svelte-larh64"><img src="${yp}" alt="The label &#39;Trainer ID&#39; denotes the trainer&#39;s id." width="800" height="256" class="svelte-larh64"/> <figcaption>Use this ID for searching</figcaption></figure> <p>Searching by a trainer&#39;s ID can allow you to view a friend&#39;s pokemon or view your own trainer&#39;s pokemon on different devices.</p>`,p,_,$;s=new Fr({props:{label:"Search",type:"submit",$$slots:{default:[Tp]},$$scope:{ctx:l}}});let k=l[1].length>0&&l[1]===l[0]&&ir();return{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),r=T("form"),I(s.$$.fragment),o=F(),k&&k.c(),a=F(),f=T("hr"),u=F(),c=T("section"),c.innerHTML=m,this.h()},l(v){e=y(v,"SECTION",{});var w=L(e);n=y(w,"P",{"data-svelte-h":!0}),he(n)!=="svelte-xh6jag"&&(n.textContent=t),i=N(w),r=y(w,"FORM",{class:!0,disabled:!0});var P=L(r);A(s.$$.fragment,P),o=N(P),k&&k.l(P),P.forEach(d),w.forEach(d),a=N(v),f=y(v,"HR",{}),u=N(v),c=y(v,"SECTION",{"data-svelte-h":!0}),he(c)!=="svelte-4nha7h"&&(c.innerHTML=m),this.h()},h(){D(r,"class","vertical spaced-lg svelte-larh64"),D(r,"disabled",l[2])},m(v,w){b(v,e,w),E(e,n),E(e,i),E(e,r),C(s,r,null),E(r,o),k&&k.m(r,null),b(v,a,w),b(v,f,w),b(v,u,w),b(v,c,w),p=!0,_||($=ft(r,"submit",Cr(l[3])),_=!0)},p(v,w){const P={};w&37&&(P.$$scope={dirty:w,ctx:v}),s.$set(P),v[1].length>0&&v[1]===v[0]?k||(k=ir(),k.c(),k.m(r,null)):k&&(k.d(1),k=null),(!p||w&4)&&D(r,"disabled",v[2])},i(v){p||(h(s.$$.fragment,v),p=!0)},o(v){g(s.$$.fragment,v),p=!1},d(v){v&&(d(e),d(a),d(f),d(u),d(c)),S(s),k&&k.d(),_=!1,$()}}}function Dp(l){let e,n;return e=new nn({props:{saving:l[2],caption:"Searching...",$$slots:{default:[Pp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.saving=t[2]),i&39&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Np(l){let e,n,t,i;return e=new st({props:{value:"Find Trainer by ID"}}),t=new lt({props:{title:"Find Trainer by ID",$$slots:{default:[Dp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&39&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function Fp(l,e,n){let t="",i="",r=!1;const s=()=>{n(2,r=!0),En.get(t).then(a=>{a?et(Ae.trainers(t)):(n(2,r=!1),n(1,i=t))})};function o(a){t=a,n(0,t)}return l.$$.update=()=>{l.$$.dirty&1&&n(0,t=t.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,""))},[t,i,r,s,o]}class Hp extends le{constructor(e){super(),re(this,e,Fp,Np,se,{})}}function zp(l){let e,n,t,i,r,s,o,a,f,u,c,m,p,_;function $(M){l[7](M)}let k={label:"Name",disabled:l[5]};l[0]!==void 0&&(k.value=l[0]),e=new ut({props:k}),x.push(()=>ee(e,"value",$)),i=new it({props:{label:"Level",value:l[1],min:1,max:20,disabled:l[5]}}),i.$on("change",l[6]);function v(M){l[8](M)}let w={label:"AC",min:0,max:99,disabled:l[5]};l[2]!==void 0&&(w.value=l[2]),s=new it({props:w}),x.push(()=>ee(s,"value",v));function P(M){l[9](M)}let z={label:"Max HP",min:0,disabled:l[5]};l[3]!==void 0&&(z.value=l[3]),f=new it({props:z}),x.push(()=>ee(f,"value",P));function H(M){l[10](M)}let R={label:"Max Hit Dice",min:0,max:20,disabled:l[5]};return l[4]!==void 0&&(R.value=l[4]),m=new it({props:R}),x.push(()=>ee(m,"value",H)),{c(){I(e.$$.fragment),t=F(),I(i.$$.fragment),r=F(),I(s.$$.fragment),a=F(),I(f.$$.fragment),c=F(),I(m.$$.fragment)},l(M){A(e.$$.fragment,M),t=N(M),A(i.$$.fragment,M),r=N(M),A(s.$$.fragment,M),a=N(M),A(f.$$.fragment,M),c=N(M),A(m.$$.fragment,M)},m(M,q){C(e,M,q),b(M,t,q),C(i,M,q),b(M,r,q),C(s,M,q),b(M,a,q),C(f,M,q),b(M,c,q),C(m,M,q),_=!0},p(M,q){const j={};q&32&&(j.disabled=M[5]),!n&&q&1&&(n=!0,j.value=M[0],te(()=>n=!1)),e.$set(j);const K={};q&2&&(K.value=M[1]),q&32&&(K.disabled=M[5]),i.$set(K);const G={};q&32&&(G.disabled=M[5]),!o&&q&4&&(o=!0,G.value=M[2],te(()=>o=!1)),s.$set(G);const Y={};q&32&&(Y.disabled=M[5]),!u&&q&8&&(u=!0,Y.value=M[3],te(()=>u=!1)),f.$set(Y);const V={};q&32&&(V.disabled=M[5]),!p&&q&16&&(p=!0,V.value=M[4],te(()=>p=!1)),m.$set(V)},i(M){_||(h(e.$$.fragment,M),h(i.$$.fragment,M),h(s.$$.fragment,M),h(f.$$.fragment,M),h(m.$$.fragment,M),_=!0)},o(M){g(e.$$.fragment,M),g(i.$$.fragment,M),g(s.$$.fragment,M),g(f.$$.fragment,M),g(m.$$.fragment,M),_=!1},d(M){M&&(d(t),d(r),d(a),d(c)),S(e,M),S(i,M),S(s,M),S(f,M),S(m,M)}}}function Lp(l){let e,n;return e=new Ze({props:{title:"Basic Info",columns:2,$$slots:{default:[zp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&2111&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Rp(l,e,n){let{name:t}=e,{level:i}=e,{ac:r}=e,{maxHp:s}=e,{maxHitDice:o}=e,{disabled:a=!1}=e;const f=_=>{i===o&&n(4,o=_.detail.value),n(1,i=_.detail.value)};function u(_){t=_,n(0,t)}function c(_){r=_,n(2,r)}function m(_){s=_,n(3,s)}function p(_){o=_,n(4,o)}return l.$$set=_=>{"name"in _&&n(0,t=_.name),"level"in _&&n(1,i=_.level),"ac"in _&&n(2,r=_.ac),"maxHp"in _&&n(3,s=_.maxHp),"maxHitDice"in _&&n(4,o=_.maxHitDice),"disabled"in _&&n(5,a=_.disabled)},[t,i,r,s,o,a,f,u,c,m,p]}class Mp extends le{constructor(e){super(),re(this,e,Rp,Lp,se,{name:0,level:1,ac:2,maxHp:3,maxHitDice:4,disabled:5})}}function Vp(l){let e,n,t,i,r,s,o,a,f,u,c,m,p,_,$,k,v,w,P,z,H,R,M,q,j,K;function G(pe){l[10](pe)}let Y={label:"Species",placeholder:"e.g. Human",disabled:l[3]};l[4]!==void 0&&(Y.value=l[4]),t=new ut({props:Y}),x.push(()=>ee(t,"value",G));function V(pe){l[11](pe)}let Q={label:"Gender",disabled:l[3]};l[5]!==void 0&&(Q.value=l[5]),o=new ut({props:Q}),x.push(()=>ee(o,"value",V));function ie(pe){l[12](pe)}let _e={label:"Age",disabled:l[3]};l[6]!==void 0&&(_e.value=l[6]),c=new it({props:_e}),x.push(()=>ee(c,"value",ie));function ue(pe){l[13](pe)}let ae={label:"Home Region",placeholder:"e.g. Sinnoh",disabled:l[3]};l[7]!==void 0&&(ae.value=l[7]),$=new ut({props:ae}),x.push(()=>ee($,"value",ue));function be(pe){l[14](pe)}let ne={label:"Background",placeholder:"e.g. Entertainer",disabled:l[3]};l[8]!==void 0&&(ne.value=l[8]),P=new ut({props:ne}),x.push(()=>ee(P,"value",be));function fe(pe){l[15](pe)}function Fe(pe){l[16](pe)}let Te={label:"Avatar",previousValue:l[2],maxbytes:Bp,disabled:l[3]};return l[0]!==void 0&&(Te.currentValue=l[0]),l[1]!==void 0&&(Te.isValid=l[1]),M=new Pr({props:Te}),x.push(()=>ee(M,"currentValue",fe)),x.push(()=>ee(M,"isValid",Fe)),{c(){e=T("div"),n=T("div"),I(t.$$.fragment),r=F(),s=T("div"),I(o.$$.fragment),f=F(),u=T("div"),I(c.$$.fragment),p=F(),_=T("div"),I($.$$.fragment),v=F(),w=T("div"),I(P.$$.fragment),H=F(),R=T("div"),I(M.$$.fragment),this.h()},l(pe){e=y(pe,"DIV",{class:!0});var ge=L(e);n=y(ge,"DIV",{});var ye=L(n);A(t.$$.fragment,ye),ye.forEach(d),r=N(ge),s=y(ge,"DIV",{});var Se=L(s);A(o.$$.fragment,Se),Se.forEach(d),f=N(ge),u=y(ge,"DIV",{});var X=L(u);A(c.$$.fragment,X),X.forEach(d),p=N(ge),_=y(ge,"DIV",{});var ke=L(_);A($.$$.fragment,ke),ke.forEach(d),v=N(ge),w=y(ge,"DIV",{});var Ie=L(w);A(P.$$.fragment,Ie),Ie.forEach(d),H=N(ge),R=y(ge,"DIV",{class:!0});var ze=L(R);A(M.$$.fragment,ze),ze.forEach(d),ge.forEach(d),this.h()},h(){we(n,"grid-area","field1"),we(s,"grid-area","field2"),we(u,"grid-area","field3"),we(_,"grid-area","field4"),we(w,"grid-area","field5"),D(R,"class","image-field svelte-1qp92on"),we(R,"grid-area","avatar"),D(e,"class","grid svelte-1qp92on")},m(pe,ge){b(pe,e,ge),E(e,n),C(t,n,null),E(e,r),E(e,s),C(o,s,null),E(e,f),E(e,u),C(c,u,null),E(e,p),E(e,_),C($,_,null),E(e,v),E(e,w),C(P,w,null),E(e,H),E(e,R),C(M,R,null),K=!0},p(pe,ge){const ye={};ge&8&&(ye.disabled=pe[3]),!i&&ge&16&&(i=!0,ye.value=pe[4],te(()=>i=!1)),t.$set(ye);const Se={};ge&8&&(Se.disabled=pe[3]),!a&&ge&32&&(a=!0,Se.value=pe[5],te(()=>a=!1)),o.$set(Se);const X={};ge&8&&(X.disabled=pe[3]),!m&&ge&64&&(m=!0,X.value=pe[6],te(()=>m=!1)),c.$set(X);const ke={};ge&8&&(ke.disabled=pe[3]),!k&&ge&128&&(k=!0,ke.value=pe[7],te(()=>k=!1)),$.$set(ke);const Ie={};ge&8&&(Ie.disabled=pe[3]),!z&&ge&256&&(z=!0,Ie.value=pe[8],te(()=>z=!1)),P.$set(Ie);const ze={};ge&4&&(ze.previousValue=pe[2]),ge&8&&(ze.disabled=pe[3]),!q&&ge&1&&(q=!0,ze.currentValue=pe[0],te(()=>q=!1)),!j&&ge&2&&(j=!0,ze.isValid=pe[1],te(()=>j=!1)),M.$set(ze)},i(pe){K||(h(t.$$.fragment,pe),h(o.$$.fragment,pe),h(c.$$.fragment,pe),h($.$$.fragment,pe),h(P.$$.fragment,pe),h(M.$$.fragment,pe),K=!0)},o(pe){g(t.$$.fragment,pe),g(o.$$.fragment,pe),g(c.$$.fragment,pe),g($.$$.fragment,pe),g(P.$$.fragment,pe),g(M.$$.fragment,pe),K=!1},d(pe){pe&&d(e),S(t),S(o),S(c),S($),S(P),S(M)}}}function Op(l){let e,n;return e=new Ze({props:{title:"Biography",$$slots:{default:[Vp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&131583&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const Bp=524288;function qp(l,e,n){let{biography:t}=e,{originalAvatarSrc:i}=e,{avatar:r}=e,{disabled:s=!1}=e,{isValid:o=!0}=e,{species:a,gender:f,age:u,homeRegion:c,background:m}=t;function p(z){a=z,n(4,a)}function _(z){f=z,n(5,f)}function $(z){u=z,n(6,u)}function k(z){c=z,n(7,c)}function v(z){m=z,n(8,m)}function w(z){r=z,n(0,r)}function P(z){o=z,n(1,o)}return l.$$set=z=>{"biography"in z&&n(9,t=z.biography),"originalAvatarSrc"in z&&n(2,i=z.originalAvatarSrc),"avatar"in z&&n(0,r=z.avatar),"disabled"in z&&n(3,s=z.disabled),"isValid"in z&&n(1,o=z.isValid)},l.$$.update=()=>{l.$$.dirty&496&&n(9,t={species:a,gender:f,age:u,homeRegion:c,background:m})},[r,o,i,s,a,f,u,c,m,t,p,_,$,k,v,w,P]}class Kp extends le{constructor(e){super(),re(this,e,qp,Op,se,{biography:9,originalAvatarSrc:2,avatar:0,disabled:3,isValid:1})}}function Up(l){let e,n,t,i,r,s;function o(c){l[5](c)}let a={label:"Money",disabled:l[2]};l[0]!==void 0&&(a.value=l[0]),e=new ua({props:a}),x.push(()=>ee(e,"value",o));function f(c){l[6](c)}let u={disabled:l[2],newStandardItem:l[3],newCustomItem:l[4],groupOrder:["pokeball","medicine","berry","held item","evolution"]};return l[1]!==void 0&&(u.values=l[1]),i=new rs({props:u}),x.push(()=>ee(i,"values",f)),{c(){I(e.$$.fragment),t=F(),I(i.$$.fragment)},l(c){A(e.$$.fragment,c),t=N(c),A(i.$$.fragment,c)},m(c,m){C(e,c,m),b(c,t,m),C(i,c,m),s=!0},p(c,m){const p={};m&4&&(p.disabled=c[2]),!n&&m&1&&(n=!0,p.value=c[0],te(()=>n=!1)),e.$set(p);const _={};m&4&&(_.disabled=c[2]),!r&&m&2&&(r=!0,_.values=c[1],te(()=>r=!1)),i.$set(_)},i(c){s||(h(e.$$.fragment,c),h(i.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),g(i.$$.fragment,c),s=!1},d(c){c&&d(t),S(e,c),S(i,c)}}}function jp(l){let e,n;return e=new Ze({props:{title:"Inventory",$$slots:{default:[Up]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&135&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Gp(l,e,n){let{money:t}=e,{inventory:i}=e,{disabled:r}=e;const s=u=>({id:u,type:"standard",itemId:"poke-ball",quantity:1}),o=u=>({id:u,type:"custom",name:"",description:"",quantity:1});function a(u){t=u,n(0,t)}function f(u){i=u,n(1,i)}return l.$$set=u=>{"money"in u&&n(0,t=u.money),"inventory"in u&&n(1,i=u.inventory),"disabled"in u&&n(2,r=u.disabled)},[t,i,r,s,o,a,f]}class Yp extends le{constructor(e){super(),re(this,e,Gp,jp,se,{money:0,inventory:1,disabled:2})}}function Wp(l){let e,n,t;function i(s){l[39](s)}let r={label:"Description",placeholder:"General info about this trainer...",disabled:l[18]};return l[9]!==void 0&&(r.value=l[9]),e=new kt({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o[0]&262144&&(a.disabled=s[18]),!n&&o[0]&512&&(n=!0,a.value=s[9],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Qp(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Zp(l){let e;return{c(){e=B("Finish!")},l(n){e=O(n,"Finish!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Jp(l){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:l[18],$$slots:{default:[Qp]},$$scope:{ctx:l}}}),e.$on("click",l[20]),t=new Pe({props:{type:"submit",disabled:l[18]||!l[16],$$slots:{default:[Zp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s[0]&262144&&(o.disabled=r[18]),s[1]&1024&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const a={};s[0]&327680&&(a.disabled=r[18]||!r[16]),s[1]&1024&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function Xp(l){var ve;let e,n,t,i,r,s,o,a,f,u,c,m,p,_,$,k,v,w,P,z,H,R,M,q,j,K,G,Y,V,Q,ie,_e,ue,ae,be,ne,fe,Fe;function Te(W){l[23](W)}function pe(W){l[24](W)}function ge(W){l[25](W)}function ye(W){l[26](W)}function Se(W){l[27](W)}let X={disabled:l[18]};l[1]!==void 0&&(X.name=l[1]),l[2]!==void 0&&(X.level=l[2]),l[3]!==void 0&&(X.ac=l[3]),l[4]!==void 0&&(X.maxHp=l[4]),l[5]!==void 0&&(X.maxHitDice=l[5]),e=new Mp({props:X}),x.push(()=>ee(e,"name",Te)),x.push(()=>ee(e,"level",pe)),x.push(()=>ee(e,"ac",ge)),x.push(()=>ee(e,"maxHp",ye)),x.push(()=>ee(e,"maxHitDice",Se));function ke(W){l[28](W)}function Ie(W){l[29](W)}function ze(W){l[30](W)}let Re={originalAvatarSrc:(ve=l[19])==null?void 0:ve.href,disabled:l[18]};l[10]!==void 0&&(Re.biography=l[10]),l[15]!==void 0&&(Re.avatar=l[15]),l[16]!==void 0&&(Re.isValid=l[16]),a=new Kp({props:Re}),x.push(()=>ee(a,"biography",ke)),x.push(()=>ee(a,"avatar",Ie)),x.push(()=>ee(a,"isValid",ze));function qe(W){l[31](W)}let de={disabled:l[18]};l[6]!==void 0&&(de.values=l[6]),p=new ss({props:de}),x.push(()=>ee(p,"values",qe));function Ee(W){l[32](W)}let Oe={disabled:l[18]};l[7]!==void 0&&(Oe.values=l[7]),k=new Dr({props:Oe}),x.push(()=>ee(k,"values",Ee));function Ke(W){l[33](W)}let Je={disabled:l[18]};l[8]!==void 0&&(Je.values=l[8]),P=new Nr({props:Je}),x.push(()=>ee(P,"values",Ke));function Me(W){l[34](W)}let We={disabled:l[18]};l[12]!==void 0&&(We.values=l[12]),R=new Ho({props:We}),x.push(()=>ee(R,"values",Me));function pt(W){l[35](W)}let ct={disabled:l[18]};l[13]!==void 0&&(ct.value=l[13]),j=new qo({props:ct}),x.push(()=>ee(j,"value",pt));function _t(W){l[36](W)}let rt={feats:Wr,disabled:l[18]};l[14]!==void 0&&(rt.values=l[14]),Y=new os({props:rt}),x.push(()=>ee(Y,"values",_t));function Kt(W){l[37](W)}function St(W){l[38](W)}let gt={disabled:l[18]};return l[11]!==void 0&&(gt.money=l[11]),l[17]!==void 0&&(gt.inventory=l[17]),ie=new Yp({props:gt}),x.push(()=>ee(ie,"money",Kt)),x.push(()=>ee(ie,"inventory",St)),be=new Ze({props:{title:"General",$$slots:{default:[Wp]},$$scope:{ctx:l}}}),fe=new Qe({props:{error:l[16]?void 0:"One or more fields above have an issue.",$$slots:{default:[Jp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),o=F(),I(a.$$.fragment),m=F(),I(p.$$.fragment),$=F(),I(k.$$.fragment),w=F(),I(P.$$.fragment),H=F(),I(R.$$.fragment),q=F(),I(j.$$.fragment),G=F(),I(Y.$$.fragment),Q=F(),I(ie.$$.fragment),ae=F(),I(be.$$.fragment),ne=F(),I(fe.$$.fragment)},l(W){A(e.$$.fragment,W),o=N(W),A(a.$$.fragment,W),m=N(W),A(p.$$.fragment,W),$=N(W),A(k.$$.fragment,W),w=N(W),A(P.$$.fragment,W),H=N(W),A(R.$$.fragment,W),q=N(W),A(j.$$.fragment,W),G=N(W),A(Y.$$.fragment,W),Q=N(W),A(ie.$$.fragment,W),ae=N(W),A(be.$$.fragment,W),ne=N(W),A(fe.$$.fragment,W)},m(W,Ce){C(e,W,Ce),b(W,o,Ce),C(a,W,Ce),b(W,m,Ce),C(p,W,Ce),b(W,$,Ce),C(k,W,Ce),b(W,w,Ce),C(P,W,Ce),b(W,H,Ce),C(R,W,Ce),b(W,q,Ce),C(j,W,Ce),b(W,G,Ce),C(Y,W,Ce),b(W,Q,Ce),C(ie,W,Ce),b(W,ae,Ce),C(be,W,Ce),b(W,ne,Ce),C(fe,W,Ce),Fe=!0},p(W,Ce){const $t={};Ce[0]&262144&&($t.disabled=W[18]),!n&&Ce[0]&2&&(n=!0,$t.name=W[1],te(()=>n=!1)),!t&&Ce[0]&4&&(t=!0,$t.level=W[2],te(()=>t=!1)),!i&&Ce[0]&8&&(i=!0,$t.ac=W[3],te(()=>i=!1)),!r&&Ce[0]&16&&(r=!0,$t.maxHp=W[4],te(()=>r=!1)),!s&&Ce[0]&32&&(s=!0,$t.maxHitDice=W[5],te(()=>s=!1)),e.$set($t);const vt={};Ce[0]&262144&&(vt.disabled=W[18]),!f&&Ce[0]&1024&&(f=!0,vt.biography=W[10],te(()=>f=!1)),!u&&Ce[0]&32768&&(u=!0,vt.avatar=W[15],te(()=>u=!1)),!c&&Ce[0]&65536&&(c=!0,vt.isValid=W[16],te(()=>c=!1)),a.$set(vt);const Ut={};Ce[0]&262144&&(Ut.disabled=W[18]),!_&&Ce[0]&64&&(_=!0,Ut.values=W[6],te(()=>_=!1)),p.$set(Ut);const Ft={};Ce[0]&262144&&(Ft.disabled=W[18]),!v&&Ce[0]&128&&(v=!0,Ft.values=W[7],te(()=>v=!1)),k.$set(Ft);const jt={};Ce[0]&262144&&(jt.disabled=W[18]),!z&&Ce[0]&256&&(z=!0,jt.values=W[8],te(()=>z=!1)),P.$set(jt);const Ht={};Ce[0]&262144&&(Ht.disabled=W[18]),!M&&Ce[0]&4096&&(M=!0,Ht.values=W[12],te(()=>M=!1)),R.$set(Ht);const Gt={};Ce[0]&262144&&(Gt.disabled=W[18]),!K&&Ce[0]&8192&&(K=!0,Gt.value=W[13],te(()=>K=!1)),j.$set(Gt);const zt={};Ce[0]&262144&&(zt.disabled=W[18]),!V&&Ce[0]&16384&&(V=!0,zt.values=W[14],te(()=>V=!1)),Y.$set(zt);const Ct={};Ce[0]&262144&&(Ct.disabled=W[18]),!_e&&Ce[0]&2048&&(_e=!0,Ct.money=W[11],te(()=>_e=!1)),!ue&&Ce[0]&131072&&(ue=!0,Ct.inventory=W[17],te(()=>ue=!1)),ie.$set(Ct);const U={};Ce[0]&262656|Ce[1]&1024&&(U.$$scope={dirty:Ce,ctx:W}),be.$set(U);const $e={};Ce[0]&65536&&($e.error=W[16]?void 0:"One or more fields above have an issue."),Ce[0]&327680|Ce[1]&1024&&($e.$$scope={dirty:Ce,ctx:W}),fe.$set($e)},i(W){Fe||(h(e.$$.fragment,W),h(a.$$.fragment,W),h(p.$$.fragment,W),h(k.$$.fragment,W),h(P.$$.fragment,W),h(R.$$.fragment,W),h(j.$$.fragment,W),h(Y.$$.fragment,W),h(ie.$$.fragment,W),h(be.$$.fragment,W),h(fe.$$.fragment,W),Fe=!0)},o(W){g(e.$$.fragment,W),g(a.$$.fragment,W),g(p.$$.fragment,W),g(k.$$.fragment,W),g(P.$$.fragment,W),g(R.$$.fragment,W),g(j.$$.fragment,W),g(Y.$$.fragment,W),g(ie.$$.fragment,W),g(be.$$.fragment,W),g(fe.$$.fragment,W),Fe=!1},d(W){W&&(d(o),d(m),d($),d(w),d(H),d(q),d(G),d(Q),d(ae),d(ne)),S(e,W),S(a,W),S(p,W),S(k,W),S(P,W),S(R,W),S(j,W),S(Y,W),S(ie,W),S(be,W),S(fe,W)}}}function xp(l){let e,n;return e=new Bt({props:{onsubmit:l[21],saving:l[0],$$slots:{default:[Xp]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i[0]&1&&(r.saving=t[0]),i[0]&524286|i[1]&1024&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function e_(l,e,n){let t;const i=tt();let{trainer:r}=e,{saving:s=!1}=e,o=r.name,a=r.level.data,f=r.ac,u=r.hp.max,c=r.hitDice.max,m=r.attributes.copy(),p=r.proficiencies.copy(),_=[...r.savingThrows],$=r.description,k=r.biography,v=r.avatar,w=r.money,P=structuredClone(r.specializations),z=structuredClone(r.path),H=r.feats.map(X=>structuredClone(X)),R,M=!0,q=structuredClone(r.inventory);const j=()=>{i("cancel")},K=()=>{i("update",{trainer:{name:o,description:$,level:new bt(a),ac:f,hp:{current:r.hp.current+(u-r.hp.max),max:u},hitDice:{current:r.hitDice.current+(c-r.hitDice.max),max:c},attributes:m,proficiencies:p,savingThrows:_,biography:k,money:w,inventory:q,avatar:v,specializations:P,path:z,feats:H},updateAvatar:R})};function G(X){o=X,n(1,o)}function Y(X){a=X,n(2,a)}function V(X){f=X,n(3,f)}function Q(X){u=X,n(4,u)}function ie(X){c=X,n(5,c)}function _e(X){k=X,n(10,k)}function ue(X){R=X,n(15,R)}function ae(X){M=X,n(16,M)}function be(X){m=X,n(6,m)}function ne(X){p=X,n(7,p)}function fe(X){_=X,n(8,_)}function Fe(X){P=X,n(12,P)}function Te(X){z=X,n(13,z)}function pe(X){H=X,n(14,H)}function ge(X){w=X,n(11,w)}function ye(X){q=X,n(17,q)}function Se(X){$=X,n(9,$)}return l.$$set=X=>{"trainer"in X&&n(22,r=X.trainer),"saving"in X&&n(0,s=X.saving)},l.$$.update=()=>{l.$$.dirty[0]&1&&n(18,t=s)},[s,o,a,f,u,c,m,p,_,$,k,w,P,z,H,R,M,q,t,v,j,K,r,G,Y,V,Q,ie,_e,ue,ae,be,ne,fe,Fe,Te,pe,ge,ye,Se]}class t_ extends le{constructor(e){super(),re(this,e,e_,xp,se,{trainer:22,saving:0},null,[-1,-1])}}function n_(l){let e,n,t="You do not have permission to edit this trainer.",i,r,s;return r=new Qe({props:{$$slots:{default:[r_]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"P",{"data-svelte-h":!0}),he(n)!=="svelte-1kn7ebq"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&66&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function i_(l){let e,n;return e=new t_({props:{trainer:l[1].info,saving:l[2]}}),e.$on("update",l[5]),e.$on("cancel",l[4]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.trainer=t[1].info),i&4&&(r.saving=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function l_(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function r_(l){let e,n;return e=new Pe({props:{href:Ae.trainers(l[1].info.readKey),$$slots:{default:[l_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&2&&(r.href=Ae.trainers(t[1].info.readKey)),i&64&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function s_(l){let e,n,t,i;const r=[i_,n_],s=[];function o(a,f){return a[3]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function a_(l){let e,n,t,i;return e=new st({props:{value:"Edit "+l[1].info.name}}),t=new lt({props:{title:l[1].info.name,$$slots:{default:[s_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&2&&(o.value="Edit "+r[1].info.name),e.$set(o);const a={};s&2&&(a.title=r[1].info.name),s&78&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function o_(l,e,n){let t,i,r=Z,s=()=>(r(),r=Xe(o,c=>n(1,i=c)),o);l.$$.on_destroy.push(()=>r());let{trainer:o}=e;s();let a=!1;const f=()=>{et(Ae.trainers(i.info.readKey))},u=c=>{var m;n(2,a=!0),(m=i.update)==null||m.info(c.detail.trainer,{updateAvatar:c.detail.updateAvatar}).then(()=>{var p,_;return Promise.all([((p=i.update)==null?void 0:p.inventory(c.detail.trainer))??Promise.resolve(),((_=i.update)==null?void 0:_.trainerFeats(c.detail.trainer))??Promise.resolve()])}).then(()=>{n(2,a=!1),et(Ae.trainers(i.info.readKey))}).catch(()=>{n(2,a=!1)})};return l.$$set=c=>{"trainer"in c&&s(n(0,o=c.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(3,t=i.update!=null)},[o,i,a,t,f,u]}class f_ extends le{constructor(e){super(),re(this,e,o_,a_,se,{trainer:0})}}function u_(l){let e,n,t="You do not have permission to retire this trainer.",i,r,s;return r=new Qe({props:{$$slots:{default:[d_]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"P",{"data-svelte-h":!0}),he(n)!=="svelte-10ipcbz"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&66&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function c_(l){let e,n;return e=new nn({props:{saving:l[2],$$slots:{default:[h_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.saving=t[2]),i&82&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function m_(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function d_(l){var t;let e,n;return e=new Pe({props:{href:Ae.trainers((t=l[1])==null?void 0:t.info.readKey),$$slots:{default:[m_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,r){C(e,i,r),n=!0},p(i,r){var o;const s={};r&2&&(s.href=Ae.trainers((o=i[1])==null?void 0:o.info.readKey)),r&64&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function p_(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function __(l){let e;return{c(){e=B("Delete")},l(n){e=O(n,"Delete")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function $_(l){var r;let e,n,t,i;return e=new Pe({props:{href:Ae.trainers((r=l[1])==null?void 0:r.info.readKey),variant:"ghost",$$slots:{default:[p_]},$$scope:{ctx:l}}}),t=new Pe({props:{variant:"danger",$$slots:{default:[__]},$$scope:{ctx:l}}}),t.$on("click",l[5]),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(s){A(e.$$.fragment,s),n=N(s),A(t.$$.fragment,s)},m(s,o){C(e,s,o),b(s,n,o),C(t,s,o),i=!0},p(s,o){var u;const a={};o&2&&(a.href=Ae.trainers((u=s[1])==null?void 0:u.info.readKey)),o&64&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const f={};o&64&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){i||(h(e.$$.fragment,s),h(t.$$.fragment,s),i=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),i=!1},d(s){s&&d(n),S(e,s),S(t,s)}}}function h_(l){let e,n,t,i,r,s,o,a="<strong>This is permanent and cannot be undone!</strong>",f,u,c;return u=new Qe({props:{$$slots:{default:[$_]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to retire "),i=B(l[4]),r=B("? This will delete all of their data, including all of their pokemon, from our records."),s=F(),o=T("p"),o.innerHTML=a,f=F(),I(u.$$.fragment)},l(m){e=y(m,"SECTION",{});var p=L(e);n=y(p,"P",{});var _=L(n);t=O(_,"Are you sure you want to retire "),i=O(_,l[4]),r=O(_,"? This will delete all of their data, including all of their pokemon, from our records."),_.forEach(d),s=N(p),o=y(p,"P",{"data-svelte-h":!0}),he(o)!=="svelte-1ocw14s"&&(o.innerHTML=a),f=N(p),A(u.$$.fragment,p),p.forEach(d)},m(m,p){b(m,e,p),E(e,n),E(n,t),E(n,i),E(n,r),E(e,s),E(e,o),E(e,f),C(u,e,null),c=!0},p(m,p){(!c||p&16)&&oe(i,m[4]);const _={};p&66&&(_.$$scope={dirty:p,ctx:m}),u.$set(_)},i(m){c||(h(u.$$.fragment,m),c=!0)},o(m){g(u.$$.fragment,m),c=!1},d(m){m&&d(e),S(u)}}}function g_(l){let e,n,t,i;const r=[c_,u_],s=[];function o(a,f){return a[3]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function v_(l){let e,n,t,i;return e=new st({props:{value:"Retire "+l[4]+"?"}}),t=new lt({props:{title:"Retire "+l[4]+"?",$$slots:{default:[g_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&16&&(o.value="Retire "+r[4]+"?"),e.$set(o);const a={};s&16&&(a.title="Retire "+r[4]+"?"),s&94&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function b_(l,e,n){let t,i,r,s=Z,o=()=>(s(),s=Xe(a,c=>n(1,r=c)),a);l.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let f=!1;const u=()=>{var c;n(2,f=!0),(c=r.update)==null||c.retire().then(()=>{et(Ae.trainers())}).catch(()=>{n(2,f=!1)})};return l.$$set=c=>{"trainer"in c&&o(n(0,a=c.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(4,t=(r==null?void 0:r.info.name)??""),l.$$.dirty&2&&n(3,i=r.update!=null)},[a,r,f,i,t,u]}class k_ extends le{constructor(e){super(),re(this,e,b_,v_,se,{trainer:0})}}const w_="/_app/immutable/assets/find-access-key.BK3o4iYv.png";function E_(l){let e,n="<p>A trainer&#39;s <dfn>Access Key</dfn> is a special code that allows you to manage a trainer&#39;s info and their pokemon. Each trainer has a unique key, and the key must be saved to each device from which you want to manage the trainer.</p>",t,i,r,s,o,a;const f=[I_,C_],u=[];function c(m,p){return m[6]?0:1}return i=c(l),r=u[i]=f[i](l),o=new Qe({props:{$$slots:{default:[P_]},$$scope:{ctx:l}}}),{c(){e=T("section"),e.innerHTML=n,t=F(),r.c(),s=F(),I(o.$$.fragment)},l(m){e=y(m,"SECTION",{"data-svelte-h":!0}),he(e)!=="svelte-pmiax8"&&(e.innerHTML=n),t=N(m),r.l(m),s=N(m),A(o.$$.fragment,m)},m(m,p){b(m,e,p),b(m,t,p),u[i].m(m,p),b(m,s,p),C(o,m,p),a=!0},p(m,p){let _=i;i=c(m),i===_?u[i].p(m,p):(ce(),g(u[_],1,1,()=>{u[_]=null}),me(),r=u[i],r?r.p(m,p):(r=u[i]=f[i](m),r.c()),h(r,1),r.m(s.parentNode,s));const $={};p&1028&&($.$$scope={dirty:p,ctx:m}),o.$set($)},i(m){a||(h(r),h(o.$$.fragment,m),a=!0)},o(m){g(r),g(o.$$.fragment,m),a=!1},d(m){m&&(d(e),d(t),d(s)),u[i].d(m),S(o,m)}}}function S_(l){let e,n,t="<strong>Success!</strong>",i,r,s,o,a,f,u,c;return u=new Qe({props:{$$slots:{default:[N_]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.innerHTML=t,i=F(),r=T("p"),s=B("You can now manage "),o=B(l[7]),a=B(" and their pokemon."),f=F(),I(u.$$.fragment)},l(m){e=y(m,"SECTION",{});var p=L(e);n=y(p,"P",{"data-svelte-h":!0}),he(n)!=="svelte-no3oh3"&&(n.innerHTML=t),i=N(p),r=y(p,"P",{});var _=L(r);s=O(_,"You can now manage "),o=O(_,l[7]),a=O(_," and their pokemon."),_.forEach(d),f=N(p),A(u.$$.fragment,p),p.forEach(d)},m(m,p){b(m,e,p),E(e,n),E(e,i),E(e,r),E(r,s),E(r,o),E(r,a),E(e,f),C(u,e,null),c=!0},p(m,p){(!c||p&128)&&oe(o,m[7]);const _={};p&1028&&(_.$$scope={dirty:p,ctx:m}),u.$set(_)},i(m){c||(h(u.$$.fragment,m),c=!0)},o(m){g(u.$$.fragment,m),c=!1},d(m){m&&d(e),S(u)}}}function C_(l){let e,n;return e=new nn({props:{saving:l[3],caption:"Searching...",$$slots:{default:[y_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.saving=t[3]),i&1178&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function I_(l){let e,n,t,i,r,s,o,a;return o=new Ns({props:{label:"Access Key",value:l[2].writeKey,disabled:!0}}),{c(){e=T("section"),n=T("p"),t=B("You currently have "),i=B(l[7]),r=B("'s access key saved to this device. To share this key, press Reveal below."),s=F(),I(o.$$.fragment)},l(f){e=y(f,"SECTION",{});var u=L(e);n=y(u,"P",{});var c=L(n);t=O(c,"You currently have "),i=O(c,l[7]),r=O(c,"'s access key saved to this device. To share this key, press Reveal below."),c.forEach(d),s=N(u),A(o.$$.fragment,u),u.forEach(d)},m(f,u){b(f,e,u),E(e,n),E(n,t),E(n,i),E(n,r),E(e,s),C(o,e,null),a=!0},p(f,u){(!a||u&128)&&oe(i,f[7]);const c={};u&4&&(c.value=f[2].writeKey),o.$set(c)},i(f){a||(h(o.$$.fragment,f),a=!0)},o(f){g(o.$$.fragment,f),a=!1},d(f){f&&d(e),S(o)}}}function A_(l){let e,n,t;function i(s){l[9](s)}let r={label:"Access Key",placeholder:"e.g. JM7WEZ0YKW3WGC8I",disabled:l[3],required:!0};return l[1]!==void 0&&(r.value=l[1]),e=new ut({props:r}),x.push(()=>ee(e,"value",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};o&8&&(a.disabled=s[3]),!n&&o&2&&(n=!0,a.value=s[1],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function lr(l){let e,n="The provided access key does match this trainer's key";return{c(){e=T("p"),e.textContent=n,this.h()},l(t){e=y(t,"P",{class:!0,"data-svelte-h":!0}),he(e)!=="svelte-7yk1wk"&&(e.textContent=n),this.h()},h(){D(e,"class","font-sm error svelte-larh64")},m(t,i){b(t,e,i)},d(t){t&&d(e)}}}function y_(l){let e,n,t,i,r,s,o,a,f,u,c,m,p,_,$,k,v,w,P,z,H,R=`<img src="${w_}" alt="&#39;Access Key&#39; is a button at the bottom of the trainer&#39;s page." width="800" height="250" class="svelte-larh64"/> <figcaption>Click this button to get the access key</figcaption>`,M,q,j;u=new Fr({props:{label:"Submit",type:"submit",$$slots:{default:[A_]},$$scope:{ctx:l}}});let K=l[4].length>0&&l[4]===l[1]&&lr();return{c(){e=T("section"),n=T("p"),t=B("You currently do not have permission to manage "),i=B(l[7]),r=B(". To obtain permission, put "),s=B(l[7]),o=B("'s access key into the field below and press Submit."),a=F(),f=T("form"),I(u.$$.fragment),c=F(),K&&K.c(),m=F(),p=T("hr"),_=F(),$=T("section"),k=T("p"),v=B("If you are managing "),w=B(l[7]),P=B(" from another device, you can find their access code from the trainer's page."),z=F(),H=T("figure"),H.innerHTML=R,this.h()},l(G){e=y(G,"SECTION",{});var Y=L(e);n=y(Y,"P",{});var V=L(n);t=O(V,"You currently do not have permission to manage "),i=O(V,l[7]),r=O(V,". To obtain permission, put "),s=O(V,l[7]),o=O(V,"'s access key into the field below and press Submit."),V.forEach(d),a=N(Y),f=y(Y,"FORM",{class:!0});var Q=L(f);A(u.$$.fragment,Q),c=N(Q),K&&K.l(Q),Q.forEach(d),Y.forEach(d),m=N(G),p=y(G,"HR",{}),_=N(G),$=y(G,"SECTION",{});var ie=L($);k=y(ie,"P",{});var _e=L(k);v=O(_e,"If you are managing "),w=O(_e,l[7]),P=O(_e," from another device, you can find their access code from the trainer's page."),_e.forEach(d),z=N(ie),H=y(ie,"FIGURE",{class:!0,"data-svelte-h":!0}),he(H)!=="svelte-1p2g8w8"&&(H.innerHTML=R),ie.forEach(d),this.h()},h(){D(f,"class","vertical spaced-lg svelte-larh64"),D(H,"class","spaced-lg svelte-larh64")},m(G,Y){b(G,e,Y),E(e,n),E(n,t),E(n,i),E(n,r),E(n,s),E(n,o),E(e,a),E(e,f),C(u,f,null),E(f,c),K&&K.m(f,null),b(G,m,Y),b(G,p,Y),b(G,_,Y),b(G,$,Y),E($,k),E(k,v),E(k,w),E(k,P),E($,z),E($,H),M=!0,q||(j=ft(f,"submit",Cr(l[8])),q=!0)},p(G,Y){(!M||Y&128)&&oe(i,G[7]),(!M||Y&128)&&oe(s,G[7]);const V={};Y&1034&&(V.$$scope={dirty:Y,ctx:G}),u.$set(V),G[4].length>0&&G[4]===G[1]?K||(K=lr(),K.c(),K.m(f,null)):K&&(K.d(1),K=null),(!M||Y&128)&&oe(w,G[7])},i(G){M||(h(u.$$.fragment,G),M=!0)},o(G){g(u.$$.fragment,G),M=!1},d(G){G&&(d(e),d(m),d(p),d(_),d($)),S(u),K&&K.d(),q=!1,j()}}}function T_(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function P_(l){var t;let e,n;return e=new Pe({props:{href:Ae.trainers((t=l[2])==null?void 0:t.info.readKey),variant:"ghost",$$slots:{default:[T_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,r){C(e,i,r),n=!0},p(i,r){var o;const s={};r&4&&(s.href=Ae.trainers((o=i[2])==null?void 0:o.info.readKey)),r&1024&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function D_(l){let e;return{c(){e=B("Go to Trainer's Page")},l(n){e=O(n,"Go to Trainer's Page")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function N_(l){var t;let e,n;return e=new Pe({props:{href:Ae.trainers((t=l[2])==null?void 0:t.info.readKey),$$slots:{default:[D_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,r){C(e,i,r),n=!0},p(i,r){var o;const s={};r&4&&(s.href=Ae.trainers((o=i[2])==null?void 0:o.info.readKey)),r&1024&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function F_(l){let e,n,t,i;const r=[S_,E_],s=[];function o(a,f){return a[5]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function H_(l){let e,n,t,i;return e=new st({props:{value:l[7]+"'s Access Key"}}),t=new lt({props:{title:l[7]+"'s Access Key",$$slots:{default:[F_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&128&&(o.value=r[7]+"'s Access Key"),e.$set(o);const a={};s&128&&(a.title=r[7]+"'s Access Key"),s&1278&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function z_(l,e,n){let t,i,r,s=Z,o=()=>(s(),s=Xe(a,$=>n(2,r=$)),a);l.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let f="",u=!1,c="",m=!1;const p=()=>{n(3,u=!0),a.verifyAccess(f).then($=>{$?n(5,m=!0):n(4,c=f)}).finally(()=>{n(3,u=!1)})};function _($){f=$,n(1,f)}return l.$$set=$=>{"trainer"in $&&o(n(0,a=$.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(1,f=f.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,"")),l.$$.dirty&4&&n(7,t=(r==null?void 0:r.info.name)??""),l.$$.dirty&4&&n(6,i=r.update!=null)},[a,f,r,u,c,m,i,t,p,_]}class L_ extends le{constructor(e){super(),re(this,e,z_,H_,se,{trainer:0})}}function R_(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function M_(l){let e;return{c(){e=B("Remove")},l(n){e=O(n,"Remove")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function V_(l){var r;let e,n,t,i;return e=new Pe({props:{href:Ae.trainers((r=l[1])==null?void 0:r.info.readKey),variant:"ghost",$$slots:{default:[R_]},$$scope:{ctx:l}}}),t=new Pe({props:{variant:"danger",$$slots:{default:[M_]},$$scope:{ctx:l}}}),t.$on("click",l[4]),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(s){A(e.$$.fragment,s),n=N(s),A(t.$$.fragment,s)},m(s,o){C(e,s,o),b(s,n,o),C(t,s,o),i=!0},p(s,o){var u;const a={};o&2&&(a.href=Ae.trainers((u=s[1])==null?void 0:u.info.readKey)),o&32&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const f={};o&32&&(f.$$scope={dirty:o,ctx:s}),t.$set(f)},i(s){i||(h(e.$$.fragment,s),h(t.$$.fragment,s),i=!0)},o(s){g(e.$$.fragment,s),g(t.$$.fragment,s),i=!1},d(s){s&&d(n),S(e,s),S(t,s)}}}function O_(l){let e,n,t,i,r,s,o,a,f,u="This is not a permanent removal. The trainer can still be accessed via their access code, and they will continue to exist on other devices' lists until removed from those devices explicitly.",c,m,p;return m=new Qe({props:{$$slots:{default:[V_]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),t=B("Are you sure you want to remove "),i=B(l[3]),r=B("? This will remove "),s=B(l[3]),o=B(" from your list of trainers."),a=F(),f=T("p"),f.textContent=u,c=F(),I(m.$$.fragment)},l(_){e=y(_,"SECTION",{});var $=L(e);n=y($,"P",{});var k=L(n);t=O(k,"Are you sure you want to remove "),i=O(k,l[3]),r=O(k,"? This will remove "),s=O(k,l[3]),o=O(k," from your list of trainers."),k.forEach(d),a=N($),f=y($,"P",{"data-svelte-h":!0}),he(f)!=="svelte-148gamw"&&(f.textContent=u),c=N($),A(m.$$.fragment,$),$.forEach(d)},m(_,$){b(_,e,$),E(e,n),E(n,t),E(n,i),E(n,r),E(n,s),E(n,o),E(e,a),E(e,f),E(e,c),C(m,e,null),p=!0},p(_,$){(!p||$&8)&&oe(i,_[3]),(!p||$&8)&&oe(s,_[3]);const k={};$&34&&(k.$$scope={dirty:$,ctx:_}),m.$set(k)},i(_){p||(h(m.$$.fragment,_),p=!0)},o(_){g(m.$$.fragment,_),p=!1},d(_){_&&d(e),S(m)}}}function B_(l){let e,n;return e=new nn({props:{saving:l[2],$$slots:{default:[O_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.saving=t[2]),i&42&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function q_(l){let e,n,t,i;return e=new st({props:{value:"Remove "+l[3]+"?"}}),t=new lt({props:{title:"Remove "+l[3]+"?",$$slots:{default:[B_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&8&&(o.value="Remove "+r[3]+"?"),e.$set(o);const a={};s&8&&(a.title="Remove "+r[3]+"?"),s&46&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function K_(l,e,n){let t,i,r=Z,s=()=>(r(),r=Xe(o,u=>n(1,i=u)),o);l.$$.on_destroy.push(()=>r());let{trainer:o}=e;s();let a=!1;const f=()=>{n(2,a=!0),i.remove().then(()=>{et(Ae.trainers())}).catch(()=>{n(2,a=!1)})};return l.$$set=u=>{"trainer"in u&&s(n(0,o=u.trainer))},l.$$.update=()=>{l.$$.dirty&2&&n(3,t=(i==null?void 0:i.info.name)??"")},[o,i,a,t,f]}class U_ extends le{constructor(e){super(),re(this,e,K_,q_,se,{trainer:0})}}class j_ extends le{constructor(e){super(),re(this,e,null,null,se,{})}}const Sn=class Sn{roll(e){return Math.floor(Math.random()*e)+1}};Ne(Sn,"instance",new Sn);let Mn=Sn;class _n{description(e){return[`<strong>HP</strong>: ${e.hp.current} → ${e.hp.max}`]}isApplicable(e){return e.hp.current<e.hp.max}apply(e){return e.hp.current=e.hp.max,e}}class Vn{description(e){return[`<strong>Hit Dice</strong>: ${e.hitDice.current} → ${e.hitDice.max}`]}isApplicable(e){return e.hitDice.current<e.hitDice.max}apply(e){return e.hitDice.current=e.hitDice.max,e}}class dn{description(e){return[`<strong>Status</strong>: ${e.status??"None"} → None`]}isApplicable(e){return e.status!=null}apply(e){return e.status=null,e}}class bs{constructor(e,n,t=Mn.instance){this.amount=e,this.hitDice=n,this.diceRoller=t}description(e){const n=this.hitDice.sizeAsInt(),t=e.hp.current+(this.amount-1)*n>e.hp.max;return[`<strong>HP</strong>: ${e.hp.current} → +${this.amount}${this.hitDice.data}`,`<strong>Hit Dice</strong>: ${e.hitDice.current} → ${Math.max(0,e.hitDice.current-this.amount)}${t?" (or higher)":""}`]}isApplicable(e){return e.hp.current<e.hp.max}apply(e){const n=this.hitDice.sizeAsInt();for(let t=0;t<this.amount&&e.hp.current<e.hp.max&&e.hitDice.current>0;++t)e.hp.current=Math.min(e.hp.max,e.hp.current+this.diceRoller.roll(n)),e.hitDice.current-=1;return e}}class rr{description(){return["<strong>Move PP</strong>: Restored to max"]}isApplicable(){return!0}apply(e){return e.moves.forEach(n=>{n.pp.current=n.pp.max}),e}}class sr{description(e){return[`<strong>Bond Points</strong>: ${e.bond.points.current} → ${e.bond.points.max}`]}isApplicable(e){return e.bond.points.current<e.bond.points.max}apply(e){return e.bond.points.current=e.bond.points.max,e}}class G_{constructor(e){this.possiblePaths=e}description(e){const n=this.myResource(e);if(n!=null){const t=n.max(e),i=e.path.resource>t?e.path.resource:t;return[`<strong>${n.name}</strong>: ${e.path.resource} → ${i}`]}else return[]}isApplicable(e){const n=this.myResource(e);return n!=null&&e.path.resource<n.max(e)}apply(e){const n=this.myResource(e);if(n!=null){const t=n.max(e);e.path.resource=e.path.resource>t?e.path.resource:t}return e}myResource(e){var n;return(n=this.possiblePaths.find(t=>t.name===e.path.name))==null?void 0:n.resource}}class At{constructor(e,n){this.name=e,this.effects=n}apply(e){return this.effects.reduce((n,t)=>t.apply(n),e)}}const On={Long:()=>new At("Long Rest",[new _n,new Vn,new dn,new rr,new sr]),Short:l=>new At("Short Rest",[new bs(l.hitDiceToSpend,l.hitDiceSize,l.diceRoller),new dn]),Pokecenter:l=>l.rulesVersion==="2018"?new At("Pokécenter",[new _n,new Vn,new dn,new rr,new sr]):new At("Pokécenter",[new _n,new dn])},ar={Long:l=>new At("Long Rest",[new _n,new Vn,new G_(l.trainerPaths)]),Short:l=>new At("Short Rest",[new bs(l.hitDiceToSpend,l.hitDiceSize,l.diceRoller)]),Pokecenter:()=>new At("Pokécenter",[])};function or(l,e,n){const t=l.slice();return t[16]=e[n],t}function fr(l,e,n){const t=l.slice();return t[19]=e[n],t}function Y_(l){let e,n,t;function i(s){l[13](s)}let r={label:"Rest Choices",values:l[8],required:!0};return l[3]!==void 0&&(r.checked=l[3]),e=new In({props:r}),x.push(()=>ee(e,"checked",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};!n&&o&8&&(n=!0,a.checked=s[3],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function ur(l){let e,n,t,i="Resting will have these effects:",r,s,o=l[3]==="Short"&&cr(l);function a(c,m){return c[6].length>0?Z_:Q_}let f=a(l),u=f(l);return{c(){o&&o.c(),e=F(),n=T("div"),t=T("p"),t.textContent=i,r=F(),u.c(),this.h()},l(c){o&&o.l(c),e=N(c),n=y(c,"DIV",{class:!0});var m=L(n);t=y(m,"P",{"data-svelte-h":!0}),he(t)!=="svelte-1nc30jv"&&(t.textContent=i),r=N(m),u.l(m),m.forEach(d),this.h()},h(){D(n,"class","effects svelte-1vw4dj1")},m(c,m){o&&o.m(c,m),b(c,e,m),b(c,n,m),E(n,t),E(n,r),u.m(n,null),s=!0},p(c,m){c[3]==="Short"?o?(o.p(c,m),m&8&&h(o,1)):(o=cr(c),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(ce(),g(o,1,1,()=>{o=null}),me()),f===(f=a(c))&&u?u.p(c,m):(u.d(1),u=f(c),u&&(u.c(),u.m(n,null)))},i(c){s||(h(o),s=!0)},o(c){g(o),s=!1},d(c){c&&(d(e),d(n)),o&&o.d(c),u.d()}}}function cr(l){let e,n,t,i,r;function s(a){l[14](a)}let o={label:"Max Hit Dice to Spend",min:0,max:l[0].hitDice.current};return l[4]!==void 0&&(o.value=l[4]),e=new it({props:o}),x.push(()=>ee(e,"value",s)),i=new jn({props:{$$slots:{default:[W_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=F(),I(i.$$.fragment)},l(a){A(e.$$.fragment,a),t=N(a),A(i.$$.fragment,a)},m(a,f){C(e,a,f),b(a,t,f),C(i,a,f),r=!0},p(a,f){const u={};f&1&&(u.max=a[0].hitDice.current),!n&&f&16&&(n=!0,u.value=a[4],te(()=>n=!1)),e.$set(u);const c={};f&4194304&&(c.$$scope={dirty:f,ctx:a}),i.$set(c)},i(a){r||(h(e.$$.fragment,a),h(i.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(i.$$.fragment,a),r=!1},d(a){a&&d(t),S(e,a),S(i,a)}}}function W_(l){let e;return{c(){e=B("This will stop spending hit dice once max HP is reached.")},l(n){e=O(n,"This will stop spending hit dice once max HP is reached.")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function Q_(l){let e,n="This Pokémon is already well-rested.";return{c(){e=T("p"),e.textContent=n},l(t){e=y(t,"P",{"data-svelte-h":!0}),he(e)!=="svelte-gsd9ep"&&(e.textContent=n)},m(t,i){b(t,e,i)},p:Z,d(t){t&&d(e)}}}function Z_(l){let e,n=De(l[6]),t=[];for(let i=0;i<n.length;i+=1)t[i]=dr(or(l,n,i));return{c(){e=T("ul");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=y(i,"UL",{});var r=L(e);for(let s=0;s<t.length;s+=1)t[s].l(r);r.forEach(d)},m(i,r){b(i,e,r);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,r){if(r&65){n=De(i[6]);let s;for(s=0;s<n.length;s+=1){const o=or(i,n,s);t[s]?t[s].p(o,r):(t[s]=dr(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),nt(t,i)}}}function mr(l){let e,n,t=l[19]+"";return{c(){e=T("li"),n=new Kn(!1),this.h()},l(i){e=y(i,"LI",{});var r=L(e);n=qn(r,!1),r.forEach(d),this.h()},h(){n.a=null},m(i,r){b(i,e,r),n.m(t,e)},p(i,r){r&65&&t!==(t=i[19]+"")&&n.p(t)},d(i){i&&d(e)}}}function dr(l){let e,n=De(l[16].description(l[0])),t=[];for(let i=0;i<n.length;i+=1)t[i]=mr(fr(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=J()},l(i){for(let r=0;r<t.length;r+=1)t[r].l(i);e=J()},m(i,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,r);b(i,e,r)},p(i,r){if(r&65){n=De(i[16].description(i[0]));let s;for(s=0;s<n.length;s+=1){const o=fr(i,n,s);t[s]?t[s].p(o,r):(t[s]=mr(o),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),nt(t,i)}}}function J_(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function X_(l){let e;return{c(){e=B("Rest!")},l(n){e=O(n,"Rest!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function x_(l){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:l[7],$$slots:{default:[J_]},$$scope:{ctx:l}}}),e.$on("click",l[10]),t=new Pe({props:{type:"submit",disabled:l[7]||l[5]==null,$$slots:{default:[X_]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s&128&&(o.disabled=r[7]),s&4194304&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const a={};s&160&&(a.disabled=r[7]||r[5]==null),s&4194304&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function e$(l){let e,n,t,i,r,s,o,a,f;n=new Ze({props:{title:"Choose one",columns:1,$$slots:{default:[Y_]},$$scope:{ctx:l}}}),i=new Un({props:{avatar:l[0].avatar,media:l[1].media,shiny:l[0].isShiny,alt:l[0].nickname??l[1].data.name}});let u=l[5]!=null&&ur(l);return a=new Qe({props:{$$slots:{default:[x_]},$$scope:{ctx:l}}}),{c(){e=T("div"),I(n.$$.fragment),t=F(),I(i.$$.fragment),r=F(),s=T("section"),u&&u.c(),o=F(),I(a.$$.fragment),this.h()},l(c){e=y(c,"DIV",{class:!0});var m=L(e);A(n.$$.fragment,m),t=N(m),A(i.$$.fragment,m),m.forEach(d),r=N(c),s=y(c,"SECTION",{class:!0});var p=L(s);u&&u.l(p),p.forEach(d),o=N(c),A(a.$$.fragment,c),this.h()},h(){D(e,"class","art-row svelte-1vw4dj1"),D(s,"class","svelte-1vw4dj1"),we(s,"min-height","8em")},m(c,m){b(c,e,m),C(n,e,null),E(e,t),C(i,e,null),b(c,r,m),b(c,s,m),u&&u.m(s,null),b(c,o,m),C(a,c,m),f=!0},p(c,m){const p={};m&4194312&&(p.$$scope={dirty:m,ctx:c}),n.$set(p);const _={};m&1&&(_.avatar=c[0].avatar),m&2&&(_.media=c[1].media),m&1&&(_.shiny=c[0].isShiny),m&3&&(_.alt=c[0].nickname??c[1].data.name),i.$set(_),c[5]!=null?u?(u.p(c,m),m&32&&h(u,1)):(u=ur(c),u.c(),h(u,1),u.m(s,null)):u&&(ce(),g(u,1,1,()=>{u=null}),me());const $={};m&4194464&&($.$$scope={dirty:m,ctx:c}),a.$set($)},i(c){f||(h(n.$$.fragment,c),h(i.$$.fragment,c),h(u),h(a.$$.fragment,c),f=!0)},o(c){g(n.$$.fragment,c),g(i.$$.fragment,c),g(u),g(a.$$.fragment,c),f=!1},d(c){c&&(d(e),d(r),d(s),d(o)),S(n),S(i),u&&u.d(),S(a,c)}}}function t$(l){let e,n;return e=new Bt({props:{onsubmit:l[9],saving:l[2],$$slots:{default:[e$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.saving=t[2]),i&4194555&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function n$(l,e,n){let t,i,r,s,o;Ve(l,qt,P=>n(12,o=P));const a=tt();let{pokemon:f}=e,{species:u}=e,{saving:c=!1}=e,m,p=0;const _=Object.entries(On).map(([P,z])=>({name:z({hitDiceToSpend:0,hitDiceSize:i,rulesVersion:o}).name,value:P})),$=()=>{const P=r.apply(f);a("submit",P)},k=()=>{a("cancel")};function v(P){m=P,n(3,m)}function w(P){p=P,n(4,p)}return l.$$set=P=>{"pokemon"in P&&n(0,f=P.pokemon),"species"in P&&n(1,u=P.species),"saving"in P&&n(2,c=P.saving)},l.$$.update=()=>{l.$$.dirty&4&&n(7,t=c),l.$$.dirty&3&&n(11,i=f.customHitDiceSize??u.hitDice),l.$$.dirty&6168&&n(5,r=m?On[m]({hitDiceToSpend:p,hitDiceSize:i,rulesVersion:o}):void 0),l.$$.dirty&33&&n(6,s=(r==null?void 0:r.effects.filter(P=>P.isApplicable(f)))??[])},[f,u,c,m,p,r,s,t,_,$,k,i,o,v,w]}class i$ extends le{constructor(e){super(),re(this,e,n$,t$,se,{pokemon:0,species:1,saving:2})}}function l$(l){let e,n,t;return n=new is({props:{media:l[3].media,alt:""}}),{c(){e=T("div"),I(n.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var r=L(e);A(n.$$.fragment,r),r.forEach(d),this.h()},h(){D(e,"class","img-container svelte-1bp8uml")},m(i,r){b(i,e,r),C(n,e,null),t=!0},p(i,r){const s={};r&8&&(s.media=i[3].media),n.$set(s)},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function r$(l){let e,n,t;return n=new Dt({props:{ids:l[1],$$slots:{default:[l$,({species:i})=>({3:i}),({species:i})=>i?8:0]},$$scope:{ctx:l}}}),{c(){e=T("figure"),I(n.$$.fragment),this.h()},l(i){e=y(i,"FIGURE",{"aria-hidden":!0,class:!0});var r=L(e);A(n.$$.fragment,r),r.forEach(d),this.h()},h(){D(e,"aria-hidden","true"),D(e,"class","svelte-1bp8uml"),Ue(e,"darken",l[0])},m(i,r){b(i,e,r),C(n,e,null),t=!0},p(i,[r]){const s={};r&2&&(s.ids=i[1]),r&24&&(s.$$scope={dirty:r,ctx:i}),n.$set(s),(!t||r&1)&&Ue(e,"darken",i[0])},i(i){t||(h(n.$$.fragment,i),t=!0)},o(i){g(n.$$.fragment,i),t=!1},d(i){i&&d(e),S(n)}}}function s$(l,e,n){let t,{pokemon:i}=e,{darken:r=!1}=e;return l.$$set=s=>{"pokemon"in s&&n(2,i=s.pokemon),"darken"in s&&n(0,r=s.darken)},l.$$.update=()=>{l.$$.dirty&4&&n(1,t=i.map(s=>s.pokemonId))},[r,t,i]}class a$ extends le{constructor(e){super(),re(this,e,s$,r$,se,{pokemon:2,darken:0})}}function pr(l,e,n){const t=l.slice();return t[23]=e[n],t}function _r(l,e,n){const t=l.slice();return t[26]=e[n],t}function o$(l){let e,n,t;function i(s){l[17](s)}let r={label:"Rest Choices",values:l[10],required:!0};return l[3]!==void 0&&(r.checked=l[3]),e=new In({props:r}),x.push(()=>ee(e,"checked",i)),{c(){I(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,o){const a={};!n&&o&8&&(n=!0,a.checked=s[3],te(()=>n=!1)),e.$set(a)},i(s){t||(h(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function $r(l){let e,n;return e=new Hr({props:{src:l[0].info.avatar.href,alt:l[0].info.name}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.src=t[0].info.avatar.href),i&1&&(r.alt=t[0].info.name),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function hr(l){let e,n,t,i=l[3]==="Short"&&gr(l);function r(a,f){return a[3]==="Pokecenter"?c$:u$}let s=r(l),o=s(l);return{c(){i&&i.c(),e=F(),n=T("div"),o.c(),this.h()},l(a){i&&i.l(a),e=N(a),n=y(a,"DIV",{class:!0});var f=L(n);o.l(f),f.forEach(d),this.h()},h(){D(n,"class","effects svelte-cnvk8h")},m(a,f){i&&i.m(a,f),b(a,e,f),b(a,n,f),o.m(n,null),t=!0},p(a,f){a[3]==="Short"?i?(i.p(a,f),f&8&&h(i,1)):(i=gr(a),i.c(),h(i,1),i.m(e.parentNode,e)):i&&(ce(),g(i,1,1,()=>{i=null}),me()),s===(s=r(a))&&o?o.p(a,f):(o.d(1),o=s(a),o&&(o.c(),o.m(n,null)))},i(a){t||(h(i),t=!0)},o(a){g(i),t=!1},d(a){a&&(d(e),d(n)),i&&i.d(a),o.d()}}}function gr(l){let e,n,t,i,r;function s(a){l[19](a)}let o={label:"Max Hit Dice to Spend",min:0,max:l[0].info.hitDice.current,disabled:l[9]};return l[4]!==void 0&&(o.value=l[4]),e=new it({props:o}),x.push(()=>ee(e,"value",s)),i=new jn({props:{$$slots:{default:[f$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=F(),I(i.$$.fragment)},l(a){A(e.$$.fragment,a),t=N(a),A(i.$$.fragment,a)},m(a,f){C(e,a,f),b(a,t,f),C(i,a,f),r=!0},p(a,f){const u={};f&1&&(u.max=a[0].info.hitDice.current),f&512&&(u.disabled=a[9]),!n&&f&16&&(n=!0,u.value=a[4],te(()=>n=!1)),e.$set(u);const c={};f&536870912&&(c.$$scope={dirty:f,ctx:a}),i.$set(c)},i(a){r||(h(e.$$.fragment,a),h(i.$$.fragment,a),r=!0)},o(a){g(e.$$.fragment,a),g(i.$$.fragment,a),r=!1},d(a){a&&d(t),S(e,a),S(i,a)}}}function f$(l){let e;return{c(){e=B("This will stop spending hit dice once max HP is reached.")},l(n){e=O(n,"This will stop spending hit dice once max HP is reached.")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function u$(l){let e,n=l[0].info.name+"",t,i,r,s,o;function a(m,p){return m[8].length>0?d$:m$}let f=a(l),u=f(l),c=l[7]&&kr(l);return{c(){e=T("p"),t=B(n),i=B(" will benefit from these effects:"),r=F(),u.c(),s=F(),c&&c.c(),o=J()},l(m){e=y(m,"P",{});var p=L(e);t=O(p,n),i=O(p," will benefit from these effects:"),p.forEach(d),r=N(m),u.l(m),s=N(m),c&&c.l(m),o=J()},m(m,p){b(m,e,p),E(e,t),E(e,i),b(m,r,p),u.m(m,p),b(m,s,p),c&&c.m(m,p),b(m,o,p)},p(m,p){p&1&&n!==(n=m[0].info.name+"")&&oe(t,n),f===(f=a(m))&&u?u.p(m,p):(u.d(1),u=f(m),u&&(u.c(),u.m(s.parentNode,s))),m[7]?c?c.p(m,p):(c=kr(m),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(m){m&&(d(e),d(r),d(s),d(o)),u.d(m),c&&c.d(m)}}}function c$(l){let e;function n(r,s){return r[7]?_$:p$}let t=n(l),i=t(l);return{c(){i.c(),e=J()},l(r){i.l(r),e=J()},m(r,s){i.m(r,s),b(r,e,s)},p(r,s){t===(t=n(r))&&i?i.p(r,s):(i.d(1),i=t(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&d(e),i.d(r)}}}function m$(l){let e,n=l[0].info.name+"",t,i;return{c(){e=T("p"),t=B(n),i=B(" is already well-rested.")},l(r){e=y(r,"P",{});var s=L(e);t=O(s,n),i=O(s," is already well-rested."),s.forEach(d)},m(r,s){b(r,e,s),E(e,t),E(e,i)},p(r,s){s&1&&n!==(n=r[0].info.name+"")&&oe(t,n)},d(r){r&&d(e)}}}function d$(l){let e,n=De(l[8]),t=[];for(let i=0;i<n.length;i+=1)t[i]=br(pr(l,n,i));return{c(){e=T("ul");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=y(i,"UL",{});var r=L(e);for(let s=0;s<t.length;s+=1)t[s].l(r);r.forEach(d)},m(i,r){b(i,e,r);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(i,r){if(r&257){n=De(i[8]);let s;for(s=0;s<n.length;s+=1){const o=pr(i,n,s);t[s]?t[s].p(o,r):(t[s]=br(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),nt(t,i)}}}function vr(l){let e,n,t=l[26]+"";return{c(){e=T("li"),n=new Kn(!1),this.h()},l(i){e=y(i,"LI",{});var r=L(e);n=qn(r,!1),r.forEach(d),this.h()},h(){n.a=null},m(i,r){b(i,e,r),n.m(t,e)},p(i,r){r&257&&t!==(t=i[26]+"")&&n.p(t)},d(i){i&&d(e)}}}function br(l){let e,n=De(l[23].description(l[0].info)),t=[];for(let i=0;i<n.length;i+=1)t[i]=vr(_r(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=J()},l(i){for(let r=0;r<t.length;r+=1)t[r].l(i);e=J()},m(i,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,r);b(i,e,r)},p(i,r){if(r&257){n=De(i[23].description(i[0].info));let s;for(s=0;s<n.length;s+=1){const o=_r(i,n,s);t[s]?t[s].p(o,r):(t[s]=vr(o),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},d(i){i&&d(e),nt(t,i)}}}function kr(l){let e,n,t,i;return{c(){e=T("p"),n=B("Additionally, their Pokémon will undergo a "),t=B(l[3]),i=B(" Rest.")},l(r){e=y(r,"P",{});var s=L(e);n=O(s,"Additionally, their Pokémon will undergo a "),t=O(s,l[3]),i=O(s," Rest."),s.forEach(d)},m(r,s){b(r,e,s),E(e,n),E(e,t),E(e,i)},p(r,s){s&8&&oe(t,r[3])},d(r){r&&d(e)}}}function p$(l){let e,n=l[0].info.name+"",t,i,r,s,o,a,f,u=l[0].info.name+"",c,m,p;return{c(){e=T("p"),t=B(n),i=B(" does not benefit directly from resting at a Pokécenter!"),r=F(),s=T("p"),o=B("Ensure the "),a=T("strong"),f=B('"Apply to '),c=B(u),m=B(`'s Pokémon Also"`),p=B(" is checked above to rest all of your Pokémon at the center")},l(_){e=y(_,"P",{});var $=L(e);t=O($,n),i=O($," does not benefit directly from resting at a Pokécenter!"),$.forEach(d),r=N(_),s=y(_,"P",{});var k=L(s);o=O(k,"Ensure the "),a=y(k,"STRONG",{});var v=L(a);f=O(v,'"Apply to '),c=O(v,u),m=O(v,`'s Pokémon Also"`),v.forEach(d),p=O(k," is checked above to rest all of your Pokémon at the center"),k.forEach(d)},m(_,$){b(_,e,$),E(e,t),E(e,i),b(_,r,$),b(_,s,$),E(s,o),E(s,a),E(a,f),E(a,c),E(a,m),E(s,p)},p(_,$){$&1&&n!==(n=_[0].info.name+"")&&oe(t,n),$&1&&u!==(u=_[0].info.name+"")&&oe(c,u)},d(_){_&&(d(e),d(r),d(s))}}}function _$(l){let e,n="Resting will have these effects:",t,i,r,s=l[0].info.name+"",o,a,f,u;return{c(){e=T("p"),e.textContent=n,t=F(),i=T("ul"),r=T("li"),o=B(s),a=B("'s Pokémon will benefit from a "),f=B(l[3]),u=B(" Rest.")},l(c){e=y(c,"P",{"data-svelte-h":!0}),he(e)!=="svelte-1nc30jv"&&(e.textContent=n),t=N(c),i=y(c,"UL",{});var m=L(i);r=y(m,"LI",{});var p=L(r);o=O(p,s),a=O(p,"'s Pokémon will benefit from a "),f=O(p,l[3]),u=O(p," Rest."),p.forEach(d),m.forEach(d)},m(c,m){b(c,e,m),b(c,t,m),b(c,i,m),E(i,r),E(r,o),E(r,a),E(r,f),E(r,u)},p(c,m){m&1&&s!==(s=c[0].info.name+"")&&oe(o,s),m&8&&oe(f,c[3])},d(c){c&&(d(e),d(t),d(i))}}}function $$(l){let e;return{c(){e=B("Cancel")},l(n){e=O(n,"Cancel")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function h$(l){let e;return{c(){e=B("Rest!")},l(n){e=O(n,"Rest!")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function g$(l){let e,n,t,i;return e=new Pe({props:{variant:"ghost",disabled:l[9],$$slots:{default:[$$]},$$scope:{ctx:l}}}),e.$on("click",l[12]),t=new Pe({props:{type:"submit",disabled:l[9]||l[6]==null,$$slots:{default:[h$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,s){const o={};s&512&&(o.disabled=r[9]),s&536870912&&(o.$$scope={dirty:s,ctx:r}),e.$set(o);const a={};s&576&&(a.disabled=r[9]||r[6]==null),s&536870912&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function v$(l){var P;let e,n,t,i,r,s,o,a,f,u,c,m,p,_;n=new Ze({props:{title:"Choose one",columns:1,$$slots:{default:[o$]},$$scope:{ctx:l}}});let $=((P=l[0].info.avatar)==null?void 0:P.href)&&$r(l);function k(z){l[18](z)}let v={label:"Apply to "+l[0].info.name+"'s Pokémon also",name:Qt,values:[{name:`Apply to ${l[0].info.name}'s Pokémon also`,value:Qt}],disabled:l[9]};l[5]!==void 0&&(v.checked=l[5]),s=new ra({props:v}),x.push(()=>ee(s,"checked",k)),f=new a$({props:{pokemon:l[0].pokemon,darken:!l[7]}});let w=l[6]!=null&&hr(l);return p=new Qe({props:{$$slots:{default:[g$]},$$scope:{ctx:l}}}),{c(){e=T("div"),I(n.$$.fragment),t=F(),$&&$.c(),i=F(),r=T("section"),I(s.$$.fragment),a=F(),I(f.$$.fragment),u=F(),c=T("section"),w&&w.c(),m=F(),I(p.$$.fragment),this.h()},l(z){e=y(z,"DIV",{class:!0});var H=L(e);A(n.$$.fragment,H),t=N(H),$&&$.l(H),H.forEach(d),i=N(z),r=y(z,"SECTION",{class:!0});var R=L(r);A(s.$$.fragment,R),a=N(R),A(f.$$.fragment,R),R.forEach(d),u=N(z),c=y(z,"SECTION",{class:!0});var M=L(c);w&&w.l(M),M.forEach(d),m=N(z),A(p.$$.fragment,z),this.h()},h(){D(e,"class","art-row svelte-cnvk8h"),D(r,"class","pokemon svelte-cnvk8h"),D(c,"class","svelte-cnvk8h"),we(c,"min-height","8em")},m(z,H){b(z,e,H),C(n,e,null),E(e,t),$&&$.m(e,null),b(z,i,H),b(z,r,H),C(s,r,null),E(r,a),C(f,r,null),b(z,u,H),b(z,c,H),w&&w.m(c,null),b(z,m,H),C(p,z,H),_=!0},p(z,H){var K;const R={};H&536870920&&(R.$$scope={dirty:H,ctx:z}),n.$set(R),(K=z[0].info.avatar)!=null&&K.href?$?($.p(z,H),H&1&&h($,1)):($=$r(z),$.c(),h($,1),$.m(e,null)):$&&(ce(),g($,1,1,()=>{$=null}),me());const M={};H&1&&(M.label="Apply to "+z[0].info.name+"'s Pokémon also"),H&1&&(M.values=[{name:`Apply to ${z[0].info.name}'s Pokémon also`,value:Qt}]),H&512&&(M.disabled=z[9]),!o&&H&32&&(o=!0,M.checked=z[5],te(()=>o=!1)),s.$set(M);const q={};H&1&&(q.pokemon=z[0].pokemon),H&128&&(q.darken=!z[7]),f.$set(q),z[6]!=null?w?(w.p(z,H),H&64&&h(w,1)):(w=hr(z),w.c(),h(w,1),w.m(c,null)):w&&(ce(),g(w,1,1,()=>{w=null}),me());const j={};H&536871488&&(j.$$scope={dirty:H,ctx:z}),p.$set(j)},i(z){_||(h(n.$$.fragment,z),h($),h(s.$$.fragment,z),h(f.$$.fragment,z),h(w),h(p.$$.fragment,z),_=!0)},o(z){g(n.$$.fragment,z),g($),g(s.$$.fragment,z),g(f.$$.fragment,z),g(w),g(p.$$.fragment,z),_=!1},d(z){z&&(d(e),d(i),d(r),d(u),d(c),d(m)),S(n),$&&$.d(),S(s),S(f),w&&w.d(),S(p,z)}}}function b$(l){let e,n;return e=new Bt({props:{onsubmit:l[11],saving:l[1],$$slots:{default:[v$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&2&&(r.saving=t[1]),i&536871929&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}const Qt="apply-to-pokemon";function k$(l,e,n){let t,i,r,s,o,a,f,u,c,m=Z,p=()=>(m(),m=Xe(v,Y=>n(20,c=Y)),v);Ve(l,qt,Y=>n(15,f=Y)),Ve(l,ds,Y=>n(16,u=Y)),l.$$.on_destroy.push(()=>m());const _=tt();let{trainer:$}=e,{saving:k=!1}=e,{allSpecies:v}=e;p();const w=Y=>c.find(V=>V.id.data===Y.data);let P,z=0,H=[Qt];const R=Object.entries(ar).map(([Y,V])=>({name:V({hitDiceToSpend:0,hitDiceSize:i,trainerPaths:r}).name,value:Y})),M=()=>{const Y=o.apply($.info);n(0,$.info=Y,$),s&&n(0,$.pokemon=$.pokemon.map(V=>{const Q=V.customHitDiceSize??w(V.pokemonId).hitDice;return On[P]({hitDiceToSpend:z,hitDiceSize:Q,rulesVersion:f}).apply(V)}),$),_("submit",{trainer:$,didUpdatePokemon:s})},q=()=>{_("cancel")};function j(Y){P=Y,n(3,P)}function K(Y){H=Y,n(5,H)}function G(Y){z=Y,n(4,z)}return l.$$set=Y=>{"trainer"in Y&&n(0,$=Y.trainer),"saving"in Y&&n(1,k=Y.saving),"allSpecies"in Y&&p(n(2,v=Y.allSpecies))},l.$$.update=()=>{l.$$.dirty&2&&n(9,t=k),l.$$.dirty&65536&&n(14,i=u),l.$$.dirty&32768&&n(13,r=Gr[f]),l.$$.dirty&32&&n(7,s=H.includes(Qt)),l.$$.dirty&24600&&n(6,o=P?ar[P]({hitDiceToSpend:z,hitDiceSize:i,trainerPaths:r}):void 0),l.$$.dirty&65&&n(8,a=(o==null?void 0:o.effects.filter(Y=>Y.isApplicable($.info)))??[])},[$,k,v,P,z,H,o,s,a,t,R,M,q,r,i,f,u,j,K,G]}class w$ extends le{constructor(e){super(),re(this,e,k$,b$,se,{trainer:0,saving:1,allSpecies:2})}}function E$(l){let e,n,t="You do not have permission to edit this pokemon.",i,r,s;return r=new Qe({props:{$$slots:{default:[I$]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"P",{"data-svelte-h":!0}),he(n)!=="svelte-1ag681u"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&518&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function S$(l){let e,n;return e=new i$({props:{pokemon:l[4],species:l[8],saving:l[3]}}),e.$on("cancel",l[7]),e.$on("submit",l[6]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.pokemon=t[4]),i&256&&(r.species=t[8]),i&8&&(r.saving=t[3]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function C$(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function I$(l){let e,n;return e=new Pe({props:{href:Ae.trainers(l[2].info.readKey,l[1]),$$slots:{default:[C$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&6&&(r.href=Ae.trainers(t[2].info.readKey,t[1])),i&512&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function A$(l){let e,n,t,i;const r=[S$,E$],s=[];function o(a,f){return a[5]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function y$(l){let e,n;return e=new lt({props:{title:"Rest "+l[4].nickname,$$slots:{default:[A$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.title="Rest "+t[4].nickname),i&830&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function T$(l){var t;let e,n;return e=new Dt({props:{ids:[(t=l[4])==null?void 0:t.pokemonId],$$slots:{default:[y$,({species:i})=>({8:i}),({species:i})=>i?256:0]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,r){C(e,i,r),n=!0},p(i,r){var o;const s={};r&16&&(s.ids=[(o=i[4])==null?void 0:o.pokemonId]),r&830&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function P$(l){let e,n;return e=new an({props:{trainer:l[2],id:l[1],titlePrefix:"Rest",$$slots:{default:[T$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,[i]){const r={};i&4&&(r.trainer=t[2]),i&2&&(r.id=t[1]),i&574&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function D$(l,e,n){let t,i,r,s=Z,o=()=>(s(),s=Xe(a,p=>n(2,r=p)),a);l.$$.on_destroy.push(()=>s());let{trainer:a}=e;o();let{id:f}=e,u=!1;const c=p=>{var _,$;n(3,u=!0),Promise.all([(_=r.update)==null?void 0:_.pokemon(p.detail),($=r.update)==null?void 0:$.moveset(p.detail)]).then(()=>{n(3,u=!1),et(Ae.trainers(r.info.readKey,f))}).catch(()=>{n(3,u=!1)})},m=()=>{et(Ae.trainers(r.info.readKey,f))};return l.$$set=p=>{"trainer"in p&&o(n(0,a=p.trainer)),"id"in p&&n(1,f=p.id)},l.$$.update=()=>{l.$$.dirty&4&&n(5,t=r.update!=null),l.$$.dirty&6&&n(4,i=r.pokemon.find(p=>p.id===f))},[a,f,r,u,i,t,c,m]}class N$ extends le{constructor(e){super(),re(this,e,D$,P$,se,{trainer:0,id:1})}}function F$(l){let e,n,t="You do not have permission to edit this trainer.",i,r,s;return r=new Qe({props:{$$slots:{default:[L$]},$$scope:{ctx:l}}}),{c(){e=T("section"),n=T("p"),n.textContent=t,i=F(),I(r.$$.fragment)},l(o){e=y(o,"SECTION",{});var a=L(e);n=y(a,"P",{"data-svelte-h":!0}),he(n)!=="svelte-1kn7ebq"&&(n.textContent=t),i=N(a),A(r.$$.fragment,a),a.forEach(d)},m(o,a){b(o,e,a),E(e,n),E(e,i),C(r,e,null),s=!0},p(o,a){const f={};a&132&&(f.$$scope={dirty:a,ctx:o}),r.$set(f)},i(o){s||(h(r.$$.fragment,o),s=!0)},o(o){g(r.$$.fragment,o),s=!1},d(o){o&&d(e),S(r)}}}function H$(l){let e,n;return e=new w$({props:{trainer:l[2],allSpecies:l[1],saving:l[3]}}),e.$on("cancel",l[6]),e.$on("submit",l[5]),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.trainer=t[2]),i&2&&(r.allSpecies=t[1]),i&8&&(r.saving=t[3]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function z$(l){let e;return{c(){e=B("Go Back")},l(n){e=O(n,"Go Back")},m(n,t){b(n,e,t)},d(n){n&&d(e)}}}function L$(l){let e,n;return e=new Pe({props:{href:Ae.trainers(l[2].info.readKey),$$slots:{default:[z$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&4&&(r.href=Ae.trainers(t[2].info.readKey)),i&128&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function R$(l){let e,n,t,i;const r=[H$,F$],s=[];function o(a,f){return a[4]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function M$(l){let e,n,t,i;return e=new st({props:{value:"Rest "+l[2].info.name}}),t=new lt({props:{title:"Rest "+l[2].info.name,$$slots:{default:[R$]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&4&&(o.value="Rest "+r[2].info.name),e.$set(o);const a={};s&4&&(a.title="Rest "+r[2].info.name),s&158&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function V$(l,e,n){let t,i,r=Z,s=()=>(r(),r=Xe(o,m=>n(2,i=m)),o);l.$$.on_destroy.push(()=>r());let{trainer:o}=e;s();let{allSpecies:a}=e,f=!1;const u=m=>{var _;n(3,f=!0);const p=[(_=i.update)==null?void 0:_.info(m.detail.trainer.info)];m.detail.didUpdatePokemon&&(p.push(...m.detail.trainer.pokemon.map($=>{var k;return(k=i.update)==null?void 0:k.pokemon($)})),p.push(...m.detail.trainer.pokemon.map($=>{var k;return(k=i.update)==null?void 0:k.moveset($)}))),Promise.all(p).then(()=>{n(3,f=!1),et(Ae.trainers(i.info.readKey))}).catch(()=>{n(3,f=!1)})},c=()=>{et(Ae.trainers(i.info.readKey))};return l.$$set=m=>{"trainer"in m&&s(n(0,o=m.trainer)),"allSpecies"in m&&n(1,a=m.allSpecies)},l.$$.update=()=>{l.$$.dirty&4&&n(4,t=i.update!=null)},[o,a,i,f,t,u,c]}class O$ extends le{constructor(e){super(),re(this,e,V$,M$,se,{trainer:0,allSpecies:1})}}function B$(l){let e,n;return e=new st({props:{value:"Trainers"}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function q$(l){let e,n;return e=new Hp({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function K$(l){let e,n;return e=new ld({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function U$(l){let e,n,t,i={ctx:l,current:null,token:null,hasCatch:!0,pending:_h,then:G$,catch:j$,value:4,error:7,blocks:[,,,]};return mt(n=l[4],i),{c(){e=J(),i.block.c()},l(r){e=J(),i.block.l(r)},m(r,s){b(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(r,s){l=r,i.ctx=l,s&16&&n!==(n=l[4])&&mt(n,i)||Pt(i,l,s)},i(r){t||(h(i.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const o=i.blocks[s];g(o)}t=!1},d(r){r&&d(e),i.block.d(r),i.token=null,i=null}}}function j$(l){let e,n;return e=new Gn({props:{error:l[7]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.error=t[7]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function G$(l){let e,n,t,i;const r=[rh,lh,ih,nh,th,eh,x$,X$,J$,Z$,Q$,W$,Y$],s=[];function o(a,f){return a[4]?a[1]===Le.addPokemon?1:a[1]===Le.editPokemon?2:a[1]===Le.evolvePokemon?3:a[1]===Le.restPokemon?4:a[1]===Le.removePokemon?5:a[2]?6:a[1]===Le.restTrainer?7:a[1]===Le.editTrainer?8:a[1]===Le.removeTrainer?9:a[1]===Le.retireTrainer?10:a[1]===Le.accessKey?11:12:0}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Y$(l){let e,n;return e=new eu({props:{trainer:l[4]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function W$(l){let e,n;return e=new L_({props:{trainer:l[4]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Q$(l){let e,n;return e=new k_({props:{trainer:l[4]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Z$(l){let e,n;return e=new U_({props:{trainer:l[4]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function J$(l){let e,n;return e=new f_({props:{trainer:l[4]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function X$(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!1,pending:oh,then:ah,catch:sh,value:5,blocks:[,,,]};return mt(l[5],t),{c(){e=J(),t.block.c()},l(i){e=J(),t.block.l(i)},m(i,r){b(i,e,r),t.block.m(i,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,r){l=i,Pt(t,l,r)},i(i){n||(h(t.block),n=!0)},o(i){for(let r=0;r<3;r+=1){const s=t.blocks[r];g(s)}n=!1},d(i){i&&d(e),t.block.d(i),t.token=null,t=null}}}function x$(l){let e,n;return e=new Xc({props:{trainer:l[4],id:l[2]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function eh(l){let e,n;return e=new gd({props:{trainer:l[4],id:l[2]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function th(l){let e,n;return e=new N$({props:{trainer:l[4],id:l[2]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function nh(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!1,pending:ch,then:uh,catch:fh,value:5,blocks:[,,,]};return mt(l[5],t),{c(){e=J(),t.block.c()},l(i){e=J(),t.block.l(i)},m(i,r){b(i,e,r),t.block.m(i,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,r){l=i,Pt(t,l,r)},i(i){n||(h(t.block),n=!0)},o(i){for(let r=0;r<3;r+=1){const s=t.blocks[r];g(s)}n=!1},d(i){i&&d(e),t.block.d(i),t.token=null,t=null}}}function ih(l){let e,n;return e=new pp({props:{trainer:l[4],id:l[2]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function lh(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!1,pending:ph,then:dh,catch:mh,value:5,blocks:[,,,]};return mt(l[5],t),{c(){e=J(),t.block.c()},l(i){e=J(),t.block.l(i)},m(i,r){b(i,e,r),t.block.m(i,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(i,r){l=i,Pt(t,l,r)},i(i){n||(h(t.block),n=!0)},o(i){for(let r=0;r<3;r+=1){const s=t.blocks[r];g(s)}n=!1},d(i){i&&d(e),t.block.d(i),t.token=null,t=null}}}function rh(l){let e;return{c(){e=T("br")},l(n){e=y(n,"BR",{})},m(n,t){b(n,e,t)},p:Z,i:Z,o:Z,d(n){n&&d(e)}}}function sh(l){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function ah(l){let e,n;return e=new O$({props:{trainer:l[4],allSpecies:l[5]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function oh(l){let e,n;return e=new wt({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function fh(l){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function uh(l){let e,n;return e=new Sp({props:{trainer:l[4],id:l[2],allSpecies:l[5]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.id=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ch(l){let e,n;return e=new wt({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function mh(l){return{c:Z,l:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function dh(l){let e,n;return e=new Pm({props:{trainer:l[4],allSpecies:l[5]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ph(l){let e,n;return e=new wt({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function _h(l){let e,n;return e=new wt({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function $h(l){let e,n,t,i;const r=[U$,K$,q$,B$],s=[];function o(a,f){return a[0]?0:a[1]===Le.newTrainer?1:a[1]===Le.findTrainer?2:3}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function hh(l){let e,n;return e=new zs({props:{slot:"icon"}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function gh(l){let e,n,t,i={ctx:l,current:null,token:null,hasCatch:!0,pending:wh,then:kh,catch:bh,value:3,error:7,blocks:[,,,]};return mt(n=l[3],i),{c(){e=J(),i.block.c()},l(r){e=J(),i.block.l(r)},m(r,s){b(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(r,s){l=r,i.ctx=l,s&8&&n!==(n=l[3])&&mt(n,i)||Pt(i,l,s)},i(r){t||(h(i.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const o=i.blocks[s];g(o)}t=!1},d(r){r&&d(e),i.block.d(r),i.token=null,i=null}}}function vh(l){let e,n,t,i={ctx:l,current:null,token:null,hasCatch:!0,pending:Ah,then:Sh,catch:Eh,value:4,error:7,blocks:[,,,]};return mt(n=l[4],i),{c(){e=J(),i.block.c()},l(r){e=J(),i.block.l(r)},m(r,s){b(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(r,s){l=r,i.ctx=l,s&16&&n!==(n=l[4])&&mt(n,i)||Pt(i,l,s)},i(r){t||(h(i.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const o=i.blocks[s];g(o)}t=!1},d(r){r&&d(e),i.block.d(r),i.token=null,i=null}}}function bh(l){let e,n;return e=new Gn({props:{error:l[7]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.error=t[7]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function kh(l){let e,n,t=l[3]&&wr(l);return{c(){t&&t.c(),e=J()},l(i){t&&t.l(i),e=J()},m(i,r){t&&t.m(i,r),b(i,e,r),n=!0},p(i,r){i[3]?t?(t.p(i,r),r&8&&h(t,1)):(t=wr(i),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(ce(),g(t,1,1,()=>{t=null}),me())},i(i){n||(h(t),n=!0)},o(i){g(t),n=!1},d(i){i&&d(e),t&&t.d(i)}}}function wr(l){let e,n;return e=new Wm({props:{trainers:l[3],showGetStarted:l[1]==null}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&8&&(r.trainers=t[3]),i&2&&(r.showGetStarted=t[1]==null),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function wh(l){let e,n;return e=new wt({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Eh(l){let e,n;return e=new Gn({props:{error:l[7]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.error=t[7]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Sh(l){let e,n,t,i;const r=[Ih,Ch],s=[];function o(a,f){return a[4]?0:1}return e=o(l),n=s[e]=r[e](l),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,f){s[e].m(a,f),b(a,t,f),i=!0},p(a,f){let u=e;e=o(a),e===u?s[e].p(a,f):(ce(),g(s[u],1,1,()=>{s[u]=null}),me(),n=s[e],n?n.p(a,f):(n=s[e]=r[e](a),n.c()),h(n,1),n.m(t.parentNode,t))},i(a){i||(h(n),i=!0)},o(a){g(n),i=!1},d(a){a&&d(t),s[e].d(a)}}}function Ch(l){let e,n;return e=new Ap({props:{trainerKey:l[0]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.trainerKey=t[0]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ih(l){let e,n;return e=new cm({props:{trainer:l[4],currentPokemon:l[2]}}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p(t,i){const r={};i&16&&(r.trainer=t[4]),i&4&&(r.currentPokemon=t[2]),e.$set(r)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ah(l){let e,n;return e=new wt({}),{c(){I(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,i){C(e,t,i),n=!0},p:Z,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function yh(l){let e,n,t,i,r,s;n=new j_({});const o=[vh,gh],a=[];function f(u,c){return u[0]?0:1}return i=f(l),r=a[i]=o[i](l),{c(){e=T("nav"),I(n.$$.fragment),t=F(),r.c(),this.h()},l(u){e=y(u,"NAV",{id:!0,slot:!0,class:!0,"aria-label":!0});var c=L(e);A(n.$$.fragment,c),t=N(c),r.l(c),c.forEach(d),this.h()},h(){D(e,"id",Ls),D(e,"slot","side"),D(e,"class","table svelte-1yryrve"),D(e,"aria-label","Pokemon List")},m(u,c){b(u,e,c),C(n,e,null),E(e,t),a[i].m(e,null),s=!0},p(u,c){let m=i;i=f(u),i===m?a[i].p(u,c):(ce(),g(a[m],1,1,()=>{a[m]=null}),me(),r=a[i],r?r.p(u,c):(r=a[i]=o[i](u),r.c()),h(r,1),r.m(e,null))},i(u){s||(h(n.$$.fragment,u),h(r),s=!0)},o(u){g(n.$$.fragment,u),g(r),s=!1},d(u){u&&d(e),S(n),a[i].d()}}}function Th(l){let e,n,t,i;return e=new st({props:{value:"Trainers"}}),t=new Fs({props:{theme:"green",$$slots:{side:[yh],icon:[hh],default:[$h]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),n=F(),I(t.$$.fragment)},l(r){A(e.$$.fragment,r),n=N(r),A(t.$$.fragment,r)},m(r,s){C(e,r,s),b(r,n,s),C(t,r,s),i=!0},p(r,[s]){const o={};s&287&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){i||(h(e.$$.fragment,r),h(t.$$.fragment,r),i=!0)},o(r){g(e.$$.fragment,r),g(t.$$.fragment,r),i=!1},d(r){r&&d(n),S(e,r),S(t,r)}}}function Ph(l,e,n){let t,i,r,s;Ve(l,Is,u=>n(6,s=u));let o,a,f=zr.completeList();return l.$$.update=()=>{l.$$.dirty&64&&n(0,t=s.url.searchParams.get("id")),l.$$.dirty&64&&n(2,i=s.url.searchParams.get("pokemon")),l.$$.dirty&64&&n(1,r=s.url.searchParams.get("action")),l.$$.dirty&1&&(t&&pi?(n(3,o=void 0),n(4,a=En.get(t))):!t&&pi?(n(3,o=En.all()),n(4,a=void 0)):(n(4,a=void 0),n(3,o=void 0)))},[t,r,i,o,a,f,s]}class Kg extends le{constructor(e){super(),re(this,e,Ph,Th,se,{})}}export{Kg as component};
