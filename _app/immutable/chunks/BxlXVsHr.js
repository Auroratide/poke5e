const S="4",d="en",f=["en","es"],U=["url","baseLocale"];globalThis.__paraglide={};let m=!1,h=()=>{let e;for(const o of U){if(o==="baseLocale")e=d;else if(o==="url"&&typeof window<"u")e=b(window.location.href);else if(C(o)&&c.has(o)){const t=c.get(o);if(t){const n=t.getLocale();if(n instanceof Promise)continue;e=n}}if(e!==void 0){const t=j(e);return m||(m=!0,z(t,{reload:!1})),t}}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")};const v=e=>{e?window.location.href=e:window.location.reload()};let z=(e,o)=>{const t={reload:!0,...o};let n;try{n=h()}catch{}const l=[];let r;for(const a of U)if(a!=="baseLocale"){if(a==="url"&&typeof window<"u")r=u(window.location.href,{locale:e}).href;else if(C(a)&&c.has(a)){const L=c.get(a);if(L){let i=L.setLocale(e);i instanceof Promise&&(i=i.catch(R=>{throw new Error(`Custom strategy "${a}" setLocale failed.`,{cause:R})}),l.push(i))}}}const s=()=>{t.reload&&window.location&&e!==n&&v(r)};if(l.length)return Promise.all(l).then(()=>{s()});s()},w=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function g(e){return typeof e!="string"?!1:e?f.some(o=>o.toLowerCase()===e.toLowerCase()):!1}function j(e){if(typeof e!="string")throw new Error(`Invalid locale: ${e}. Expected a string.`);const o=e.toLowerCase(),t=f.find(n=>n.toLowerCase()===o);if(!t)throw new Error(`Invalid locale: ${e}. Expected one of: ${f.join(", ")}`);return t}let p,y;function b(e){const o=typeof e=="string"?e:e.href;if(p===o)return y;let t;return t=E(e),p=o,y=t,t}function E(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const n=t[0];if(g(n))return n}return d}function u(e,o){return P(e,o)}function P(e,o){const t=typeof e=="string"?new URL(e,w()):new URL(e),n=(o==null?void 0:o.locale)??h();if(b(t)===n)return t;const r=t.pathname.split("/").filter(Boolean);return r.length>0&&g(r[0])&&r.shift(),n===d?t.pathname="/"+r.join("/"):t.pathname="/"+n+"/"+r.join("/"),t}function I(e){return _(e)}function _(e){const o=typeof e=="string"?new URL(e,w()):new URL(e),t=o.pathname.split("/").filter(Boolean);return t.length>0&&g(t[0])&&(o.pathname="/"+t.slice(1).join("/")),o}function O(e,o){const t=h(),n=(o==null?void 0:o.locale)??t,l=new URL(e,w()),r=u(l,{locale:n});return e.startsWith("/")&&l.origin===r.origin?n!==t&&u(l,{locale:t}).origin!==r.origin?r.href:r.pathname+r.search+r.hash:r.href}const c=new Map;function C(e){return typeof e=="string"&&/^custom-[A-Za-z0-9_-]+$/.test(e)}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(S);export{f as a,O as b,I as d,h as g,u as l};
