import{a as Me,e as k,t as v,j as y,k as E,m as N,l as m,d as h,o as p,p as w,q as c,C as D,n as H,b as Q,c as X,y as Y,F as Oe,H as Ne,D as Be}from"./scheduler.C3LxWxeP.js";import{S as Le,i as je}from"./index.D91aCrzX.js";import{h as Fe,u as Re}from"./await_block.BsxTHjbV.js";import{a as Ge}from"./paths.Bn-nqnry.js";const ft=[{abbr:"str",name:"strength"},{abbr:"dex",name:"dexterity"},{abbr:"con",name:"constitution"},{abbr:"int",name:"intelligence"},{abbr:"wis",name:"wisdom"},{abbr:"cha",name:"charisma"}],A=t=>Math.floor(t/2)-5;function We(t){let e,l,s='<abbr title="Strength">str</abbr>',i,n=t[0].str+"",r,u,f=t[1](A(t[0].str))+"",I,q,C,z='<abbr title="Dexterity">dex</abbr>',T,S=t[0].dex+"",M,K,O=t[1](A(t[0].dex))+"",L,F,j,d='<abbr title="Constitution">con</abbr>',g,B=t[0].con+"",W,pe,Z=t[1](A(t[0].con))+"",fe,_e,U,He='<abbr title="Intelligence">int</abbr>',G,x=t[0].int+"",de,ke,ee=t[1](A(t[0].int))+"",he,ye,V,Ie='<abbr title="Wisdom">wis</abbr>',P,te=t[0].wis+"",ve,we,le=t[1](A(t[0].wis))+"",me,De,J,Se='<abbr title="Charisma">cha</abbr>',$,se=t[0].cha+"",ge,Ce,ie=t[1](A(t[0].cha))+"",be,Te;return{c(){e=k("dl"),l=k("dt"),l.innerHTML=s,i=k("dd"),r=v(n),u=v(" ("),I=v(f),q=v(")"),C=k("dt"),C.innerHTML=z,T=k("dd"),M=v(S),K=v(" ("),L=v(O),F=v(")"),j=k("dt"),j.innerHTML=d,g=k("dd"),W=v(B),pe=v(" ("),fe=v(Z),_e=v(")"),U=k("dt"),U.innerHTML=He,G=k("dd"),de=v(x),ke=v(" ("),he=v(ee),ye=v(")"),V=k("dt"),V.innerHTML=Ie,P=k("dd"),ve=v(te),we=v(" ("),me=v(le),De=v(")"),J=k("dt"),J.innerHTML=Se,$=k("dd"),ge=v(se),Ce=v(" ("),be=v(ie),Te=v(")"),this.h()},l(_){e=y(_,"DL",{class:!0});var b=E(e);l=y(b,"DT",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-1mis3k"&&(l.innerHTML=s),i=y(b,"DD",{class:!0});var ne=E(i);r=m(ne,n),u=m(ne," ("),I=m(ne,f),q=m(ne,")"),ne.forEach(h),C=y(b,"DT",{class:!0,"data-svelte-h":!0}),N(C)!=="svelte-nwb3bz"&&(C.innerHTML=z),T=y(b,"DD",{class:!0});var ae=E(T);M=m(ae,S),K=m(ae," ("),L=m(ae,O),F=m(ae,")"),ae.forEach(h),j=y(b,"DT",{class:!0,"data-svelte-h":!0}),N(j)!=="svelte-17hacc1"&&(j.innerHTML=d),g=y(b,"DD",{class:!0});var re=E(g);W=m(re,B),pe=m(re," ("),fe=m(re,Z),_e=m(re,")"),re.forEach(h),U=y(b,"DT",{class:!0,"data-svelte-h":!0}),N(U)!=="svelte-1hxr0nk"&&(U.innerHTML=He),G=y(b,"DD",{class:!0});var oe=E(G);de=m(oe,x),ke=m(oe," ("),he=m(oe,ee),ye=m(oe,")"),oe.forEach(h),V=y(b,"DT",{class:!0,"data-svelte-h":!0}),N(V)!=="svelte-19zsw8s"&&(V.innerHTML=Ie),P=y(b,"DD",{class:!0});var ce=E(P);ve=m(ce,te),we=m(ce," ("),me=m(ce,le),De=m(ce,")"),ce.forEach(h),J=y(b,"DT",{class:!0,"data-svelte-h":!0}),N(J)!=="svelte-gu464"&&(J.innerHTML=Se),$=y(b,"DD",{class:!0});var ue=E($);ge=m(ue,se),Ce=m(ue," ("),be=m(ue,ie),Te=m(ue,")"),ue.forEach(h),b.forEach(h),this.h()},h(){p(l,"class","svelte-vsptsl"),p(i,"class","svelte-vsptsl"),p(C,"class","svelte-vsptsl"),p(T,"class","svelte-vsptsl"),p(j,"class","svelte-vsptsl"),p(g,"class","svelte-vsptsl"),p(U,"class","svelte-vsptsl"),p(G,"class","svelte-vsptsl"),p(V,"class","svelte-vsptsl"),p(P,"class","svelte-vsptsl"),p(J,"class","svelte-vsptsl"),p($,"class","svelte-vsptsl"),p(e,"class","svelte-vsptsl")},m(_,b){w(_,e,b),c(e,l),c(e,i),c(i,r),c(i,u),c(i,I),c(i,q),c(e,C),c(e,T),c(T,M),c(T,K),c(T,L),c(T,F),c(e,j),c(e,g),c(g,W),c(g,pe),c(g,fe),c(g,_e),c(e,U),c(e,G),c(G,de),c(G,ke),c(G,he),c(G,ye),c(e,V),c(e,P),c(P,ve),c(P,we),c(P,me),c(P,De),c(e,J),c(e,$),c($,ge),c($,Ce),c($,be),c($,Te)},p(_,[b]){b&1&&n!==(n=_[0].str+"")&&D(r,n),b&1&&f!==(f=_[1](A(_[0].str))+"")&&D(I,f),b&1&&S!==(S=_[0].dex+"")&&D(M,S),b&1&&O!==(O=_[1](A(_[0].dex))+"")&&D(L,O),b&1&&B!==(B=_[0].con+"")&&D(W,B),b&1&&Z!==(Z=_[1](A(_[0].con))+"")&&D(fe,Z),b&1&&x!==(x=_[0].int+"")&&D(de,x),b&1&&ee!==(ee=_[1](A(_[0].int))+"")&&D(he,ee),b&1&&te!==(te=_[0].wis+"")&&D(ve,te),b&1&&le!==(le=_[1](A(_[0].wis))+"")&&D(me,le),b&1&&se!==(se=_[0].cha+"")&&D(ge,se),b&1&&ie!==(ie=_[1](A(_[0].cha))+"")&&D(be,ie)},i:H,o:H,d(_){_&&h(e)}}}function Ue(t,e,l){let{attributes:s}=e;const i=n=>n>=0?`+${n}`:`${n}`;return t.$$set=n=>{"attributes"in n&&l(0,s=n.attributes)},[s,i]}class dt extends Le{constructor(e){super(),je(this,e,Ue,We,Me,{attributes:0})}}const o=2,Ve=1,a=.5,R=0,ze=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"],Je=t=>Object.entries(t).reduce((e,[l,s])=>({...e,[l]:ze.reduce((i,n)=>({...i,[n]:s[n]??Ve}),{})}),{}),Ke=Je({normal:{fighting:o,ghost:R},fighting:{fairy:o,flying:o,psychic:o,bug:a,rock:a,dark:a},flying:{electric:o,ice:o,rock:o,bug:a,fighting:a,grass:a,ground:R},poison:{ground:o,psychic:o,fighting:a,poison:a,bug:a,grass:a,fairy:a},ground:{grass:o,ice:o,water:o,poison:a,rock:a,electric:R},rock:{fighting:o,grass:o,ground:o,steel:o,water:o,fire:a,flying:a,normal:a,poison:a},bug:{fire:o,flying:o,rock:o,fighting:a,grass:a,ground:a},ghost:{ghost:o,dark:o,bug:a,poison:a,normal:R,fighting:R},steel:{fire:o,fighting:o,ground:o,bug:a,dragon:a,fairy:a,flying:a,grass:a,ice:a,normal:a,psychic:a,rock:a,steel:a,poison:R},fire:{ground:o,rock:o,water:o,bug:a,fairy:a,fire:a,grass:a,ice:a,steel:a},water:{electric:o,grass:o,fire:a,ice:a,steel:a,water:a},grass:{bug:o,fire:o,flying:o,ice:o,poison:o,electric:a,grass:a,ground:a,water:a},electric:{ground:o,electric:a,flying:a,steel:a},psychic:{bug:o,ghost:o,dark:o,fighting:a,psychic:a},ice:{fighting:o,fire:o,rock:o,steel:o,ice:a},dragon:{dragon:o,fairy:o,ice:o,electric:a,fire:a,grass:a,water:a},dark:{bug:o,fairy:o,fighting:o,dark:a,ghost:a,psychic:R},fairy:{poison:o,steel:o,bug:a,dark:a,fighting:a,dragon:R}}),Qe=(t,e)=>Object.entries(t).reduce((l,[s,i])=>({...l,[s]:i*e[s]}),{}),Ae=t=>{if(t.some(e=>!ze.includes(e)))throw new Error(`Invalid Pokemon type: [${t.join(", ")}]`);return t.map(e=>Ke[e]).reduce(Qe)},Xe=t=>new Set(Object.entries(Ae(t)).filter(([,e])=>e>1).map(([e])=>e)),Ye=t=>new Set(Object.entries(Ae(t)).filter(([,e])=>0<e&&e<1).map(([e])=>e)),Ze=t=>new Set(Object.entries(Ae(t)).filter(([,e])=>e===0).map(([e])=>e));function xe(t){let e,l="Vulnerabilities",s,i,n=t[3](t[2])+"",r,u,f,I="Resistances",q,C,z=t[3](t[1])+"",T,S,M,K="Immunities",O,L,F=t[3](t[0])+"",j;return{c(){e=k("dt"),e.textContent=l,s=Q(),i=k("dd"),r=v(n),u=Q(),f=k("dt"),f.textContent=I,q=Q(),C=k("dd"),T=v(z),S=Q(),M=k("dt"),M.textContent=K,O=Q(),L=k("dd"),j=v(F),this.h()},l(d){e=y(d,"DT",{"data-svelte-h":!0}),N(e)!=="svelte-erb47k"&&(e.textContent=l),s=X(d),i=y(d,"DD",{class:!0});var g=E(i);r=m(g,n),g.forEach(h),u=X(d),f=y(d,"DT",{"data-svelte-h":!0}),N(f)!=="svelte-8bpo88"&&(f.textContent=I),q=X(d),C=y(d,"DD",{class:!0});var B=E(C);T=m(B,z),B.forEach(h),S=X(d),M=y(d,"DT",{"data-svelte-h":!0}),N(M)!=="svelte-rf7wzg"&&(M.textContent=K),O=X(d),L=y(d,"DD",{class:!0});var W=E(L);j=m(W,F),W.forEach(h),this.h()},h(){p(i,"class","svelte-9bj5l8"),p(C,"class","svelte-9bj5l8"),p(L,"class","svelte-9bj5l8")},m(d,g){w(d,e,g),w(d,s,g),w(d,i,g),c(i,r),w(d,u,g),w(d,f,g),w(d,q,g),w(d,C,g),c(C,T),w(d,S,g),w(d,M,g),w(d,O,g),w(d,L,g),c(L,j)},p(d,[g]){g&4&&n!==(n=d[3](d[2])+"")&&D(r,n),g&2&&z!==(z=d[3](d[1])+"")&&D(T,z),g&1&&F!==(F=d[3](d[0])+"")&&D(j,F)},i:H,o:H,d(d){d&&(h(e),h(s),h(i),h(u),h(f),h(q),h(C),h(S),h(M),h(O),h(L))}}}function et(t,e,l){let s,i,n,{type:r}=e;const u=f=>f.length===0?"none":f.join(", ");return t.$$set=f=>{"type"in f&&l(4,r=f.type)},t.$$.update=()=>{t.$$.dirty&16&&l(2,s=Array.from(Xe(r))),t.$$.dirty&16&&l(1,i=Array.from(Ye(r))),t.$$.dirty&16&&l(0,n=Array.from(Ze(r)))},[n,i,s,u,r]}class ht extends Le{constructor(e){super(),je(this,e,et,xe,Me,{type:4})}}const Ee=t=>{switch(t.type){case"gender":return`A ${t.value}`;case"level":return`at level ${t.value} or above`;case"item":return`using a ${t.value}`;case"loyalty":return`with a loyalty of +${t.value} or higher`;case"move":return`while knowing {{move:${t.value}}}`;case"move-type":return`while knowing a ${t.value}-type move`;case"time":return`during the ${t.value}`;case"special":return t.value}},tt=t=>{switch(t.type){case"asi":return`its health increases by double its level, and it gains ${t.value} points to add to its ability scores`;case"special":return t.value}},vt=(t,e,l)=>{const s=e.conditions.find(r=>r.type==="gender"),i=e.conditions.find(r=>r.type==="level"),n=e.conditions.filter(r=>r.type!=="gender"&&r.type!=="level");return`${s?`${Ee(s)} `:""}${t} can evolve into {{pokemon:${e.id}}} ${i?Ee(i):""}${n.length>0?" ":""}${n.map(r=>Ee(r)).join(", ")}. When it evolves, ${e.effects.map(r=>tt(r)).join(", ")}.`.replaceAll(/{{pokemon:(.*?)}}/g,(r,u)=>l?l("pokemon",u):r).replaceAll(/{{move:(.*?)}}/g,(r,u)=>l?l("move",u):r)};function Pe(t){let e,l,s,i,n=t[3]&&$e(t);return{c(){e=k("figure"),l=k("img"),i=Q(),n&&n.c(),this.h()},l(r){e=y(r,"FIGURE",{class:!0});var u=E(e);l=y(u,"IMG",{src:!0,alt:!0,class:!0}),i=X(u),n&&n.l(u),u.forEach(h),this.h()},h(){Oe(l.src,s=t[2])||p(l,"src",s),p(l,"alt",t[1]),p(l,"class","svelte-1x63awe"),Ne(l,"smaller",t[3]!=null),p(e,"class","svelte-1x63awe")},m(r,u){w(r,e,u),c(e,l),c(e,i),n&&n.m(e,null)},p(r,u){u&4&&!Oe(l.src,s=r[2])&&p(l,"src",s),u&2&&p(l,"alt",r[1]),u&8&&Ne(l,"smaller",r[3]!=null),r[3]?n?n.p(r,u):(n=$e(r),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(r){r&&h(e),n&&n.d()}}}function $e(t){let e,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:it,then:st,catch:lt,value:3};return Fe(l=t[3],s),{c(){e=Y(),s.block.c()},l(i){e=Y(),s.block.l(i)},m(i,n){w(i,e,n),s.block.m(i,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e},p(i,n){t=i,s.ctx=t,n&8&&l!==(l=t[3])&&Fe(l,s)||Re(s,t,n)},d(i){i&&h(e),s.block.d(i),s.token=null,s=null}}}function lt(t){return{c:H,l:H,m:H,p:H,d:H}}function st(t){let e,l=t[3].main&&qe(t);return{c(){l&&l.c(),e=Y()},l(s){l&&l.l(s),e=Y()},m(s,i){l&&l.m(s,i),w(s,e,i)},p(s,i){s[3].main?l?l.p(s,i):(l=qe(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){s&&h(e),l&&l.d(s)}}}function qe(t){let e,l,s,i=t[3].main.author+"",n,r;return{c(){e=k("figcaption"),l=v("By "),s=k("a"),n=v(i),this.h()},l(u){e=y(u,"FIGCAPTION",{class:!0});var f=E(e);l=m(f,"By "),s=y(f,"A",{href:!0});var I=E(s);n=m(I,i),I.forEach(h),f.forEach(h),this.h()},h(){p(s,"href",r=t[3].main.link),p(e,"class","svelte-1x63awe")},m(u,f){w(u,e,f),c(e,l),c(e,s),c(s,n)},p(u,f){f&8&&i!==(i=u[3].main.author+"")&&D(n,i),f&8&&r!==(r=u[3].main.link)&&p(s,"href",r)},d(u){u&&h(e)}}}function it(t){let e,l="Getting attribution...";return{c(){e=k("figcaption"),e.textContent=l,this.h()},l(s){e=y(s,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-1m345tn"&&(e.textContent=l),this.h()},h(){p(e,"class","svelte-1x63awe"),Be(e,"visibility","hidden")},m(s,i){w(s,e,i)},p:H,d(s){s&&h(e)}}}function nt(t){let e,l=t[0].main&&Pe(t);return{c(){l&&l.c(),e=Y()},l(s){l&&l.l(s),e=Y()},m(s,i){l&&l.m(s,i),w(s,e,i)},p(s,[i]){s[0].main?l?l.p(s,i):(l=Pe(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:H,o:H,d(s){s&&h(e),l&&l.d(s)}}}function at(t,e,l){let s,i,{media:n}=e,{alt:r}=e,u;return t.$$set=f=>{"media"in f&&l(0,n=f.media),"alt"in f&&l(1,r=f.alt)},t.$$.update=()=>{t.$$.dirty&1&&l(4,s=/^http/.test(n.main)),t.$$.dirty&17&&l(2,i=s?n.main:`${Ge}${n.main}`),t.$$.dirty&1&&(n.attribution?l(3,u=fetch(`${Ge}${n.attribution}`).then(f=>f.json())):l(3,u=void 0))},[n,r,i,u,s]}class mt extends Le{constructor(e){super(),je(this,e,at,nt,Me,{media:0,alt:1})}}export{dt as A,mt as P,ht as T,ft as a,vt as e,A as m};
