import{S as Ke,i as Qe,s as Ue,k as b,q as o,l as h,m as _,r as c,h as r,n as y,b as T,G as l,u as k,B as we,a as ue,c as ve}from"./index-4809f1dc.js";const dt=[{abbr:"str",name:"strength"},{abbr:"dex",name:"dexterity"},{abbr:"con",name:"constitution"},{abbr:"int",name:"intelligence"},{abbr:"wis",name:"wisdom"},{abbr:"cha",name:"charisma"}],$=e=>Math.floor(e/2)-5;function Ye(e){let s,n,v,p,d,f=e[0].str+"",E,w,O=e[1]($(e[0].str))+"",I,j,A,R,N,D,L=e[0].dex+"",M,S,C=e[1]($(e[0].dex))+"",q,i,g,V,J,B,P=e[0].con+"",H,De,x=e[1]($(e[0].con))+"",ge,Ee,K,Q,ke,W,ee=e[0].int+"",be,Ae,te=e[1]($(e[0].int))+"",he,Be,U,X,$e,F,se=e[0].wis+"",_e,Te,le=e[1]($(e[0].wis))+"",me,je,Y,Z,Re,G,ae=e[0].cha+"",pe,Se,ie=e[1]($(e[0].cha))+"",ye,Ce;return{c(){s=b("dl"),n=b("dt"),v=b("abbr"),p=o("str"),d=b("dd"),E=o(f),w=o(" ("),I=o(O),j=o(")"),A=b("dt"),R=b("abbr"),N=o("dex"),D=b("dd"),M=o(L),S=o(" ("),q=o(C),i=o(")"),g=b("dt"),V=b("abbr"),J=o("con"),B=b("dd"),H=o(P),De=o(" ("),ge=o(x),Ee=o(")"),K=b("dt"),Q=b("abbr"),ke=o("int"),W=b("dd"),be=o(ee),Ae=o(" ("),he=o(te),Be=o(")"),U=b("dt"),X=b("abbr"),$e=o("wis"),F=b("dd"),_e=o(se),Te=o(" ("),me=o(le),je=o(")"),Y=b("dt"),Z=b("abbr"),Re=o("cha"),G=b("dd"),pe=o(ae),Se=o(" ("),ye=o(ie),Ce=o(")"),this.h()},l(m){s=h(m,"DL",{class:!0});var u=_(s);n=h(u,"DT",{class:!0});var Le=_(n);v=h(Le,"ABBR",{title:!0});var Me=_(v);p=c(Me,"str"),Me.forEach(r),Le.forEach(r),d=h(u,"DD",{class:!0});var re=_(d);E=c(re,f),w=c(re," ("),I=c(re,O),j=c(re,")"),re.forEach(r),A=h(u,"DT",{class:!0});var qe=_(A);R=h(qe,"ABBR",{title:!0});var Ve=_(R);N=c(Ve,"dex"),Ve.forEach(r),qe.forEach(r),D=h(u,"DD",{class:!0});var ne=_(D);M=c(ne,L),S=c(ne," ("),q=c(ne,C),i=c(ne,")"),ne.forEach(r),g=h(u,"DT",{class:!0});var We=_(g);V=h(We,"ABBR",{title:!0});var Fe=_(V);J=c(Fe,"con"),Fe.forEach(r),We.forEach(r),B=h(u,"DD",{class:!0});var oe=_(B);H=c(oe,P),De=c(oe," ("),ge=c(oe,x),Ee=c(oe,")"),oe.forEach(r),K=h(u,"DT",{class:!0});var Ge=_(K);Q=h(Ge,"ABBR",{title:!0});var Ne=_(Q);ke=c(Ne,"int"),Ne.forEach(r),Ge.forEach(r),W=h(u,"DD",{class:!0});var ce=_(W);be=c(ce,ee),Ae=c(ce," ("),he=c(ce,te),Be=c(ce,")"),ce.forEach(r),U=h(u,"DT",{class:!0});var Pe=_(U);X=h(Pe,"ABBR",{title:!0});var ze=_(X);$e=c(ze,"wis"),ze.forEach(r),Pe.forEach(r),F=h(u,"DD",{class:!0});var de=_(F);_e=c(de,se),Te=c(de," ("),me=c(de,le),je=c(de,")"),de.forEach(r),Y=h(u,"DT",{class:!0});var He=_(Y);Z=h(He,"ABBR",{title:!0});var Je=_(Z);Re=c(Je,"cha"),Je.forEach(r),He.forEach(r),G=h(u,"DD",{class:!0});var fe=_(G);pe=c(fe,ae),Se=c(fe," ("),ye=c(fe,ie),Ce=c(fe,")"),fe.forEach(r),u.forEach(r),this.h()},h(){y(v,"title","Strength"),y(n,"class","svelte-acg6vf"),y(d,"class","svelte-acg6vf"),y(R,"title","Dexterity"),y(A,"class","svelte-acg6vf"),y(D,"class","svelte-acg6vf"),y(V,"title","Constitution"),y(g,"class","svelte-acg6vf"),y(B,"class","svelte-acg6vf"),y(Q,"title","Intelligence"),y(K,"class","svelte-acg6vf"),y(W,"class","svelte-acg6vf"),y(X,"title","Wisdom"),y(U,"class","svelte-acg6vf"),y(F,"class","svelte-acg6vf"),y(Z,"title","Charisma"),y(Y,"class","svelte-acg6vf"),y(G,"class","svelte-acg6vf"),y(s,"class","svelte-acg6vf")},m(m,u){T(m,s,u),l(s,n),l(n,v),l(v,p),l(s,d),l(d,E),l(d,w),l(d,I),l(d,j),l(s,A),l(A,R),l(R,N),l(s,D),l(D,M),l(D,S),l(D,q),l(D,i),l(s,g),l(g,V),l(V,J),l(s,B),l(B,H),l(B,De),l(B,ge),l(B,Ee),l(s,K),l(K,Q),l(Q,ke),l(s,W),l(W,be),l(W,Ae),l(W,he),l(W,Be),l(s,U),l(U,X),l(X,$e),l(s,F),l(F,_e),l(F,Te),l(F,me),l(F,je),l(s,Y),l(Y,Z),l(Z,Re),l(s,G),l(G,pe),l(G,Se),l(G,ye),l(G,Ce)},p(m,[u]){u&1&&f!==(f=m[0].str+"")&&k(E,f),u&1&&O!==(O=m[1]($(m[0].str))+"")&&k(I,O),u&1&&L!==(L=m[0].dex+"")&&k(M,L),u&1&&C!==(C=m[1]($(m[0].dex))+"")&&k(q,C),u&1&&P!==(P=m[0].con+"")&&k(H,P),u&1&&x!==(x=m[1]($(m[0].con))+"")&&k(ge,x),u&1&&ee!==(ee=m[0].int+"")&&k(be,ee),u&1&&te!==(te=m[1]($(m[0].int))+"")&&k(he,te),u&1&&se!==(se=m[0].wis+"")&&k(_e,se),u&1&&le!==(le=m[1]($(m[0].wis))+"")&&k(me,le),u&1&&ae!==(ae=m[0].cha+"")&&k(pe,ae),u&1&&ie!==(ie=m[1]($(m[0].cha))+"")&&k(ye,ie)},i:we,o:we,d(m){m&&r(s)}}}function Ze(e,s,n){let{attributes:v}=s;const p=d=>d>=0?`+${d}`:`${d}`;return e.$$set=d=>{"attributes"in d&&n(0,v=d.attributes)},[v,p]}class ft extends Ke{constructor(s){super(),Qe(this,s,Ze,Ye,Ue,{attributes:0})}}const a=2,xe=1,t=.5,z=0,Xe=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"],et=e=>Object.entries(e).reduce((s,[n,v])=>({...s,[n]:Xe.reduce((p,d)=>({...p,[d]:v[d]??xe}),{})}),{}),tt=et({normal:{fighting:a,ghost:z},fighting:{fairy:a,flying:a,psychic:a,bug:t,rock:t,dark:t},flying:{electric:a,ice:a,rock:a,bug:t,fighting:t,grass:t,ground:z},poison:{ground:a,psychic:a,fighting:t,poison:t,bug:t,grass:t,fairy:t},ground:{grass:a,ice:a,water:a,poison:t,rock:t,electric:z},rock:{fighting:a,grass:a,ground:a,steel:a,water:a,fire:t,flying:t,normal:t,poison:t},bug:{fire:a,flying:a,rock:a,fighting:t,grass:t,ground:t},ghost:{ghost:a,dark:a,bug:t,poison:t,normal:z,fighting:z},steel:{fire:a,fighting:a,ground:a,bug:t,dragon:t,fairy:t,flying:t,grass:t,ice:t,normal:t,psychic:t,rock:t,steel:t,poison:z},fire:{ground:a,rock:a,water:a,bug:t,fairy:t,fire:t,grass:t,ice:t,steel:t},water:{electric:a,grass:a,fire:t,ice:t,steel:t,water:t},grass:{bug:a,fire:a,flying:a,ice:a,poison:a,electric:t,grass:t,ground:t,water:t},electric:{ground:a,electric:t,flying:t,steel:t},psychic:{bug:a,ghost:a,dark:a,fighting:t,psychic:t},ice:{fighting:a,fire:a,rock:a,steel:a,ice:t},dragon:{dragon:a,fairy:a,ice:a,electric:t,fire:t,grass:t,water:t},dark:{bug:a,fairy:a,fighting:a,dark:t,ghost:t,psychic:z},fairy:{poison:a,steel:a,bug:t,dark:t,fighting:t,dragon:z}}),st=(e,s)=>Object.entries(e).reduce((n,[v,p])=>({...n,[v]:p*s[v]}),{}),Ie=e=>{if(e.some(s=>!Xe.includes(s)))throw new Error(`Invalid Pokemon type: [${e.join(", ")}]`);return e.map(s=>tt[s]).reduce(st)},lt=e=>new Set(Object.entries(Ie(e)).filter(([s,n])=>n>1).map(([s,n])=>s)),at=e=>new Set(Object.entries(Ie(e)).filter(([s,n])=>0<n&&n<1).map(([s,n])=>s)),it=e=>new Set(Object.entries(Ie(e)).filter(([s,n])=>n===0).map(([s,n])=>s));function rt(e){let s,n,v,p,d=e[3](e[2])+"",f,E,w,O,I,j,A=e[3](e[1])+"",R,N,D,L,M,S,C=e[3](e[0])+"",q;return{c(){s=b("dt"),n=o("Vulnerabilities"),v=ue(),p=b("dd"),f=o(d),E=ue(),w=b("dt"),O=o("Resistances"),I=ue(),j=b("dd"),R=o(A),N=ue(),D=b("dt"),L=o("Immunities"),M=ue(),S=b("dd"),q=o(C),this.h()},l(i){s=h(i,"DT",{});var g=_(s);n=c(g,"Vulnerabilities"),g.forEach(r),v=ve(i),p=h(i,"DD",{class:!0});var V=_(p);f=c(V,d),V.forEach(r),E=ve(i),w=h(i,"DT",{});var J=_(w);O=c(J,"Resistances"),J.forEach(r),I=ve(i),j=h(i,"DD",{class:!0});var B=_(j);R=c(B,A),B.forEach(r),N=ve(i),D=h(i,"DT",{});var P=_(D);L=c(P,"Immunities"),P.forEach(r),M=ve(i),S=h(i,"DD",{class:!0});var H=_(S);q=c(H,C),H.forEach(r),this.h()},h(){y(p,"class","svelte-1umt4iy"),y(j,"class","svelte-1umt4iy"),y(S,"class","svelte-1umt4iy")},m(i,g){T(i,s,g),l(s,n),T(i,v,g),T(i,p,g),l(p,f),T(i,E,g),T(i,w,g),l(w,O),T(i,I,g),T(i,j,g),l(j,R),T(i,N,g),T(i,D,g),l(D,L),T(i,M,g),T(i,S,g),l(S,q)},p(i,[g]){g&4&&d!==(d=i[3](i[2])+"")&&k(f,d),g&2&&A!==(A=i[3](i[1])+"")&&k(R,A),g&1&&C!==(C=i[3](i[0])+"")&&k(q,C)},i:we,o:we,d(i){i&&r(s),i&&r(v),i&&r(p),i&&r(E),i&&r(w),i&&r(I),i&&r(j),i&&r(N),i&&r(D),i&&r(M),i&&r(S)}}}function nt(e,s,n){let v,p,d,{type:f}=s;const E=w=>w.length===0?"none":w.join(", ");return e.$$set=w=>{"type"in w&&n(4,f=w.type)},e.$$.update=()=>{e.$$.dirty&16&&n(2,v=Array.from(lt(f))),e.$$.dirty&16&&n(1,p=Array.from(at(f))),e.$$.dirty&16&&n(0,d=Array.from(it(f)))},[d,p,v,E,f]}class ut extends Ke{constructor(s){super(),Qe(this,s,nt,rt,Ue,{type:4})}}const Oe=e=>{switch(e.type){case"gender":return`A ${e.value}`;case"level":return`at level ${e.value} or above`;case"item":return`using a ${e.value}`;case"loyalty":return`with a loyalty of +${e.value} or higher`;case"move":return`while knowing {{move:${e.value}}}`;case"move-type":return`while knowing a ${e.value}-type move`;case"time":return`during the ${e.value}`;case"special":return e.value}},ot=e=>{switch(e.type){case"asi":return`its health increases by double its level, and it gains ${e.value} points to add to its ability scores`;case"special":return e.value}},vt=(e,s,n)=>{const v=s.conditions.find(f=>f.type==="gender"),p=s.conditions.find(f=>f.type==="level"),d=s.conditions.filter(f=>f.type!=="gender"&&f.type!=="level");return`${v?`${Oe(v)} `:""}${e} can evolve into {{pokemon:${s.id}}} ${p?Oe(p):""}${d.length>0?" ":""}${d.map(f=>Oe(f)).join(", ")}. When it evolves, ${s.effects.map(f=>ot(f)).join(", ")}.`.replaceAll(/{{pokemon:(.*?)}}/g,(f,E)=>n?n("pokemon",E):f).replaceAll(/{{move:(.*?)}}/g,(f,E)=>n?n("move",E):f)};export{ft as A,ut as T,dt as a,vt as e,$ as m};
