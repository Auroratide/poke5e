import{S as pt,i as gt,s as mt,u as Z,f as C,j as Nt,g as wt,k as A,l as m,n as E,o as k,p as Vt,w as yt,z as kt,q as R,r as Wt,y as vt,E as $,t as tt,a as et,F as nt,G as ot,H as it,I as st,D as Ft,T as rt}from"./BFsBEW1E.js";import"./BxlXVsHr.js";import"./YRb2ehKY.js";import{w as Mt}from"./g6oB62WM.js";function Ht(t){let e,o,n,i,r,s='<span class="small svelte-tavu9r">?</span>';return{c(){e=R("span"),o=R("span"),n=Wt(t[0]),i=vt(),r=R("span"),r.innerHTML=s,this.h()},l(l){e=E(l,"SPAN",{class:!0});var a=k(e);o=E(a,"SPAN",{class:!0});var c=k(o);n=Vt(c,t[0]),c.forEach(C),i=yt(a),r=E(a,"SPAN",{class:!0,"aria-hidden":!0,"data-svelte-h":!0}),kt(r)!=="svelte-12w738i"&&(r.innerHTML=s),a.forEach(C),this.h()},h(){m(o,"class","visually-hidden svelte-tavu9r"),m(r,"class","help svelte-tavu9r"),m(r,"aria-hidden","true"),m(e,"class","help-icon")},m(l,a){wt(l,e,a),A(e,o),A(o,n),A(e,i),A(e,r)},p(l,[a]){a&1&&Nt(n,l[0])},i:Z,o:Z,d(l){l&&C(e)}}}function Bt(t,e,o){let{label:n}=e;return t.$$set=i=>{"label"in i&&o(0,n=i.label)},[n]}class Oe extends pt{constructor(e){super(),gt(this,e,Bt,Ht,mt,{label:0})}}const lt=Math.min,W=Math.max,P=Math.round,b=t=>({x:t,y:t});function Pt(t,e){return typeof t=="function"?t(e):t}function U(t){return t.split("-")[0]}function bt(t){return t.split("-")[1]}function It(t){return t==="x"?"y":"x"}function Xt(t){return t==="y"?"height":"width"}const Yt=new Set(["top","bottom"]);function z(t){return Yt.has(U(t))?"y":"x"}function jt(t){return It(z(t))}function xt(t){const{x:e,y:o,width:n,height:i}=t;return{width:n,height:i,top:o,left:e,right:e+n,bottom:o+i,x:e,y:o}}function ct(t,e,o){let{reference:n,floating:i}=t;const r=z(e),s=jt(e),l=Xt(s),a=U(e),c=r==="y",f=n.x+n.width/2-i.width/2,u=n.y+n.height/2-i.height/2,p=n[l]/2-i[l]/2;let h;switch(a){case"top":h={x:f,y:n.y-i.height};break;case"bottom":h={x:f,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:u};break;case"left":h={x:n.x-i.width,y:u};break;default:h={x:n.x,y:n.y}}switch(bt(e)){case"start":h[s]-=p*(o&&c?-1:1);break;case"end":h[s]+=p*(o&&c?-1:1);break}return h}const qt=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:s}=o,l=r.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:u}=ct(c,n,a),p=n,h={},d=0;for(let g=0;g<l.length;g++){const{name:_,fn:H}=l[g],{x:V,y:B,data:q,reset:T}=await H({x:f,y:u,initialPlacement:n,placement:p,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});f=V??f,u=B??u,h={...h,[_]:{...h[_],...q}},T&&d<=50&&(d++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:f,y:u}=ct(c,p,a)),g=-1)}return{x:f,y:u,placement:p,strategy:i,middlewareData:h}},Gt=new Set(["left","top"]);async function Kt(t,e){const{placement:o,platform:n,elements:i}=t,r=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=U(o),l=bt(o),a=z(o)==="y",c=Gt.has(s)?-1:1,f=r&&a?-1:1,u=Pt(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:d}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof d=="number"&&(h=l==="end"?d*-1:d),a?{x:h*f,y:p*c}:{x:p*c,y:h*f}}const Ut=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:s,middlewareData:l}=e,a=await Kt(e,t);return s===((o=l.offset)==null?void 0:o.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+a.x,y:r+a.y,data:{...a,placement:s}}}}};function I(){return typeof window<"u"}function N(t){return _t(t)?(t.nodeName||"").toLowerCase():"#document"}function w(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function S(t){var e;return(e=(_t(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _t(t){return I()?t instanceof Node||t instanceof w(t).Node:!1}function y(t){return I()?t instanceof Element||t instanceof w(t).Element:!1}function x(t){return I()?t instanceof HTMLElement||t instanceof w(t).HTMLElement:!1}function at(t){return!I()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof w(t).ShadowRoot}const zt=new Set(["inline","contents"]);function M(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=v(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!zt.has(i)}const Jt=new Set(["table","td","th"]);function Qt(t){return Jt.has(N(t))}const Zt=[":popover-open",":modal"];function X(t){return Zt.some(e=>{try{return t.matches(e)}catch{return!1}})}const $t=["transform","translate","scale","rotate","perspective"],te=["transform","translate","scale","rotate","perspective","filter"],ee=["paint","layout","strict","content"];function J(t){const e=Q(),o=y(t)?v(t):t;return $t.some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||te.some(n=>(o.willChange||"").includes(n))||ee.some(n=>(o.contain||"").includes(n))}function ne(t){let e=L(t);for(;x(e)&&!D(e);){if(J(e))return e;if(X(e))return null;e=L(e)}return null}function Q(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oe=new Set(["html","body","#document"]);function D(t){return oe.has(N(t))}function v(t){return w(t).getComputedStyle(t)}function Y(t){return y(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function L(t){if(N(t)==="html")return t;const e=t.assignedSlot||t.parentNode||at(t)&&t.host||S(t);return at(e)?e.host:e}function St(t){const e=L(t);return D(e)?t.ownerDocument?t.ownerDocument.body:t.body:x(e)&&M(e)?e:St(e)}function Lt(t,e,o){var n;e===void 0&&(e=[]);const i=St(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=w(i);return r?(K(s),e.concat(s,s.visualViewport||[],M(i)?i:[],[])):e.concat(i,Lt(i,[]))}function K(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Tt(t){const e=v(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=x(t),r=i?t.offsetWidth:o,s=i?t.offsetHeight:n,l=P(o)!==r||P(n)!==s;return l&&(o=r,n=s),{width:o,height:n,$:l}}function Ct(t){return y(t)?t:t.contextElement}function O(t){const e=Ct(t);if(!x(e))return b(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:r}=Tt(e);let s=(r?P(o.width):o.width)/n,l=(r?P(o.height):o.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const ie=b(0);function At(t){const e=w(t);return!Q()||!e.visualViewport?ie:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function se(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==w(t)?!1:e}function F(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),r=Ct(t);let s=b(1);e&&(n?y(n)&&(s=O(n)):s=O(t));const l=se(r,o,n)?At(r):b(0);let a=(i.left+l.x)/s.x,c=(i.top+l.y)/s.y,f=i.width/s.x,u=i.height/s.y;if(r){const p=w(r),h=n&&y(n)?w(n):n;let d=p,g=K(d);for(;g&&n&&h!==d;){const _=O(g),H=g.getBoundingClientRect(),V=v(g),B=H.left+(g.clientLeft+parseFloat(V.paddingLeft))*_.x,q=H.top+(g.clientTop+parseFloat(V.paddingTop))*_.y;a*=_.x,c*=_.y,f*=_.x,u*=_.y,a+=B,c+=q,d=w(g),g=K(d)}}return xt({width:f,height:u,x:a,y:c})}function j(t,e){const o=Y(t).scrollLeft;return e?e.left+o:F(S(t)).left+o}function Et(t,e){const o=t.getBoundingClientRect(),n=o.left+e.scrollLeft-j(t,o),i=o.top+e.scrollTop;return{x:n,y:i}}function re(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const r=i==="fixed",s=S(n),l=e?X(e.floating):!1;if(n===s||l&&r)return o;let a={scrollLeft:0,scrollTop:0},c=b(1);const f=b(0),u=x(n);if((u||!u&&!r)&&((N(n)!=="body"||M(s))&&(a=Y(n)),x(n))){const h=F(n);c=O(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}const p=s&&!u&&!r?Et(s,a):b(0);return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-a.scrollLeft*c.x+f.x+p.x,y:o.y*c.y-a.scrollTop*c.y+f.y+p.y}}function le(t){return Array.from(t.getClientRects())}function ce(t){const e=S(t),o=Y(t),n=t.ownerDocument.body,i=W(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=W(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-o.scrollLeft+j(t);const l=-o.scrollTop;return v(n).direction==="rtl"&&(s+=W(e.clientWidth,n.clientWidth)-i),{width:i,height:r,x:s,y:l}}const ft=25;function ae(t,e){const o=w(t),n=S(t),i=o.visualViewport;let r=n.clientWidth,s=n.clientHeight,l=0,a=0;if(i){r=i.width,s=i.height;const f=Q();(!f||f&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}const c=j(n);if(c<=0){const f=n.ownerDocument,u=f.body,p=getComputedStyle(u),h=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,d=Math.abs(n.clientWidth-u.clientWidth-h);d<=ft&&(r-=d)}else c<=ft&&(r+=c);return{width:r,height:s,x:l,y:a}}const fe=new Set(["absolute","fixed"]);function ue(t,e){const o=F(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=x(t)?O(t):b(1),s=t.clientWidth*r.x,l=t.clientHeight*r.y,a=i*r.x,c=n*r.y;return{width:s,height:l,x:a,y:c}}function ut(t,e,o){let n;if(e==="viewport")n=ae(t,o);else if(e==="document")n=ce(S(t));else if(y(e))n=ue(e,o);else{const i=At(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return xt(n)}function Rt(t,e){const o=L(t);return o===e||!y(o)||D(o)?!1:v(o).position==="fixed"||Rt(o,e)}function de(t,e){const o=e.get(t);if(o)return o;let n=Lt(t,[]).filter(l=>y(l)&&N(l)!=="body"),i=null;const r=v(t).position==="fixed";let s=r?L(t):t;for(;y(s)&&!D(s);){const l=v(s),a=J(s);!a&&l.position==="fixed"&&(i=null),(r?!a&&!i:!a&&l.position==="static"&&!!i&&fe.has(i.position)||M(s)&&!a&&Rt(t,s))?n=n.filter(f=>f!==s):i=l,s=L(s)}return e.set(t,n),n}function he(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const s=[...o==="clippingAncestors"?X(e)?[]:de(e,this._c):[].concat(o),n],l=s[0],a=s.reduce((c,f)=>{const u=ut(e,f,i);return c.top=W(u.top,c.top),c.right=lt(u.right,c.right),c.bottom=lt(u.bottom,c.bottom),c.left=W(u.left,c.left),c},ut(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function pe(t){const{width:e,height:o}=Tt(t);return{width:e,height:o}}function ge(t,e,o){const n=x(e),i=S(e),r=o==="fixed",s=F(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const a=b(0);function c(){a.x=j(i)}if(n||!n&&!r)if((N(e)!=="body"||M(i))&&(l=Y(e)),n){const h=F(e,!0,r,e);a.x=h.x+e.clientLeft,a.y=h.y+e.clientTop}else i&&c();r&&!n&&i&&c();const f=i&&!n&&!r?Et(i,l):b(0),u=s.left+l.scrollLeft-a.x-f.x,p=s.top+l.scrollTop-a.y-f.y;return{x:u,y:p,width:s.width,height:s.height}}function G(t){return v(t).position==="static"}function dt(t,e){if(!x(t)||v(t).position==="fixed")return null;if(e)return e(t);let o=t.offsetParent;return S(t)===o&&(o=o.ownerDocument.body),o}function Ot(t,e){const o=w(t);if(X(t))return o;if(!x(t)){let i=L(t);for(;i&&!D(i);){if(y(i)&&!G(i))return i;i=L(i)}return o}let n=dt(t,e);for(;n&&Qt(n)&&G(n);)n=dt(n,e);return n&&D(n)&&G(n)&&!J(n)?o:n||ne(t)||o}const me=async function(t){const e=this.getOffsetParent||Ot,o=this.getDimensions,n=await o(t.floating);return{reference:ge(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function we(t){return v(t).direction==="rtl"}const ye={convertOffsetParentRelativeRectToViewportRelativeRect:re,getDocumentElement:S,getClippingRect:he,getOffsetParent:Ot,getElementRects:me,getClientRects:le,getDimensions:pe,getScale:O,isElement:y,isRTL:we},ve=Ut,be=(t,e,o)=>{const n=new Map,i={platform:ye,...o},r={...i.platform,_c:n};return qt(t,e,{...i,platform:r})},xe=t=>({}),ht=t=>({});function _e(t){let e,o,n,i,r;const s=t[6].activator,l=$(s,t,t[5],ht),a=t[6].default,c=$(a,t,t[5],null);return{c(){e=R("div"),o=R("button"),l&&l.c(),n=vt(),i=R("div"),c&&c.c(),this.h()},l(f){e=E(f,"DIV",{id:!0,class:!0});var u=k(e);o=E(u,"BUTTON",{popovertarget:!0,popovertargetaction:!0,class:!0});var p=k(o);l&&l.l(p),p.forEach(C),n=yt(u),i=E(u,"DIV",{id:!0,popover:!0,class:!0});var h=k(i);c&&c.l(h),h.forEach(C),u.forEach(C),this.h()},h(){m(o,"popovertarget",t[4]),m(o,"popovertargetaction","show"),m(o,"class","activator svelte-heyy1"),st(o,"block",t[1]),m(i,"id",t[4]),m(i,"popover",""),m(i,"class","content svelte-heyy1"),m(e,"id",t[0]),m(e,"class","popover svelte-heyy1")},m(f,u){wt(f,e,u),A(e,o),l&&l.m(o,null),t[7](o),A(e,n),A(e,i),c&&c.m(i,null),t[8](i),r=!0},p(f,[u]){l&&l.p&&(!r||u&32)&&nt(l,s,f,f[5],r?it(s,f[5],u,xe):ot(f[5]),ht),(!r||u&16)&&m(o,"popovertarget",f[4]),(!r||u&2)&&st(o,"block",f[1]),c&&c.p&&(!r||u&32)&&nt(c,a,f,f[5],r?it(a,f[5],u,null):ot(f[5]),null),(!r||u&16)&&m(i,"id",f[4]),(!r||u&1)&&m(e,"id",f[0])},i(f){r||(et(l,f),et(c,f),r=!0)},o(f){tt(l,f),tt(c,f),r=!1},d(f){f&&C(e),l&&l.d(f),t[7](null),c&&c.d(f),t[8](null)}}}function Se(t,e,o){let n,{$$slots:i={},$$scope:r}=e,{id:s}=e,{block:l=!1}=e,a,c;const f=()=>{be(a,c,{placement:"bottom",middleware:[ve({mainAxis:4,crossAxis:2})]}).then(({x:d,y:g})=>{Object.assign(c.style,{top:`${g}px`,left:`${d}px`})})},u=()=>{if(c==null)return;c.showPopover(),f();const d=document.querySelector(`#${s}`);d==null||d.addEventListener("mouseleave",()=>{c.hidePopover()},{once:!0})};Ft(()=>{let d=-1;a.addEventListener("mouseenter",()=>{d=window.setTimeout(u,250)}),a.addEventListener("mouseleave",()=>{window.clearTimeout(d)}),c.addEventListener("toggle",g=>{g.newState==="open"&&u()}),f()});function p(d){rt[d?"unshift":"push"](()=>{a=d,o(2,a)})}function h(d){rt[d?"unshift":"push"](()=>{c=d,o(3,c)})}return t.$$set=d=>{"id"in d&&o(0,s=d.id),"block"in d&&o(1,l=d.block),"$$scope"in d&&o(5,r=d.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&o(4,n=`${s}-popover-content`)},[s,l,a,c,n,r,i,p,h]}class De extends pt{constructor(e){super(),gt(this,e,Se,_e,mt,{id:0,block:1})}}const Dt="rules-version",Le=()=>localStorage.getItem(Dt),Te=Mt(Le()??"2024");Te.subscribe(t=>{localStorage.setItem(Dt,t)});export{Oe as H,De as P,Te as r};
