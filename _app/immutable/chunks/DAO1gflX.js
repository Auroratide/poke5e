import{s as Me,n as H,d as v,x as D,i as w,b as c,e as b,f as k,h as E,g as G,k as h,j as y,t as g,c as Q,a as X,D as Y,G as Oe,I as Ge,E as qe}from"./CWYpsIRk.js";import{S as je,i as Le}from"./DBKEUvF-.js";import{m as A}from"./Vd_JRwo3.js";import{h as Ne,u as Re}from"./3jzUiDrp.js";import{a as Pe}from"./CP95a8JW.js";function We(t){let e,l,s='<abbr title="Strength">str</abbr>',i,n=t[0].str+"",r,u,f=t[1](A(t[0].str))+"",I,z,C,B='<abbr title="Dexterity">dex</abbr>',T,S=t[0].dex+"",M,K,O=t[1](A(t[0].dex))+"",j,N,L,d='<abbr title="Constitution">con</abbr>',m,q=t[0].con+"",W,be,Z=t[1](A(t[0].con))+"",fe,_e,U,He='<abbr title="Intelligence">int</abbr>',P,x=t[0].int+"",de,ke,ee=t[1](A(t[0].int))+"",ve,ye,V,Ie='<abbr title="Wisdom">wis</abbr>',$,te=t[0].wis+"",he,we,le=t[1](A(t[0].wis))+"",ge,De,J,Se='<abbr title="Charisma">cha</abbr>',F,se=t[0].cha+"",me,Ce,ie=t[1](A(t[0].cha))+"",pe,Te;return{c(){e=y("dl"),l=y("dt"),l.innerHTML=s,i=y("dd"),r=g(n),u=g(" ("),I=g(f),z=g(")"),C=y("dt"),C.innerHTML=B,T=y("dd"),M=g(S),K=g(" ("),j=g(O),N=g(")"),L=y("dt"),L.innerHTML=d,m=y("dd"),W=g(q),be=g(" ("),fe=g(Z),_e=g(")"),U=y("dt"),U.innerHTML=He,P=y("dd"),de=g(x),ke=g(" ("),ve=g(ee),ye=g(")"),V=y("dt"),V.innerHTML=Ie,$=y("dd"),he=g(te),we=g(" ("),ge=g(le),De=g(")"),J=y("dt"),J.innerHTML=Se,F=y("dd"),me=g(se),Ce=g(" ("),pe=g(ie),Te=g(")"),this.h()},l(_){e=k(_,"DL",{class:!0});var p=E(e);l=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1mis3k"&&(l.innerHTML=s),i=k(p,"DD",{class:!0});var ne=E(i);r=h(ne,n),u=h(ne," ("),I=h(ne,f),z=h(ne,")"),ne.forEach(v),C=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(C)!=="svelte-nwb3bz"&&(C.innerHTML=B),T=k(p,"DD",{class:!0});var ae=E(T);M=h(ae,S),K=h(ae," ("),j=h(ae,O),N=h(ae,")"),ae.forEach(v),L=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(L)!=="svelte-17hacc1"&&(L.innerHTML=d),m=k(p,"DD",{class:!0});var re=E(m);W=h(re,q),be=h(re," ("),fe=h(re,Z),_e=h(re,")"),re.forEach(v),U=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(U)!=="svelte-1hxr0nk"&&(U.innerHTML=He),P=k(p,"DD",{class:!0});var oe=E(P);de=h(oe,x),ke=h(oe," ("),ve=h(oe,ee),ye=h(oe,")"),oe.forEach(v),V=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(V)!=="svelte-19zsw8s"&&(V.innerHTML=Ie),$=k(p,"DD",{class:!0});var ce=E($);he=h(ce,te),we=h(ce," ("),ge=h(ce,le),De=h(ce,")"),ce.forEach(v),J=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(J)!=="svelte-gu464"&&(J.innerHTML=Se),F=k(p,"DD",{class:!0});var ue=E(F);me=h(ue,se),Ce=h(ue," ("),pe=h(ue,ie),Te=h(ue,")"),ue.forEach(v),p.forEach(v),this.h()},h(){b(l,"class","svelte-vsptsl"),b(i,"class","svelte-vsptsl"),b(C,"class","svelte-vsptsl"),b(T,"class","svelte-vsptsl"),b(L,"class","svelte-vsptsl"),b(m,"class","svelte-vsptsl"),b(U,"class","svelte-vsptsl"),b(P,"class","svelte-vsptsl"),b(V,"class","svelte-vsptsl"),b($,"class","svelte-vsptsl"),b(J,"class","svelte-vsptsl"),b(F,"class","svelte-vsptsl"),b(e,"class","svelte-vsptsl")},m(_,p){w(_,e,p),c(e,l),c(e,i),c(i,r),c(i,u),c(i,I),c(i,z),c(e,C),c(e,T),c(T,M),c(T,K),c(T,j),c(T,N),c(e,L),c(e,m),c(m,W),c(m,be),c(m,fe),c(m,_e),c(e,U),c(e,P),c(P,de),c(P,ke),c(P,ve),c(P,ye),c(e,V),c(e,$),c($,he),c($,we),c($,ge),c($,De),c(e,J),c(e,F),c(F,me),c(F,Ce),c(F,pe),c(F,Te)},p(_,[p]){p&1&&n!==(n=_[0].str+"")&&D(r,n),p&1&&f!==(f=_[1](A(_[0].str))+"")&&D(I,f),p&1&&S!==(S=_[0].dex+"")&&D(M,S),p&1&&O!==(O=_[1](A(_[0].dex))+"")&&D(j,O),p&1&&q!==(q=_[0].con+"")&&D(W,q),p&1&&Z!==(Z=_[1](A(_[0].con))+"")&&D(fe,Z),p&1&&x!==(x=_[0].int+"")&&D(de,x),p&1&&ee!==(ee=_[1](A(_[0].int))+"")&&D(ve,ee),p&1&&te!==(te=_[0].wis+"")&&D(he,te),p&1&&le!==(le=_[1](A(_[0].wis))+"")&&D(ge,le),p&1&&se!==(se=_[0].cha+"")&&D(me,se),p&1&&ie!==(ie=_[1](A(_[0].cha))+"")&&D(pe,ie)},i:H,o:H,d(_){_&&v(e)}}}function Ue(t,e,l){let{attributes:s}=e;const i=n=>n>=0?`+${n}`:`${n}`;return t.$$set=n=>{"attributes"in n&&l(0,s=n.attributes)},[s,i]}class dt extends je{constructor(e){super(),Le(this,e,Ue,We,Me,{attributes:0})}}const o=2,Ve=1,a=.5,R=0,Be=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"],Je=t=>Object.entries(t).reduce((e,[l,s])=>({...e,[l]:Be.reduce((i,n)=>({...i,[n]:s[n]??Ve}),{})}),{}),Ke=Je({normal:{fighting:o,ghost:R},fighting:{fairy:o,flying:o,psychic:o,bug:a,rock:a,dark:a},flying:{electric:o,ice:o,rock:o,bug:a,fighting:a,grass:a,ground:R},poison:{ground:o,psychic:o,fighting:a,poison:a,bug:a,grass:a,fairy:a},ground:{grass:o,ice:o,water:o,poison:a,rock:a,electric:R},rock:{fighting:o,grass:o,ground:o,steel:o,water:o,fire:a,flying:a,normal:a,poison:a},bug:{fire:o,flying:o,rock:o,fighting:a,grass:a,ground:a},ghost:{ghost:o,dark:o,bug:a,poison:a,normal:R,fighting:R},steel:{fire:o,fighting:o,ground:o,bug:a,dragon:a,fairy:a,flying:a,grass:a,ice:a,normal:a,psychic:a,rock:a,steel:a,poison:R},fire:{ground:o,rock:o,water:o,bug:a,fairy:a,fire:a,grass:a,ice:a,steel:a},water:{electric:o,grass:o,fire:a,ice:a,steel:a,water:a},grass:{bug:o,fire:o,flying:o,ice:o,poison:o,electric:a,grass:a,ground:a,water:a},electric:{ground:o,electric:a,flying:a,steel:a},psychic:{bug:o,ghost:o,dark:o,fighting:a,psychic:a},ice:{fighting:o,fire:o,rock:o,steel:o,ice:a},dragon:{dragon:o,fairy:o,ice:o,electric:a,fire:a,grass:a,water:a},dark:{bug:o,fairy:o,fighting:o,dark:a,ghost:a,psychic:R},fairy:{poison:o,steel:o,bug:a,dark:a,fighting:a,dragon:R}}),Qe=(t,e)=>Object.entries(t).reduce((l,[s,i])=>({...l,[s]:i*e[s]}),{}),Ae=t=>{if(t.some(e=>!Be.includes(e)))throw new Error(`Invalid Pokemon type: [${t.join(", ")}]`);return t.map(e=>Ke[e]).reduce(Qe)},Xe=t=>new Set(Object.entries(Ae(t)).filter(([,e])=>e>1).map(([e])=>e)),Ye=t=>new Set(Object.entries(Ae(t)).filter(([,e])=>0<e&&e<1).map(([e])=>e)),Ze=t=>new Set(Object.entries(Ae(t)).filter(([,e])=>e===0).map(([e])=>e));function xe(t){let e,l="Vulnerabilities",s,i,n=t[3](t[2])+"",r,u,f,I="Resistances",z,C,B=t[3](t[1])+"",T,S,M,K="Immunities",O,j,N=t[3](t[0])+"",L;return{c(){e=y("dt"),e.textContent=l,s=X(),i=y("dd"),r=g(n),u=X(),f=y("dt"),f.textContent=I,z=X(),C=y("dd"),T=g(B),S=X(),M=y("dt"),M.textContent=K,O=X(),j=y("dd"),L=g(N),this.h()},l(d){e=k(d,"DT",{"data-svelte-h":!0}),G(e)!=="svelte-erb47k"&&(e.textContent=l),s=Q(d),i=k(d,"DD",{class:!0});var m=E(i);r=h(m,n),m.forEach(v),u=Q(d),f=k(d,"DT",{"data-svelte-h":!0}),G(f)!=="svelte-8bpo88"&&(f.textContent=I),z=Q(d),C=k(d,"DD",{class:!0});var q=E(C);T=h(q,B),q.forEach(v),S=Q(d),M=k(d,"DT",{"data-svelte-h":!0}),G(M)!=="svelte-rf7wzg"&&(M.textContent=K),O=Q(d),j=k(d,"DD",{class:!0});var W=E(j);L=h(W,N),W.forEach(v),this.h()},h(){b(i,"class","svelte-9bj5l8"),b(C,"class","svelte-9bj5l8"),b(j,"class","svelte-9bj5l8")},m(d,m){w(d,e,m),w(d,s,m),w(d,i,m),c(i,r),w(d,u,m),w(d,f,m),w(d,z,m),w(d,C,m),c(C,T),w(d,S,m),w(d,M,m),w(d,O,m),w(d,j,m),c(j,L)},p(d,[m]){m&4&&n!==(n=d[3](d[2])+"")&&D(r,n),m&2&&B!==(B=d[3](d[1])+"")&&D(T,B),m&1&&N!==(N=d[3](d[0])+"")&&D(L,N)},i:H,o:H,d(d){d&&(v(e),v(s),v(i),v(u),v(f),v(z),v(C),v(S),v(M),v(O),v(j))}}}function et(t,e,l){let s,i,n,{type:r}=e;const u=f=>f.length===0?"none":f.join(", ");return t.$$set=f=>{"type"in f&&l(4,r=f.type)},t.$$.update=()=>{t.$$.dirty&16&&l(2,s=Array.from(Xe(r))),t.$$.dirty&16&&l(1,i=Array.from(Ye(r))),t.$$.dirty&16&&l(0,n=Array.from(Ze(r)))},[n,i,s,u,r]}class vt extends je{constructor(e){super(),Le(this,e,et,xe,Me,{type:4})}}const Ee=t=>{switch(t.type){case"gender":return`A ${t.value}`;case"level":return`at level ${t.value} or above`;case"item":return`using a ${t.value}`;case"loyalty":return`with a loyalty of +${t.value} or higher`;case"move":return`while knowing {{move:${t.value}}}`;case"move-type":return`while knowing a ${t.value}-type move`;case"time":return`during the ${t.value}`;case"special":return t.value}},tt=t=>{switch(t.type){case"asi":return`its health increases by double its level, and it gains ${t.value} points to add to its ability scores`;case"special":return t.value}},ht=(t,e,l)=>{const s=e.conditions.find(r=>r.type==="gender"),i=e.conditions.find(r=>r.type==="level"),n=e.conditions.filter(r=>r.type!=="gender"&&r.type!=="level");return`${s?`${Ee(s)} `:""}${t} can evolve into {{pokemon:${e.id}}} ${i?Ee(i):""}${n.length>0?" ":""}${n.map(r=>Ee(r)).join(", ")}. When it evolves, ${e.effects.map(r=>tt(r)).join(", ")}.`.replaceAll(/{{pokemon:(.*?)}}/g,(r,u)=>l?l("pokemon",u):r).replaceAll(/{{move:(.*?)}}/g,(r,u)=>l?l("move",u):r)};function $e(t){let e,l,s,i,n=t[3]&&Fe(t);return{c(){e=y("figure"),l=y("img"),i=X(),n&&n.c(),this.h()},l(r){e=k(r,"FIGURE",{class:!0});var u=E(e);l=k(u,"IMG",{src:!0,alt:!0,class:!0}),i=Q(u),n&&n.l(u),u.forEach(v),this.h()},h(){Oe(l.src,s=t[2])||b(l,"src",s),b(l,"alt",t[1]),b(l,"class","svelte-1x63awe"),Ge(l,"smaller",t[3]!=null),b(e,"class","svelte-1x63awe")},m(r,u){w(r,e,u),c(e,l),c(e,i),n&&n.m(e,null)},p(r,u){u&4&&!Oe(l.src,s=r[2])&&b(l,"src",s),u&2&&b(l,"alt",r[1]),u&8&&Ge(l,"smaller",r[3]!=null),r[3]?n?n.p(r,u):(n=Fe(r),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(r){r&&v(e),n&&n.d()}}}function Fe(t){let e,l,s={ctx:t,current:null,token:null,hasCatch:!1,pending:it,then:st,catch:lt,value:3};return Ne(l=t[3],s),{c(){e=Y(),s.block.c()},l(i){e=Y(),s.block.l(i)},m(i,n){w(i,e,n),s.block.m(i,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e},p(i,n){t=i,s.ctx=t,n&8&&l!==(l=t[3])&&Ne(l,s)||Re(s,t,n)},d(i){i&&v(e),s.block.d(i),s.token=null,s=null}}}function lt(t){return{c:H,l:H,m:H,p:H,d:H}}function st(t){let e,l=t[3].main&&ze(t);return{c(){l&&l.c(),e=Y()},l(s){l&&l.l(s),e=Y()},m(s,i){l&&l.m(s,i),w(s,e,i)},p(s,i){s[3].main?l?l.p(s,i):(l=ze(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){s&&v(e),l&&l.d(s)}}}function ze(t){let e,l,s,i=t[3].main.author+"",n,r;return{c(){e=y("figcaption"),l=g("By "),s=y("a"),n=g(i),this.h()},l(u){e=k(u,"FIGCAPTION",{class:!0});var f=E(e);l=h(f,"By "),s=k(f,"A",{href:!0});var I=E(s);n=h(I,i),I.forEach(v),f.forEach(v),this.h()},h(){b(s,"href",r=t[3].main.link),b(e,"class","svelte-1x63awe")},m(u,f){w(u,e,f),c(e,l),c(e,s),c(s,n)},p(u,f){f&8&&i!==(i=u[3].main.author+"")&&D(n,i),f&8&&r!==(r=u[3].main.link)&&b(s,"href",r)},d(u){u&&v(e)}}}function it(t){let e,l="Getting attribution...";return{c(){e=y("figcaption"),e.textContent=l,this.h()},l(s){e=k(s,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1m345tn"&&(e.textContent=l),this.h()},h(){b(e,"class","svelte-1x63awe"),qe(e,"visibility","hidden")},m(s,i){w(s,e,i)},p:H,d(s){s&&v(e)}}}function nt(t){let e,l=t[0].main&&$e(t);return{c(){l&&l.c(),e=Y()},l(s){l&&l.l(s),e=Y()},m(s,i){l&&l.m(s,i),w(s,e,i)},p(s,[i]){s[0].main?l?l.p(s,i):(l=$e(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:H,o:H,d(s){s&&v(e),l&&l.d(s)}}}function at(t,e,l){let s,i,{media:n}=e,{alt:r}=e,u;return t.$$set=f=>{"media"in f&&l(0,n=f.media),"alt"in f&&l(1,r=f.alt)},t.$$.update=()=>{t.$$.dirty&1&&l(4,s=/^http/.test(n.main)),t.$$.dirty&17&&l(2,i=s?n.main:`${Pe}${n.main}`),t.$$.dirty&1&&(n.attribution?l(3,u=fetch(`${Pe}${n.attribution}`).then(f=>f.json())):l(3,u=void 0))},[n,r,i,u,s]}class gt extends je{constructor(e){super(),Le(this,e,at,nt,Me,{media:0,alt:1})}}export{dt as A,gt as P,vt as T,ht as e};
