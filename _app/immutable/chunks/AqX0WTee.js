import{s as be,n as S,d,x as C,i as D,b as c,e as _,f as k,h as j,g as G,k as v,j as w,t as g,c as X,a as Y,D as Z,G as Oe,I as _e,E as We}from"./VXfeZKFO.js";import{S as Le,i as Ae}from"./DbydtAHK.js";import{m as I}from"./Vd_JRwo3.js";import{h as Ge,u as Ke}from"./jhfFRo0I.js";import{a as Ne}from"./D6uiwF2S.js";function Ue(t){let e,s,l='<abbr title="Strength">str</abbr>',i,r=t[0].str+"",a,u,h=t[1](I(t[0].str))+"",T,M,b,q='<abbr title="Dexterity">dex</abbr>',E,z=t[0].dex+"",L,Q,O=t[1](I(t[0].dex))+"",A,N,H,f='<abbr title="Constitution">con</abbr>',m,R=t[0].con+"",K,ye,$=t[1](I(t[0].con))+"",fe,ke,U,Ie='<abbr title="Intelligence">int</abbr>',P,x=t[0].int+"",de,we,ee=t[1](I(t[0].int))+"",he,De,V,Se='<abbr title="Wisdom">wis</abbr>',F,te=t[0].wis+"",ve,Ce,le=t[1](I(t[0].wis))+"",ge,Te,J,ze='<abbr title="Charisma">cha</abbr>',B,se=t[0].cha+"",me,Ee,ie=t[1](I(t[0].cha))+"",pe,je;return{c(){e=w("dl"),s=w("dt"),s.innerHTML=l,i=w("dd"),a=g(r),u=g(" ("),T=g(h),M=g(")"),b=w("dt"),b.innerHTML=q,E=w("dd"),L=g(z),Q=g(" ("),A=g(O),N=g(")"),H=w("dt"),H.innerHTML=f,m=w("dd"),K=g(R),ye=g(" ("),fe=g($),ke=g(")"),U=w("dt"),U.innerHTML=Ie,P=w("dd"),de=g(x),we=g(" ("),he=g(ee),De=g(")"),V=w("dt"),V.innerHTML=Se,F=w("dd"),ve=g(te),Ce=g(" ("),ge=g(le),Te=g(")"),J=w("dt"),J.innerHTML=ze,B=w("dd"),me=g(se),Ee=g(" ("),pe=g(ie),je=g(")"),this.h()},l(y){e=k(y,"DL",{class:!0});var p=j(e);s=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(s)!=="svelte-1mis3k"&&(s.innerHTML=l),i=k(p,"DD",{class:!0});var ne=j(i);a=v(ne,r),u=v(ne," ("),T=v(ne,h),M=v(ne,")"),ne.forEach(d),b=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(b)!=="svelte-nwb3bz"&&(b.innerHTML=q),E=k(p,"DD",{class:!0});var re=j(E);L=v(re,z),Q=v(re," ("),A=v(re,O),N=v(re,")"),re.forEach(d),H=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(H)!=="svelte-17hacc1"&&(H.innerHTML=f),m=k(p,"DD",{class:!0});var ae=j(m);K=v(ae,R),ye=v(ae," ("),fe=v(ae,$),ke=v(ae,")"),ae.forEach(d),U=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(U)!=="svelte-1hxr0nk"&&(U.innerHTML=Ie),P=k(p,"DD",{class:!0});var oe=j(P);de=v(oe,x),we=v(oe," ("),he=v(oe,ee),De=v(oe,")"),oe.forEach(d),V=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(V)!=="svelte-19zsw8s"&&(V.innerHTML=Se),F=k(p,"DD",{class:!0});var ue=j(F);ve=v(ue,te),Ce=v(ue," ("),ge=v(ue,le),Te=v(ue,")"),ue.forEach(d),J=k(p,"DT",{class:!0,"data-svelte-h":!0}),G(J)!=="svelte-gu464"&&(J.innerHTML=ze),B=k(p,"DD",{class:!0});var ce=j(B);me=v(ce,se),Ee=v(ce," ("),pe=v(ce,ie),je=v(ce,")"),ce.forEach(d),p.forEach(d),this.h()},h(){_(s,"class","svelte-vsptsl"),_(i,"class","svelte-vsptsl"),_(b,"class","svelte-vsptsl"),_(E,"class","svelte-vsptsl"),_(H,"class","svelte-vsptsl"),_(m,"class","svelte-vsptsl"),_(U,"class","svelte-vsptsl"),_(P,"class","svelte-vsptsl"),_(V,"class","svelte-vsptsl"),_(F,"class","svelte-vsptsl"),_(J,"class","svelte-vsptsl"),_(B,"class","svelte-vsptsl"),_(e,"class","svelte-vsptsl")},m(y,p){D(y,e,p),c(e,s),c(e,i),c(i,a),c(i,u),c(i,T),c(i,M),c(e,b),c(e,E),c(E,L),c(E,Q),c(E,A),c(E,N),c(e,H),c(e,m),c(m,K),c(m,ye),c(m,fe),c(m,ke),c(e,U),c(e,P),c(P,de),c(P,we),c(P,he),c(P,De),c(e,V),c(e,F),c(F,ve),c(F,Ce),c(F,ge),c(F,Te),c(e,J),c(e,B),c(B,me),c(B,Ee),c(B,pe),c(B,je)},p(y,[p]){p&1&&r!==(r=y[0].str+"")&&C(a,r),p&1&&h!==(h=y[1](I(y[0].str))+"")&&C(T,h),p&1&&z!==(z=y[0].dex+"")&&C(L,z),p&1&&O!==(O=y[1](I(y[0].dex))+"")&&C(A,O),p&1&&R!==(R=y[0].con+"")&&C(K,R),p&1&&$!==($=y[1](I(y[0].con))+"")&&C(fe,$),p&1&&x!==(x=y[0].int+"")&&C(de,x),p&1&&ee!==(ee=y[1](I(y[0].int))+"")&&C(he,ee),p&1&&te!==(te=y[0].wis+"")&&C(ve,te),p&1&&le!==(le=y[1](I(y[0].wis))+"")&&C(ge,le),p&1&&se!==(se=y[0].cha+"")&&C(me,se),p&1&&ie!==(ie=y[1](I(y[0].cha))+"")&&C(pe,ie)},i:S,o:S,d(y){y&&d(e)}}}function Ve(t,e,s){let{attributes:l}=e;const i=r=>r>=0?`+${r}`:`${r}`;return t.$$set=r=>{"attributes"in r&&s(0,l=r.attributes)},[l,i]}class ht extends Le{constructor(e){super(),Ae(this,e,Ve,Ue,be,{attributes:0})}}const o=2,Je=1,n=.5,W=0,Re=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"],Qe=t=>Object.entries(t).reduce((e,[s,l])=>({...e,[s]:Re.reduce((i,r)=>({...i,[r]:l[r]??Je}),{})}),{}),Xe=Qe({normal:{fighting:o,ghost:W},fighting:{fairy:o,flying:o,psychic:o,bug:n,rock:n,dark:n},flying:{electric:o,ice:o,rock:o,bug:n,fighting:n,grass:n,ground:W},poison:{ground:o,psychic:o,fighting:n,poison:n,bug:n,grass:n,fairy:n},ground:{grass:o,ice:o,water:o,poison:n,rock:n,electric:W},rock:{fighting:o,grass:o,ground:o,steel:o,water:o,fire:n,flying:n,normal:n,poison:n},bug:{fire:o,flying:o,rock:o,fighting:n,grass:n,ground:n},ghost:{ghost:o,dark:o,bug:n,poison:n,normal:W,fighting:W},steel:{fire:o,fighting:o,ground:o,bug:n,dragon:n,fairy:n,flying:n,grass:n,ice:n,normal:n,psychic:n,rock:n,steel:n,poison:W},fire:{ground:o,rock:o,water:o,bug:n,fairy:n,fire:n,grass:n,ice:n,steel:n},water:{electric:o,grass:o,fire:n,ice:n,steel:n,water:n},grass:{bug:o,fire:o,flying:o,ice:o,poison:o,electric:n,grass:n,ground:n,water:n},electric:{ground:o,electric:n,flying:n,steel:n},psychic:{bug:o,ghost:o,dark:o,fighting:n,psychic:n},ice:{fighting:o,fire:o,rock:o,steel:o,ice:n},dragon:{dragon:o,fairy:o,ice:o,electric:n,fire:n,grass:n,water:n},dark:{bug:o,fairy:o,fighting:o,dark:n,ghost:n,psychic:W},fairy:{poison:o,steel:o,bug:n,dark:n,fighting:n,dragon:W}}),Ye=(t,e)=>Object.entries(t).reduce((s,[l,i])=>({...s,[l]:i*e[l]}),{}),He=t=>{if(t.some(e=>!Re.includes(e)))throw new Error(`Invalid Pokemon type: [${t.join(", ")}]`);return t.map(e=>Xe[e]).reduce(Ye)},Ze=t=>new Set(Object.entries(He(t)).filter(([,e])=>e>1).map(([e])=>e)),$e=t=>new Set(Object.entries(He(t)).filter(([,e])=>0<e&&e<1).map(([e])=>e)),xe=t=>new Set(Object.entries(He(t)).filter(([,e])=>e===0).map(([e])=>e));function et(t){let e,s="Vulnerabilities",l,i,r=t[3](t[2])+"",a,u,h,T="Resistances",M,b,q=t[3](t[1])+"",E,z,L,Q="Immunities",O,A,N=t[3](t[0])+"",H;return{c(){e=w("dt"),e.textContent=s,l=Y(),i=w("dd"),a=g(r),u=Y(),h=w("dt"),h.textContent=T,M=Y(),b=w("dd"),E=g(q),z=Y(),L=w("dt"),L.textContent=Q,O=Y(),A=w("dd"),H=g(N),this.h()},l(f){e=k(f,"DT",{"data-svelte-h":!0}),G(e)!=="svelte-erb47k"&&(e.textContent=s),l=X(f),i=k(f,"DD",{class:!0});var m=j(i);a=v(m,r),m.forEach(d),u=X(f),h=k(f,"DT",{"data-svelte-h":!0}),G(h)!=="svelte-8bpo88"&&(h.textContent=T),M=X(f),b=k(f,"DD",{class:!0});var R=j(b);E=v(R,q),R.forEach(d),z=X(f),L=k(f,"DT",{"data-svelte-h":!0}),G(L)!=="svelte-rf7wzg"&&(L.textContent=Q),O=X(f),A=k(f,"DD",{class:!0});var K=j(A);H=v(K,N),K.forEach(d),this.h()},h(){_(i,"class","svelte-9bj5l8"),_(b,"class","svelte-9bj5l8"),_(A,"class","svelte-9bj5l8")},m(f,m){D(f,e,m),D(f,l,m),D(f,i,m),c(i,a),D(f,u,m),D(f,h,m),D(f,M,m),D(f,b,m),c(b,E),D(f,z,m),D(f,L,m),D(f,O,m),D(f,A,m),c(A,H)},p(f,[m]){m&4&&r!==(r=f[3](f[2])+"")&&C(a,r),m&2&&q!==(q=f[3](f[1])+"")&&C(E,q),m&1&&N!==(N=f[3](f[0])+"")&&C(H,N)},i:S,o:S,d(f){f&&(d(e),d(l),d(i),d(u),d(h),d(M),d(b),d(z),d(L),d(O),d(A))}}}function tt(t,e,s){let l,i,r,{type:a}=e;const u=h=>h.length===0?"none":h.join(", ");return t.$$set=h=>{"type"in h&&s(4,a=h.type)},t.$$.update=()=>{t.$$.dirty&16&&s(2,l=Array.from(Ze(a))),t.$$.dirty&16&&s(1,i=Array.from($e(a))),t.$$.dirty&16&&s(0,r=Array.from(xe(a)))},[r,i,l,u,a]}class vt extends Le{constructor(e){super(),Ae(this,e,tt,et,be,{type:4})}}const Me=t=>{switch(t.type){case"gender":return`A ${t.value}`;case"level":return`at level ${t.value} or above`;case"item":return`using a ${t.value}`;case"loyalty":return`with a loyalty of +${t.value} or higher`;case"move":return`while knowing {{move:${t.value}}}`;case"move-type":return`while knowing a ${t.value}-type move`;case"time":return`during the ${t.value}`;case"special":return t.value}},lt=t=>{switch(t.type){case"asi":return`its health increases by double its level, and it gains ${t.value} points to add to its ability scores`;case"special":return t.value}},gt=(t,e,s)=>{const l=e.conditions.find(a=>a.type==="gender"),i=e.conditions.find(a=>a.type==="level"),r=e.conditions.filter(a=>a.type!=="gender"&&a.type!=="level");return`${l?`${Me(l)} `:""}${t} can evolve into {{pokemon:${e.id}}} ${i?Me(i):""}${r.length>0?" ":""}${r.map(a=>Me(a)).join(", ")}. When it evolves, ${e.effects.map(a=>lt(a)).join(", ")}.`.replaceAll(/{{pokemon:(.*?)}}/g,(a,u)=>s?s("pokemon",u):a).replaceAll(/{{move:(.*?)}}/g,(a,u)=>s?s("move",u):a)};function Pe(t){let e,s=t[3],l,i=Fe(t),r=t[4]&&Be(t);return{c(){e=w("figure"),i.c(),l=Y(),r&&r.c(),this.h()},l(a){e=k(a,"FIGURE",{class:!0});var u=j(e);i.l(u),l=X(u),r&&r.l(u),u.forEach(d),this.h()},h(){_(e,"class","svelte-1yajzw6")},m(a,u){D(a,e,u),i.m(e,null),c(e,l),r&&r.m(e,null)},p(a,u){u&8&&be(s,s=a[3])?(i.d(1),i=Fe(a),i.c(),i.m(e,l)):i.p(a,u),a[4]?r?r.p(a,u):(r=Be(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(a){a&&d(e),i.d(a),r&&r.d()}}}function Fe(t){let e,s;return{c(){e=w("img"),this.h()},l(l){e=k(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Oe(e.src,s=t[3])||_(e,"src",s),_(e,"alt",t[0]),_(e,"class","svelte-1yajzw6"),_e(e,"smaller",t[4]!=null),_e(e,"shimmer",t[1])},m(l,i){D(l,e,i)},p(l,i){i&8&&!Oe(e.src,s=l[3])&&_(e,"src",s),i&1&&_(e,"alt",l[0]),i&16&&_e(e,"smaller",l[4]!=null),i&2&&_e(e,"shimmer",l[1])},d(l){l&&d(e)}}}function Be(t){let e,s,l={ctx:t,current:null,token:null,hasCatch:!1,pending:nt,then:it,catch:st,value:4};return Ge(s=t[4],l),{c(){e=Z(),l.block.c()},l(i){e=Z(),l.block.l(i)},m(i,r){D(i,e,r),l.block.m(i,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e},p(i,r){t=i,l.ctx=t,r&16&&s!==(s=t[4])&&Ge(s,l)||Ke(l,t,r)},d(i){i&&d(e),l.block.d(i),l.token=null,l=null}}}function st(t){return{c:S,l:S,m:S,p:S,d:S}}function it(t){let e,s=t[4].main&&qe(t);return{c(){s&&s.c(),e=Z()},l(l){s&&s.l(l),e=Z()},m(l,i){s&&s.m(l,i),D(l,e,i)},p(l,i){l[4].main?s?s.p(l,i):(s=qe(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(l){l&&d(e),s&&s.d(l)}}}function qe(t){let e,s,l,i=t[4].main.author+"",r,a;return{c(){e=w("figcaption"),s=g("By "),l=w("a"),r=g(i),this.h()},l(u){e=k(u,"FIGCAPTION",{class:!0});var h=j(e);s=v(h,"By "),l=k(h,"A",{href:!0});var T=j(l);r=v(T,i),T.forEach(d),h.forEach(d),this.h()},h(){_(l,"href",a=t[4].main.link),_(e,"class","svelte-1yajzw6")},m(u,h){D(u,e,h),c(e,s),c(e,l),c(l,r)},p(u,h){h&16&&i!==(i=u[4].main.author+"")&&C(r,i),h&16&&a!==(a=u[4].main.link)&&_(l,"href",a)},d(u){u&&d(e)}}}function nt(t){let e,s="Getting attribution...";return{c(){e=w("figcaption"),e.textContent=s,this.h()},l(l){e=k(l,"FIGCAPTION",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1m345tn"&&(e.textContent=s),this.h()},h(){_(e,"class","svelte-1yajzw6"),We(e,"visibility","hidden")},m(l,i){D(l,e,i)},p:S,d(l){l&&d(e)}}}function rt(t){let e,s=t[2]&&Pe(t);return{c(){s&&s.c(),e=Z()},l(l){s&&s.l(l),e=Z()},m(l,i){s&&s.m(l,i),D(l,e,i)},p(l,[i]){l[2]?s?s.p(l,i):(s=Pe(l),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:S,o:S,d(l){l&&d(e),s&&s.d(l)}}}function at(t,e,s){let l,i,r,a,{media:u}=e,{alt:h}=e,{shiny:T=!1}=e,M;return t.$$set=b=>{"media"in b&&s(5,u=b.media),"alt"in b&&s(0,h=b.alt),"shiny"in b&&s(1,T=b.shiny)},t.$$.update=()=>{t.$$.dirty&2&&s(7,l="main"+(T?"Shiny":"")),t.$$.dirty&32&&s(6,i=/^http/.test(u.main)),t.$$.dirty&160&&s(2,r=(u==null?void 0:u[l])??(u==null?void 0:u.sprite)),t.$$.dirty&68&&s(3,a=i?r:`${Ne}${r}`),t.$$.dirty&32&&(u.attribution?s(4,M=fetch(`${Ne}${u.attribution}`).then(b=>b.json())):s(4,M=void 0))},[h,T,r,a,M,u,i,l]}class mt extends Le{constructor(e){super(),Ae(this,e,at,rt,be,{media:5,alt:0,shiny:1})}}export{ht as A,mt as P,vt as T,gt as e};
