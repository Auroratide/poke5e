var m=Object.defineProperty;var v=(s,t,e)=>t in s?m(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var n=(s,t,e)=>v(s,typeof t!="symbol"?t+"":t,e);import{g as a}from"./BxlXVsHr.js";import"./BHr3Jov9.js";import"./DNTgK4in.js";import{r as o}from"./P161RzQf.js";const h=()=>"Action",_=h,d=(s={},t={})=>(t.locale??a())==="en"?h():_(),p=()=>"Bonus Action",g=p,w=(s={},t={})=>(t.locale??a())==="en"?p():g(),f=()=>"Reaction",b=f,y=(s={},t={})=>(t.locale??a())==="en"?f():b(),L={asNumberOfFeet(s){const e=s.toLocaleLowerCase().match(/(\d+)\s*ft/);return e?parseInt(e[1]):0}},l={options(){return[{value:"action",name:()=>d()},{value:"bonus action",name:()=>w()},{value:"reaction",name:()=>y()}]},equals(s,t){var c,u;const e=/\d*\s*(action|bonus action|reaction)/,i=((c=s.match(e))==null?void 0:c[1])??s,r=((u=t.match(e))==null?void 0:u[1])??t;return i===r}};class I{constructor(){n(this,"filters",{name:"",type:"",power:"",not:[],tm:void 0,time:"",range:void 0,pp:void 0,cost:void 0,contest:""});n(this,"apply",t=>{var e,i;return t.name.toLocaleLowerCase().includes(this.filters.name.toLocaleLowerCase())&&(this.filters.type===""||t.type===this.filters.type)&&(this.filters.power===""||t.power.appliesToAttribute(this.filters.power))&&(this.filters.tm==null||((e=t.tm)==null?void 0:e.id.toString().startsWith(this.filters.tm.toString())))&&!this.filters.not.includes(t.id)&&(this.filters.time===""||(this.filters.time==="other"?!l.options().some(r=>l.equals(r.value,t.time)):l.equals(this.filters.time,t.time)))&&(this.filters.range==null||o(this.filters.range.relative,L.asNumberOfFeet(t.range),this.filters.range.value))&&(this.filters.pp==null||o(this.filters.pp.relative,t.pp,this.filters.pp.value))&&(this.filters.contest===""||this.filters.contest===((i=t.contest)==null?void 0:i.contest))&&(this.filters.cost==null||t.tm!=null&&o(this.filters.cost.relative,t.tm.cost,this.filters.cost.value))})}count(){const t=e=>e==null||(Array.isArray(e)?e.length===0:e==="");return Object.values(this.filters).reduce((e,i)=>e+(t(i)?0:1),0)}name(t){return this.filters.name=t,this}type(t){return this.filters.type=t,this}power(t){return this.filters.power=t,this}tm(t){return this.filters.tm=t,this}not(t){return this.filters.not=t,this}time(t){return this.filters.time=t,this}rangeInFeet(t,e){return this.filters.range=e!=null?{relative:t,value:e}:void 0,this}pp(t,e){return this.filters.pp=e!=null?{relative:t,value:e}:void 0,this}cost(t,e){return this.filters.cost=e!=null?{relative:t,value:e}:void 0,this}contest(t){return this.filters.contest=t,this}}export{l as M,I as a};
