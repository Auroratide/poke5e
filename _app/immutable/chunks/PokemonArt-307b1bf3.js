import{S as Ne,i as Pe,s as $e,k as b,q as v,l as m,m as p,r as h,h as f,n as g,b as w,G as n,u as A,B as I,a as ee,c as te,e as le,M as Ye,J as Ze,$ as xe,a0 as at,p as rt}from"./index-53b314aa.js";import{b as et}from"./shared-23917130.js";const Bt=[{abbr:"str",name:"strength"},{abbr:"dex",name:"dexterity"},{abbr:"con",name:"constitution"},{abbr:"int",name:"intelligence"},{abbr:"wis",name:"wisdom"},{abbr:"cha",name:"charisma"}],C=l=>Math.floor(l/2)-5;function nt(l){let e,t,s,a,i,o=l[0].str+"",d,_,B=l[1](C(l[0].str))+"",N,R,T,S,W,D,P=l[0].dex+"",$,G,O=l[1](C(l[0].dex))+"",M,u,k,F,H,j,J=l[0].con+"",z,we,se=l[1](C(l[0].con))+"",ge,De,K,Q,Ae,q,ie=l[0].int+"",be,Be,ae=l[1](C(l[0].int))+"",me,Te,X,Y,je,L,re=l[0].wis+"",pe,Ce,ne=l[1](C(l[0].wis))+"",ye,Ie,Z,x,Re,V,oe=l[0].cha+"",ke,Se,ce=l[1](C(l[0].cha))+"",Ee,Ge;return{c(){e=b("dl"),t=b("dt"),s=b("abbr"),a=v("str"),i=b("dd"),d=v(o),_=v(" ("),N=v(B),R=v(")"),T=b("dt"),S=b("abbr"),W=v("dex"),D=b("dd"),$=v(P),G=v(" ("),M=v(O),u=v(")"),k=b("dt"),F=b("abbr"),H=v("con"),j=b("dd"),z=v(J),we=v(" ("),ge=v(se),De=v(")"),K=b("dt"),Q=b("abbr"),Ae=v("int"),q=b("dd"),be=v(ie),Be=v(" ("),me=v(ae),Te=v(")"),X=b("dt"),Y=b("abbr"),je=v("wis"),L=b("dd"),pe=v(re),Ce=v(" ("),ye=v(ne),Ie=v(")"),Z=b("dt"),x=b("abbr"),Re=v("cha"),V=b("dd"),ke=v(oe),Se=v(" ("),Ee=v(ce),Ge=v(")"),this.h()},l(E){e=m(E,"DL",{class:!0});var y=p(e);t=m(y,"DT",{class:!0});var Fe=p(t);s=m(Fe,"ABBR",{title:!0});var qe=p(s);a=h(qe,"str"),qe.forEach(f),Fe.forEach(f),i=m(y,"DD",{class:!0});var fe=p(i);d=h(fe,o),_=h(fe," ("),N=h(fe,B),R=h(fe,")"),fe.forEach(f),T=m(y,"DT",{class:!0});var Le=p(T);S=m(Le,"ABBR",{title:!0});var Ve=p(S);W=h(Ve,"dex"),Ve.forEach(f),Le.forEach(f),D=m(y,"DD",{class:!0});var ue=p(D);$=h(ue,P),G=h(ue," ("),M=h(ue,O),u=h(ue,")"),ue.forEach(f),k=m(y,"DT",{class:!0});var We=p(k);F=m(We,"ABBR",{title:!0});var Je=p(F);H=h(Je,"con"),Je.forEach(f),We.forEach(f),j=m(y,"DD",{class:!0});var de=p(j);z=h(de,J),we=h(de," ("),ge=h(de,se),De=h(de,")"),de.forEach(f),K=m(y,"DT",{class:!0});var Ue=p(K);Q=m(Ue,"ABBR",{title:!0});var ze=p(Q);Ae=h(ze,"int"),ze.forEach(f),Ue.forEach(f),q=m(y,"DD",{class:!0});var ve=p(q);be=h(ve,ie),Be=h(ve," ("),me=h(ve,ae),Te=h(ve,")"),ve.forEach(f),X=m(y,"DT",{class:!0});var He=p(X);Y=m(He,"ABBR",{title:!0});var Ke=p(Y);je=h(Ke,"wis"),Ke.forEach(f),He.forEach(f),L=m(y,"DD",{class:!0});var he=p(L);pe=h(he,re),Ce=h(he," ("),ye=h(he,ne),Ie=h(he,")"),he.forEach(f),Z=m(y,"DT",{class:!0});var Qe=p(Z);x=m(Qe,"ABBR",{title:!0});var Xe=p(x);Re=h(Xe,"cha"),Xe.forEach(f),Qe.forEach(f),V=m(y,"DD",{class:!0});var _e=p(V);ke=h(_e,oe),Se=h(_e," ("),Ee=h(_e,ce),Ge=h(_e,")"),_e.forEach(f),y.forEach(f),this.h()},h(){g(s,"title","Strength"),g(t,"class","svelte-acg6vf"),g(i,"class","svelte-acg6vf"),g(S,"title","Dexterity"),g(T,"class","svelte-acg6vf"),g(D,"class","svelte-acg6vf"),g(F,"title","Constitution"),g(k,"class","svelte-acg6vf"),g(j,"class","svelte-acg6vf"),g(Q,"title","Intelligence"),g(K,"class","svelte-acg6vf"),g(q,"class","svelte-acg6vf"),g(Y,"title","Wisdom"),g(X,"class","svelte-acg6vf"),g(L,"class","svelte-acg6vf"),g(x,"title","Charisma"),g(Z,"class","svelte-acg6vf"),g(V,"class","svelte-acg6vf"),g(e,"class","svelte-acg6vf")},m(E,y){w(E,e,y),n(e,t),n(t,s),n(s,a),n(e,i),n(i,d),n(i,_),n(i,N),n(i,R),n(e,T),n(T,S),n(S,W),n(e,D),n(D,$),n(D,G),n(D,M),n(D,u),n(e,k),n(k,F),n(F,H),n(e,j),n(j,z),n(j,we),n(j,ge),n(j,De),n(e,K),n(K,Q),n(Q,Ae),n(e,q),n(q,be),n(q,Be),n(q,me),n(q,Te),n(e,X),n(X,Y),n(Y,je),n(e,L),n(L,pe),n(L,Ce),n(L,ye),n(L,Ie),n(e,Z),n(Z,x),n(x,Re),n(e,V),n(V,ke),n(V,Se),n(V,Ee),n(V,Ge)},p(E,[y]){y&1&&o!==(o=E[0].str+"")&&A(d,o),y&1&&B!==(B=E[1](C(E[0].str))+"")&&A(N,B),y&1&&P!==(P=E[0].dex+"")&&A($,P),y&1&&O!==(O=E[1](C(E[0].dex))+"")&&A(M,O),y&1&&J!==(J=E[0].con+"")&&A(z,J),y&1&&se!==(se=E[1](C(E[0].con))+"")&&A(ge,se),y&1&&ie!==(ie=E[0].int+"")&&A(be,ie),y&1&&ae!==(ae=E[1](C(E[0].int))+"")&&A(me,ae),y&1&&re!==(re=E[0].wis+"")&&A(pe,re),y&1&&ne!==(ne=E[1](C(E[0].wis))+"")&&A(ye,ne),y&1&&oe!==(oe=E[0].cha+"")&&A(ke,oe),y&1&&ce!==(ce=E[1](C(E[0].cha))+"")&&A(Ee,ce)},i:I,o:I,d(E){E&&f(e)}}}function ot(l,e,t){let{attributes:s}=e;const a=i=>i>=0?`+${i}`:`${i}`;return l.$$set=i=>{"attributes"in i&&t(0,s=i.attributes)},[s,a]}class Tt extends Ne{constructor(e){super(),Pe(this,e,ot,nt,$e,{attributes:0})}}const c=2,ct=1,r=.5,U=0,it=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"],ft=l=>Object.entries(l).reduce((e,[t,s])=>({...e,[t]:it.reduce((a,i)=>({...a,[i]:s[i]??ct}),{})}),{}),ut=ft({normal:{fighting:c,ghost:U},fighting:{fairy:c,flying:c,psychic:c,bug:r,rock:r,dark:r},flying:{electric:c,ice:c,rock:c,bug:r,fighting:r,grass:r,ground:U},poison:{ground:c,psychic:c,fighting:r,poison:r,bug:r,grass:r,fairy:r},ground:{grass:c,ice:c,water:c,poison:r,rock:r,electric:U},rock:{fighting:c,grass:c,ground:c,steel:c,water:c,fire:r,flying:r,normal:r,poison:r},bug:{fire:c,flying:c,rock:c,fighting:r,grass:r,ground:r},ghost:{ghost:c,dark:c,bug:r,poison:r,normal:U,fighting:U},steel:{fire:c,fighting:c,ground:c,bug:r,dragon:r,fairy:r,flying:r,grass:r,ice:r,normal:r,psychic:r,rock:r,steel:r,poison:U},fire:{ground:c,rock:c,water:c,bug:r,fairy:r,fire:r,grass:r,ice:r,steel:r},water:{electric:c,grass:c,fire:r,ice:r,steel:r,water:r},grass:{bug:c,fire:c,flying:c,ice:c,poison:c,electric:r,grass:r,ground:r,water:r},electric:{ground:c,electric:r,flying:r,steel:r},psychic:{bug:c,ghost:c,dark:c,fighting:r,psychic:r},ice:{fighting:c,fire:c,rock:c,steel:c,ice:r},dragon:{dragon:c,fairy:c,ice:c,electric:r,fire:r,grass:r,water:r},dark:{bug:c,fairy:c,fighting:c,dark:r,ghost:r,psychic:U},fairy:{poison:c,steel:c,bug:r,dark:r,fighting:r,dragon:U}}),dt=(l,e)=>Object.entries(l).reduce((t,[s,a])=>({...t,[s]:a*e[s]}),{}),Me=l=>{if(l.some(e=>!it.includes(e)))throw new Error(`Invalid Pokemon type: [${l.join(", ")}]`);return l.map(e=>ut[e]).reduce(dt)},vt=l=>new Set(Object.entries(Me(l)).filter(([e,t])=>t>1).map(([e,t])=>e)),ht=l=>new Set(Object.entries(Me(l)).filter(([e,t])=>0<t&&t<1).map(([e,t])=>e)),_t=l=>new Set(Object.entries(Me(l)).filter(([e,t])=>t===0).map(([e,t])=>e));function gt(l){let e,t,s,a,i=l[3](l[2])+"",o,d,_,B,N,R,T=l[3](l[1])+"",S,W,D,P,$,G,O=l[3](l[0])+"",M;return{c(){e=b("dt"),t=v("Vulnerabilities"),s=ee(),a=b("dd"),o=v(i),d=ee(),_=b("dt"),B=v("Resistances"),N=ee(),R=b("dd"),S=v(T),W=ee(),D=b("dt"),P=v("Immunities"),$=ee(),G=b("dd"),M=v(O),this.h()},l(u){e=m(u,"DT",{});var k=p(e);t=h(k,"Vulnerabilities"),k.forEach(f),s=te(u),a=m(u,"DD",{class:!0});var F=p(a);o=h(F,i),F.forEach(f),d=te(u),_=m(u,"DT",{});var H=p(_);B=h(H,"Resistances"),H.forEach(f),N=te(u),R=m(u,"DD",{class:!0});var j=p(R);S=h(j,T),j.forEach(f),W=te(u),D=m(u,"DT",{});var J=p(D);P=h(J,"Immunities"),J.forEach(f),$=te(u),G=m(u,"DD",{class:!0});var z=p(G);M=h(z,O),z.forEach(f),this.h()},h(){g(a,"class","svelte-1umt4iy"),g(R,"class","svelte-1umt4iy"),g(G,"class","svelte-1umt4iy")},m(u,k){w(u,e,k),n(e,t),w(u,s,k),w(u,a,k),n(a,o),w(u,d,k),w(u,_,k),n(_,B),w(u,N,k),w(u,R,k),n(R,S),w(u,W,k),w(u,D,k),n(D,P),w(u,$,k),w(u,G,k),n(G,M)},p(u,[k]){k&4&&i!==(i=u[3](u[2])+"")&&A(o,i),k&2&&T!==(T=u[3](u[1])+"")&&A(S,T),k&1&&O!==(O=u[3](u[0])+"")&&A(M,O)},i:I,o:I,d(u){u&&f(e),u&&f(s),u&&f(a),u&&f(d),u&&f(_),u&&f(N),u&&f(R),u&&f(W),u&&f(D),u&&f($),u&&f(G)}}}function bt(l,e,t){let s,a,i,{type:o}=e;const d=_=>_.length===0?"none":_.join(", ");return l.$$set=_=>{"type"in _&&t(4,o=_.type)},l.$$.update=()=>{l.$$.dirty&16&&t(2,s=Array.from(vt(o))),l.$$.dirty&16&&t(1,a=Array.from(ht(o))),l.$$.dirty&16&&t(0,i=Array.from(_t(o)))},[i,a,s,d,o]}class jt extends Ne{constructor(e){super(),Pe(this,e,bt,gt,$e,{type:4})}}const Oe=l=>{switch(l.type){case"gender":return`A ${l.value}`;case"level":return`at level ${l.value} or above`;case"item":return`using a ${l.value}`;case"loyalty":return`with a loyalty of +${l.value} or higher`;case"move":return`while knowing {{move:${l.value}}}`;case"move-type":return`while knowing a ${l.value}-type move`;case"time":return`during the ${l.value}`;case"special":return l.value}},mt=l=>{switch(l.type){case"asi":return`its health increases by double its level, and it gains ${l.value} points to add to its ability scores`;case"special":return l.value}},Ct=(l,e,t)=>{const s=e.conditions.find(o=>o.type==="gender"),a=e.conditions.find(o=>o.type==="level"),i=e.conditions.filter(o=>o.type!=="gender"&&o.type!=="level");return`${s?`${Oe(s)} `:""}${l} can evolve into {{pokemon:${e.id}}} ${a?Oe(a):""}${i.length>0?" ":""}${i.map(o=>Oe(o)).join(", ")}. When it evolves, ${e.effects.map(o=>mt(o)).join(", ")}.`.replaceAll(/{{pokemon:(.*?)}}/g,(o,d)=>t?t("pokemon",d):o).replaceAll(/{{move:(.*?)}}/g,(o,d)=>t?t("move",d):o)};function tt(l){let e,t,s,a,i=l[3]&&lt(l);return{c(){e=b("figure"),t=b("img"),a=ee(),i&&i.c(),this.h()},l(o){e=m(o,"FIGURE",{class:!0});var d=p(e);t=m(d,"IMG",{src:!0,alt:!0,class:!0}),a=te(d),i&&i.l(d),d.forEach(f),this.h()},h(){Ye(t.src,s=l[2])||g(t,"src",s),g(t,"alt",l[1]),g(t,"class","svelte-18klt62"),Ze(t,"smaller",l[3]!=null),g(e,"class","svelte-18klt62")},m(o,d){w(o,e,d),n(e,t),n(e,a),i&&i.m(e,null)},p(o,d){d&4&&!Ye(t.src,s=o[2])&&g(t,"src",s),d&2&&g(t,"alt",o[1]),d&8&&Ze(t,"smaller",o[3]!=null),o[3]?i?i.p(o,d):(i=lt(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(o){o&&f(e),i&&i.d()}}}function lt(l){let e,t,s={ctx:l,current:null,token:null,hasCatch:!1,pending:kt,then:yt,catch:pt,value:3};return xe(t=l[3],s),{c(){e=le(),s.block.c()},l(a){e=le(),s.block.l(a)},m(a,i){w(a,e,i),s.block.m(a,s.anchor=i),s.mount=()=>e.parentNode,s.anchor=e},p(a,i){l=a,s.ctx=l,i&8&&t!==(t=l[3])&&xe(t,s)||at(s,l,i)},d(a){a&&f(e),s.block.d(a),s.token=null,s=null}}}function pt(l){return{c:I,l:I,m:I,p:I,d:I}}function yt(l){let e,t=l[3].main&&st(l);return{c(){t&&t.c(),e=le()},l(s){t&&t.l(s),e=le()},m(s,a){t&&t.m(s,a),w(s,e,a)},p(s,a){s[3].main?t?t.p(s,a):(t=st(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&f(e)}}}function st(l){let e,t,s,a=l[3].main.author+"",i,o;return{c(){e=b("figcaption"),t=v("By "),s=b("a"),i=v(a),this.h()},l(d){e=m(d,"FIGCAPTION",{class:!0});var _=p(e);t=h(_,"By "),s=m(_,"A",{href:!0});var B=p(s);i=h(B,a),B.forEach(f),_.forEach(f),this.h()},h(){g(s,"href",o=l[3].main.link),g(e,"class","svelte-18klt62")},m(d,_){w(d,e,_),n(e,t),n(e,s),n(s,i)},p(d,_){_&8&&a!==(a=d[3].main.author+"")&&A(i,a),_&8&&o!==(o=d[3].main.link)&&g(s,"href",o)},d(d){d&&f(e)}}}function kt(l){let e,t;return{c(){e=b("figcaption"),t=v("Getting attribution..."),this.h()},l(s){e=m(s,"FIGCAPTION",{class:!0});var a=p(e);t=h(a,"Getting attribution..."),a.forEach(f),this.h()},h(){g(e,"class","svelte-18klt62"),rt(e,"visibility","hidden")},m(s,a){w(s,e,a),n(e,t)},p:I,d(s){s&&f(e)}}}function Et(l){let e,t=l[0].main&&tt(l);return{c(){t&&t.c(),e=le()},l(s){t&&t.l(s),e=le()},m(s,a){t&&t.m(s,a),w(s,e,a)},p(s,[a]){s[0].main?t?t.p(s,a):(t=tt(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:I,o:I,d(s){t&&t.d(s),s&&f(e)}}}function wt(l,e,t){let s,a,{media:i}=e,{alt:o}=e,d;return l.$$set=_=>{"media"in _&&t(0,i=_.media),"alt"in _&&t(1,o=_.alt)},l.$$.update=()=>{l.$$.dirty&1&&t(4,s=/^http/.test(i.main)),l.$$.dirty&17&&t(2,a=s?i.main:`${et}${i.main}`),l.$$.dirty&1&&(i.attribution?t(3,d=fetch(`${et}${i.attribution}`).then(_=>_.json())):t(3,d=void 0))},[i,o,a,d,s]}class It extends Ne{constructor(e){super(),Pe(this,e,wt,Et,$e,{media:0,alt:1})}}export{Tt as A,It as P,jt as T,Bt as a,Ct as e,C as m};
