var $i=Object.defineProperty;var vi=(s,e,t)=>e in s?$i(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ce=(s,e,t)=>(vi(s,typeof e!="symbol"?e+"":e,t),t);import{S as ae,i as ue,s as ce,e as re,b as g,B as te,V as Oe,h as f,k as y,q as D,l as E,m as S,r as R,G as m,u as le,w as B,a as C,x as F,c as L,n as b,y as M,f as T,t as P,z as K,g as _e,d as me,a1 as br,C as it,H as de,D as st,E as lt,F as ot,J as kt,a2 as ze,p as ve,_ as kr,K as at,a3 as rt,I as Ne,L as or,M as Lt,Q as Ot,R as Dt,T as Rt,U as xn,a4 as ei,X as ge,a5 as Tt,a6 as ar,a7 as wt,a8 as ur,a9 as Ze,aa as wr,$ as yt,a0 as cr}from"../../../chunks/index-53b314aa.js";import{M as gi,p as bi}from"../../../chunks/MissingNo-e81f214e.js";import{V as Ut,L as nt,S as ti,a as ki,B as ri,P as wi}from"../../../chunks/Loader-780f2a26.js";import{I as yi}from"../../../chunks/IdBadge-8f33d239.js";import{T as Ge}from"../../../chunks/Title-4044ced1.js";import{F as zt,C as qe,T as Ei}from"../../../chunks/TypeTag-dfae12d6.js";import{c as Pe,b as Ti}from"../../../chunks/shared-23917130.js";import{p as mt}from"../../../chunks/store-c9daa844.js";import{m as Bt,A as Pi,P as ni,T as Si,a as Ft,e as yr}from"../../../chunks/PokemonArt-307b1bf3.js";import{a as Er,b as Tr,m as Ii,e as Pr}from"../../../chunks/filter-f04b55bd.js";import{m as fr}from"../../../chunks/store-4e7e7259.js";import{f as Sr,e as et,t as Ir,a as Ar}from"../../../chunks/store-aedfb092.js";import{w as Ai}from"../../../chunks/index-829391e1.js";import{_ as Gt}from"../../../chunks/preload-helper-41c905a7.js";import{e as ut}from"../../../chunks/singletons-c32e22f2.js";function Oi(s,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in s)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}const Di=!0,Or=Di;function Dr(s,e,t){const r=s.slice();return r[2]=e[t],r}function Rr(s){let e,t=s[2]+"",r;return{c(){e=y("p"),r=D(t)},l(n){e=E(n,"P",{});var i=S(e);r=R(i,t),i.forEach(f)},m(n,i){g(n,e,i),m(e,r)},p(n,i){i&1&&t!==(t=n[2]+"")&&le(r,t)},d(n){n&&f(e)}}}function Ri(s){let e,t=s[0],r=[];for(let n=0;n<t.length;n+=1)r[n]=Rr(Dr(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=re()},l(n){for(let i=0;i<r.length;i+=1)r[i].l(n);e=re()},m(n,i){for(let l=0;l<r.length;l+=1)r[l].m(n,i);g(n,e,i)},p(n,[i]){if(i&1){t=n[0];let l;for(l=0;l<t.length;l+=1){const a=Dr(n,t,l);r[l]?r[l].p(a,i):(r[l]=Rr(a),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},i:te,o:te,d(n){Oe(r,n),n&&f(e)}}}function ji(s,e,t){let r,{value:n=""}=e;return s.$$set=i=>{"value"in i&&t(1,n=i.value)},s.$$.update=()=>{s.$$.dirty&2&&t(0,r=n.split(/\n+/))},[r,n]}class Ni extends ae{constructor(e){super(),ue(this,e,ji,Ri,ce,{value:1})}}function Ci(s){let e,t,r,n,i=s[0].readKey+"",l;return{c(){e=y("dt"),t=D("Trainer Id"),r=C(),n=y("dd"),l=D(i)},l(a){e=E(a,"DT",{});var o=S(e);t=R(o,"Trainer Id"),o.forEach(f),r=L(a),n=E(a,"DD",{});var u=S(n);l=R(u,i),u.forEach(f)},m(a,o){g(a,e,o),m(e,t),g(a,r,o),g(a,n,o),m(n,l)},p(a,o){o&1&&i!==(i=a[0].readKey+"")&&le(l,i)},d(a){a&&f(e),a&&f(r),a&&f(n)}}}function Li(s){let e,t,r,n,i;return t=new zt({props:{columns:2,$$slots:{default:[Ci]},$$scope:{ctx:s}}}),n=new Ni({props:{value:s[0].description}}),{c(){e=y("section"),B(t.$$.fragment),r=C(),B(n.$$.fragment),this.h()},l(l){e=E(l,"SECTION",{class:!0});var a=S(e);F(t.$$.fragment,a),r=L(a),F(n.$$.fragment,a),a.forEach(f),this.h()},h(){b(e,"class","info")},m(l,a){g(l,e,a),M(t,e,null),m(e,r),M(n,e,null),i=!0},p(l,[a]){const o={};a&3&&(o.$$scope={dirty:a,ctx:l}),t.$set(o);const u={};a&1&&(u.value=l[0].description),n.$set(u)},i(l){i||(T(t.$$.fragment,l),T(n.$$.fragment,l),i=!0)},o(l){P(t.$$.fragment,l),P(n.$$.fragment,l),i=!1},d(l){l&&f(e),K(t),K(n)}}}function Ui(s,e,t){let{trainer:r}=e;return s.$$set=n=>{"trainer"in n&&t(0,r=n.trainer)},[r]}let Bi=class extends ae{constructor(e){super(),ue(this,e,Ui,Li,ce,{trainer:0})}};function Fi(s){let e,t,r,n,i;const l=s[7].default,a=it(l,s,s[6],null);return{c(){e=y("button"),a&&a.c(),this.h()},l(o){e=E(o,"BUTTON",{type:!0,class:!0});var u=S(e);a&&a.l(u),u.forEach(f),this.h()},h(){b(e,"type",s[1]),b(e,"class",t="button "+s[0]+" "+s[2]+" "+s[3]+" svelte-f4dxt"),e.disabled=s[4]},m(o,u){g(o,e,u),a&&a.m(e,null),r=!0,n||(i=de(e,"click",s[9]),n=!0)},p(o,u){a&&a.p&&(!r||u&64)&&st(a,l,o,o[6],r?ot(l,o[6],u,null):lt(o[6]),null),(!r||u&2)&&b(e,"type",o[1]),(!r||u&13&&t!==(t="button "+o[0]+" "+o[2]+" "+o[3]+" svelte-f4dxt"))&&b(e,"class",t),(!r||u&16)&&(e.disabled=o[4])},i(o){r||(T(a,o),r=!0)},o(o){P(a,o),r=!1},d(o){o&&f(e),a&&a.d(o),n=!1,i()}}}function Mi(s){let e,t,r,n,i;const l=s[7].default,a=it(l,s,s[6],null);return{c(){e=y("a"),a&&a.c(),this.h()},l(o){e=E(o,"A",{href:!0,class:!0});var u=S(e);a&&a.l(u),u.forEach(f),this.h()},h(){b(e,"href",s[5]),b(e,"class",t="button "+s[0]+" "+s[2]+" "+s[3]+" svelte-f4dxt"),kt(e,"disabled",s[4])},m(o,u){g(o,e,u),a&&a.m(e,null),r=!0,n||(i=de(e,"click",s[8]),n=!0)},p(o,u){a&&a.p&&(!r||u&64)&&st(a,l,o,o[6],r?ot(l,o[6],u,null):lt(o[6]),null),(!r||u&32)&&b(e,"href",o[5]),(!r||u&13&&t!==(t="button "+o[0]+" "+o[2]+" "+o[3]+" svelte-f4dxt"))&&b(e,"class",t),(!r||u&29)&&kt(e,"disabled",o[4])},i(o){r||(T(a,o),r=!0)},o(o){P(a,o),r=!1},d(o){o&&f(e),a&&a.d(o),n=!1,i()}}}function Ki(s){let e,t,r,n;const i=[Mi,Fi],l=[];function a(o,u){return o[5]!=null?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,[u]){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Hi(s,e,t){let{$$slots:r={},$$scope:n}=e,{variant:i="solid"}=e,{type:l="button"}=e,{align:a="center"}=e,{width:o="auto"}=e,{disabled:u=!1}=e,{href:c=void 0}=e;function h(_){br.call(this,s,_)}function d(_){br.call(this,s,_)}return s.$$set=_=>{"variant"in _&&t(0,i=_.variant),"type"in _&&t(1,l=_.type),"align"in _&&t(2,a=_.align),"width"in _&&t(3,o=_.width),"disabled"in _&&t(4,u=_.disabled),"href"in _&&t(5,c=_.href),"$$scope"in _&&t(6,n=_.$$scope)},[i,l,a,o,u,c,n,r,h,d]}class be extends ae{constructor(e){super(),ue(this,e,Hi,Ki,ce,{variant:0,type:1,align:2,width:3,disabled:4,href:5})}}function zi(s){let e,t;const r=s[1].default,n=it(r,s,s[0],null);return{c(){e=y("div"),n&&n.c(),this.h()},l(i){e=E(i,"DIV",{class:!0});var l=S(e);n&&n.l(l),l.forEach(f),this.h()},h(){b(e,"class","gap-between-items to-right padding-preventing-overflow svelte-1wao9zu")},m(i,l){g(i,e,l),n&&n.m(e,null),t=!0},p(i,[l]){n&&n.p&&(!t||l&1)&&st(n,r,i,i[0],t?ot(r,i[0],l,null):lt(i[0]),null)},i(i){t||(T(n,i),t=!0)},o(i){P(n,i),t=!1},d(i){i&&f(e),n&&n.d(i)}}}function Gi(s,e,t){let{$$slots:r={},$$scope:n}=e;return s.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class De extends ae{constructor(e){super(),ue(this,e,Gi,zi,ce,{})}}const pe={home:()=>`${Pe}`,pokemon:s=>`${Pe}/pokemon${s?`/${s}`:""}`,moves:s=>`${Pe}/moves${s?`/${s}`:""}`,tms:s=>`${Pe}/tms${s?`/${s}`:""}`,trainers:(s,e,t)=>{const r=new URLSearchParams;return s&&r.append("id",s),e&&r.append("pokemon",e),t&&r.append("action",t),`${Pe}/trainers?${r.toString()}`}},Ie={addPokemon:"add-pokemon",editPokemon:"edit-pokemon",evolvePokemon:"evolve-pokemon",removePokemon:"remove-pokemon",newTrainer:"new-trainer",findTrainer:"find-trainer",editTrainer:"edit-trainer",retireTrainer:"retire-trainer",accessKey:"access-key"};function qi(s){let e;return{c(){e=D("Access Key")},l(t){e=R(t,"Access Key")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function jr(s){let e,t;return e=new be({props:{href:pe.trainers(s[1].info.readKey,void 0,Ie.editTrainer),$$slots:{default:[Vi]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&2&&(i.href=pe.trainers(r[1].info.readKey,void 0,Ie.editTrainer)),n&4&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Vi(s){let e;return{c(){e=D("Edit")},l(t){e=R(t,"Edit")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Ji(s){let e,t,r,n;e=new be({props:{href:pe.trainers(s[1].info.readKey,void 0,Ie.accessKey),variant:"ghost",$$slots:{default:[qi]},$$scope:{ctx:s}}});let i=s[1].update&&jr(s);return{c(){B(e.$$.fragment),t=C(),i&&i.c(),r=re()},l(l){F(e.$$.fragment,l),t=L(l),i&&i.l(l),r=re()},m(l,a){M(e,l,a),g(l,t,a),i&&i.m(l,a),g(l,r,a),n=!0},p(l,a){const o={};a&2&&(o.href=pe.trainers(l[1].info.readKey,void 0,Ie.accessKey)),a&4&&(o.$$scope={dirty:a,ctx:l}),e.$set(o),l[1].update?i?(i.p(l,a),a&2&&T(i,1)):(i=jr(l),i.c(),T(i,1),i.m(r.parentNode,r)):i&&(_e(),P(i,1,1,()=>{i=null}),me())},i(l){n||(T(e.$$.fragment,l),T(i),n=!0)},o(l){P(e.$$.fragment,l),P(i),n=!1},d(l){K(e,l),l&&f(t),i&&i.d(l),l&&f(r)}}}function Yi(s){let e,t,r,n;return e=new Bi({props:{trainer:s[1].info}}),r=new De({props:{$$slots:{default:[Ji]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,l){const a={};l&2&&(a.trainer=i[1].info),e.$set(a);const o={};l&6&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function Wi(s){let e,t,r,n;return e=new Ge({props:{value:s[1].info.name}}),r=new qe({props:{title:s[1].info.name,$$slots:{default:[Yi]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,[l]){const a={};l&2&&(a.value=i[1].info.name),e.$set(a);const o={};l&2&&(o.title=i[1].info.name),l&6&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function Xi(s,e,t){let r,n=te,i=()=>(n(),n=ze(l,a=>t(1,r=a)),l);s.$$.on_destroy.push(()=>n());let{trainer:l}=e;return i(),s.$$set=a=>{"trainer"in a&&i(t(0,l=a.trainer))},[l,r]}let Zi=class extends ae{constructor(e){super(),ue(this,e,Xi,Wi,ce,{trainer:0})}};function Qi(s){let e,t;return{c(){e=y("span"),this.h()},l(r){e=E(r,"SPAN",{class:!0,title:!0,"aria-label":!0}),S(e).forEach(f),this.h()},h(){b(e,"class",t="gender "+s[0]+" svelte-l7rte3"),b(e,"title",s[0]),b(e,"aria-label",s[0])},m(r,n){g(r,e,n)},p(r,[n]){n&1&&t!==(t="gender "+r[0]+" svelte-l7rte3")&&b(e,"class",t),n&1&&b(e,"title",r[0]),n&1&&b(e,"aria-label",r[0])},i:te,o:te,d(r){r&&f(e)}}}function xi(s,e,t){let{gender:r}=e;return s.$$set=n=>{"gender"in n&&t(0,r=n.gender)},[r]}class ii extends ae{constructor(e){super(),ue(this,e,xi,Qi,ce,{gender:0})}}function es(s){let e,t,r,n=s[1].name+"",i,l,a,o,u,c,h,d,_,p,$=s[0].level+"",v,w;return o=new ii({props:{gender:s[0].gender}}),{c(){e=y("div"),t=y("span"),r=y("span"),i=D(n),l=C(),a=y("span"),B(o.$$.fragment),u=C(),c=y("span"),h=y("span"),d=D("Lv."),_=C(),p=y("span"),v=D($),this.h()},l(A){e=E(A,"DIV",{class:!0});var I=S(e);t=E(I,"SPAN",{class:!0});var H=S(t);r=E(H,"SPAN",{});var V=S(r);i=R(V,n),V.forEach(f),l=L(H),a=E(H,"SPAN",{class:!0});var O=S(a);F(o.$$.fragment,O),O.forEach(f),H.forEach(f),u=L(I),c=E(I,"SPAN",{class:!0});var U=S(c);h=E(U,"SPAN",{class:!0});var Q=S(h);d=R(Q,"Lv."),Q.forEach(f),_=L(U),p=E(U,"SPAN",{class:!0});var ee=S(p);v=R(ee,$),ee.forEach(f),U.forEach(f),I.forEach(f),this.h()},h(){b(a,"class","gender svelte-1elr9xg"),b(t,"class","name svelte-1elr9xg"),b(h,"class","level-text svelte-1elr9xg"),b(p,"class","level-number svelte-1elr9xg"),b(c,"class","level svelte-1elr9xg"),b(e,"class","grid svelte-1elr9xg")},m(A,I){g(A,e,I),m(e,t),m(t,r),m(r,i),m(t,l),m(t,a),M(o,a,null),m(e,u),m(e,c),m(c,h),m(h,d),m(c,_),m(c,p),m(p,v),w=!0},p(A,[I]){(!w||I&2)&&n!==(n=A[1].name+"")&&le(i,n);const H={};I&1&&(H.gender=A[0].gender),o.$set(H),(!w||I&1)&&$!==($=A[0].level+"")&&le(v,$)},i(A){w||(T(o.$$.fragment,A),w=!0)},o(A){P(o.$$.fragment,A),w=!1},d(A){A&&f(e),K(o)}}}function ts(s,e,t){let{pokemon:r}=e,{species:n}=e;return s.$$set=i=>{"pokemon"in i&&t(0,r=i.pokemon),"species"in i&&t(1,n=i.species)},[r,n]}class rs extends ae{constructor(e){super(),ue(this,e,ts,es,ce,{pokemon:0,species:1})}}function ns(s){let e,t,r;return{c(){e=D(s[0]),t=D(" / "),r=D(s[1])},l(n){e=R(n,s[0]),t=R(n," / "),r=R(n,s[1])},m(n,i){g(n,e,i),g(n,t,i),g(n,r,i)},p(n,i){i&1&&le(e,n[0]),i&2&&le(r,n[1])},d(n){n&&f(e),n&&f(t),n&&f(r)}}}function is(s){let e,t,r=`${s[3]}%`,n,i,l,a;return i=new Ut({props:{$$slots:{default:[ns]},$$scope:{ctx:s}}}),{c(){e=y("meter"),t=y("div"),n=C(),B(i.$$.fragment),this.h()},l(o){e=E(o,"METER",{class:!0,max:!0});var u=S(e);t=E(u,"DIV",{class:!0}),S(t).forEach(f),n=L(u),F(i.$$.fragment,u),u.forEach(f),this.h()},h(){b(t,"class","fill svelte-1aotyy5"),ve(t,"width",r),b(e,"class",l=kr(s[4])+" svelte-1aotyy5"),b(e,"max",s[1]),e.value=s[0],kt(e,"secondary",s[2])},m(o,u){g(o,e,u),m(e,t),m(e,n),M(i,e,null),a=!0},p(o,[u]){u&8&&r!==(r=`${o[3]}%`)&&ve(t,"width",r);const c={};u&35&&(c.$$scope={dirty:u,ctx:o}),i.$set(c),(!a||u&16&&l!==(l=kr(o[4])+" svelte-1aotyy5"))&&b(e,"class",l),(!a||u&2)&&b(e,"max",o[1]),(!a||u&1)&&(e.value=o[0]),(!a||u&20)&&kt(e,"secondary",o[2])},i(o){a||(T(i.$$.fragment,o),a=!0)},o(o){P(i.$$.fragment,o),a=!1},d(o){o&&f(e),K(i)}}}function ss(s,e,t){let r,n,{current:i}=e,{max:l}=e,{secondary:a=!1}=e;return s.$$set=o=>{"current"in o&&t(0,i=o.current),"max"in o&&t(1,l=o.max),"secondary"in o&&t(2,a=o.secondary)},s.$$.update=()=>{s.$$.dirty&3&&t(3,r=Math.max(100*i/l,0)),s.$$.dirty&8&&t(4,n=r>=50?"healthy":r>=20?"warning":"danger")},[i,l,a,r,n]}class rr extends ae{constructor(e){super(),ue(this,e,ss,is,ce,{current:0,max:1,secondary:2})}}function ls(s){let e,t=`${s[2]+1}ch`,r,n;return{c(){e=y("input"),this.h()},l(i){e=E(i,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){b(e,"id",s[1]),b(e,"type","text"),e.value=s[0],b(e,"class","svelte-gmkrdx"),ve(e,"width",t)},m(i,l){g(i,e,l),r||(n=[de(e,"change",s[3]),de(e,"input",s[4])],r=!0)},p(i,[l]){l&2&&b(e,"id",i[1]),l&1&&e.value!==i[0]&&(e.value=i[0]),l&4&&t!==(t=`${i[2]+1}ch`)&&ve(e,"width",t)},i:te,o:te,d(i){i&&f(e),r=!1,at(n)}}}function os(s,e,t){var u;const r=rt();let{id:n}=e,{value:i}=e,l=((u=i==null?void 0:i.toString())==null?void 0:u.length)??0;const a=c=>{var p;const h=c.target,d=/(\d+)\s*(\+|\-)\s*(\d+)/,_=h.value.match(d);if(_!=null)t(0,i=parseFloat(_[1])+parseFloat(_[2]+_[3]));else{const $=parseFloat(h.value);t(0,i=isNaN($)?0:$)}t(2,l=((p=i==null?void 0:i.toString())==null?void 0:p.length)??0),r("change",{value:i})},o=c=>{const h=c.target;t(2,l=h.value.length)};return s.$$set=c=>{"id"in c&&t(1,n=c.id),"value"in c&&t(0,i=c.value)},[i,n,l,a,o]}class si extends ae{constructor(e){super(),ue(this,e,os,ls,ce,{id:1,value:0})}}function as(s){let e,t;return{c(){e=y("label"),t=D("HP"),this.h()},l(r){e=E(r,"LABEL",{for:!0});var n=S(e);t=R(n,"HP"),n.forEach(f),this.h()},h(){b(e,"for","current-hp")},m(r,n){g(r,e,n),m(e,t)},p:te,d(r){r&&f(e)}}}function us(s){let e=s[0].hp.current+"",t;return{c(){t=D(e)},l(r){t=R(r,e)},m(r,n){g(r,t,n)},p(r,n){n&1&&e!==(e=r[0].hp.current+"")&&le(t,e)},i:te,o:te,d(r){r&&f(t)}}}function cs(s){let e,t;return e=new si({props:{id:"current-hp",value:s[3]}}),e.$on("change",s[5]),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&8&&(i.value=r[3]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function fs(s){let e,t;return{c(){e=y("label"),t=D("Hit Dice"),this.h()},l(r){e=E(r,"LABEL",{for:!0});var n=S(e);t=R(n,"Hit Dice"),n.forEach(f),this.h()},h(){b(e,"for","current-hit-dice")},m(r,n){g(r,e,n),m(e,t)},p:te,d(r){r&&f(e)}}}function hs(s){let e=s[0].hitDice.current+"",t;return{c(){t=D(e)},l(r){t=R(r,e)},m(r,n){g(r,t,n)},p(r,n){n&1&&e!==(e=r[0].hitDice.current+"")&&le(t,e)},i:te,o:te,d(r){r&&f(t)}}}function ds(s){let e,t;return e=new si({props:{id:"current-hit-dice",value:s[4]}}),e.$on("change",s[6]),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.value=r[4]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ps(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p=s[0].hp.max+"",$,v,w,A,I,H,V,O,U,Q,ee,ne,W,J,G,k=s[0].hitDice.max+"",j,Y,Z=s[1].hitDice+"",z,N,X;r=new rr({props:{current:s[3],max:s[0].hp.max}}),l=new Ut({props:{$$slots:{default:[as]},$$scope:{ctx:s}}});const x=[cs,us],se=[];function q(oe,fe){return oe[2]?0:1}u=q(s),c=se[u]=x[u](s),I=new rr({props:{secondary:!0,current:s[4],max:s[0].hitDice.max}}),O=new Ut({props:{$$slots:{default:[fs]},$$scope:{ctx:s}}});const ie=[ds,hs],he=[];function Te(oe,fe){return oe[2]?0:1}return ee=Te(s),ne=he[ee]=ie[ee](s),{c(){e=y("div"),t=y("span"),B(r.$$.fragment),n=C(),i=y("span"),B(l.$$.fragment),a=C(),o=y("span"),c.c(),h=C(),d=y("span"),_=D("/ "),$=D(p),v=C(),w=y("span"),A=y("span"),B(I.$$.fragment),H=C(),V=y("span"),B(O.$$.fragment),U=C(),Q=y("span"),ne.c(),W=C(),J=y("span"),G=D("/ "),j=D(k),Y=D(" ("),z=D(Z),N=D(")"),this.h()},l(oe){e=E(oe,"DIV",{class:!0});var fe=S(e);t=E(fe,"SPAN",{class:!0});var Ae=S(t);F(r.$$.fragment,Ae),Ae.forEach(f),n=L(fe),i=E(fe,"SPAN",{class:!0});var $e=S(i);F(l.$$.fragment,$e),a=L($e),o=E($e,"SPAN",{class:!0});var Re=S(o);c.l(Re),Re.forEach(f),h=L($e),d=E($e,"SPAN",{class:!0});var Ve=S(d);_=R(Ve,"/ "),$=R(Ve,p),Ve.forEach(f),$e.forEach(f),v=L(fe),w=E(fe,"SPAN",{class:!0});var Je=S(w);A=E(Je,"SPAN",{class:!0});var xe=S(A);F(I.$$.fragment,xe),xe.forEach(f),H=L(Je),V=E(Je,"SPAN",{class:!0});var Ye=S(V);F(O.$$.fragment,Ye),U=L(Ye),Q=E(Ye,"SPAN",{class:!0});var gr=S(Q);ne.l(gr),gr.forEach(f),W=L(Ye),J=E(Ye,"SPAN",{class:!0});var $t=S(J);G=R($t,"/ "),j=R($t,k),Y=R($t," ("),z=R($t,Z),N=R($t,")"),$t.forEach(f),Ye.forEach(f),Je.forEach(f),fe.forEach(f),this.h()},h(){b(t,"class","bar svelte-bxmegr"),b(o,"class","current-hp svelte-bxmegr"),b(d,"class","max-hp"),b(i,"class","hp svelte-bxmegr"),b(A,"class","hit-dice-bar svelte-bxmegr"),b(Q,"class","current-hit-dice svelte-bxmegr"),b(J,"class","max-hit-dice"),b(V,"class","hit-dice-text svelte-bxmegr"),b(w,"class","hit-dice svelte-bxmegr"),b(e,"class","grid svelte-bxmegr")},m(oe,fe){g(oe,e,fe),m(e,t),M(r,t,null),m(e,n),m(e,i),M(l,i,null),m(i,a),m(i,o),se[u].m(o,null),m(i,h),m(i,d),m(d,_),m(d,$),m(e,v),m(e,w),m(w,A),M(I,A,null),m(w,H),m(w,V),M(O,V,null),m(V,U),m(V,Q),he[ee].m(Q,null),m(V,W),m(V,J),m(J,G),m(J,j),m(J,Y),m(J,z),m(J,N),X=!0},p(oe,[fe]){const Ae={};fe&8&&(Ae.current=oe[3]),fe&1&&(Ae.max=oe[0].hp.max),r.$set(Ae);const $e={};fe&256&&($e.$$scope={dirty:fe,ctx:oe}),l.$set($e);let Re=u;u=q(oe),u===Re?se[u].p(oe,fe):(_e(),P(se[Re],1,1,()=>{se[Re]=null}),me(),c=se[u],c?c.p(oe,fe):(c=se[u]=x[u](oe),c.c()),T(c,1),c.m(o,null)),(!X||fe&1)&&p!==(p=oe[0].hp.max+"")&&le($,p);const Ve={};fe&16&&(Ve.current=oe[4]),fe&1&&(Ve.max=oe[0].hitDice.max),I.$set(Ve);const Je={};fe&256&&(Je.$$scope={dirty:fe,ctx:oe}),O.$set(Je);let xe=ee;ee=Te(oe),ee===xe?he[ee].p(oe,fe):(_e(),P(he[xe],1,1,()=>{he[xe]=null}),me(),ne=he[ee],ne?ne.p(oe,fe):(ne=he[ee]=ie[ee](oe),ne.c()),T(ne,1),ne.m(Q,null)),(!X||fe&1)&&k!==(k=oe[0].hitDice.max+"")&&le(j,k),(!X||fe&2)&&Z!==(Z=oe[1].hitDice+"")&&le(z,Z)},i(oe){X||(T(r.$$.fragment,oe),T(l.$$.fragment,oe),T(c),T(I.$$.fragment,oe),T(O.$$.fragment,oe),T(ne),X=!0)},o(oe){P(r.$$.fragment,oe),P(l.$$.fragment,oe),P(c),P(I.$$.fragment,oe),P(O.$$.fragment,oe),P(ne),X=!1},d(oe){oe&&f(e),K(r),K(l),se[u].d(),K(I),K(O),he[ee].d()}}}function _s(s,e,t){let r,n;const i=rt();let{pokemon:l}=e,{species:a}=e,{editable:o}=e;const u=h=>{i("update",{currentHp:h.detail.value,currentHitDice:n})},c=h=>{i("update",{currentHp:r,currentHitDice:h.detail.value})};return s.$$set=h=>{"pokemon"in h&&t(0,l=h.pokemon),"species"in h&&t(1,a=h.species),"editable"in h&&t(2,o=h.editable)},s.$$.update=()=>{s.$$.dirty&1&&t(3,r=l.hp.current),s.$$.dirty&1&&t(4,n=l.hitDice.current)},[l,a,o,r,n,u,c]}class ms extends ae{constructor(e){super(),ue(this,e,_s,ps,ce,{pokemon:0,species:1,editable:2})}}const nr=[{name:"athletics",attribute:"str"},{name:"acrobatics",attribute:"dex"},{name:"sleight of hand",attribute:"dex"},{name:"stealth",attribute:"dex"},{name:"arcana",attribute:"int"},{name:"history",attribute:"int"},{name:"investigation",attribute:"int"},{name:"nature",attribute:"int"},{name:"religion",attribute:"int"},{name:"animal handling",attribute:"wis"},{name:"insight",attribute:"wis"},{name:"medicine",attribute:"wis"},{name:"perception",attribute:"wis"},{name:"survival",attribute:"wis"},{name:"deception",attribute:"cha"},{name:"intimidation",attribute:"cha"},{name:"performance",attribute:"cha"},{name:"persuasion",attribute:"cha"}],hr=s=>2+Math.floor((s-1)/4),Nr=(s,e,t)=>{const r=nr.find(n=>n.name===s).attribute;return Bt(e[r])+t};function Cr(s,e,t){const r=s.slice();return r[3]=e[t],r}function Lr(s,e,t){const r=s.slice();return r[6]=e[t],r}function Ur(s){let e,t=Er(s[6])+"",r;return{c(){e=y("dd"),r=D(t)},l(n){e=E(n,"DD",{});var i=S(e);r=R(i,t),i.forEach(f)},m(n,i){g(n,e,i),m(e,r)},p(n,i){i&2&&t!==(t=Er(n[6])+"")&&le(r,t)},d(n){n&&f(e)}}}function Br(s){let e,t,r,n,i=s[1].senses,l=[];for(let a=0;a<i.length;a+=1)l[a]=Fr(Cr(s,i,a));return{c(){e=y("dt"),t=D("Senses"),r=C(),n=y("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=E(a,"DT",{});var o=S(e);t=R(o,"Senses"),o.forEach(f),r=L(a),n=E(a,"DIV",{class:!0});var u=S(n);for(let c=0;c<l.length;c+=1)l[c].l(u);u.forEach(f),this.h()},h(){b(n,"class","cap")},m(a,o){g(a,e,o),m(e,t),g(a,r,o),g(a,n,o);for(let u=0;u<l.length;u+=1)l[u].m(n,null)},p(a,o){if(o&2){i=a[1].senses;let u;for(u=0;u<i.length;u+=1){const c=Cr(a,i,u);l[u]?l[u].p(c,o):(l[u]=Fr(c),l[u].c(),l[u].m(n,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length}},d(a){a&&f(e),a&&f(r),a&&f(n),Oe(l,a)}}}function Fr(s){let e,t=Tr(s[3])+"",r;return{c(){e=y("dd"),r=D(t)},l(n){e=E(n,"DD",{});var i=S(e);r=R(i,t),i.forEach(f)},m(n,i){g(n,e,i),m(e,r)},p(n,i){i&2&&t!==(t=Tr(n[3])+"")&&le(r,t)},d(n){n&&f(e)}}}function $s(s){let e,t,r,n,i,l=s[0].ac+"",a,o,u,c,h,d,_=s[0].nature+"",p,$,v,w,A,I,H,V,O,U,Q,ee,ne,W=s[1].size+"",J,G,k,j,Y,Z,z,N,X=s[1].speed,x=[];for(let q=0;q<X.length;q+=1)x[q]=Ur(Lr(s,X,q));let se=s[1].senses.length>0&&Br(s);return{c(){e=y("dt"),t=y("abbr"),r=D("AC"),n=C(),i=y("dd"),a=D(l),o=C(),u=y("dt"),c=D("Nature"),h=C(),d=y("dd"),p=D(_),$=C(),v=y("dt"),w=D("Bonus"),A=C(),I=y("dd"),H=D("+"),V=D(s[2]),O=C(),U=y("dt"),Q=D("Size"),ee=C(),ne=y("dd"),J=D(W),G=C(),k=y("dt"),j=D("Speed"),Y=C(),Z=y("div");for(let q=0;q<x.length;q+=1)x[q].c();z=C(),se&&se.c(),N=re(),this.h()},l(q){e=E(q,"DT",{});var ie=S(e);t=E(ie,"ABBR",{title:!0});var he=S(t);r=R(he,"AC"),he.forEach(f),ie.forEach(f),n=L(q),i=E(q,"DD",{});var Te=S(i);a=R(Te,l),Te.forEach(f),o=L(q),u=E(q,"DT",{});var oe=S(u);c=R(oe,"Nature"),oe.forEach(f),h=L(q),d=E(q,"DD",{class:!0});var fe=S(d);p=R(fe,_),fe.forEach(f),$=L(q),v=E(q,"DT",{});var Ae=S(v);w=R(Ae,"Bonus"),Ae.forEach(f),A=L(q),I=E(q,"DD",{});var $e=S(I);H=R($e,"+"),V=R($e,s[2]),$e.forEach(f),O=L(q),U=E(q,"DT",{});var Re=S(U);Q=R(Re,"Size"),Re.forEach(f),ee=L(q),ne=E(q,"DD",{class:!0});var Ve=S(ne);J=R(Ve,W),Ve.forEach(f),G=L(q),k=E(q,"DT",{});var Je=S(k);j=R(Je,"Speed"),Je.forEach(f),Y=L(q),Z=E(q,"DIV",{});var xe=S(Z);for(let Ye=0;Ye<x.length;Ye+=1)x[Ye].l(xe);xe.forEach(f),z=L(q),se&&se.l(q),N=re(),this.h()},h(){b(t,"title","Armor Class"),b(d,"class","cap"),b(ne,"class","cap")},m(q,ie){g(q,e,ie),m(e,t),m(t,r),g(q,n,ie),g(q,i,ie),m(i,a),g(q,o,ie),g(q,u,ie),m(u,c),g(q,h,ie),g(q,d,ie),m(d,p),g(q,$,ie),g(q,v,ie),m(v,w),g(q,A,ie),g(q,I,ie),m(I,H),m(I,V),g(q,O,ie),g(q,U,ie),m(U,Q),g(q,ee,ie),g(q,ne,ie),m(ne,J),g(q,G,ie),g(q,k,ie),m(k,j),g(q,Y,ie),g(q,Z,ie);for(let he=0;he<x.length;he+=1)x[he].m(Z,null);g(q,z,ie),se&&se.m(q,ie),g(q,N,ie)},p(q,ie){if(ie&1&&l!==(l=q[0].ac+"")&&le(a,l),ie&1&&_!==(_=q[0].nature+"")&&le(p,_),ie&4&&le(V,q[2]),ie&2&&W!==(W=q[1].size+"")&&le(J,W),ie&2){X=q[1].speed;let he;for(he=0;he<X.length;he+=1){const Te=Lr(q,X,he);x[he]?x[he].p(Te,ie):(x[he]=Ur(Te),x[he].c(),x[he].m(Z,null))}for(;he<x.length;he+=1)x[he].d(1);x.length=X.length}q[1].senses.length>0?se?se.p(q,ie):(se=Br(q),se.c(),se.m(N.parentNode,N)):se&&(se.d(1),se=null)},d(q){q&&f(e),q&&f(n),q&&f(i),q&&f(o),q&&f(u),q&&f(h),q&&f(d),q&&f($),q&&f(v),q&&f(A),q&&f(I),q&&f(O),q&&f(U),q&&f(ee),q&&f(ne),q&&f(G),q&&f(k),q&&f(Y),q&&f(Z),Oe(x,q),q&&f(z),se&&se.d(q),q&&f(N)}}}function vs(s){let e,t;return e=new zt({props:{columns:2,$$slots:{default:[$s]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,[n]){const i={};n&519&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function gs(s,e,t){let r,{pokemon:n}=e,{species:i}=e;return s.$$set=l=>{"pokemon"in l&&t(0,n=l.pokemon),"species"in l&&t(1,i=l.species)},s.$$.update=()=>{s.$$.dirty&1&&t(2,r=hr(n.level))},[n,i,r]}class bs extends ae{constructor(e){super(),ue(this,e,gs,vs,ce,{pokemon:0,species:1})}}function Mr(s,e,t){const r=s.slice();return r[2]=e[t],r}function Kr(s,e,t){const r=s.slice();return r[5]=e[t],r}function Hr(s){let e,t=s[5]+"",r,n,i=Bt(s[0].attributes[s[5]])+s[1]+"",l;return{c(){e=y("dd"),r=D(t),n=D(" +"),l=D(i)},l(a){e=E(a,"DD",{});var o=S(e);r=R(o,t),n=R(o," +"),l=R(o,i),o.forEach(f)},m(a,o){g(a,e,o),m(e,r),m(e,n),m(e,l)},p(a,o){o&1&&t!==(t=a[5]+"")&&le(r,t),o&3&&i!==(i=Bt(a[0].attributes[a[5]])+a[1]+"")&&le(l,i)},d(a){a&&f(e)}}}function zr(s){let e,t=s[2]+"",r,n,i=Nr(s[2],s[0].attributes,s[1])+"",l;return{c(){e=y("dd"),r=D(t),n=D(" +"),l=D(i)},l(a){e=E(a,"DD",{});var o=S(e);r=R(o,t),n=R(o," +"),l=R(o,i),o.forEach(f)},m(a,o){g(a,e,o),m(e,r),m(e,n),m(e,l)},p(a,o){o&1&&t!==(t=a[2]+"")&&le(r,t),o&3&&i!==(i=Nr(a[2],a[0].attributes,a[1])+"")&&le(l,i)},d(a){a&&f(e)}}}function ks(s){let e,t,r,n,i,l,a,o,u,c=s[0].savingThrows,h=[];for(let p=0;p<c.length;p+=1)h[p]=Hr(Kr(s,c,p));let d=s[0].proficiencies,_=[];for(let p=0;p<d.length;p+=1)_[p]=zr(Mr(s,d,p));return{c(){e=y("dt"),t=D("Saves"),r=C(),n=y("div");for(let p=0;p<h.length;p+=1)h[p].c();i=C(),l=y("dt"),a=D("Proficiencies"),o=C(),u=y("div");for(let p=0;p<_.length;p+=1)_[p].c();this.h()},l(p){e=E(p,"DT",{});var $=S(e);t=R($,"Saves"),$.forEach(f),r=L(p),n=E(p,"DIV",{class:!0});var v=S(n);for(let I=0;I<h.length;I+=1)h[I].l(v);v.forEach(f),i=L(p),l=E(p,"DT",{});var w=S(l);a=R(w,"Proficiencies"),w.forEach(f),o=L(p),u=E(p,"DIV",{class:!0});var A=S(u);for(let I=0;I<_.length;I+=1)_[I].l(A);A.forEach(f),this.h()},h(){b(n,"class","upper"),b(u,"class","cap")},m(p,$){g(p,e,$),m(e,t),g(p,r,$),g(p,n,$);for(let v=0;v<h.length;v+=1)h[v].m(n,null);g(p,i,$),g(p,l,$),m(l,a),g(p,o,$),g(p,u,$);for(let v=0;v<_.length;v+=1)_[v].m(u,null)},p(p,$){if($&3){c=p[0].savingThrows;let v;for(v=0;v<c.length;v+=1){const w=Kr(p,c,v);h[v]?h[v].p(w,$):(h[v]=Hr(w),h[v].c(),h[v].m(n,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=c.length}if($&3){d=p[0].proficiencies;let v;for(v=0;v<d.length;v+=1){const w=Mr(p,d,v);_[v]?_[v].p(w,$):(_[v]=zr(w),_[v].c(),_[v].m(u,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=d.length}},d(p){p&&f(e),p&&f(r),p&&f(n),Oe(h,p),p&&f(i),p&&f(l),p&&f(o),p&&f(u),Oe(_,p)}}}function ws(s){let e,t;return e=new zt({props:{columns:2,$$slots:{default:[ks]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,[n]){const i={};n&259&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ys(s,e,t){let r,{pokemon:n}=e;return s.$$set=i=>{"pokemon"in i&&t(0,n=i.pokemon)},s.$$.update=()=>{s.$$.dirty&1&&t(1,r=hr(n.level))},[n,r]}class Es extends ae{constructor(e){super(),ue(this,e,ys,ws,ce,{pokemon:0})}}function Ts(s){let e,t=s[1].name+"",r,n;return{c(){e=y("label"),r=D(t),n=D(" PP"),this.h()},l(i){e=E(i,"LABEL",{for:!0});var l=S(e);r=R(l,t),n=R(l," PP"),l.forEach(f),this.h()},h(){b(e,"for","current-hp")},m(i,l){g(i,e,l),m(e,r),m(e,n)},p(i,l){l&2&&t!==(t=i[1].name+"")&&le(r,t)},d(i){i&&f(e)}}}function Ps(s){let e;return{c(){e=D(s[5])},l(t){e=R(t,s[5])},m(t,r){g(t,e,r)},p(t,r){r&32&&le(e,t[5])},d(t){t&&f(e)}}}function Ss(s){let e,t,r,n;return{c(){e=y("input"),this.h()},l(i){e=E(i,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){b(e,"id",t="current-pp-"+s[0].moveId),b(e,"type","number"),e.value=s[5],b(e,"class","svelte-1kxv9x5")},m(i,l){g(i,e,l),r||(n=de(e,"change",s[6]),r=!0)},p(i,l){l&1&&t!==(t="current-pp-"+i[0].moveId)&&b(e,"id",t),l&32&&e.value!==i[5]&&(e.value=i[5])},d(i){i&&f(e),r=!1,n()}}}function Gr(s){let e,t,r,n;return{c(){e=D("To Hit: +"),t=D(s[4]),r=D(", DC: "),n=D(s[3])},l(i){e=R(i,"To Hit: +"),t=R(i,s[4]),r=R(i,", DC: "),n=R(i,s[3])},m(i,l){g(i,e,l),g(i,t,l),g(i,r,l),g(i,n,l)},p(i,l){l&16&&le(t,i[4]),l&8&&le(n,i[3])},d(i){i&&f(e),i&&f(t),i&&f(r),i&&f(n)}}}function qr(s){let e,t=s[0].notes+"",r;return{c(){e=y("div"),r=D(t),this.h()},l(n){e=E(n,"DIV",{class:!0});var i=S(e);r=R(i,t),i.forEach(f),this.h()},h(){b(e,"class","space-inner smaller-font svelte-1kxv9x5")},m(n,i){g(n,e,i),m(e,r)},p(n,i){i&1&&t!==(t=n[0].notes+"")&&le(r,t)},d(n){n&&f(e)}}}function Is(s){let e,t,r,n,i,l=s[1].name+"",a,o,u,c,h,d,_,p,$,v,w=s[0].pp.max+"",A,I,H,V,O=s[1].type+"",U,Q,ee,ne=`var(--skin-${s[1].type}-bg)`,W,J;h=new Ut({props:{$$slots:{default:[Ts]},$$scope:{ctx:s}}});function G(z,N){return z[2]?Ss:Ps}let k=G(s),j=k(s),Y=s[1].power!=="none"&&s[1].power!=="varies"&&Gr(s),Z=s[0].notes!==void 0&&s[0].notes.length>0&&qr(s);return{c(){e=y("div"),t=y("div"),r=y("div"),n=y("span"),i=y("a"),a=D(l),u=C(),c=y("span"),B(h.$$.fragment),d=C(),_=y("span"),j.c(),p=C(),$=y("span"),v=D("/ "),A=D(w),I=C(),H=y("div"),V=y("span"),U=D(O),Q=C(),ee=y("span"),Y&&Y.c(),W=C(),Z&&Z.c(),this.h()},l(z){e=E(z,"DIV",{class:!0});var N=S(e);t=E(N,"DIV",{class:!0});var X=S(t);r=E(X,"DIV",{class:!0});var x=S(r);n=E(x,"SPAN",{class:!0});var se=S(n);i=E(se,"A",{href:!0,class:!0});var q=S(i);a=R(q,l),q.forEach(f),se.forEach(f),u=L(x),c=E(x,"SPAN",{});var ie=S(c);F(h.$$.fragment,ie),d=L(ie),_=E(ie,"SPAN",{class:!0});var he=S(_);j.l(he),he.forEach(f),p=L(ie),$=E(ie,"SPAN",{class:!0});var Te=S($);v=R(Te,"/ "),A=R(Te,w),Te.forEach(f),ie.forEach(f),x.forEach(f),I=L(X),H=E(X,"DIV",{class:!0});var oe=S(H);V=E(oe,"SPAN",{class:!0});var fe=S(V);U=R(fe,O),fe.forEach(f),Q=L(oe),ee=E(oe,"SPAN",{});var Ae=S(ee);Y&&Y.l(Ae),Ae.forEach(f),oe.forEach(f),X.forEach(f),W=L(N),Z&&Z.l(N),N.forEach(f),this.h()},h(){b(i,"href",o=Pe+"/moves/"+s[0].moveId),b(i,"class","svelte-1kxv9x5"),b(n,"class","flex-span svelte-1kxv9x5"),b(_,"class","current svelte-1kxv9x5"),b($,"class","max"),b(r,"class","hrow space-after-tiny svelte-1kxv9x5"),b(V,"class","capitalize flex-span svelte-1kxv9x5"),b(H,"class","hrow tiny-font svelte-1kxv9x5"),b(t,"class","vstack bg-by-type rounded space-inner svelte-1kxv9x5"),ve(t,"--bg",ne),b(e,"class","vstack space-after svelte-1kxv9x5")},m(z,N){g(z,e,N),m(e,t),m(t,r),m(r,n),m(n,i),m(i,a),m(r,u),m(r,c),M(h,c,null),m(c,d),m(c,_),j.m(_,null),m(c,p),m(c,$),m($,v),m($,A),m(t,I),m(t,H),m(H,V),m(V,U),m(H,Q),m(H,ee),Y&&Y.m(ee,null),m(e,W),Z&&Z.m(e,null),J=!0},p(z,[N]){(!J||N&2)&&l!==(l=z[1].name+"")&&le(a,l),(!J||N&1&&o!==(o=Pe+"/moves/"+z[0].moveId))&&b(i,"href",o);const X={};N&4098&&(X.$$scope={dirty:N,ctx:z}),h.$set(X),k===(k=G(z))&&j?j.p(z,N):(j.d(1),j=k(z),j&&(j.c(),j.m(_,null))),(!J||N&1)&&w!==(w=z[0].pp.max+"")&&le(A,w),(!J||N&2)&&O!==(O=z[1].type+"")&&le(U,O),z[1].power!=="none"&&z[1].power!=="varies"?Y?Y.p(z,N):(Y=Gr(z),Y.c(),Y.m(ee,null)):Y&&(Y.d(1),Y=null),N&2&&ne!==(ne=`var(--skin-${z[1].type}-bg)`)&&ve(t,"--bg",ne),z[0].notes!==void 0&&z[0].notes.length>0?Z?Z.p(z,N):(Z=qr(z),Z.c(),Z.m(e,null)):Z&&(Z.d(1),Z=null)},i(z){J||(T(h.$$.fragment,z),J=!0)},o(z){P(h.$$.fragment,z),J=!1},d(z){z&&f(e),K(h),j.d(),Y&&Y.d(),Z&&Z.d()}}}function As(s,e,t){let r,n,i;const l=rt(),a=$=>(v,w)=>$(w)>$(v)?w:v;let{move:o}=e,{moveData:u}=e,{proficiencyBonus:c}=e,{attributes:h}=e,{editable:d}=e,_=0;const p=$=>{l("update",{value:parseInt($.target.value??"0")})};return s.$$set=$=>{"move"in $&&t(0,o=$.move),"moveData"in $&&t(1,u=$.moveData),"proficiencyBonus"in $&&t(7,c=$.proficiencyBonus),"attributes"in $&&t(8,h=$.attributes),"editable"in $&&t(2,d=$.editable)},s.$$.update=()=>{if(s.$$.dirty&1&&t(5,r=o.pp.current),s.$$.dirty&258&&u.power!=="none"&&u.power!=="varies"){const v=(u.power==="any"?["str","dex","con","int","wis","cha"]:u.power).reduce(a(w=>h[w]));t(9,_=Bt(h[v]))}s.$$.dirty&640&&t(4,n=c+_),s.$$.dirty&640&&t(3,i=8+c+_)},[o,u,d,i,n,r,p,c,h,_]}class Os extends ae{constructor(e){super(),ue(this,e,As,Is,ce,{move:0,moveData:1,proficiencyBonus:7,attributes:8,editable:2})}}function Vr(s,e,t){const r=s.slice();r[7]=e[t];const n=r[3].find(function(...l){return s[5](r[7],...l)});return r[8]=n,r}function Jr(s){let e,t,r,n;const i=[Rs,Ds],l=[];function a(o,u){return o[3]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Ds(s){let e,t;return e=new nt({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Rs(s){let e,t,r,n,i,l=s[0].moves,a=[];for(let u=0;u<l.length;u+=1)a[u]=Yr(Vr(s,l,u));const o=u=>P(a[u],1,1,()=>{a[u]=null});return{c(){e=y("h2"),t=D("Moves"),r=C(),n=y("ul");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=E(u,"H2",{});var c=S(e);t=R(c,"Moves"),c.forEach(f),r=L(u),n=E(u,"UL",{});var h=S(n);for(let d=0;d<a.length;d+=1)a[d].l(h);h.forEach(f),this.h()},h(){ve(n,"list-style","none"),ve(n,"padding","0")},m(u,c){g(u,e,c),m(e,t),g(u,r,c),g(u,n,c);for(let h=0;h<a.length;h+=1)a[h].m(n,null);i=!0},p(u,c){if(c&31){l=u[0].moves;let h;for(h=0;h<l.length;h+=1){const d=Vr(u,l,h);a[h]?(a[h].p(d,c),T(a[h],1)):(a[h]=Yr(d),a[h].c(),T(a[h],1),a[h].m(n,null))}for(_e(),h=l.length;h<a.length;h+=1)o(h);me()}},i(u){if(!i){for(let c=0;c<l.length;c+=1)T(a[c]);i=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)P(a[c]);i=!1},d(u){u&&f(e),u&&f(r),u&&f(n),Oe(a,u)}}}function Yr(s){let e,t,r,n;return t=new Os({props:{move:s[7],moveData:s[8],editable:s[1],proficiencyBonus:s[2],attributes:s[0].attributes}}),t.$on("update",function(){or(s[4](s[7]))&&s[4](s[7]).apply(this,arguments)}),{c(){e=y("li"),B(t.$$.fragment),r=C()},l(i){e=E(i,"LI",{});var l=S(e);F(t.$$.fragment,l),r=L(l),l.forEach(f)},m(i,l){g(i,e,l),M(t,e,null),m(e,r),n=!0},p(i,l){s=i;const a={};l&1&&(a.move=s[7]),l&9&&(a.moveData=s[8]),l&2&&(a.editable=s[1]),l&4&&(a.proficiencyBonus=s[2]),l&1&&(a.attributes=s[0].attributes),t.$set(a)},i(i){n||(T(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&f(e),K(t)}}}function js(s){let e,t,r=s[0].moves.length>0&&Jr(s);return{c(){r&&r.c(),e=re()},l(n){r&&r.l(n),e=re()},m(n,i){r&&r.m(n,i),g(n,e,i),t=!0},p(n,[i]){n[0].moves.length>0?r?(r.p(n,i),i&1&&T(r,1)):(r=Jr(n),r.c(),T(r,1),r.m(e.parentNode,e)):r&&(_e(),P(r,1,1,()=>{r=null}),me())},i(n){t||(T(r),t=!0)},o(n){P(r),t=!1},d(n){r&&r.d(n),n&&f(e)}}}function Ns(s,e,t){let r,n;Ne(s,fr,c=>t(3,n=c));const i=rt();let{pokemon:l}=e,{editable:a=!1}=e;const o=c=>h=>{i("update",{...c,pp:{current:h.detail.value,max:c.pp.max}})},u=(c,h)=>h.id===c.moveId;return s.$$set=c=>{"pokemon"in c&&t(0,l=c.pokemon),"editable"in c&&t(1,a=c.editable)},s.$$.update=()=>{s.$$.dirty&1&&t(2,r=hr(l.level))},[l,a,r,n,o,u]}class Cs extends ae{constructor(e){super(),ue(this,e,Ns,js,ce,{pokemon:0,editable:1})}}function Wr(s){let e,t,r=s[0].name+"",n,i,l=s[0].description+"",a;return{c(){e=y("p"),t=y("strong"),n=D(r),i=D(": "),a=D(l),this.h()},l(o){e=E(o,"P",{class:!0});var u=S(e);t=E(u,"STRONG",{});var c=S(t);n=R(c,r),c.forEach(f),i=R(u,": "),a=R(u,l),u.forEach(f),this.h()},h(){b(e,"class","svelte-kxv90g")},m(o,u){g(o,e,u),m(e,t),m(t,n),m(e,i),m(e,a)},p(o,u){u&1&&r!==(r=o[0].name+"")&&le(n,r),u&1&&l!==(l=o[0].description+"")&&le(a,l)},d(o){o&&f(e)}}}function Ls(s){let e,t=s[0]&&Wr(s);return{c(){t&&t.c(),e=re()},l(r){t&&t.l(r),e=re()},m(r,n){t&&t.m(r,n),g(r,e,n)},p(r,[n]){r[0]?t?t.p(r,n):(t=Wr(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(r){t&&t.d(r),r&&f(e)}}}function Us(s,e,t){let r,{pokemon:n}=e,{species:i}=e;return s.$$set=l=>{"pokemon"in l&&t(1,n=l.pokemon),"species"in l&&t(2,i=l.species)},s.$$.update=()=>{s.$$.dirty&6&&t(0,r=i.abilities.find(l=>l.id===n.ability))},[r,n,i]}class Bs extends ae{constructor(e){super(),ue(this,e,Us,Ls,ce,{pokemon:1,species:2})}}function Xr(s,e,t){const r=s.slice();return r[1]=e[t],r}function Zr(s){let e,t=s[1]+"",r;return{c(){e=y("p"),r=D(t),this.h()},l(n){e=E(n,"P",{class:!0});var i=S(e);r=R(i,t),i.forEach(f),this.h()},h(){b(e,"class","no-space-last svelte-hsmlpp")},m(n,i){g(n,e,i),m(e,r)},p(n,i){i&1&&t!==(t=n[1]+"")&&le(r,t)},d(n){n&&f(e)}}}function Qr(s){let e,t=s[1].length>0&&Zr(s);return{c(){t&&t.c(),e=re()},l(r){t&&t.l(r),e=re()},m(r,n){t&&t.m(r,n),g(r,e,n)},p(r,n){r[1].length>0?t?t.p(r,n):(t=Zr(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&f(e)}}}function Fs(s){let e,t,r,n,i=s[0].notes.split(`
`),l=[];for(let a=0;a<i.length;a+=1)l[a]=Qr(Xr(s,i,a));return{c(){e=y("h2"),t=D("General Notes"),r=C(),n=y("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=E(a,"H2",{});var o=S(e);t=R(o,"General Notes"),o.forEach(f),r=L(a),n=E(a,"DIV",{class:!0});var u=S(n);for(let c=0;c<l.length;c+=1)l[c].l(u);u.forEach(f),this.h()},h(){b(n,"class","font-sm svelte-hsmlpp")},m(a,o){g(a,e,o),m(e,t),g(a,r,o),g(a,n,o);for(let u=0;u<l.length;u+=1)l[u].m(n,null)},p(a,[o]){if(o&1){i=a[0].notes.split(`
`);let u;for(u=0;u<i.length;u+=1){const c=Xr(a,i,u);l[u]?l[u].p(c,o):(l[u]=Qr(c),l[u].c(),l[u].m(n,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length}},i:te,o:te,d(a){a&&f(e),a&&f(r),a&&f(n),Oe(l,a)}}}function Ms(s,e,t){let{pokemon:r}=e;return s.$$set=n=>{"pokemon"in n&&t(0,r=n.pokemon)},[r]}class Ks extends ae{constructor(e){super(),ue(this,e,Ms,Fs,ce,{pokemon:0})}}function xr(s){let e,t,r;return t=new ni({props:{media:s[1].media,alt:""}}),{c(){e=y("div"),B(t.$$.fragment),this.h()},l(n){e=E(n,"DIV",{class:!0});var i=S(e);F(t.$$.fragment,i),i.forEach(f),this.h()},h(){b(e,"class","square-image svelte-16h5b9"),ve(e,"--size","clamp(8rem, 12.66vw, 9.5rem)")},m(n,i){g(n,e,i),M(t,e,null),r=!0},p(n,i){const l={};i&2&&(l.media=n[1].media),t.$set(l)},i(n){r||(T(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&f(e),K(t)}}}function Hs(s){let e,t;return e=new Si({props:{type:s[1].type}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&2&&(i.type=r[1].type),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function en(s){let e,t,r,n,i;return n=new Ks({props:{pokemon:s[0]}}),{c(){e=y("hr"),t=C(),r=y("section"),B(n.$$.fragment),this.h()},l(l){e=E(l,"HR",{}),t=L(l),r=E(l,"SECTION",{class:!0});var a=S(r);F(n.$$.fragment,a),a.forEach(f),this.h()},h(){b(r,"class","svelte-16h5b9")},m(l,a){g(l,e,a),g(l,t,a),g(l,r,a),M(n,r,null),i=!0},p(l,a){const o={};a&1&&(o.pokemon=l[0]),n.$set(o)},i(l){i||(T(n.$$.fragment,l),i=!0)},o(l){P(n.$$.fragment,l),i=!1},d(l){l&&f(e),l&&f(t),l&&f(r),K(n)}}}function zs(s){var G;let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$,v,w,A,I,H,V,O,U,Q,ee,ne;n=new rs({props:{pokemon:s[0],species:s[1]}}),l=new ms({props:{pokemon:s[0],species:s[1],editable:s[2]}}),l.$on("update",s[4]),o=new bs({props:{pokemon:s[0],species:s[1]}});let W=s[3]&&xr(s);d=new Pi({props:{attributes:s[0].attributes}}),p=new Es({props:{pokemon:s[0]}}),v=new zt({props:{$$slots:{default:[Hs]},$$scope:{ctx:s}}}),A=new Bs({props:{pokemon:s[0],species:s[1]}}),U=new Cs({props:{pokemon:s[0],editable:s[2]}}),U.$on("update",s[5]);let J=((G=s[0].notes)==null?void 0:G.length)>0&&en(s);return{c(){e=y("section"),t=y("div"),r=y("div"),B(n.$$.fragment),i=C(),B(l.$$.fragment),a=C(),B(o.$$.fragment),u=C(),W&&W.c(),c=C(),h=y("section"),B(d.$$.fragment),_=C(),B(p.$$.fragment),$=C(),B(v.$$.fragment),w=C(),B(A.$$.fragment),I=C(),H=y("hr"),V=C(),O=y("section"),B(U.$$.fragment),Q=C(),J&&J.c(),ee=re(),this.h()},l(k){e=E(k,"SECTION",{class:!0});var j=S(e);t=E(j,"DIV",{});var Y=S(t);r=E(Y,"DIV",{});var Z=S(r);F(n.$$.fragment,Z),i=L(Z),F(l.$$.fragment,Z),Z.forEach(f),a=L(Y),F(o.$$.fragment,Y),Y.forEach(f),u=L(j),W&&W.l(j),j.forEach(f),c=L(k),h=E(k,"SECTION",{class:!0});var z=S(h);F(d.$$.fragment,z),_=L(z),F(p.$$.fragment,z),$=L(z),F(v.$$.fragment,z),w=L(z),F(A.$$.fragment,z),z.forEach(f),I=L(k),H=E(k,"HR",{}),V=L(k),O=E(k,"SECTION",{class:!0});var N=S(O);F(U.$$.fragment,N),N.forEach(f),Q=L(k),J&&J.l(k),ee=re(),this.h()},h(){ve(r,"margin-bottom","0.5em"),ve(t,"flex","1"),ve(t,"width","100%"),b(e,"class","info column lg:row svelte-16h5b9"),b(h,"class","stats svelte-16h5b9"),b(O,"class","svelte-16h5b9")},m(k,j){g(k,e,j),m(e,t),m(t,r),M(n,r,null),m(r,i),M(l,r,null),m(t,a),M(o,t,null),m(e,u),W&&W.m(e,null),g(k,c,j),g(k,h,j),M(d,h,null),m(h,_),M(p,h,null),m(h,$),M(v,h,null),m(h,w),M(A,h,null),g(k,I,j),g(k,H,j),g(k,V,j),g(k,O,j),M(U,O,null),g(k,Q,j),J&&J.m(k,j),g(k,ee,j),ne=!0},p(k,[j]){var ie;const Y={};j&1&&(Y.pokemon=k[0]),j&2&&(Y.species=k[1]),n.$set(Y);const Z={};j&1&&(Z.pokemon=k[0]),j&2&&(Z.species=k[1]),j&4&&(Z.editable=k[2]),l.$set(Z);const z={};j&1&&(z.pokemon=k[0]),j&2&&(z.species=k[1]),o.$set(z),k[3]?W?(W.p(k,j),j&8&&T(W,1)):(W=xr(k),W.c(),T(W,1),W.m(e,null)):W&&(_e(),P(W,1,1,()=>{W=null}),me());const N={};j&1&&(N.attributes=k[0].attributes),d.$set(N);const X={};j&1&&(X.pokemon=k[0]),p.$set(X);const x={};j&130&&(x.$$scope={dirty:j,ctx:k}),v.$set(x);const se={};j&1&&(se.pokemon=k[0]),j&2&&(se.species=k[1]),A.$set(se);const q={};j&1&&(q.pokemon=k[0]),j&4&&(q.editable=k[2]),U.$set(q),((ie=k[0].notes)==null?void 0:ie.length)>0?J?(J.p(k,j),j&1&&T(J,1)):(J=en(k),J.c(),T(J,1),J.m(ee.parentNode,ee)):J&&(_e(),P(J,1,1,()=>{J=null}),me())},i(k){ne||(T(n.$$.fragment,k),T(l.$$.fragment,k),T(o.$$.fragment,k),T(W),T(d.$$.fragment,k),T(p.$$.fragment,k),T(v.$$.fragment,k),T(A.$$.fragment,k),T(U.$$.fragment,k),T(J),ne=!0)},o(k){P(n.$$.fragment,k),P(l.$$.fragment,k),P(o.$$.fragment,k),P(W),P(d.$$.fragment,k),P(p.$$.fragment,k),P(v.$$.fragment,k),P(A.$$.fragment,k),P(U.$$.fragment,k),P(J),ne=!1},d(k){k&&f(e),K(n),K(l),K(o),W&&W.d(),k&&f(c),k&&f(h),K(d),K(p),K(v),K(A),k&&f(I),k&&f(H),k&&f(V),k&&f(O),K(U),k&&f(Q),J&&J.d(k),k&&f(ee)}}}function Gs(s,e,t){let r;const n=rt();let{pokemon:i}=e,{species:l}=e,{editable:a}=e;const o=c=>{n("update-health",{...i,hp:{current:c.detail.currentHp,max:i.hp.max},hitDice:{current:c.detail.currentHitDice,max:i.hitDice.max}})},u=c=>{n("update-pp",c.detail)};return s.$$set=c=>{"pokemon"in c&&t(0,i=c.pokemon),"species"in c&&t(1,l=c.species),"editable"in c&&t(2,a=c.editable)},s.$$.update=()=>{s.$$.dirty&2&&t(3,r=l.media!=null)},[i,l,a,r,o,u]}class qs extends ae{constructor(e){super(),ue(this,e,Gs,zs,ce,{pokemon:0,species:1,editable:2})}}function Vs(s){let e,t,r,n,i,l,a,o,u,c=s[0].name+"",h,d,_,p,$,v,w,A,I=s[0].name+"",H,V,O;return $=new gi({}),{c(){e=y("div"),t=y("h1"),r=D("Cannot find pokemon"),n=C(),i=y("p"),l=D("No pokemon with id "),a=y("strong"),o=D(s[1]),u=D(" belongs to "),h=D(c),d=D("."),_=C(),p=y("p"),B($.$$.fragment),v=C(),w=y("p"),A=D("Select one of "),H=D(I),V=D("'s pokemon to view its details."),this.h()},l(U){e=E(U,"DIV",{class:!0});var Q=S(e);t=E(Q,"H1",{class:!0});var ee=S(t);r=R(ee,"Cannot find pokemon"),ee.forEach(f),n=L(Q),i=E(Q,"P",{});var ne=S(i);l=R(ne,"No pokemon with id "),a=E(ne,"STRONG",{});var W=S(a);o=R(W,s[1]),W.forEach(f),u=R(ne," belongs to "),h=R(ne,c),d=R(ne,"."),ne.forEach(f),_=L(Q),p=E(Q,"P",{class:!0});var J=S(p);F($.$$.fragment,J),J.forEach(f),v=L(Q),w=E(Q,"P",{});var G=S(w);A=R(G,"Select one of "),H=R(G,I),V=R(G,"'s pokemon to view its details."),G.forEach(f),Q.forEach(f),this.h()},h(){b(t,"class","large-font space-bottom svelte-lz8alb"),b(p,"class","missingno svelte-lz8alb"),b(e,"class","centered padded svelte-lz8alb")},m(U,Q){g(U,e,Q),m(e,t),m(t,r),m(e,n),m(e,i),m(i,l),m(i,a),m(a,o),m(i,u),m(i,h),m(i,d),m(e,_),m(e,p),M($,p,null),m(e,v),m(e,w),m(w,A),m(w,H),m(w,V),O=!0},p(U,[Q]){(!O||Q&2)&&le(o,U[1]),(!O||Q&1)&&c!==(c=U[0].name+"")&&le(h,c),(!O||Q&1)&&I!==(I=U[0].name+"")&&le(H,I)},i(U){O||(T($.$$.fragment,U),O=!0)},o(U){P($.$$.fragment,U),O=!1},d(U){U&&f(e),K($)}}}function Js(s,e,t){let{trainer:r}=e,{pokemonId:n}=e;return s.$$set=i=>{"trainer"in i&&t(0,r=i.trainer),"pokemonId"in i&&t(1,n=i.pokemonId)},[r,n]}class Ys extends ae{constructor(e){super(),ue(this,e,Js,Vs,ce,{trainer:0,pokemonId:1})}}function Ws(s){let e,t,r,n;return e=new Ge({props:{value:"Cannot find pokemon"}}),r=new Ys({props:{trainer:s[0].info,pokemonId:s[1]}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,l){const a={};l&1&&(a.trainer=i[0].info),l&2&&(a.pokemonId=i[1]),r.$set(a)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function Xs(s){let e,t,r;e=new Ge({props:{value:(s[2]?`${s[2]} `:"")+s[3].nickname}});const n=s[5].default,i=it(n,s,s[4],null);return{c(){B(e.$$.fragment),t=C(),i&&i.c()},l(l){F(e.$$.fragment,l),t=L(l),i&&i.l(l)},m(l,a){M(e,l,a),g(l,t,a),i&&i.m(l,a),r=!0},p(l,a){const o={};a&12&&(o.value=(l[2]?`${l[2]} `:"")+l[3].nickname),e.$set(o),i&&i.p&&(!r||a&16)&&st(i,n,l,l[4],r?ot(n,l[4],a,null):lt(l[4]),null)},i(l){r||(T(e.$$.fragment,l),T(i,l),r=!0)},o(l){P(e.$$.fragment,l),P(i,l),r=!1},d(l){K(e,l),l&&f(t),i&&i.d(l)}}}function Zs(s){let e,t,r,n;const i=[Xs,Ws],l=[];function a(o,u){return o[3]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,[u]){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Qs(s,e,t){let r,{$$slots:n={},$$scope:i}=e,{trainer:l}=e,{id:a}=e,{titlePrefix:o=void 0}=e;return s.$$set=u=>{"trainer"in u&&t(0,l=u.trainer),"id"in u&&t(1,a=u.id),"titlePrefix"in u&&t(2,o=u.titlePrefix),"$$scope"in u&&t(4,i=u.$$scope)},s.$$.update=()=>{s.$$.dirty&3&&t(3,r=l.pokemon.find(u=>u.id===a))},[l,a,o,r,i,n]}class qt extends ae{constructor(e){super(),ue(this,e,Qs,Zs,ce,{trainer:0,id:1,titlePrefix:2})}}function xs(s){let e,t;return e=new nt({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function el(s){let e,t;return e=new qe({props:{title:s[2].nickname,$$slots:{"header-extra":[ll],default:[sl]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.title=r[2].nickname),n&572&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function tn(s){let e,t;return e=new De({props:{$$slots:{default:[il]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&540&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function tl(s){let e;return{c(){e=D("Remove")},l(t){e=R(t,"Remove")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function rn(s){let e,t;return e=new be({props:{href:pe.trainers(s[3].info.readKey,s[2].id,Ie.evolvePokemon),variant:"ghost",$$slots:{default:[rl]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&12&&(i.href=pe.trainers(r[3].info.readKey,r[2].id,Ie.evolvePokemon)),n&512&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function rl(s){let e;return{c(){e=D("Evolve")},l(t){e=R(t,"Evolve")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function nl(s){let e;return{c(){e=D("Edit")},l(t){e=R(t,"Edit")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function il(s){var a,o;let e,t,r,n,i;e=new be({props:{href:pe.trainers(s[3].info.readKey,s[2].id,Ie.removePokemon),variant:"ghost",$$slots:{default:[tl]},$$scope:{ctx:s}}});let l=((o=(a=s[4].evolution)==null?void 0:a.to)==null?void 0:o.length)>0&&rn(s);return n=new be({props:{href:pe.trainers(s[3].info.readKey,s[2].id,Ie.editPokemon),$$slots:{default:[nl]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),l&&l.c(),r=C(),B(n.$$.fragment)},l(u){F(e.$$.fragment,u),t=L(u),l&&l.l(u),r=L(u),F(n.$$.fragment,u)},m(u,c){M(e,u,c),g(u,t,c),l&&l.m(u,c),g(u,r,c),M(n,u,c),i=!0},p(u,c){var _,p;const h={};c&12&&(h.href=pe.trainers(u[3].info.readKey,u[2].id,Ie.removePokemon)),c&512&&(h.$$scope={dirty:c,ctx:u}),e.$set(h),((p=(_=u[4].evolution)==null?void 0:_.to)==null?void 0:p.length)>0?l?(l.p(u,c),c&16&&T(l,1)):(l=rn(u),l.c(),T(l,1),l.m(r.parentNode,r)):l&&(_e(),P(l,1,1,()=>{l=null}),me());const d={};c&12&&(d.href=pe.trainers(u[3].info.readKey,u[2].id,Ie.editPokemon)),c&512&&(d.$$scope={dirty:c,ctx:u}),n.$set(d)},i(u){i||(T(e.$$.fragment,u),T(l),T(n.$$.fragment,u),i=!0)},o(u){P(e.$$.fragment,u),P(l),P(n.$$.fragment,u),i=!1},d(u){K(e,u),u&&f(t),l&&l.d(u),u&&f(r),K(n,u)}}}function sl(s){let e,t,r,n;e=new qs({props:{pokemon:s[2],species:s[4],editable:s[5]}}),e.$on("update-health",s[6]),e.$on("update-pp",s[7]);let i=s[5]&&tn(s);return{c(){B(e.$$.fragment),t=C(),i&&i.c(),r=re()},l(l){F(e.$$.fragment,l),t=L(l),i&&i.l(l),r=re()},m(l,a){M(e,l,a),g(l,t,a),i&&i.m(l,a),g(l,r,a),n=!0},p(l,a){const o={};a&4&&(o.pokemon=l[2]),a&16&&(o.species=l[4]),a&32&&(o.editable=l[5]),e.$set(o),l[5]?i?(i.p(l,a),a&32&&T(i,1)):(i=tn(l),i.c(),T(i,1),i.m(r.parentNode,r)):i&&(_e(),P(i,1,1,()=>{i=null}),me())},i(l){n||(T(e.$$.fragment,l),T(i),n=!0)},o(l){P(e.$$.fragment,l),P(i),n=!1},d(l){K(e,l),l&&f(t),i&&i.d(l),l&&f(r)}}}function ll(s){let e,t;return e=new Ei({props:{slot:"header-extra",type:s[4].type}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.type=r[4].type),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ol(s){let e,t,r,n;const i=[el,xs],l=[];function a(o,u){return o[4]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function al(s){let e,t;return e=new qt({props:{trainer:s[3],id:s[1],$$slots:{default:[ol]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,[n]){const i={};n&8&&(i.trainer=r[3]),n&2&&(i.id=r[1]),n&572&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ul(s,e,t){let r,n,i,l,a=te,o=()=>(a(),a=ze(c,p=>t(3,l=p)),c),u;Ne(s,mt,p=>t(8,u=p)),s.$$.on_destroy.push(()=>a());let{trainer:c}=e;o();let{id:h}=e;const d=p=>{var $;($=l.update)==null||$.pokemon(p.detail,{optimistic:!0})},_=p=>{var $;($=l.update)==null||$.move(p.detail,{optimistic:!0})};return s.$$set=p=>{"trainer"in p&&o(t(0,c=p.trainer)),"id"in p&&t(1,h=p.id)},s.$$.update=()=>{s.$$.dirty&8&&t(5,r=l.update!=null),s.$$.dirty&10&&t(2,n=l.pokemon.find(p=>p.id===h)),s.$$.dirty&260&&t(4,i=u==null?void 0:u.find(p=>p.id===(n==null?void 0:n.pokemonId)))},[c,h,n,l,i,r,d,_,u]}class cl extends ae{constructor(e){super(),ue(this,e,ul,al,ce,{trainer:0,id:1})}}function nn(s){let e,t;return{c(){e=y("img"),this.h()},l(r){e=E(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Lt(e.src,t=s[2])||b(e,"src",t),b(e,"alt",s[1]),b(e,"class","svelte-15kmae1")},m(r,n){g(r,e,n)},p(r,n){n&4&&!Lt(e.src,t=r[2])&&b(e,"src",t),n&2&&b(e,"alt",r[1])},d(r){r&&f(e)}}}function fl(s){var r;let e,t=((r=s[0])==null?void 0:r.sprite)&&nn(s);return{c(){t&&t.c(),e=re()},l(n){t&&t.l(n),e=re()},m(n,i){t&&t.m(n,i),g(n,e,i)},p(n,[i]){var l;(l=n[0])!=null&&l.sprite?t?t.p(n,i):(t=nn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(n){t&&t.d(n),n&&f(e)}}}function hl(s,e,t){let r,n,{media:i}=e,{alt:l}=e;return s.$$set=a=>{"media"in a&&t(0,i=a.media),"alt"in a&&t(1,l=a.alt)},s.$$.update=()=>{s.$$.dirty&1&&t(3,r=/^http/.test(i==null?void 0:i.sprite)),s.$$.dirty&9&&t(2,n=r?i==null?void 0:i.sprite:`${Ti}${i==null?void 0:i.sprite}`)},[i,l,n,r]}class dl extends ae{constructor(e){super(),ue(this,e,hl,fl,ce,{media:0,alt:1})}}function pl(s){var J,G;let e,t,r,n,i,l=s[1].nickname+"",a,o,u,c,h,d,_,p,$,v=s[1].hp.current+"",w,A,I=s[1].hp.max+"",H,V,O,U,Q=s[1].level+"",ee,ne,W;return r=new dl({props:{media:(J=s[2])==null?void 0:J.media,alt:(G=s[2])==null?void 0:G.name}}),c=new ii({props:{gender:s[1].gender}}),_=new rr({props:{current:s[1].hp.current,max:s[1].hp.max}}),{c(){e=y("a"),t=y("span"),B(r.$$.fragment),n=C(),i=y("span"),a=D(l),o=C(),u=y("span"),B(c.$$.fragment),h=C(),d=y("span"),B(_.$$.fragment),p=C(),$=y("span"),w=D(v),A=D("/"),H=D(I),V=C(),O=y("span"),U=D("Lv. "),ee=D(Q),this.h()},l(k){e=E(k,"A",{href:!0,class:!0});var j=S(e);t=E(j,"SPAN",{class:!0});var Y=S(t);F(r.$$.fragment,Y),Y.forEach(f),n=L(j),i=E(j,"SPAN",{});var Z=S(i);a=R(Z,l),Z.forEach(f),o=L(j),u=E(j,"SPAN",{class:!0});var z=S(u);F(c.$$.fragment,z),z.forEach(f),h=L(j),d=E(j,"SPAN",{class:!0});var N=S(d);F(_.$$.fragment,N),N.forEach(f),p=L(j),$=E(j,"SPAN",{});var X=S($);w=R(X,v),A=R(X,"/"),H=R(X,I),X.forEach(f),V=L(j),O=E(j,"SPAN",{class:!0});var x=S(O);U=R(x,"Lv. "),ee=R(x,Q),x.forEach(f),j.forEach(f),this.h()},h(){b(t,"class","max-height svelte-19sye7i"),ve(t,"grid-area","sprite"),ve(i,"grid-area","name"),b(u,"class","right away-from-edge flex svelte-19sye7i"),ve(u,"grid-area","gender"),b(d,"class","away-from-edge svelte-19sye7i"),ve(d,"grid-area","hpbar"),ve($,"grid-area","hp"),b(O,"class","right svelte-19sye7i"),ve(O,"grid-area","lv"),b(e,"href",ne=pe.trainers(s[0],s[1].id)),b(e,"class","selectable-bubble gridded svelte-19sye7i")},m(k,j){g(k,e,j),m(e,t),M(r,t,null),m(e,n),m(e,i),m(i,a),m(e,o),m(e,u),M(c,u,null),m(e,h),m(e,d),M(_,d,null),m(e,p),m(e,$),m($,w),m($,A),m($,H),m(e,V),m(e,O),m(O,U),m(O,ee),W=!0},p(k,[j]){var N,X;const Y={};j&4&&(Y.media=(N=k[2])==null?void 0:N.media),j&4&&(Y.alt=(X=k[2])==null?void 0:X.name),r.$set(Y),(!W||j&2)&&l!==(l=k[1].nickname+"")&&le(a,l);const Z={};j&2&&(Z.gender=k[1].gender),c.$set(Z);const z={};j&2&&(z.current=k[1].hp.current),j&2&&(z.max=k[1].hp.max),_.$set(z),(!W||j&2)&&v!==(v=k[1].hp.current+"")&&le(w,v),(!W||j&2)&&I!==(I=k[1].hp.max+"")&&le(H,I),(!W||j&2)&&Q!==(Q=k[1].level+"")&&le(ee,Q),(!W||j&3&&ne!==(ne=pe.trainers(k[0],k[1].id)))&&b(e,"href",ne)},i(k){W||(T(r.$$.fragment,k),T(c.$$.fragment,k),T(_.$$.fragment,k),W=!0)},o(k){P(r.$$.fragment,k),P(c.$$.fragment,k),P(_.$$.fragment,k),W=!1},d(k){k&&f(e),K(r),K(c),K(_)}}}function _l(s,e,t){let r,n;Ne(s,mt,a=>t(3,n=a));let{trainer:i}=e,{pokemon:l}=e;return s.$$set=a=>{"trainer"in a&&t(0,i=a.trainer),"pokemon"in a&&t(1,l=a.pokemon)},s.$$.update=()=>{s.$$.dirty&10&&t(2,r=n==null?void 0:n.find(a=>a.id===l.pokemonId))},[i,l,r,n]}class ml extends ae{constructor(e){super(),ue(this,e,_l,pl,ce,{trainer:0,pokemon:1})}}const $l=s=>({}),sn=s=>({}),vl=s=>({}),ln=s=>({});function gl(s){let e,t,r,n,i,l,a,o;const u=s[2].link,c=it(u,s,s[1],ln),h=s[2].action,d=it(h,s,s[1],sn);return{c(){e=y("div"),t=y("p"),r=D(s[0]),n=C(),i=y("div"),l=y("p"),c&&c.c(),a=C(),d&&d.c(),this.h()},l(_){e=E(_,"DIV",{class:!0});var p=S(e);t=E(p,"P",{class:!0});var $=S(t);r=R($,s[0]),$.forEach(f),n=L(p),i=E(p,"DIV",{class:!0});var v=S(i);l=E(v,"P",{class:!0});var w=S(l);c&&c.l(w),w.forEach(f),a=L(v),d&&d.l(v),v.forEach(f),p.forEach(f),this.h()},h(){b(t,"class","large-font space-bottom svelte-7ukp8r"),b(l,"class","indent small-font no-space svelte-7ukp8r"),b(i,"class","flex-row space-between svelte-7ukp8r"),b(e,"class","flex-column space-bottom svelte-7ukp8r")},m(_,p){g(_,e,p),m(e,t),m(t,r),m(e,n),m(e,i),m(i,l),c&&c.m(l,null),m(i,a),d&&d.m(i,null),o=!0},p(_,[p]){(!o||p&1)&&le(r,_[0]),c&&c.p&&(!o||p&2)&&st(c,u,_,_[1],o?ot(u,_[1],p,vl):lt(_[1]),ln),d&&d.p&&(!o||p&2)&&st(d,h,_,_[1],o?ot(h,_[1],p,$l):lt(_[1]),sn)},i(_){o||(T(c,_),T(d,_),o=!0)},o(_){P(c,_),P(d,_),o=!1},d(_){_&&f(e),c&&c.d(_),d&&d.d(_)}}}function bl(s,e,t){let{$$slots:r={},$$scope:n}=e,{title:i}=e;return s.$$set=l=>{"title"in l&&t(0,i=l.title),"$$scope"in l&&t(1,n=l.$$scope)},[i,n,r]}class li extends ae{constructor(e){super(),ue(this,e,bl,gl,ce,{title:0})}}function on(s,e,t){const r=s.slice();return r[9]=e[t],r}function kl(s){let e,t;return{c(){e=y("a"),t=D("See Trainer List >"),this.h()},l(r){e=E(r,"A",{href:!0,class:!0});var n=S(e);t=R(n,"See Trainer List >"),n.forEach(f),this.h()},h(){b(e,"href",Pe+"/trainers"),b(e,"class","dark-font svelte-em5nzm")},m(r,n){g(r,e,n),m(e,t)},p:te,d(r){r&&f(e)}}}function wl(s){let e,t;return{c(){e=y("a"),t=D("View trainer profile >"),this.h()},l(r){e=E(r,"A",{href:!0,class:!0});var n=S(e);t=R(n,"View trainer profile >"),n.forEach(f),this.h()},h(){b(e,"href",s[4]),b(e,"class","dark-font svelte-em5nzm")},m(r,n){g(r,e,n),m(e,t)},p(r,n){n&16&&b(e,"href",r[4])},d(r){r&&f(e)}}}function yl(s){let e;function t(i,l){return i[1]?wl:kl}let r=t(s),n=r(s);return{c(){e=y("span"),n.c(),this.h()},l(i){e=E(i,"SPAN",{slot:!0});var l=S(e);n.l(l),l.forEach(f),this.h()},h(){b(e,"slot","link")},m(i,l){g(i,e,l),n.m(e,null)},p(i,l){r===(r=t(i))&&n?n.p(i,l):(n.d(1),n=r(i),n&&(n.c(),n.m(e,null)))},d(i){i&&f(e),n.d()}}}function El(s){let e;return{c(){e=D("+ Add Pokemon")},l(t){e=R(t,"+ Add Pokemon")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Tl(s){let e,t,r;return t=new be({props:{href:s[4]+"&action=add-pokemon",$$slots:{default:[El]},$$scope:{ctx:s}}}),{c(){e=y("span"),B(t.$$.fragment),this.h()},l(n){e=E(n,"SPAN",{slot:!0});var i=S(e);F(t.$$.fragment,i),i.forEach(f),this.h()},h(){b(e,"slot","action"),ve(e,"visibility",s[6]?"visible":"hidden"),ve(e,"display","flex")},m(n,i){g(n,e,i),M(t,e,null),r=!0},p(n,i){const l={};i&16&&(l.href=n[4]+"&action=add-pokemon"),i&4096&&(l.$$scope={dirty:i,ctx:n}),t.$set(l),i&64&&ve(e,"visibility",n[6]?"visible":"hidden")},i(n){r||(T(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&f(e),K(t)}}}function an(s,e){let t,r,n,i;return r=new ml({props:{trainer:e[2].info.readKey,pokemon:e[9]}}),{key:s,first:null,c(){t=y("li"),B(r.$$.fragment),n=C(),this.h()},l(l){t=E(l,"LI",{class:!0});var a=S(t);F(r.$$.fragment,a),n=L(a),a.forEach(f),this.h()},h(){b(t,"class","space-after svelte-em5nzm"),this.first=t},m(l,a){g(l,t,a),M(r,t,null),m(t,n),i=!0},p(l,a){e=l;const o={};a&4&&(o.trainer=e[2].info.readKey),a&32&&(o.pokemon=e[9]),r.$set(o)},i(l){i||(T(r.$$.fragment,l),i=!0)},o(l){P(r.$$.fragment,l),i=!1},d(l){l&&f(t),K(r)}}}function Pl(s){let e,t,r,n,i,l,a,o,u,c=[],h=new Map,d;e=new li({props:{title:s[2].info.name+"'s Pokemon",$$slots:{action:[Tl],link:[yl]},$$scope:{ctx:s}}});function _(w){s[7](w)}let p={id:"filter-pokemon",label:"Search",matched:s[5].length,max:s[2].pokemon.length};s[3]!==void 0&&(p.value=s[3]),n=new ti({props:p}),Ot.push(()=>Dt(n,"value",_));let $=s[5];const v=w=>w[9].id;for(let w=0;w<$.length;w+=1){let A=on(s,$,w),I=v(A);h.set(I,c[w]=an(I,A))}return{c(){B(e.$$.fragment),t=C(),r=y("div"),B(n.$$.fragment),l=C(),a=y("div"),o=y("div"),u=y("ul");for(let w=0;w<c.length;w+=1)c[w].c();this.h()},l(w){F(e.$$.fragment,w),t=L(w),r=E(w,"DIV",{class:!0});var A=S(r);F(n.$$.fragment,A),A.forEach(f),l=L(w),a=E(w,"DIV",{class:!0});var I=S(a);o=E(I,"DIV",{class:!0});var H=S(o);u=E(H,"UL",{class:!0});var V=S(u);for(let O=0;O<c.length;O+=1)c[O].l(V);V.forEach(f),H.forEach(f),I.forEach(f),this.h()},h(){b(r,"class","space-bottom svelte-em5nzm"),b(u,"class","nolist no-space partial-width svelte-em5nzm"),b(o,"class","scrollable svelte-em5nzm"),b(a,"class","relative svelte-em5nzm")},m(w,A){M(e,w,A),g(w,t,A),g(w,r,A),M(n,r,null),g(w,l,A),g(w,a,A),m(a,o),m(o,u);for(let I=0;I<c.length;I+=1)c[I].m(u,null);d=!0},p(w,[A]){const I={};A&4&&(I.title=w[2].info.name+"'s Pokemon"),A&4178&&(I.$$scope={dirty:A,ctx:w}),e.$set(I);const H={};A&32&&(H.matched=w[5].length),A&4&&(H.max=w[2].pokemon.length),!i&&A&8&&(i=!0,H.value=w[3],Rt(()=>i=!1)),n.$set(H),A&36&&($=w[5],_e(),c=xn(c,A,v,1,w,$,h,u,ei,an,null,on),me())},i(w){if(!d){T(e.$$.fragment,w),T(n.$$.fragment,w);for(let A=0;A<$.length;A+=1)T(c[A]);d=!0}},o(w){P(e.$$.fragment,w),P(n.$$.fragment,w);for(let A=0;A<c.length;A+=1)P(c[A]);d=!1},d(w){K(e,w),w&&f(t),w&&f(r),K(n),w&&f(l),w&&f(a);for(let A=0;A<c.length;A+=1)c[A].d()}}}function Sl(s,e,t){let r,n,i,l,a=te,o=()=>(a(),a=ze(c,p=>t(2,l=p)),c),u;Ne(s,Sr,p=>t(3,u=p)),s.$$.on_destroy.push(()=>a());let{trainer:c}=e;o();let{currentPokemon:h}=e;const d=p=>($,v)=>p($).localeCompare(p(v));function _(p){u=p,Sr.set(u)}return s.$$set=p=>{"trainer"in p&&o(t(0,c=p.trainer)),"currentPokemon"in p&&t(1,h=p.currentPokemon)},s.$$.update=()=>{s.$$.dirty&4&&t(6,r=l.update!=null),s.$$.dirty&12&&t(5,n=l.pokemon.filter(p=>p.nickname.toLocaleLowerCase().includes(u.toLocaleLowerCase())).sort(d(p=>p.nickname))),s.$$.dirty&4&&t(4,i=`${Pe}/trainers?id=${l.info.readKey}`)},[c,h,l,u,i,n,r,_]}class Il extends ae{constructor(e){super(),ue(this,e,Sl,Pl,ce,{trainer:0,currentPokemon:1})}}var Qe=(s=>(s.Male="male",s.Female="female",s.None="none",s.Other="other",s))(Qe||{});const Mt=["reckless","rash","brave","arrogant","skittish","hasty","energetic","clumsy","apathetic","stubborn","grumpy","relaxed","careful","curious","naughty","cheerful","sassy","innocent","hardy","nimble"];class Al{constructor(e){Ce(this,"allTrainers",async()=>Promise.all(dr().map(e=>this.supabase.rpc("get_trainer",{_read_key:e}).maybeSingle().then(({data:t,error:r})=>{if(r)throw new Se("Could not get trainer.",r);if(t)return fn(t)}))).then(e=>e.filter(t=>t!=null)));Ce(this,"getTrainer",async e=>{const t=await this.supabase.rpc("get_trainer",{_read_key:e}).maybeSingle().then(({data:i,error:l})=>{if(l)throw new Se("Could not get trainer.",l);if(i)return fn(i)});if(!t)return;un(e);const r=await this.supabase.rpc("get_pokemon",{_trainer_id:t.id}).select().then(({data:i,error:l})=>{if(l)throw new Se("Could not trainer's pokemon.",l);return i.map(a=>jl(a))}).then(i=>Promise.all(i.map(l=>this.getMoveset(l.id).then(a=>({...l,moves:a}))))),n=Dl(e);return{info:t,pokemon:r,writeKey:n}});Ce(this,"newTrainer",async e=>{const{data:t,error:r}=await this.supabase.rpc("new_trainer",{_name:e.name,_description:e.description}).single();if(r)throw new Se("Could not create trainer.",r);return un(t.ret_read_key),cn(t.ret_read_key,t.ret_write_key),{info:{...e,id:t.ret_id,readKey:t.ret_read_key},pokemon:[],writeKey:t.ret_write_key}});Ce(this,"updateTrainerInfo",async(e,t)=>{const{data:r,error:n}=await this.supabase.rpc("update_trainer",{_write_key:e,_name:t.name,_description:t.description}).single();if(n)throw new Se("Could not update trainer.",n);if(r<=0)throw new Se("Either this trainer does not exist or you do not have permission to edit them.");return r>0});Ce(this,"removeTrainer",async(e,t,r)=>{const{data:n,error:i}=await this.supabase.rpc("delete_trainer",{_write_key:e,_id:t}).single();if(i)throw new Se("Could not delete trainer.",i);if(n<=0)throw new Se("Either this trainer does not exist or you do not have permission to edit them.");return Rl(r),Ol(r),n>0});Ce(this,"updatePokemon",async(e,t)=>{const{data:r,error:n}=await this.supabase.rpc("update_pokemon",{_write_key:e,_id:parseInt(t.id),_species:t.pokemonId,_nickname:t.nickname,_nature:t.nature,_level:t.level,_gender:t.gender,_strength:t.attributes.str,_dexterity:t.attributes.dex,_constitution:t.attributes.con,_intelligence:t.attributes.int,_wisdom:t.attributes.wis,_charisma:t.attributes.cha,_ac:t.ac,_hp_cur:t.hp.current,_hp_max:t.hp.max,_hit_dice_cur:t.hitDice.current,_hit_dice_max:t.hitDice.max,_prof_athletics:t.proficiencies.includes("athletics"),_prof_acrobatics:t.proficiencies.includes("acrobatics"),_prof_sleight_of_hand:t.proficiencies.includes("sleight of hand"),_prof_stealth:t.proficiencies.includes("stealth"),_prof_arcana:t.proficiencies.includes("arcana"),_prof_history:t.proficiencies.includes("history"),_prof_investigation:t.proficiencies.includes("investigation"),_prof_nature:t.proficiencies.includes("nature"),_prof_religion:t.proficiencies.includes("religion"),_prof_animal_handling:t.proficiencies.includes("animal handling"),_prof_insight:t.proficiencies.includes("insight"),_prof_medicine:t.proficiencies.includes("medicine"),_prof_perception:t.proficiencies.includes("perception"),_prof_survival:t.proficiencies.includes("survival"),_prof_deception:t.proficiencies.includes("deception"),_prof_intimidation:t.proficiencies.includes("intimidation"),_prof_performance:t.proficiencies.includes("performance"),_prof_persuasion:t.proficiencies.includes("persuasion"),_save_str:t.savingThrows.includes("str"),_save_dex:t.savingThrows.includes("dex"),_save_con:t.savingThrows.includes("con"),_save_int:t.savingThrows.includes("int"),_save_wis:t.savingThrows.includes("wis"),_save_cha:t.savingThrows.includes("cha"),_ability:t.ability,_notes:t.notes}).single();if(n)throw new Se("Could not update pokemon.",n);if(r<=0)throw new Se("Either this pokemon does not exist or you do not have permission to edit them.");return r>0});Ce(this,"addPokemonToTeam",async(e,t,r)=>{var a,o;const n={trainerId:t,pokemonId:r.id,nickname:r.name,nature:Mt[0],level:r.minLevel,gender:Qe.None,attributes:r.attributes,ac:r.ac,ability:(a=r.abilities[0])==null?void 0:a.id,hp:{current:r.hp,max:r.hp},hitDice:{current:r.minLevel,max:r.minLevel},proficiencies:r.skills,savingThrows:r.savingThrows,moves:[],notes:""},{data:i,error:l}=await this.supabase.rpc("add_pokemon",{_write_key:e,_nickname:r.name,_species:r.id,_nature:Mt[0],_level:r.minLevel,_gender:Qe.None,_strength:r.attributes.str,_dexterity:r.attributes.dex,_constitution:r.attributes.con,_intelligence:r.attributes.int,_wisdom:r.attributes.wis,_charisma:r.attributes.cha,_ac:r.ac,_hp_cur:r.hp,_hp_max:r.hp,_hit_dice_cur:r.minLevel,_hit_dice_max:r.minLevel,_prof_athletics:r.skills.includes("athletics"),_prof_acrobatics:r.skills.includes("acrobatics"),_prof_sleight_of_hand:r.skills.includes("sleight of hand"),_prof_stealth:r.skills.includes("stealth"),_prof_arcana:r.skills.includes("arcana"),_prof_history:r.skills.includes("history"),_prof_investigation:r.skills.includes("investigation"),_prof_nature:r.skills.includes("nature"),_prof_religion:r.skills.includes("religion"),_prof_animal_handling:r.skills.includes("animal handling"),_prof_insight:r.skills.includes("insight"),_prof_medicine:r.skills.includes("medicine"),_prof_perception:r.skills.includes("perception"),_prof_survival:r.skills.includes("survival"),_prof_deception:r.skills.includes("deception"),_prof_intimidation:r.skills.includes("intimidation"),_prof_performance:r.skills.includes("performance"),_prof_persuasion:r.skills.includes("persuasion"),_save_str:r.savingThrows.includes("str"),_save_dex:r.savingThrows.includes("dex"),_save_con:r.savingThrows.includes("con"),_save_int:r.savingThrows.includes("int"),_save_wis:r.savingThrows.includes("wis"),_save_cha:r.savingThrows.includes("cha"),_ability:(o=r.abilities[0])==null?void 0:o.id,_notes:""}).single();if(l)throw new Se("Could not add pokemon.",l);return{...n,id:i.toString()}});Ce(this,"removePokemon",async(e,t)=>{const{data:r,error:n}=await this.supabase.rpc("remove_pokemon",{_write_key:e,_id:t}).single();if(n)throw new Se("Could not remove pokemon.",n);return r>0});Ce(this,"updateMoveset",async(e,t,r)=>{const n=await this.getMoveset(t),i=r.map(o=>o.id),l=n.map(o=>o.id),a=l.filter(o=>!i.includes(o));return await Promise.all(a.map(o=>this.supabase.rpc("remove_move",{_write_key:e,_id:o}).single().then(({data:u,error:c})=>{if(c)throw new Se("Could not delete move.",c);if(u<=0)throw new Se("Either this pokemon does not exist or you do not have permission to edit them.");return u>0}))),await Promise.all(r.map(o=>l.includes(o.id)?this.supabase.rpc("update_move",{_write_key:e,_id:o.id,_move_id:o.moveId,_pp_cur:o.pp.current,_pp_max:o.pp.max,_notes:o.notes}).single().then(({data:u,error:c})=>{if(c)throw new Se("Could not update move.",c);if(u<=0)throw new Se("Either this pokemon does not exist or you do not have permission to edit them.");return{...o}}):this.supabase.rpc("add_move",{_write_key:e,_pokemon_id:t,_move_id:o.moveId,_pp_cur:o.pp.current,_pp_max:o.pp.max,_notes:o.notes}).single().then(({data:u,error:c})=>{if(c)throw new Se("Could not add move.",c);return{...o,id:u}})))});Ce(this,"updateOneMove",async(e,t)=>{const{data:r,error:n}=await this.supabase.rpc("update_move",{_write_key:e,_id:t.id,_move_id:t.moveId,_pp_cur:t.pp.current,_pp_max:t.pp.max,_notes:t.notes}).single();if(n)throw new Se("Could not update pokemon.",n);if(r<=0)throw new Se("Either this pokemon does not exist or you do not have permission to edit them.");return r>0});Ce(this,"verifyWriteKey",async(e,t)=>{const{data:r,error:n}=await this.supabase.rpc("verify_write_key",{_id:e.id,_write_key:t}).single();if(n)throw new Se("Could not verify trainer.",n);return r>0&&cn(e.readKey,t),r>0});Ce(this,"getMoveset",async e=>{const{data:t,error:r}=await this.supabase.rpc("get_moveset",{_pokemon_id:e}).select();if(r)throw new Se("Could not get moveset.",r);return(t==null?void 0:t.map(n=>Nl(n)))??[]});this.supabase=e}}const dr=()=>(localStorage.getItem("trainers")??"").split(","),un=s=>{const e=dr(),t=[...new Set(e.concat(s))];localStorage.setItem("trainers",t.join(","))},Ol=s=>{const t=dr().filter(r=>r!==s);localStorage.setItem("trainers",t.join(","))},Dl=s=>localStorage.getItem(`write:${s}`),cn=(s,e)=>{localStorage.setItem(`write:${s}`,e)},Rl=s=>{localStorage.removeItem(`write:${s}`)},fn=s=>({id:s.id,readKey:s.read_key,name:s.name,description:s.description}),hn=s=>Object.entries(s).filter(([,e])=>e).map(([e])=>e),jl=s=>({id:s.id.toString(),trainerId:s.trainer_id,pokemonId:s.species,nickname:s.nickname,nature:s.nature,level:s.level,gender:s.gender,attributes:{str:s.strength,dex:s.dexterity,con:s.constitution,int:s.intelligence,wis:s.wisdom,cha:s.charisma},ac:s.ac,hp:{current:s.hp_cur,max:s.hp_max},hitDice:{current:s.hit_dice_cur,max:s.hit_dice_max},ability:s.ability,proficiencies:hn({athletics:s.prof_athletics,acrobatics:s.prof_acrobatics,"sleight of hand":s.prof_sleight_of_hand,stealth:s.prof_stealth,arcana:s.prof_arcana,history:s.prof_history,investigation:s.prof_investigation,nature:s.prof_nature,religion:s.prof_religion,"animal handling":s.prof_animal_handling,insight:s.prof_insight,medicine:s.prof_medicine,perception:s.prof_perception,survival:s.prof_survival,deception:s.prof_deception,intimidation:s.prof_intimidation,performance:s.prof_performance,persuasion:s.prof_persuasion}),savingThrows:hn({str:s.save_str,dex:s.save_dex,con:s.save_con,int:s.save_int,wis:s.save_wis,cha:s.save_cha}),moves:[],notes:s.notes}),Nl=s=>({id:s.id.toString(),moveId:s.move_id,pp:{current:s.pp_cur,max:s.pp_max},notes:s.notes}),Cl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ25jYmpqZm1udmJmcmpkeG1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Njk1ODY2MzEsImV4cCI6MTk4NTE2MjYzMX0.RXw9pfN-4qOR2AbqPoM6GMzjDGRwYnClF9LEiI2VE5k",Ll="https://logncbjjfmnvbfrjdxmg.supabase.co";var Ul=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};const Bl=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Ul(void 0,void 0,void 0,function*(){return yield(yield Gt(()=>Promise.resolve().then(()=>Vt),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)};class pr extends Error{constructor(e,t="FunctionsError",r){super(e),super.name=t,this.context=r}}class Fl extends pr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ml extends pr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Kl extends pr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hl=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};class zl{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=Bl(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Hl(this,void 0,void 0,function*(){try{const{headers:n,body:i}=t;let l={},a;i&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",a=i):typeof i=="string"?(l["Content-Type"]="text/plain",a=i):typeof FormData<"u"&&i instanceof FormData?a=i:(l["Content-Type"]="application/json",a=JSON.stringify(i)));const o=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:a}).catch(d=>{throw new Fl(d)}),u=o.headers.get("x-relay-error");if(u&&u==="true")throw new Ml(o);if(!o.ok)throw new Kl(o);let c=((r=o.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return c==="application/json"?h=yield o.json():c==="application/octet-stream"?h=yield o.blob():c==="multipart/form-data"?h=yield o.formData():h=yield o.text(),{data:h,error:null}}catch(n){return{data:null,error:n}}})}}var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ql(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Et={},Vl={get exports(){return Et},set exports(s){Et=s}};(function(s,e){var t=typeof self<"u"?self:Gl,r=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(l){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function o(k){return k&&DataView.prototype.isPrototypeOf(k)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(k){return k&&u.indexOf(Object.prototype.toString.call(k))>-1};function h(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function d(k){return typeof k!="string"&&(k=String(k)),k}function _(k){var j={next:function(){var Y=k.shift();return{done:Y===void 0,value:Y}}};return a.iterable&&(j[Symbol.iterator]=function(){return j}),j}function p(k){this.map={},k instanceof p?k.forEach(function(j,Y){this.append(Y,j)},this):Array.isArray(k)?k.forEach(function(j){this.append(j[0],j[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(j){this.append(j,k[j])},this)}p.prototype.append=function(k,j){k=h(k),j=d(j);var Y=this.map[k];this.map[k]=Y?Y+", "+j:j},p.prototype.delete=function(k){delete this.map[h(k)]},p.prototype.get=function(k){return k=h(k),this.has(k)?this.map[k]:null},p.prototype.has=function(k){return this.map.hasOwnProperty(h(k))},p.prototype.set=function(k,j){this.map[h(k)]=d(j)},p.prototype.forEach=function(k,j){for(var Y in this.map)this.map.hasOwnProperty(Y)&&k.call(j,this.map[Y],Y,this)},p.prototype.keys=function(){var k=[];return this.forEach(function(j,Y){k.push(Y)}),_(k)},p.prototype.values=function(){var k=[];return this.forEach(function(j){k.push(j)}),_(k)},p.prototype.entries=function(){var k=[];return this.forEach(function(j,Y){k.push([Y,j])}),_(k)},a.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function $(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function v(k){return new Promise(function(j,Y){k.onload=function(){j(k.result)},k.onerror=function(){Y(k.error)}})}function w(k){var j=new FileReader,Y=v(j);return j.readAsArrayBuffer(k),Y}function A(k){var j=new FileReader,Y=v(j);return j.readAsText(k),Y}function I(k){for(var j=new Uint8Array(k),Y=new Array(j.length),Z=0;Z<j.length;Z++)Y[Z]=String.fromCharCode(j[Z]);return Y.join("")}function H(k){if(k.slice)return k.slice(0);var j=new Uint8Array(k.byteLength);return j.set(new Uint8Array(k)),j.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(k){this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:a.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:a.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():a.arrayBuffer&&a.blob&&o(k)?(this._bodyArrayBuffer=H(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||c(k))?this._bodyArrayBuffer=H(k):this._bodyText=k=Object.prototype.toString.call(k):this._bodyText="",this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var k=$(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?$(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var k=$(this);if(k)return k;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(ee)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(k){var j=k.toUpperCase();return O.indexOf(j)>-1?j:k}function Q(k,j){j=j||{};var Y=j.body;if(k instanceof Q){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,j.headers||(this.headers=new p(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!Y&&k._bodyInit!=null&&(Y=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new p(j.headers)),this.method=U(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Y)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})};function ee(k){var j=new FormData;return k.trim().split("&").forEach(function(Y){if(Y){var Z=Y.split("="),z=Z.shift().replace(/\+/g," "),N=Z.join("=").replace(/\+/g," ");j.append(decodeURIComponent(z),decodeURIComponent(N))}}),j}function ne(k){var j=new p,Y=k.replace(/\r?\n[\t ]+/g," ");return Y.split(/\r?\n/).forEach(function(Z){var z=Z.split(":"),N=z.shift().trim();if(N){var X=z.join(":").trim();j.append(N,X)}}),j}V.call(Q.prototype);function W(k,j){j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in j?j.statusText:"OK",this.headers=new p(j.headers),this.url=j.url||"",this._initBody(k)}V.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},W.error=function(){var k=new W(null,{status:0,statusText:""});return k.type="error",k};var J=[301,302,303,307,308];W.redirect=function(k,j){if(J.indexOf(j)===-1)throw new RangeError("Invalid status code");return new W(null,{status:j,headers:{location:k}})},l.DOMException=i.DOMException;try{new l.DOMException}catch{l.DOMException=function(j,Y){this.message=j,this.name=Y;var Z=Error(j);this.stack=Z.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function G(k,j){return new Promise(function(Y,Z){var z=new Q(k,j);if(z.signal&&z.signal.aborted)return Z(new l.DOMException("Aborted","AbortError"));var N=new XMLHttpRequest;function X(){N.abort()}N.onload=function(){var x={status:N.status,statusText:N.statusText,headers:ne(N.getAllResponseHeaders()||"")};x.url="responseURL"in N?N.responseURL:x.headers.get("X-Request-URL");var se="response"in N?N.response:N.responseText;Y(new W(se,x))},N.onerror=function(){Z(new TypeError("Network request failed"))},N.ontimeout=function(){Z(new TypeError("Network request failed"))},N.onabort=function(){Z(new l.DOMException("Aborted","AbortError"))},N.open(z.method,z.url,!0),z.credentials==="include"?N.withCredentials=!0:z.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&a.blob&&(N.responseType="blob"),z.headers.forEach(function(x,se){N.setRequestHeader(se,x)}),z.signal&&(z.signal.addEventListener("abort",X),N.onreadystatechange=function(){N.readyState===4&&z.signal.removeEventListener("abort",X)}),N.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return G.polyfill=!0,i.fetch||(i.fetch=G,i.Headers=p,i.Request=Q,i.Response=W),l.Headers=p,l.Request=Q,l.Response=W,l.fetch=G,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var n=r;e=n.fetch,e.default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,s.exports=e})(Vl,Et);const _r=ql(Et),Vt=Oi({__proto__:null,default:_r},[Et]);var Jl=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};class Yl{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_r:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>Jl(this,void 0,void 0,function*(){var l,a,o;let u=null,c=null,h=null,d=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=yield i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=w:c=JSON.parse(w))}const $=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");$&&v&&v.length>1&&(h=parseInt(v[1]))}else{const $=yield i.text();try{u=JSON.parse($)}catch{u={message:$}}if(u&&this.allowEmpty&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("Results contain 0 rows"))&&(u=null,d=200,_="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:c,count:h,status:d,statusText:_}}));return this.shouldThrowOnError||(n=n.catch(i=>({error:{message:`FetchError: ${i.message}`,details:"",hint:"",code:i.code||""},data:null,count:null,status:0,statusText:""}))),n.then(e,t)}}class Wl extends Yl{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n}={}){const i=n?`${n}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const n=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:l="text"}={}){const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${o}"; options=${a};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class bt extends Wl{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=t.map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class Xl{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new bt({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t}={}){const r="POST",n=[],i=e;if(t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),Array.isArray(e)){const l=e.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(l.length>0){const a=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new bt({method:r,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];t!==void 0&&this.url.searchParams.set("on_conflict",t);const a=e;return n&&l.push(`count=${n}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new bt({method:i,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",n=[],i=e;return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new bt({method:r,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new bt({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Zl="1.1.0",Ql={"X-Client-Info":`postgrest-js/${Zl}`};class xl{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ql),t),this.schema=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new Xl(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:n}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let a;r?(i="HEAD",Object.entries(t).forEach(([u,c])=>{l.searchParams.append(u,`${c}`)})):(i="POST",a=t);const o=Object.assign({},this.headers);return n&&(o.Prefer=`count=${n}`),new bt({method:i,url:l,headers:o,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var Zt,dn;function eo(){if(dn)return Zt;dn=1;var s=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Zt=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return s()}try{return __global__||s()}finally{delete Object.prototype.__global__}}(),Zt}const to="websocket",ro="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",no=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],io="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",so=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],lo="1.0.34",oo={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},ao="https://github.com/theturtle32/WebSocket-Node",uo={node:">=4.0.0"},co={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},fo={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},ho={verbose:!1},po={test:"tape test/unit/*.js",gulp:"gulp"},_o="index",mo={lib:"./lib"},$o="lib/browser.js",vo="Apache-2.0",go={name:to,description:ro,keywords:no,author:io,contributors:so,version:lo,repository:oo,homepage:ao,engines:uo,dependencies:co,devDependencies:fo,config:ho,scripts:po,main:_o,directories:mo,browser:$o,license:vo};var bo=go.version,ft;if(typeof globalThis=="object")ft=globalThis;else try{ft=eo()}catch{}finally{if(!ft&&typeof window<"u"&&(ft=window),!ft)throw new Error("Could not determine global this")}var jt=ft.WebSocket||ft.MozWebSocket,ko=bo;function oi(s,e){var t;return e?t=new jt(s,e):t=new jt(s),t}jt&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(s){Object.defineProperty(oi,s,{get:function(){return jt[s]}})});var wo={w3cwebsocket:jt?oi:null,version:ko};const yo="2.1.0",Eo={"X-Client-Info":`realtime-js/${yo}`},To="1.0.0",ai=1e4,Po=1e3;var It;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(It||(It={}));var Be;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Be||(Be={}));var He;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(He||(He={}));var ir;(function(s){s.websocket="websocket"})(ir||(ir={}));var ht;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ht||(ht={}));class ui{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class So{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),i=t.getUint8(2);let l=this.HEADER_LENGTH+2;const a=r.decode(e.slice(l,l+n));l=l+n;const o=r.decode(e.slice(l,l+i));l=l+i;const u=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:a,event:o,payload:u}}}class Qt{constructor(e,t,r={},n=ai){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pn;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(pn||(pn={}));class At{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:l,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=At.syncState(this.state,n,i,l),this.pendingDiffs.forEach(o=>{this.state=At.syncDiff(this.state,o,i,l)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:l,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=At.syncDiff(this.state,n,i,l),a())}),this.onJoin((n,i,l)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:l})}),this.onLeave((n,i,l)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const i=this.cloneDeep(e),l=this.transformState(t),a={},o={};return this.map(i,(u,c)=>{l[u]||(o[u]=c)}),this.map(l,(u,c)=>{const h=i[u];if(h){const d=c.map(v=>v.presence_ref),_=h.map(v=>v.presence_ref),p=c.filter(v=>_.indexOf(v.presence_ref)<0),$=h.filter(v=>d.indexOf(v.presence_ref)<0);p.length>0&&(a[u]=p),$.length>0&&(o[u]=$)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:i,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,o)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(o),c.length>0){const h=e[a].map(_=>_.presence_ref),d=c.filter(_=>h.indexOf(_.presence_ref)<0);e[a].unshift(...d)}r(a,c,o)}),this.map(l,(a,o)=>{let u=e[a];if(!u)return;const c=o.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,o),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return"metas"in n?t[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var we;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(we||(we={}));const _n=(s,e,t={})=>{var r;const n=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,l)=>(i[l]=Io(l,s,e,n),i),{})},Io=(s,e,t,r)=>{const n=e.find(a=>a.name===s),i=n==null?void 0:n.type,l=t[s];return i&&!r.includes(i)?ci(i,l):sr(l)},ci=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return Ro(e,t)}switch(s){case we.bool:return Ao(e);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return Oo(e);case we.json:case we.jsonb:return Do(e);case we.timestamp:return jo(e);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return sr(e);default:return sr(e)}},sr=s=>s,Ao=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Oo=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},Do=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},Ro=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,r=s[t];if(s[0]==="{"&&r==="}"){let i;const l=s.slice(1,t);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(a=>ci(e,a))}return s},jo=s=>typeof s=="string"?s.replace(" ","T"):s;var mn=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})},$n;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})($n||($n={}));var vn;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes"})(vn||(vn={}));var gn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class mr{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Qt(this,He.join,this.params,this.timeout),this.rejoinTimer=new ui(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new At(this)}subscribe(e,t=this.timeout){var r,n;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const a={},o={broadcast:i,presence:l,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&n!==void 0?n:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,d=(c=h==null?void 0:h.length)!==null&&c!==void 0?c:0,_=[];for(let p=0;p<d;p++){const $=h[p],{filter:{event:v,schema:w,table:A,filter:I}}=$,H=u&&u[p];if(H&&H.event===v&&H.schema===w&&H.table===A&&H.filter===I)_.push(Object.assign(Object.assign({},$),{id:H.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return mn(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return mn(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(e,t={}){return new Promise(r=>{var n,i,l;const a=this._push(e.type,e,t.timeout||this.timeout);a.rateLimited&&r("rate limited"),e.type==="broadcast"&&!(!((l=(i=(n=this.params)===null||n===void 0?void 0:n.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Be.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Qt(this,He.leave,{},e);n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Qt(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;const l=e.toLocaleLowerCase(),{close:a,error:o,leave:u,join:c}=He;if(r&&[a,o,u,c].indexOf(l)>=0&&r!==this._joinRef())return;let d=this._onMessage(l,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(_=>{var p,$,v;return((p=_.filter)===null||p===void 0?void 0:p.event)==="*"||((v=($=_.filter)===null||$===void 0?void 0:$.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===l}).map(_=>_.callback(d,r)):(i=this.bindings[l])===null||i===void 0||i.filter(_=>{var p,$,v,w,A,I;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const H=_.id,V=(p=_.filter)===null||p===void 0?void 0:p.event;return H&&(($=t.ids)===null||$===void 0?void 0:$.includes(H))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const H=(A=(w=_==null?void 0:_.filter)===null||w===void 0?void 0:w.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return H==="*"||H===((I=t==null?void 0:t.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:$,table:v,commit_timestamp:w,type:A,errors:I}=p;d=Object.assign(Object.assign({},{schema:$,table:v,commit_timestamp:w,eventType:A,new:{},old:{},errors:I}),this._getPayloadRecords(p))}_.callback(d,r)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&mr.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(He.close,{},e)}_onError(e){this._on(He.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=_n(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=_n(e.columns,e.old_record)),t}}var No=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};const Co=()=>{};class Lo{constructor(e,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Eo,this.params={},this.timeout=ai,this.transport=wo.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Co,this.conn=null,this.sendBuffer=[],this.serializer=new So,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${ir.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.eventsPerSecond;n&&(this.eventsPerSecondLimitMs=Math.floor(1e3/n)),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,l)=>l(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ui(()=>No(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return e.unsubscribe().then(t=>(this.channels.length===0&&this.disconnect(),t))}removeAllChannels(){return Promise.all(this.channels.map(e=>e.unsubscribe())).then(e=>(this.disconnect(),e))}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case It.connecting:return ht.Connecting;case It.open:return ht.Open;case It.closing:return ht.Closing;default:return ht.Closed}}isConnected(){return this.connectionState()===ht.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const r=new mr(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:n,ref:i}=e;let l=()=>{this.encode(e,a=>{var o;(o=this.conn)===null||o===void 0||o.send(a)})};if(this.log("push",`${t} ${r} (${i})`,n),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(l)())return"rate limited"}else l();else this.sendBuffer.push(l)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(He.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:To}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:n,payload:i,ref:l}=t;(l&&l===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${l&&"("+l+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,l)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(He.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Po,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t),!1)}}class fi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Uo extends fi{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Bo extends fi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var hi=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};const di=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>hi(void 0,void 0,void 0,function*(){return yield(yield Gt(()=>Promise.resolve().then(()=>Vt),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)},Fo=()=>hi(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gt(()=>Promise.resolve().then(()=>Vt),void 0,import.meta.url)).Response:Response});var Pt=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};const bn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Mo=(s,e)=>Pt(void 0,void 0,void 0,function*(){const t=yield Fo();s instanceof t?s.json().then(r=>{e(new Uo(bn(r),s.status||500))}):e(new Bo(bn(s),s))}),Ko=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),t))};function Jt(s,e,t,r,n,i){return Pt(this,void 0,void 0,function*(){return new Promise((l,a)=>{s(t,Ko(e,r,n,i)).then(o=>{if(!o.ok)throw o;return r!=null&&r.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>Mo(o,a))})})}function lr(s,e,t,r){return Pt(this,void 0,void 0,function*(){return Jt(s,"GET",e,t,r)})}function dt(s,e,t,r,n){return Pt(this,void 0,void 0,function*(){return Jt(s,"POST",e,r,n,t)})}function Ho(s,e,t,r,n){return Pt(this,void 0,void 0,function*(){return Jt(s,"PUT",e,r,n,t)})}function pi(s,e,t,r,n){return Pt(this,void 0,void 0,function*(){return Jt(s,"DELETE",e,r,n,t)})}var We=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};const zo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qo{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=di(n)}uploadOrUpdate(e,t,r,n){return We(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},Go),n),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",l.cacheControl)):(i=r,a["cache-control"]=`max-age=${l.cacheControl}`,a["content-type"]=l.contentType);const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),c=yield this.fetch(`${this.url}/object/${u}`,{method:e,body:i,headers:a});return c.ok?{data:{path:o},error:null}:{data:null,error:yield c.json()}}catch(i){if(je(i))return{data:null,error:i};throw i}})}upload(e,t,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return We(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}copy(e,t){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,r){return We(this,void 0,void 0,function*(){try{const n=this._getFinalPath(e);let i=yield dt(this.fetch,`${this.url}/object/sign/${n}`,{expiresIn:t},{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return We(this,void 0,void 0,function*(){try{const n=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}download(e){return We(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield lr(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=t!=null&&t.download?`?download=${t.download===!0?"":t.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${r}${n}`)}}}remove(e){return We(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}list(e,t,r){return We(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},zo),t),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const Vo="2.0.0",Jo={"X-Client-Info":`storage-js/${Vo}`};var vt=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};class Yo{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Jo),t),this.fetch=di(r)}listBuckets(){return vt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return vt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return vt(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return vt(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}emptyBucket(e){return vt(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}deleteBucket(e){return vt(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}}class Wo extends Yo{constructor(e,t={},r){super(e,t,r)}from(e){return new qo(this.url,this.headers,e,this.fetch)}}const Xo="2.1.1",Zo={"X-Client-Info":`supabase-js/${Xo}`};var Qo=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};const xo=s=>{let e;return s?e=s:typeof fetch>"u"?e=_r:e=fetch,(...t)=>e(...t)},ea=()=>typeof Headers>"u"?Et.Headers:Headers,ta=(s,e,t)=>{const r=xo(t),n=ea();return(i,l)=>Qo(void 0,void 0,void 0,function*(){var a;const o=(a=yield e())!==null&&a!==void 0?a:s;let u=new n(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",s),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),r(i,Object.assign(Object.assign({},l),{headers:u}))})};function ra(s){return s.replace(/\/$/,"")}function na(s,e){const{db:t,auth:r,realtime:n,global:i}=s,{db:l,auth:a,realtime:o,global:u}=e;return{db:Object.assign(Object.assign({},l),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},o),n),global:Object.assign(Object.assign({},u),i)}}var Yt=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};function ia(s){return Math.round(Date.now()/1e3)+s}function sa(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const _t=()=>typeof window<"u";function Fe(s,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),s=s.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+s+"(=([^&#]*)|&|#|$)"),n=r.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}const _i=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Yt(void 0,void 0,void 0,function*(){return yield(yield Gt(()=>Promise.resolve().then(()=>Vt),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)},la=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",oa=(s,e,t)=>Yt(void 0,void 0,void 0,function*(){yield s.setItem(e,JSON.stringify(t))}),kn=(s,e)=>Yt(void 0,void 0,void 0,function*(){const t=yield s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),aa=(s,e)=>Yt(void 0,void 0,void 0,function*(){yield s.removeItem(e)}),ua=s=>{try{return decodeURIComponent(atob(s.replace(/[-]/g,"+").replace(/[_]/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(e){if(e instanceof ReferenceError)return Buffer.from(s,"base64").toString("utf-8");throw e}};class Wt{constructor(){this.promise=new Wt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Wt.promiseConstructor=Promise;function ca(s){const e=s.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");const t=e[1];return JSON.parse(ua(t))}class $r extends Error{constructor(e){super(e),this.__isAuthError=!0,this.name="AuthError"}}function Ee(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class fa extends $r{constructor(e,t){super(e),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function ha(s){return Ee(s)&&s.name==="AuthApiError"}class mi extends $r{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Xt extends $r{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class St extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class xt extends Xt{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class tt extends Xt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kt extends Xt{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var vr=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})},da=globalThis&&globalThis.__rest||function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t};const Nt=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),pa=(s,e)=>vr(void 0,void 0,void 0,function*(){const t=[502,503,504];la(s)?t.includes(s.status)?e(new Kt(Nt(s),s.status)):s.json().then(r=>{e(new fa(Nt(r),s.status||500))}).catch(r=>{e(new mi(Nt(r),r))}):e(new Kt(Nt(s),0))}),_a=(s,e,t,r)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),t))};function ye(s,e,t,r){var n;return vr(this,void 0,void 0,function*(){const i=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const l=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const a=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=yield ma(s,e,t+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(o):{data:Object.assign({},o),error:null}})}function ma(s,e,t,r,n,i){return vr(this,void 0,void 0,function*(){return new Promise((l,a)=>{s(t,_a(e,r,n,i)).then(o=>{if(!o.ok)throw o;return r!=null&&r.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>pa(o,a))})})}function gt(s){var e;let t=null;ga(s)&&(t=Object.assign({},s),t.expires_at=ia(s.expires_in));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:r},error:null}}function pt(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function $a(s){return{data:s,error:null}}function va(s){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:i}=s,l=da(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:n,verification_type:i},o=Object.assign({},l);return{data:{properties:a,user:o},error:null}}function ga(s){return s.access_token&&s.refresh_token&&s.expires_in}var Xe=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})},ba=globalThis&&globalThis.__rest||function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t};class ka{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=_i(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return Xe(this,void 0,void 0,function*(){try{return yield ye(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}inviteUserByEmail(e,t={}){return Xe(this,void 0,void 0,function*(){try{return yield ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:pt})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}})}generateLink(e){return Xe(this,void 0,void 0,function*(){try{const{options:t}=e,r=ba(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),yield ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:va,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ee(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return Xe(this,void 0,void 0,function*(){try{return yield ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pt})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}listUsers(){return Xe(this,void 0,void 0,function*(){try{const{data:e,error:t}=yield ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(t)throw t;return{data:Object.assign({},e),error:null}}catch(e){if(Ee(e))return{data:{users:[]},error:e};throw e}})}getUserById(e){return Xe(this,void 0,void 0,function*(){try{return yield ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pt})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return Xe(this,void 0,void 0,function*(){try{return yield ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:pt})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}})}deleteUser(e){return Xe(this,void 0,void 0,function*(){try{return yield ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pt})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}_listFactors(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}}const wa="2.3.1",ya="http://localhost:9999",Ea="supabase.auth.token",Ta={"X-Client-Info":`gotrue-js/${wa}`},er=10,Ct={MAX_RETRIES:10,RETRY_INTERVAL:2},Pa={getItem:s=>_t()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{_t()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{_t()&&globalThis.localStorage.removeItem(s)}};function Sa(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ke=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};Sa();const Ia={url:ya,storageKey:Ea,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ta};class Aa{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const t=Object.assign(Object.assign({},Ia),e);this.inMemorySession=null,this.storageKey=t.storageKey,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.storage=t.storage||Pa,this.admin=new ka({url:t.url,headers:t.headers,fetch:t.fetch}),this.url=t.url,this.headers=t.headers,this.fetch=_i(t.fetch),this.detectSessionInUrl=t.detectSessionInUrl,this.initialize(),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)}}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return ke(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:t}=yield this._getSessionFromUrl();if(t)return yield this._removeSession(),{error:t};const{session:r,redirectType:n}=e;return yield this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN",r),n==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",r),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return Ee(e)?{error:e}:{error:new mi("Unexpected error during initialization",e)}}finally{this._handleVisibilityChange()}})}signUp(e){var t,r;return ke(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in e){const{email:u,password:c,options:h}=e;n=yield ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:c,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gt})}else if("phone"in e){const{phone:u,password:c,options:h}=e;n=yield ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:c,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gt})}else throw new xt("You must provide either an email or phone number and a password");const{data:i,error:l}=n;if(l||!i)return{data:{user:null,session:null},error:l};const a=i.session,o=i.user;return i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:o,session:a},error:null}}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithPassword(e){var t,r;return ke(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in e){const{email:a,password:o,options:u}=e;n=yield ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:gt})}else if("phone"in e){const{phone:a,password:o,options:u}=e;n=yield ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:gt})}else throw new xt("You must provide either an email or phone number and a password");const{data:i,error:l}=n;return l||!i?{data:{user:null,session:null},error:l}:(i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:l})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(e){var t,r,n;return ke(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams})})}signInWithOtp(e){var t,r,n,i;return ke(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:l,options:a}=e,{error:o}=yield ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=a==null?void 0:a.data)!==null&&t!==void 0?t:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:l,options:a}=e,{error:o}=yield ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null},error:o}}throw new xt("You must provide either an email or phone number.")}catch(l){if(Ee(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){var t,r;return ke(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:n,error:i}=yield ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:(t=e.options)===null||t===void 0?void 0:t.captchaToken}}),redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,xform:gt});if(i)throw i;if(!n)throw"An error occurred on token verification.";const l=n.session,a=n.user;return l!=null&&l.access_token&&(yield this._saveSession(l),this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:a,session:l},error:null}}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){var t,r,n;return ke(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:$a})}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}getSession(){return ke(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const i=yield kn(this.storage,this.storageKey);i!==null&&(this._isValidSession(i)?e=i:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:r,error:n}=yield this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:r},error:null}})}getUser(e){var t,r;return ke(this,void 0,void 0,function*(){try{if(!e){const{data:n,error:i}=yield this.getSession();if(i)throw i;e=(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0}return yield ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pt})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}})}updateUser(e){return ke(this,void 0,void 0,function*(){try{const{data:t,error:r}=yield this.getSession();if(r)throw r;if(!t.session)throw new St;const n=t.session,{data:i,error:l}=yield ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:e,jwt:n.access_token,xform:pt});if(l)throw l;return n.user=i.user,yield this._saveSession(n),this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}_decodeJWT(e){return ca(e)}setSession(e){return ke(this,void 0,void 0,function*(){try{const t=Date.now()/1e3;let r=t,n=!0,i=null;if(e.access_token&&e.access_token.split(".")[1]){const l=this._decodeJWT(e.access_token);l.exp&&(r=l.exp,n=r<=t)}if(n){if(!e.refresh_token)throw new St;const{data:l,error:a}=yield this._refreshAccessToken(e.refresh_token);if(a)return{data:{session:null,user:null},error:a};if(!l.session)return{data:{session:null,user:null},error:null};i=l.session}else{const{data:l,error:a}=yield this.getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-t,expires_at:r}}return yield this._saveSession(i),this._notifyAllSubscribers("TOKEN_REFRESHED",i),{data:{session:i,user:i.user},error:null}}catch(t){if(Ee(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){var t;return ke(this,void 0,void 0,function*(){try{if(!e){const{data:i,error:l}=yield this.getSession();if(l)throw l;e=(t=i.session)!==null&&t!==void 0?t:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:r,error:n}=yield this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromUrl(){return ke(this,void 0,void 0,function*(){try{if(!_t())throw new tt("No browser detected.");if(!this._isImplicitGrantFlow())throw new tt("Not a valid implicit grant flow url.");const e=Fe("error_description");if(e){const $=Fe("error_code");if(!$)throw new tt("No error_code detected.");const v=Fe("error");throw v?new tt(e,{error:v,code:$}):new tt("No error detected.")}const t=Fe("provider_token"),r=Fe("provider_refresh_token"),n=Fe("access_token");if(!n)throw new tt("No access_token detected.");const i=Fe("expires_in");if(!i)throw new tt("No expires_in detected.");const l=Fe("refresh_token");if(!l)throw new tt("No refresh_token detected.");const a=Fe("token_type");if(!a)throw new tt("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(i),{data:c,error:h}=yield this.getUser(n);if(h)throw h;const d=c.user,_={provider_token:t,provider_refresh_token:r,access_token:n,expires_in:parseInt(i),expires_at:u,refresh_token:l,token_type:a,user:d},p=Fe("type");return window.location.hash="",{data:{session:_,redirectType:p},error:null}}catch(e){if(Ee(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return _t()&&(Boolean(Fe("access_token"))||Boolean(Fe("error_description")))}signOut(){var e;return ke(this,void 0,void 0,function*(){const{data:t,error:r}=yield this.getSession();if(r)return{error:r};const n=(e=t.session)===null||e===void 0?void 0:e.access_token;if(n){const{error:i}=yield this.admin.signOut(n);if(i&&!(ha(i)&&(i.status===404||i.status===401)))return{error:i}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const t=sa(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:{subscription:r}}}resetPasswordForEmail(e,t={}){return ke(this,void 0,void 0,function*(){try{return yield ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(Ee(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return ke(this,void 0,void 0,function*(){try{return yield ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})}catch(t){if(Ee(t))return{data:{session:null,user:null},error:t};throw t}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t={}){const r=this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return _t()&&(window.location.href=r),{data:{provider:e,url:r},error:null}}_recoverAndRefresh(){var e;return ke(this,void 0,void 0,function*(){try{const t=yield kn(this.storage,this.storageKey);if(!this._isValidSession(t)){t!==null&&(yield this._removeSession());return}const r=Math.round(Date.now()/1e3);if(((e=t.expires_at)!==null&&e!==void 0?e:1/0)<r+er)if(this.autoRefreshToken&&t.refresh_token){this.networkRetries++;const{error:n}=yield this._callRefreshToken(t.refresh_token);if(n){if(console.log(n.message),n instanceof Kt&&this.networkRetries<Ct.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(Ct.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){console.error(t);return}})}_callRefreshToken(e){var t,r;return ke(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Wt,!e)throw new St;const{data:n,error:i}=yield this._refreshAccessToken(e);if(i)throw i;if(!n.session)throw new St;yield this._saveSession(n.session),this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const l={session:n.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(n){if(Ee(n)){const i={session:null,error:n};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t){this.stateChangeEmitters.forEach(r=>r.callback(e,t))}_saveSession(e){return ke(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e);const t=e.expires_at;if(t){const r=Math.round(Date.now()/1e3),n=t-r,i=n>er?er:.5;this._startAutoRefreshToken((n-i)*1e3)}this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return oa(this.storage,this.storageKey,e)}_removeSession(){return ke(this,void 0,void 0,function*(){this.persistSession?yield aa(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>ke(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:t},error:r}=yield this.getSession();if(!r&&t){const{error:n}=yield this._callRefreshToken(t.refresh_token);n||(this.networkRetries=0),n instanceof Kt&&this.networkRetries<Ct.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(Ct.RETRY_INTERVAL,this.networkRetries)*100)}}),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!_t()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>ke(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(e){console.error("_handleVisibilityChange",e)}}_getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),t!=null&&t.queryParams){const n=new URLSearchParams(t.queryParams);r.push(n.toString())}return`${this.url}/authorize?${r.join("&")}`}_unenroll(e){var t;return ke(this,void 0,void 0,function*(){const{data:r,error:n}=yield this.getSession();return n?{data:null,error:n}:yield ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token})})}_enroll(e){var t,r;return ke(this,void 0,void 0,function*(){const{data:n,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:l,error:a}=yield ye(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(t=n==null?void 0:n.session)===null||t===void 0?void 0:t.access_token});return a?{data:null,error:a}:(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}_verify(e){var t;return ke(this,void 0,void 0,function*(){const{data:r,error:n}=yield this.getSession();if(n)return{data:null,error:n};const{data:i,error:l}=yield ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}_challenge(e){var t;return ke(this,void 0,void 0,function*(){const{data:r,error:n}=yield this.getSession();return n?{data:null,error:n}:yield ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token})})}_challengeAndVerify(e){return ke(this,void 0,void 0,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return ke(this,void 0,void 0,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],n=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:n},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return ke(this,void 0,void 0,function*(){const{data:{session:r},error:n}=yield this.getSession();if(n)return{data:null,error:n};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(r.access_token);let l=null;i.aal&&(l=i.aal);let a=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:u},error:null}})}}class Oa extends Aa{constructor(e){super(e)}}var Da=globalThis&&globalThis.__awaiter||function(s,e,t,r){function n(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(c){try{u(r.next(c))}catch(h){l(h)}}function o(c){try{u(r.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,o)}u((r=r.apply(s,e||[])).next())})};const Ra={headers:Zo},ja={schema:"public"},Na={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Ca={};class La{constructor(e,t,r){var n,i,l,a,o,u,c,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=ra(e);if(this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,d.match(/(supabase\.co)|(supabase\.in)/)){const w=d.split(".");this.functionsUrl=`${w[0]}.functions.${w[1]}.${w[2]}`}else this.functionsUrl=`${d}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,$={db:ja,realtime:Ca,auth:Object.assign(Object.assign({},Na),{storageKey:p}),global:Ra},v=na(r??{},$);this.storageKey=(i=(n=v.auth)===null||n===void 0?void 0:n.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(l=v.global)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((o=v.auth)!==null&&o!==void 0?o:{},this.headers,(u=v.global)===null||u===void 0?void 0:u.fetch),this.fetch=ta(t,this._getAccessToken.bind(this),(c=v.global)===null||c===void 0?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new xl(`${d}/rest/v1`,{headers:this.headers,schema:(h=v.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new zl(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Wo(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Da(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:i},l,a){const o={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Oa({url:this.authUrl,headers:Object.assign(Object.assign({},o),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,fetch:a})}_initRealtimeClient(e){return new Lo(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut())}}const Ua=(s,e,t)=>new La(s,e,t),Ba=Ua(Ll,Cl);let Fa=1;const tr=()=>(++Fa).toString();let Ma=1;const Le=()=>(++Ma).toString();tr(),Qe.Male,Le(),Le(),Le(),Le(),Le(),tr(),Qe.Female,Le(),Le(),Le(),Le(),tr(),Qe.Male,Le(),Le(),Le(),Le();class Se extends Error{constructor(e,t){super(e+(t!=null&&t.code?` Code: ${t.code}`:"")),this.diagnostics=t}}const Ue=new Al(Ba),Ka=()=>{const{subscribe:s,update:e}=Ai({}),t={};let r;const n=(i,l)=>{e(a=>({...a,[i]:{...a[i],...l(a[i])}}))};return{get:i=>(t[i]==null&&(t[i]=Ue.getTrainer(i).then(l=>{var c;if(l==null)return;const a=h=>({info:d=>Ue.updateTrainerInfo(h.writeKey,d).then(()=>{n(i,_=>({..._,info:{..._.info,...d}}))}).catch(_=>{throw et.show(_.message),_}),retire:()=>Ue.removeTrainer(h.writeKey,h.info.id,h.info.readKey).then(()=>{e(d=>{const{[h.info.readKey]:_,...p}=d;return p})}).catch(d=>{throw et.show(d.message),d}),pokemon:(d,_={})=>{let p;const $=v=>n(i,w=>{const A=[...w.pokemon],I=A.findIndex(H=>H.id===v.id);return p=A[I],A[I]={...w.pokemon[I],...v},{...w,pokemon:A}});return _.optimistic?($(d),Ue.updatePokemon(h.writeKey,d).then(()=>{}).catch(v=>{throw $(p),et.show(v.message),v})):Ue.updatePokemon(h.writeKey,d).then(()=>{$(d)}).catch(v=>{throw et.show(v.message),v})},moveset:d=>Ue.updateMoveset(h.writeKey,d.id,d.moves).then(_=>{n(i,p=>{const $=[...p.pokemon],v=$.findIndex(w=>w.id===d.id);return $[v]={...p.pokemon[v],moves:_},{...p,pokemon:$}})}).catch(_=>{throw et.show(_.message),_}),move:(d,_={})=>{let p;const $=v=>{n(i,w=>{const A=w.pokemon.find(H=>H.moves.map(V=>V.id).includes(v.id));if(!A)return w;const I=A.moves.findIndex(H=>H.id===v.id);return p=A.moves[I],A.moves[I]=v,{...w}})};return _.optimistic?($(d),Ue.updateOneMove(h.writeKey,d).then(()=>{}).catch(v=>{throw $(p),et.show(v.message),v})):Ue.updateOneMove(h.writeKey,d).then(()=>{$(d)}).catch(v=>{throw et.show(v.message),v})},addToTeam:d=>Ue.addPokemonToTeam(h.writeKey,h.info.id,d).then(_=>(n(i,p=>{const $=[...p.pokemon,_];return{...p,pokemon:$}}),_)).catch(_=>{throw et.show(_.message),_}),removeFromTeam:d=>Ue.removePokemon(h.writeKey,d).then(()=>{n(i,_=>{const p=_.pokemon.filter($=>$.id!==d);return{..._,pokemon:p}})}).catch(_=>{throw et.show(_.message),_})});let o;((c=l.writeKey)==null?void 0:c.length)>0&&(o=a(l));let u=!1;return{subscribe:h=>s(d=>{h(d[i]??{...l,update:o}),u||(u=!0,e(_=>({..._,[i]:{...l,update:o}})))}),verifyAccess:h=>Ue.verifyWriteKey(l.info,h).then(d=>(d&&n(i,_=>({..._,writeKey:h,update:a({..._,writeKey:h})})),d))}})),t[i]),all:()=>(r==null&&(r=Ue.allTrainers().then(i=>{let l=!1;return{subscribe:a=>s(o=>{a(Object.values(o).map(u=>u.info)),l||(l=!0,e(u=>i.reduce((c,h)=>({[h.readKey]:{info:h,pokemon:[]},...c}),u)))})}})),r),new:i=>Ue.newTrainer(i).then(l=>(n(l.info.readKey,()=>l),l))}},Ht=Ka();ut.disable_scroll_handling;const Me=ut.goto;ut.invalidate;ut.invalidateAll;ut.preload_data;ut.preload_code;ut.before_navigate;ut.after_navigate;function wn(s,e,t){const r=s.slice();return r[10]=e[t],r}function Ha(s){let e,t,r;return{c(){e=y("section"),t=y("p"),r=D("You do not have permission to add pokemon to this trainer.")},l(n){e=E(n,"SECTION",{});var i=S(e);t=E(i,"P",{});var l=S(t);r=R(l,"You do not have permission to add pokemon to this trainer."),l.forEach(f),i.forEach(f)},m(n,i){g(n,e,i),m(e,t),m(t,r)},p:te,i:te,o:te,d(n){n&&f(e)}}}function za(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$;const v=[qa,Ga],w=[];function A(I,H){return I[4].length===0&&I[1].length>0?0:1}return h=A(s),d=w[h]=v[h](s),{c(){e=y("section"),t=y("p"),r=D("Start typing the pokemon's species, then select from the provided list."),n=C(),i=y("div"),l=y("label"),a=D("Species"),o=C(),u=y("input"),c=C(),d.c(),this.h()},l(I){e=E(I,"SECTION",{});var H=S(e);t=E(H,"P",{});var V=S(t);r=R(V,"Start typing the pokemon's species, then select from the provided list."),V.forEach(f),n=L(H),i=E(H,"DIV",{class:!0});var O=S(i);l=E(O,"LABEL",{for:!0,class:!0});var U=S(l);a=R(U,"Species"),U.forEach(f),o=L(O),u=E(O,"INPUT",{id:!0,type:!0,class:!0}),O.forEach(f),c=L(H),d.l(H),H.forEach(f),this.h()},h(){b(l,"for","species-input"),b(l,"class","font-sm spaced-sm svelte-1oz3zih"),b(u,"id","species-input"),b(u,"type","text"),b(u,"class","font-lg svelte-1oz3zih"),u.disabled=s[3],b(i,"class","vertical spaced-lg svelte-1oz3zih")},m(I,H){g(I,e,H),m(e,t),m(t,r),m(e,n),m(e,i),m(i,l),m(l,a),m(i,o),m(i,u),ge(u,s[1]),m(e,c),w[h].m(e,null),_=!0,p||($=de(u,"input",s[8]),p=!0)},p(I,H){(!_||H&8)&&(u.disabled=I[3]),H&2&&u.value!==I[1]&&ge(u,I[1]);let V=h;h=A(I),h===V?w[h].p(I,H):(_e(),P(w[V],1,1,()=>{w[V]=null}),me(),d=w[h],d?d.p(I,H):(d=w[h]=v[h](I),d.c()),T(d,1),d.m(e,null))},i(I){_||(T(d),_=!0)},o(I){P(d),_=!1},d(I){I&&f(e),w[h].d(),p=!1,$()}}}function Ga(s){let e,t,r=s[4],n=[];for(let l=0;l<r.length;l+=1)n[l]=yn(wn(s,r,l));const i=l=>P(n[l],1,1,()=>{n[l]=null});return{c(){e=y("ul");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=E(l,"UL",{class:!0});var a=S(e);for(let o=0;o<n.length;o+=1)n[o].l(a);a.forEach(f),this.h()},h(){b(e,"class","no-list columnated svelte-1oz3zih")},m(l,a){g(l,e,a);for(let o=0;o<n.length;o+=1)n[o].m(e,null);t=!0},p(l,a){if(a&88){r=l[4];let o;for(o=0;o<r.length;o+=1){const u=wn(l,r,o);n[o]?(n[o].p(u,a),T(n[o],1)):(n[o]=yn(u),n[o].c(),T(n[o],1),n[o].m(e,null))}for(_e(),o=r.length;o<n.length;o+=1)i(o);me()}},i(l){if(!t){for(let a=0;a<r.length;a+=1)T(n[a]);t=!0}},o(l){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)P(n[a]);t=!1},d(l){l&&f(e),Oe(n,l)}}}function qa(s){let e,t;return{c(){e=y("p"),t=D("No matched pokemon"),this.h()},l(r){e=E(r,"P",{class:!0});var n=S(e);t=R(n,"No matched pokemon"),n.forEach(f),this.h()},h(){b(e,"class","muted center svelte-1oz3zih")},m(r,n){g(r,e,n),m(e,t)},p:te,i:te,o:te,d(r){r&&f(e)}}}function Va(s){let e=s[10].name+"",t;return{c(){t=D(e)},l(r){t=R(r,e)},m(r,n){g(r,t,n)},p(r,n){n&16&&e!==(e=r[10].name+"")&&le(t,e)},d(r){r&&f(t)}}}function yn(s){let e,t,r,n;return t=new be({props:{align:"left",width:"full",disabled:s[3],$$slots:{default:[Va]},$$scope:{ctx:s}}}),t.$on("click",function(){or(s[6](s[10]))&&s[6](s[10]).apply(this,arguments)}),{c(){e=y("li"),B(t.$$.fragment),r=C(),this.h()},l(i){e=E(i,"LI",{class:!0});var l=S(e);F(t.$$.fragment,l),r=L(l),l.forEach(f),this.h()},h(){b(e,"class","spaced-sm svelte-1oz3zih")},m(i,l){g(i,e,l),M(t,e,null),m(e,r),n=!0},p(i,l){s=i;const a={};l&8&&(a.disabled=s[3]),l&8208&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(i){n||(T(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&f(e),K(t)}}}function Ja(s){let e,t,r,n;const i=[za,Ha],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Ya(s){let e,t,r,n;return e=new Ge({props:{value:"Add Pokemon"}}),r=new qe({props:{title:"Add to "+s[2].info.name+"'s team",$$slots:{default:[Ja]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,[l]){const a={};l&4&&(a.title="Add to "+i[2].info.name+"'s team"),l&8250&&(a.$$scope={dirty:l,ctx:i}),r.$set(a)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function Wa(s,e,t){let r,n,i,l,a=te,o=()=>(a(),a=ze(c,$=>t(2,l=$)),c),u;Ne(s,mt,$=>t(7,u=$)),s.$$.on_destroy.push(()=>a());let{trainer:c}=e;o();let h="",d=!1;const _=$=>()=>{var v;t(3,d=!0),(v=l.update)==null||v.addToTeam($).then(({id:w})=>{Me(`${Pe}/trainers?id=${n}&pokemon=${w}`)}).catch(()=>{t(3,d=!1)})};function p(){h=this.value,t(1,h)}return s.$$set=$=>{"trainer"in $&&o(t(0,c=$.trainer))},s.$$.update=()=>{s.$$.dirty&4&&t(5,r=l.update!=null),s.$$.dirty&4&&(n=l.info.readKey),s.$$.dirty&130&&t(4,i=h.length>0?(u==null?void 0:u.filter(Ii(h)))??[]:[])},[c,h,l,d,i,r,_,u,p]}class Xa extends ae{constructor(e){super(),ue(this,e,Wa,Ya,ce,{trainer:0})}}function Za(s){let e,t;return{c(){e=y("a"),t=D("Find by trainer ID >"),this.h()},l(r){e=E(r,"A",{slot:!0,href:!0,class:!0});var n=S(e);t=R(n,"Find by trainer ID >"),n.forEach(f),this.h()},h(){b(e,"slot","link"),b(e,"href",pe.trainers(void 0,void 0,Ie.findTrainer)),b(e,"class","dark-font svelte-7p6g56")},m(r,n){g(r,e,n),m(e,t)},p:te,d(r){r&&f(e)}}}function Qa(s){let e;return{c(){e=D("+ New Trainer")},l(t){e=R(t,"+ New Trainer")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function xa(s){let e,t;return e=new be({props:{slot:"action",href:Pe+"/trainers?action=new-trainer",$$slots:{default:[Qa]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&512&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function eu(s){let e,t=s[8].name+"",r,n;return{c(){e=y("a"),r=D(t),this.h()},l(i){e=E(i,"A",{href:!0});var l=S(e);r=R(l,t),l.forEach(f),this.h()},h(){b(e,"href",n=Pe+"/trainers?id="+s[8].readKey)},m(i,l){g(i,e,l),m(e,r)},p(i,l){l&256&&t!==(t=i[8].name+"")&&le(r,t),l&256&&n!==(n=Pe+"/trainers?id="+i[8].readKey)&&b(e,"href",n)},d(i){i&&f(e)}}}function tu(s){let e,t;return e=new ri.Cell({props:{primary:!0,$$slots:{default:[eu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&768&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ru(s){let e,t;return e=new ri.Row({props:{interactive:!0,mainBg:"var(--skin-bg-dark)",$$slots:{default:[tu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&768&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function nu(s){let e,t,r,n,i,l,a,o,u;e=new li({props:{title:"Trainer List",$$slots:{action:[xa],link:[Za]},$$scope:{ctx:s}}});function c(p){s[6](p)}let h={id:"filter-pokemon",label:"Search",matched:s[3].length,max:s[2].length};s[1]!==void 0&&(h.value=s[1]),n=new ti({props:h}),Ot.push(()=>Dt(n,"value",c));function d(p){s[7](p)}let _={items:s[3],headers:[{key:"name",name:"Name",ratio:1,sort:s[5](iu)}],$$slots:{default:[ru,({item:p})=>({8:p}),({item:p})=>p?256:0]},$$scope:{ctx:s}};return s[4]!==void 0&&(_.currentSorter=s[4]),a=new ki({props:_}),Ot.push(()=>Dt(a,"currentSorter",d)),{c(){B(e.$$.fragment),t=C(),r=y("div"),B(n.$$.fragment),l=C(),B(a.$$.fragment),this.h()},l(p){F(e.$$.fragment,p),t=L(p),r=E(p,"DIV",{class:!0});var $=S(r);F(n.$$.fragment,$),$.forEach(f),l=L(p),F(a.$$.fragment,p),this.h()},h(){b(r,"class","space-bottom svelte-7p6g56")},m(p,$){M(e,p,$),g(p,t,$),g(p,r,$),M(n,r,null),g(p,l,$),M(a,p,$),u=!0},p(p,[$]){const v={};$&512&&(v.$$scope={dirty:$,ctx:p}),e.$set(v);const w={};$&8&&(w.matched=p[3].length),$&4&&(w.max=p[2].length),!i&&$&2&&(i=!0,w.value=p[1],Rt(()=>i=!1)),n.$set(w);const A={};$&8&&(A.items=p[3]),$&768&&(A.$$scope={dirty:$,ctx:p}),!o&&$&16&&(o=!0,A.currentSorter=p[4],Rt(()=>o=!1)),a.$set(A)},i(p){u||(T(e.$$.fragment,p),T(n.$$.fragment,p),T(a.$$.fragment,p),u=!0)},o(p){P(e.$$.fragment,p),P(n.$$.fragment,p),P(a.$$.fragment,p),u=!1},d(p){K(e,p),p&&f(t),p&&f(r),K(n),p&&f(l),K(a,p)}}}const iu=s=>s.name;function su(s,e,t){let r,n,i,l=te,a=()=>(l(),l=ze(u,_=>t(2,i=_)),u),o;Ne(s,Ir,_=>t(1,n=_)),Ne(s,Ar,_=>t(4,o=_)),s.$$.on_destroy.push(()=>l());let{trainers:u}=e;a();const c=_=>(p,$)=>_(p).localeCompare(_($));function h(_){n=_,Ir.set(n)}function d(_){o=_,Ar.set(o)}return s.$$set=_=>{"trainers"in _&&a(t(0,u=_.trainers))},s.$$.update=()=>{s.$$.dirty&6&&t(3,r=i.filter(_=>_.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())))},[u,n,i,r,o,c,h,d]}class lu extends ae{constructor(e){super(),ue(this,e,su,nu,ce,{trainers:0})}}function En(s){let e,t,r,n;return r=new nt({props:{caption:s[1]}}),{c(){e=y("div"),t=y("div"),B(r.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0,"aria-live":!0});var l=S(e);t=E(l,"DIV",{class:!0});var a=S(t);F(r.$$.fragment,a),a.forEach(f),l.forEach(f),this.h()},h(){b(t,"class","fixed svelte-4id0kp"),b(e,"class","center-overlay svelte-4id0kp"),b(e,"aria-live","assertive")},m(i,l){g(i,e,l),m(e,t),M(r,t,null),n=!0},p(i,l){const a={};l&2&&(a.caption=i[1]),r.$set(a)},i(i){n||(T(r.$$.fragment,i),n=!0)},o(i){P(r.$$.fragment,i),n=!1},d(i){i&&f(e),K(r)}}}function ou(s){let e,t,r,n;const i=s[3].default,l=it(i,s,s[2],null);let a=s[0]&&En(s);return{c(){e=y("div"),t=y("div"),l&&l.c(),r=C(),a&&a.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var u=S(e);t=E(u,"DIV",{class:!0});var c=S(t);l&&l.l(c),c.forEach(f),r=L(u),a&&a.l(u),u.forEach(f),this.h()},h(){b(t,"class","svelte-4id0kp"),kt(t,"muted",s[0]),b(e,"class","relative svelte-4id0kp")},m(o,u){g(o,e,u),m(e,t),l&&l.m(t,null),m(e,r),a&&a.m(e,null),n=!0},p(o,[u]){l&&l.p&&(!n||u&4)&&st(l,i,o,o[2],n?ot(i,o[2],u,null):lt(o[2]),null),(!n||u&1)&&kt(t,"muted",o[0]),o[0]?a?(a.p(o,u),u&1&&T(a,1)):(a=En(o),a.c(),T(a,1),a.m(e,null)):a&&(_e(),P(a,1,1,()=>{a=null}),me())},i(o){n||(T(l,o),T(a),n=!0)},o(o){P(l,o),P(a),n=!1},d(o){o&&f(e),l&&l.d(o),a&&a.d()}}}function au(s,e,t){let{$$slots:r={},$$scope:n}=e,{saving:i}=e,{caption:l="Saving..."}=e;return s.$$set=a=>{"saving"in a&&t(0,i=a.saving),"caption"in a&&t(1,l=a.caption),"$$scope"in a&&t(2,n=a.$$scope)},[i,l,n,r]}class ct extends ae{constructor(e){super(),ue(this,e,au,ou,ce,{saving:0,caption:1})}}function uu(s){let e,t,r,n,i,l,a;const o=s[3].default,u=it(o,s,s[2],null);return{c(){e=y("fieldset"),t=y("legend"),r=y("span"),n=D(s[0]),i=C(),l=y("div"),u&&u.c(),this.h()},l(c){e=E(c,"FIELDSET",{class:!0});var h=S(e);t=E(h,"LEGEND",{class:!0});var d=S(t);r=E(d,"SPAN",{class:!0});var _=S(r);n=R(_,s[0]),_.forEach(f),d.forEach(f),i=L(h),l=E(h,"DIV",{class:!0});var p=S(l);u&&u.l(p),p.forEach(f),h.forEach(f),this.h()},h(){b(r,"class","unskew svelte-iawi82"),b(t,"class","svelte-iawi82"),b(l,"class","grid svelte-iawi82"),b(e,"class","svelte-iawi82"),ve(e,"--columns",s[1])},m(c,h){g(c,e,h),m(e,t),m(t,r),m(r,n),m(e,i),m(e,l),u&&u.m(l,null),a=!0},p(c,[h]){(!a||h&1)&&le(n,c[0]),u&&u.p&&(!a||h&4)&&st(u,o,c,c[2],a?ot(o,c[2],h,null):lt(c[2]),null),h&2&&ve(e,"--columns",c[1])},i(c){a||(T(u,c),a=!0)},o(c){P(u,c),a=!1},d(c){c&&f(e),u&&u.d(c)}}}function cu(s,e,t){let{$$slots:r={},$$scope:n}=e,{title:i}=e,{columns:l=1}=e;return s.$$set=a=>{"title"in a&&t(0,i=a.title),"columns"in a&&t(1,l=a.columns),"$$scope"in a&&t(2,n=a.$$scope)},[i,l,n,r]}class Ke extends ae{constructor(e){super(),ue(this,e,cu,uu,ce,{title:0,columns:1})}}function fu(s){let e,t,r,n,i,l,a,o,u,c,h;return{c(){e=y("label"),t=D("Name"),r=C(),n=y("input"),i=C(),l=y("label"),a=D("Description"),o=C(),u=y("textarea"),this.h()},l(d){e=E(d,"LABEL",{for:!0});var _=S(e);t=R(_,"Name"),_.forEach(f),r=L(d),n=E(d,"INPUT",{name:!0,id:!0,type:!0}),i=L(d),l=E(d,"LABEL",{for:!0});var p=S(l);a=R(p,"Description"),p.forEach(f),o=L(d),u=E(d,"TEXTAREA",{name:!0,id:!0,rows:!0}),S(u).forEach(f),this.h()},h(){b(e,"for","name-input"),b(n,"name","name"),n.required=!0,b(n,"id","name-input"),b(n,"type","text"),n.disabled=s[3],b(l,"for","description-input"),ve(l,"place-self","start"),b(u,"name","description"),b(u,"id","description-input"),b(u,"rows","6"),u.disabled=s[3]},m(d,_){g(d,e,_),m(e,t),g(d,r,_),g(d,n,_),ge(n,s[1]),g(d,i,_),g(d,l,_),m(l,a),g(d,o,_),g(d,u,_),ge(u,s[2]),c||(h=[de(n,"input",s[6]),de(u,"input",s[7])],c=!0)},p(d,_){_&8&&(n.disabled=d[3]),_&2&&n.value!==d[1]&&ge(n,d[1]),_&8&&(u.disabled=d[3]),_&4&&ge(u,d[2])},d(d){d&&f(e),d&&f(r),d&&f(n),d&&f(i),d&&f(l),d&&f(o),d&&f(u),c=!1,at(h)}}}function hu(s){let e;return{c(){e=D("Cancel")},l(t){e=R(t,"Cancel")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function du(s){let e;return{c(){e=D("Finish!")},l(t){e=R(t,"Finish!")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function pu(s){let e,t,r,n;return e=new be({props:{variant:"ghost",disabled:s[3],$$slots:{default:[hu]},$$scope:{ctx:s}}}),e.$on("click",s[5]),r=new be({props:{type:"submit",disabled:s[3],$$slots:{default:[du]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,l){const a={};l&8&&(a.disabled=i[3]),l&256&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l&8&&(o.disabled=i[3]),l&256&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function _u(s){let e,t,r,n,i,l,a;return t=new Ke({props:{title:"Basic Info",$$slots:{default:[fu]},$$scope:{ctx:s}}}),n=new De({props:{$$slots:{default:[pu]},$$scope:{ctx:s}}}),{c(){e=y("form"),B(t.$$.fragment),r=C(),B(n.$$.fragment)},l(o){e=E(o,"FORM",{});var u=S(e);F(t.$$.fragment,u),r=L(u),F(n.$$.fragment,u),u.forEach(f)},m(o,u){g(o,e,u),M(t,e,null),m(e,r),M(n,e,null),i=!0,l||(a=de(e,"submit",Tt(s[4])),l=!0)},p(o,u){const c={};u&270&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const h={};u&264&&(h.$$scope={dirty:u,ctx:o}),n.$set(h)},i(o){i||(T(t.$$.fragment,o),T(n.$$.fragment,o),i=!0)},o(o){P(t.$$.fragment,o),P(n.$$.fragment,o),i=!1},d(o){o&&f(e),K(t),K(n),l=!1,a()}}}function mu(s){let e,t,r;return t=new ct({props:{saving:s[0],$$slots:{default:[_u]},$$scope:{ctx:s}}}),{c(){e=y("section"),B(t.$$.fragment)},l(n){e=E(n,"SECTION",{});var i=S(e);F(t.$$.fragment,i),i.forEach(f)},m(n,i){g(n,e,i),M(t,e,null),r=!0},p(n,i){const l={};i&1&&(l.saving=n[0]),i&270&&(l.$$scope={dirty:i,ctx:n}),t.$set(l)},i(n){r||(T(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&f(e),K(t)}}}function $u(s){let e,t,r,n;return e=new Ge({props:{value:"Create Trainer"}}),r=new qe({props:{title:"Create a New Trainer",$$slots:{default:[mu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,[l]){const a={};l&271&&(a.$$scope={dirty:l,ctx:i}),r.$set(a)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function vu(s,e,t){let r,n="",i="",l=!1;const a=()=>{t(0,l=!0),Ht.new({name:n,description:i}).then(({info:h})=>{Me(`${Pe}/trainers?id=${h.readKey}`)}).catch(()=>{t(0,l=!1)})},o=()=>{Me(`${Pe}/trainers`)};function u(){n=this.value,t(1,n)}function c(){i=this.value,t(2,i)}return s.$$.update=()=>{s.$$.dirty&1&&t(3,r=l)},[l,n,i,r,a,o,u,c]}class gu extends ae{constructor(e){super(),ue(this,e,vu,$u,ce,{})}}function bu(s){let e,t;return e=new nt({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ku(s){let e,t;return e=new qe({props:{title:"Remove "+s[2].nickname+"?",$$slots:{default:[Ou]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.title="Remove "+r[2].nickname+"?"),n&636&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function wu(s){let e,t,r,n,i,l;return i=new De({props:{$$slots:{default:[Tu]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=D("You do not have permission to remove this pokemon."),n=C(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=S(e);t=E(o,"P",{});var u=S(t);r=R(u,"You do not have permission to remove this pokemon."),u.forEach(f),n=L(o),F(i.$$.fragment,o),o.forEach(f)},m(a,o){g(a,e,o),m(e,t),m(t,r),m(e,n),M(i,e,null),l=!0},p(a,o){const u={};o&524&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){P(i.$$.fragment,a),l=!1},d(a){a&&f(e),K(i)}}}function yu(s){let e,t;return e=new ct({props:{saving:s[4],$$slots:{default:[Au]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.saving=r[4]),n&556&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Eu(s){let e;return{c(){e=D("Go Back")},l(t){e=R(t,"Go Back")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Tu(s){let e,t;return e=new be({props:{href:Pe+"/trainers?id="+s[3].info.readKey+"&pokemon="+s[2].id,$$slots:{default:[Eu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&12&&(i.href=Pe+"/trainers?id="+r[3].info.readKey+"&pokemon="+r[2].id),n&512&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Tn(s){let e,t,r;return t=new ni({props:{media:s[5].media,alt:s[5].name}}),{c(){e=y("p"),B(t.$$.fragment),this.h()},l(n){e=E(n,"P",{class:!0});var i=S(e);F(t.$$.fragment,i),i.forEach(f),this.h()},h(){b(e,"class","centered greyscale svelte-c82wq0")},m(n,i){g(n,e,i),M(t,e,null),r=!0},p(n,i){const l={};i&32&&(l.media=n[5].media),i&32&&(l.alt=n[5].name),t.$set(l)},i(n){r||(T(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&f(e),K(t)}}}function Pu(s){let e;return{c(){e=D("Cancel")},l(t){e=R(t,"Cancel")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Su(s){let e;return{c(){e=D("Delete")},l(t){e=R(t,"Delete")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Iu(s){let e,t,r,n;return e=new be({props:{href:Pe+"/trainers?id="+s[3].info.readKey+"&pokemon="+s[2].id,variant:"ghost",$$slots:{default:[Pu]},$$scope:{ctx:s}}}),r=new be({props:{variant:"danger",$$slots:{default:[Su]},$$scope:{ctx:s}}}),r.$on("click",s[7]),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,l){const a={};l&12&&(a.href=Pe+"/trainers?id="+i[3].info.readKey+"&pokemon="+i[2].id),l&512&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l&512&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function Au(s){var A;let e,t,r,n=s[2].nickname+"",i,l,a=s[3].info.name+"",o,u,c,h,d,_,p,$,v,w=((A=s[5].media)==null?void 0:A.main)&&Tn(s);return $=new De({props:{$$slots:{default:[Iu]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=D("Are you sure you want to remove "),i=D(n),l=D(" from "),o=D(a),u=D("'s team?"),c=C(),h=y("p"),d=D("Removal is permanent and cannot be undone!"),_=C(),w&&w.c(),p=C(),B($.$$.fragment)},l(I){e=E(I,"SECTION",{});var H=S(e);t=E(H,"P",{});var V=S(t);r=R(V,"Are you sure you want to remove "),i=R(V,n),l=R(V," from "),o=R(V,a),u=R(V,"'s team?"),V.forEach(f),c=L(H),h=E(H,"P",{});var O=S(h);d=R(O,"Removal is permanent and cannot be undone!"),O.forEach(f),_=L(H),w&&w.l(H),p=L(H),F($.$$.fragment,H),H.forEach(f)},m(I,H){g(I,e,H),m(e,t),m(t,r),m(t,i),m(t,l),m(t,o),m(t,u),m(e,c),m(e,h),m(h,d),m(e,_),w&&w.m(e,null),m(e,p),M($,e,null),v=!0},p(I,H){var O;(!v||H&4)&&n!==(n=I[2].nickname+"")&&le(i,n),(!v||H&8)&&a!==(a=I[3].info.name+"")&&le(o,a),(O=I[5].media)!=null&&O.main?w?(w.p(I,H),H&32&&T(w,1)):(w=Tn(I),w.c(),T(w,1),w.m(e,p)):w&&(_e(),P(w,1,1,()=>{w=null}),me());const V={};H&524&&(V.$$scope={dirty:H,ctx:I}),$.$set(V)},i(I){v||(T(w),T($.$$.fragment,I),v=!0)},o(I){P(w),P($.$$.fragment,I),v=!1},d(I){I&&f(e),w&&w.d(),K($)}}}function Ou(s){let e,t,r,n;const i=[yu,wu],l=[];function a(o,u){return o[6]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Du(s){let e,t,r,n;const i=[ku,bu],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Ru(s){let e,t;return e=new qt({props:{trainer:s[3],id:s[1],titlePrefix:"Remove",$$slots:{default:[Du]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,[n]){const i={};n&8&&(i.trainer=r[3]),n&2&&(i.id=r[1]),n&636&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ju(s,e,t){let r,n,i,l,a=te,o=()=>(a(),a=ze(c,p=>t(3,l=p)),c),u;Ne(s,mt,p=>t(8,u=p)),s.$$.on_destroy.push(()=>a());let{trainer:c}=e;o();let{id:h}=e,d=!1;const _=()=>{var p;t(4,d=!0),(p=l.update)==null||p.removeFromTeam(h).then(()=>{Me(`${Pe}/trainers?id=${l.info.readKey}`)}).catch(()=>{t(4,d=!1)})};return s.$$set=p=>{"trainer"in p&&o(t(0,c=p.trainer)),"id"in p&&t(1,h=p.id)},s.$$.update=()=>{s.$$.dirty&8&&t(6,r=l.update!=null),s.$$.dirty&10&&t(2,n=l.pokemon.find(p=>p.id===h)),s.$$.dirty&260&&t(5,i=u==null?void 0:u.find(p=>p.id===(n==null?void 0:n.pokemonId)))},[c,h,n,l,d,i,r,_,u]}class Nu extends ae{constructor(e){super(),ue(this,e,ju,Ru,ce,{trainer:0,id:1})}}function Pn(s,e,t){const r=s.slice();return r[6]=e[t],r}function Sn(s){let e,t=s[6]+"",r;return{c(){e=y("option"),r=D(t),this.h()},l(n){e=E(n,"OPTION",{});var i=S(e);r=R(i,t),i.forEach(f),this.h()},h(){e.__value=s[6],e.value=e.__value},m(n,i){g(n,e,i),m(e,r)},p:te,d(n){n&&f(e)}}}function In(s){let e,t,r,n,i,l,a,o,u,c,h;return{c(){e=y("span"),t=C(),r=y("span"),n=y("label"),i=D("Specify:"),a=C(),o=y("input"),this.h()},l(d){e=E(d,"SPAN",{}),S(e).forEach(f),t=L(d),r=E(d,"SPAN",{class:!0});var _=S(r);n=E(_,"LABEL",{for:!0});var p=S(n);i=R(p,"Specify:"),p.forEach(f),a=L(_),o=E(_,"INPUT",{class:!0,id:!0,type:!0}),_.forEach(f),this.h()},h(){b(n,"for",l=s[2]+"-custom"),b(o,"class","full-width"),b(o,"id",u=s[2]+"-custom"),b(o,"type","text"),o.disabled=s[3],b(r,"class","hrow")},m(d,_){g(d,e,_),g(d,t,_),g(d,r,_),m(r,n),m(n,i),m(r,a),m(r,o),ge(o,s[1]),c||(h=de(o,"input",s[5]),c=!0)},p(d,_){_&4&&l!==(l=d[2]+"-custom")&&b(n,"for",l),_&4&&u!==(u=d[2]+"-custom")&&b(o,"id",u),_&8&&(o.disabled=d[3]),_&2&&o.value!==d[1]&&ge(o,d[1])},d(d){d&&f(e),d&&f(t),d&&f(r),c=!1,h()}}}function Cu(s){let e,t,r,n,i,l,a,o,u,c,h=Mt,d=[];for(let p=0;p<h.length;p+=1)d[p]=Sn(Pn(s,h,p));let _=s[0]==="other"&&In(s);return{c(){e=y("label"),t=D("Nature"),r=C(),n=y("select");for(let p=0;p<d.length;p+=1)d[p].c();i=y("option"),l=D("Other"),a=C(),_&&_.c(),o=re(),this.h()},l(p){e=E(p,"LABEL",{for:!0});var $=S(e);t=R($,"Nature"),$.forEach(f),r=L(p),n=E(p,"SELECT",{id:!0,class:!0});var v=S(n);for(let A=0;A<d.length;A+=1)d[A].l(v);i=E(v,"OPTION",{});var w=S(i);l=R(w,"Other"),w.forEach(f),v.forEach(f),a=L(p),_&&_.l(p),o=re(),this.h()},h(){b(e,"for",s[2]),i.__value="other",i.value=i.__value,b(n,"id",s[2]),b(n,"class","cap"),n.disabled=s[3],s[0]===void 0&&ar(()=>s[4].call(n))},m(p,$){g(p,e,$),m(e,t),g(p,r,$),g(p,n,$);for(let v=0;v<d.length;v+=1)d[v].m(n,null);m(n,i),m(i,l),wt(n,s[0]),g(p,a,$),_&&_.m(p,$),g(p,o,$),u||(c=de(n,"change",s[4]),u=!0)},p(p,[$]){if($&4&&b(e,"for",p[2]),$&0){h=Mt;let v;for(v=0;v<h.length;v+=1){const w=Pn(p,h,v);d[v]?d[v].p(w,$):(d[v]=Sn(w),d[v].c(),d[v].m(n,i))}for(;v<d.length;v+=1)d[v].d(1);d.length=h.length}$&4&&b(n,"id",p[2]),$&8&&(n.disabled=p[3]),$&1&&wt(n,p[0]),p[0]==="other"?_?_.p(p,$):(_=In(p),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},i:te,o:te,d(p){p&&f(e),p&&f(r),p&&f(n),Oe(d,p),p&&f(a),_&&_.d(p),p&&f(o),u=!1,c()}}}function Lu(s,e,t){let{id:r}=e,{value:n}=e,{custom:i}=e,{disabled:l=!1}=e;function a(){n=ur(this),t(0,n)}function o(){i=this.value,t(1,i)}return s.$$set=u=>{"id"in u&&t(2,r=u.id),"value"in u&&t(0,n=u.value),"custom"in u&&t(1,i=u.custom),"disabled"in u&&t(3,l=u.disabled)},[n,i,r,l,a,o]}class Uu extends ae{constructor(e){super(),ue(this,e,Lu,Cu,ce,{id:2,value:0,custom:1,disabled:3})}}function An(s,e,t){const r=s.slice();return r[9]=e[t],r}function On(s){let e,t=s[9].name+"",r,n;return{c(){e=y("option"),r=D(t),this.h()},l(i){e=E(i,"OPTION",{});var l=S(e);r=R(l,t),l.forEach(f),this.h()},h(){e.__value=n=s[9].id,e.value=e.__value},m(i,l){g(i,e,l),m(e,r)},p(i,l){l&4&&t!==(t=i[9].name+"")&&le(r,t),l&4&&n!==(n=i[9].id)&&(e.__value=n,e.value=e.__value)},d(i){i&&f(e)}}}function Bu(s){let e;return{c(){e=D("Remove")},l(t){e=R(t,"Remove")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Fu(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$,v,w,A,I,H,V,O,U,Q,ee,ne,W=s[2]??[],J=[];for(let G=0;G<W.length;G+=1)J[G]=On(An(s,W,G));return u=new be({props:{$$slots:{default:[Bu]},$$scope:{ctx:s}}}),u.$on("click",s[4]),{c(){e=y("label"),t=D("Move"),n=C(),i=y("div"),l=y("select");for(let G=0;G<J.length;G+=1)J[G].c();o=C(),B(u.$$.fragment),c=C(),h=y("label"),d=D("Max PP"),p=C(),$=y("input"),w=C(),A=y("label"),I=D("Notes"),V=C(),O=y("textarea"),this.h()},l(G){e=E(G,"LABEL",{for:!0});var k=S(e);t=R(k,"Move"),k.forEach(f),n=L(G),i=E(G,"DIV",{class:!0});var j=S(i);l=E(j,"SELECT",{id:!0});var Y=S(l);for(let N=0;N<J.length;N+=1)J[N].l(Y);Y.forEach(f),o=L(j),F(u.$$.fragment,j),j.forEach(f),c=L(G),h=E(G,"LABEL",{for:!0});var Z=S(h);d=R(Z,"Max PP"),Z.forEach(f),p=L(G),$=E(G,"INPUT",{id:!0,type:!0}),w=L(G),A=E(G,"LABEL",{for:!0});var z=S(A);I=R(z,"Notes"),z.forEach(f),V=L(G),O=E(G,"TEXTAREA",{id:!0,rows:!0}),S(O).forEach(f),this.h()},h(){b(e,"for",r="move-name-input-"+s[0].id),b(l,"id",a="move-name-input-"+s[0].id),s[0].moveId===void 0&&ar(()=>s[5].call(l)),ve(l,"flex","1"),b(i,"class","flex-row svelte-m4o28r"),b(h,"for",_="move-pp-input-"+s[0].id),b($,"id",v="move-pp-input-"+s[0].id),b($,"type","number"),$.disabled=s[1],b(A,"for",H="move-notes-input-"+s[0].id),ve(A,"place-self","start"),b(O,"id",U="move-notes-input-"+s[0].id),b(O,"rows","5"),ve(O,"margin-block-end","1em")},m(G,k){g(G,e,k),m(e,t),g(G,n,k),g(G,i,k),m(i,l);for(let j=0;j<J.length;j+=1)J[j].m(l,null);wt(l,s[0].moveId),m(i,o),M(u,i,null),g(G,c,k),g(G,h,k),m(h,d),g(G,p,k),g(G,$,k),ge($,s[0].pp.max),g(G,w,k),g(G,A,k),m(A,I),g(G,V,k),g(G,O,k),ge(O,s[0].notes),Q=!0,ee||(ne=[de(l,"change",s[5]),de(l,"change",s[3]),de($,"input",s[6]),de(O,"input",s[7])],ee=!0)},p(G,[k]){if((!Q||k&5&&r!==(r="move-name-input-"+G[0].id))&&b(e,"for",r),k&4){W=G[2]??[];let Y;for(Y=0;Y<W.length;Y+=1){const Z=An(G,W,Y);J[Y]?J[Y].p(Z,k):(J[Y]=On(Z),J[Y].c(),J[Y].m(l,null))}for(;Y<J.length;Y+=1)J[Y].d(1);J.length=W.length}(!Q||k&5&&a!==(a="move-name-input-"+G[0].id))&&b(l,"id",a),k&5&&wt(l,G[0].moveId);const j={};k&4096&&(j.$$scope={dirty:k,ctx:G}),u.$set(j),(!Q||k&5&&_!==(_="move-pp-input-"+G[0].id))&&b(h,"for",_),(!Q||k&5&&v!==(v="move-pp-input-"+G[0].id))&&b($,"id",v),(!Q||k&2)&&($.disabled=G[1]),k&5&&Ze($.value)!==G[0].pp.max&&ge($,G[0].pp.max),(!Q||k&5&&H!==(H="move-notes-input-"+G[0].id))&&b(A,"for",H),(!Q||k&5&&U!==(U="move-notes-input-"+G[0].id))&&b(O,"id",U),k&5&&ge(O,G[0].notes)},i(G){Q||(T(u.$$.fragment,G),Q=!0)},o(G){P(u.$$.fragment,G),Q=!1},d(G){G&&f(e),G&&f(n),G&&f(i),Oe(J,G),K(u),G&&f(c),G&&f(h),G&&f(p),G&&f($),G&&f(w),G&&f(A),G&&f(V),G&&f(O),ee=!1,at(ne)}}}function Mu(s,e,t){let r;Ne(s,fr,d=>t(2,r=d));const n=rt();let{move:i}=e,{disabled:l=!1}=e;const a=()=>{var _;const d=((_=r.find(p=>p.id===i.moveId))==null?void 0:_.pp)??0;t(0,i.pp.current=d,i),t(0,i.pp.max=d,i)},o=()=>{n("remove")};function u(){i.moveId=ur(this),t(0,i)}function c(){i.pp.max=Ze(this.value),t(0,i)}function h(){i.notes=this.value,t(0,i)}return s.$$set=d=>{"move"in d&&t(0,i=d.move),"disabled"in d&&t(1,l=d.disabled)},[i,l,r,a,o,u,c,h]}class Ku extends ae{constructor(e){super(),ue(this,e,Mu,Fu,ce,{move:0,disabled:1})}}function Dn(s,e,t){const r=s.slice();return r[43]=e[t],r}function Rn(s,e,t){const r=s.slice();return r[46]=e[t],r}function jn(s,e,t){const r=s.slice();r[49]=e[t];const n=r[17](r[49].name);return r[50]=n,r}function Nn(s,e,t){const r=s.slice();return r[53]=e[t],r}function Cn(s,e,t){const r=s.slice();return r[46]=e[t],r[56]=e,r[57]=t,r}function Hu(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$,v,w,A,I,H,V,O,U,Q,ee,ne,W,J,G,k,j;function Y(N){s[25](N)}function Z(N){s[26](N)}let z={id:"nature-input",disabled:s[16]};return s[3]!==void 0&&(z.value=s[3]),s[4]!==void 0&&(z.custom=s[4]),l=new Uu({props:z}),Ot.push(()=>Dt(l,"value",Y)),Ot.push(()=>Dt(l,"custom",Z)),{c(){e=y("label"),t=D("Nickname"),r=C(),n=y("input"),i=C(),B(l.$$.fragment),u=C(),c=y("label"),h=D("Level"),d=C(),_=y("input"),p=C(),$=y("label"),v=D("AC"),w=C(),A=y("input"),I=C(),H=y("label"),V=D("Max HP"),O=C(),U=y("input"),Q=C(),ee=y("label"),ne=D("Max Hit Dice"),W=C(),J=y("input"),this.h()},l(N){e=E(N,"LABEL",{for:!0});var X=S(e);t=R(X,"Nickname"),X.forEach(f),r=L(N),n=E(N,"INPUT",{name:!0,id:!0,type:!0}),i=L(N),F(l.$$.fragment,N),u=L(N),c=E(N,"LABEL",{for:!0});var x=S(c);h=R(x,"Level"),x.forEach(f),d=L(N),_=E(N,"INPUT",{name:!0,id:!0,type:!0,min:!0,max:!0}),p=L(N),$=E(N,"LABEL",{for:!0});var se=S($);v=R(se,"AC"),se.forEach(f),w=L(N),A=E(N,"INPUT",{name:!0,id:!0,min:!0,max:!0,type:!0}),I=L(N),H=E(N,"LABEL",{for:!0});var q=S(H);V=R(q,"Max HP"),q.forEach(f),O=L(N),U=E(N,"INPUT",{name:!0,id:!0,min:!0,type:!0}),Q=L(N),ee=E(N,"LABEL",{for:!0});var ie=S(ee);ne=R(ie,"Max Hit Dice"),ie.forEach(f),W=L(N),J=E(N,"INPUT",{name:!0,id:!0,min:!0,type:!0}),this.h()},h(){b(e,"for","nickname-input"),b(n,"name","name"),b(n,"id","nickname-input"),b(n,"type","text"),n.disabled=s[16],b(c,"for","level-input"),b(_,"name","level"),b(_,"id","level-input"),b(_,"type","number"),b(_,"min","1"),b(_,"max","20"),_.value=s[5],_.disabled=s[16],b($,"for","ac-input"),b(A,"name","ac"),b(A,"id","ac-input"),b(A,"min","0"),b(A,"max","30"),b(A,"type","number"),A.disabled=s[16],b(H,"for","max-hp-input"),b(U,"name","max-hp"),b(U,"id","max-hp-input"),b(U,"min","1"),b(U,"type","number"),U.disabled=s[16],b(ee,"for","max-hit-dice-input"),b(J,"name","max-hit-dice"),b(J,"id","max-hit-dice-input"),b(J,"min","1"),b(J,"type","number"),J.disabled=s[16]},m(N,X){g(N,e,X),m(e,t),g(N,r,X),g(N,n,X),ge(n,s[2]),g(N,i,X),M(l,N,X),g(N,u,X),g(N,c,X),m(c,h),g(N,d,X),g(N,_,X),g(N,p,X),g(N,$,X),m($,v),g(N,w,X),g(N,A,X),ge(A,s[6]),g(N,I,X),g(N,H,X),m(H,V),g(N,O,X),g(N,U,X),ge(U,s[7]),g(N,Q,X),g(N,ee,X),m(ee,ne),g(N,W,X),g(N,J,X),ge(J,s[8]),G=!0,k||(j=[de(n,"input",s[24]),de(_,"change",s[18]),de(A,"input",s[27]),de(U,"input",s[28]),de(J,"input",s[29])],k=!0)},p(N,X){(!G||X[0]&65536)&&(n.disabled=N[16]),X[0]&4&&n.value!==N[2]&&ge(n,N[2]);const x={};X[0]&65536&&(x.disabled=N[16]),!a&&X[0]&8&&(a=!0,x.value=N[3],Rt(()=>a=!1)),!o&&X[0]&16&&(o=!0,x.custom=N[4],Rt(()=>o=!1)),l.$set(x),(!G||X[0]&32&&_.value!==N[5])&&(_.value=N[5]),(!G||X[0]&65536)&&(_.disabled=N[16]),(!G||X[0]&65536)&&(A.disabled=N[16]),X[0]&64&&Ze(A.value)!==N[6]&&ge(A,N[6]),(!G||X[0]&65536)&&(U.disabled=N[16]),X[0]&128&&Ze(U.value)!==N[7]&&ge(U,N[7]),(!G||X[0]&65536)&&(J.disabled=N[16]),X[0]&256&&Ze(J.value)!==N[8]&&ge(J,N[8])},i(N){G||(T(l.$$.fragment,N),G=!0)},o(N){P(l.$$.fragment,N),G=!1},d(N){N&&f(e),N&&f(r),N&&f(n),N&&f(i),K(l,N),N&&f(u),N&&f(c),N&&f(d),N&&f(_),N&&f(p),N&&f($),N&&f(w),N&&f(A),N&&f(I),N&&f(H),N&&f(O),N&&f(U),N&&f(Q),N&&f(ee),N&&f(W),N&&f(J),k=!1,at(j)}}}function zu(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$,v,w,A,I,H,V;return{c(){e=y("input"),t=C(),r=y("label"),n=D("Male"),i=C(),l=y("input"),a=C(),o=y("label"),u=D("Female"),c=C(),h=y("input"),d=C(),_=y("label"),p=D("None"),$=C(),v=y("input"),w=C(),A=y("label"),I=D("Other"),this.h()},l(O){e=E(O,"INPUT",{type:!0,id:!0,name:!0}),t=L(O),r=E(O,"LABEL",{for:!0});var U=S(r);n=R(U,"Male"),U.forEach(f),i=L(O),l=E(O,"INPUT",{type:!0,id:!0,name:!0}),a=L(O),o=E(O,"LABEL",{for:!0});var Q=S(o);u=R(Q,"Female"),Q.forEach(f),c=L(O),h=E(O,"INPUT",{type:!0,id:!0,name:!0}),d=L(O),_=E(O,"LABEL",{for:!0});var ee=S(_);p=R(ee,"None"),ee.forEach(f),$=L(O),v=E(O,"INPUT",{type:!0,id:!0,name:!0}),w=L(O),A=E(O,"LABEL",{for:!0});var ne=S(A);I=R(ne,"Other"),ne.forEach(f),this.h()},h(){e.__value=Qe.Male,e.value=e.__value,b(e,"type","radio"),b(e,"id","gender-input-male"),b(e,"name","gender"),e.disabled=s[16],s[31][2].push(e),b(r,"for","gender-input-male"),l.__value=Qe.Female,l.value=l.__value,b(l,"type","radio"),b(l,"id","gender-input-female"),b(l,"name","gender"),l.disabled=s[16],s[31][2].push(l),b(o,"for","gender-input-female"),h.__value=Qe.None,h.value=h.__value,b(h,"type","radio"),b(h,"id","gender-input-none"),b(h,"name","gender"),h.disabled=s[16],s[31][2].push(h),b(_,"for","gender-input-none"),v.__value=Qe.Other,v.value=v.__value,b(v,"type","radio"),b(v,"id","gender-input-other"),b(v,"name","gender"),v.disabled=s[16],s[31][2].push(v),b(A,"for","gender-input-other")},m(O,U){g(O,e,U),e.checked=e.__value===s[9],g(O,t,U),g(O,r,U),m(r,n),g(O,i,U),g(O,l,U),l.checked=l.__value===s[9],g(O,a,U),g(O,o,U),m(o,u),g(O,c,U),g(O,h,U),h.checked=h.__value===s[9],g(O,d,U),g(O,_,U),m(_,p),g(O,$,U),g(O,v,U),v.checked=v.__value===s[9],g(O,w,U),g(O,A,U),m(A,I),H||(V=[de(e,"change",s[30]),de(l,"change",s[32]),de(h,"change",s[33]),de(v,"change",s[34])],H=!0)},p(O,U){U[0]&65536&&(e.disabled=O[16]),U[0]&512&&(e.checked=e.__value===O[9]),U[0]&65536&&(l.disabled=O[16]),U[0]&512&&(l.checked=l.__value===O[9]),U[0]&65536&&(h.disabled=O[16]),U[0]&512&&(h.checked=h.__value===O[9]),U[0]&65536&&(v.disabled=O[16]),U[0]&512&&(v.checked=v.__value===O[9])},d(O){O&&f(e),s[31][2].splice(s[31][2].indexOf(e),1),O&&f(t),O&&f(r),O&&f(i),O&&f(l),s[31][2].splice(s[31][2].indexOf(l),1),O&&f(a),O&&f(o),O&&f(c),O&&f(h),s[31][2].splice(s[31][2].indexOf(h),1),O&&f(d),O&&f(_),O&&f($),O&&f(v),s[31][2].splice(s[31][2].indexOf(v),1),O&&f(w),O&&f(A),H=!1,at(V)}}}function Ln(s){let e,t=s[46].abbr+"",r,n,i,l,a;function o(){s[35].call(i,s[46])}return{c(){e=y("label"),r=D(t),n=C(),i=y("input"),this.h()},l(u){e=E(u,"LABEL",{for:!0,class:!0});var c=S(e);r=R(c,t),c.forEach(f),n=L(u),i=E(u,"INPUT",{name:!0,id:!0,min:!0,max:!0,type:!0}),this.h()},h(){b(e,"for",s[46].abbr+"-input"),b(e,"class","upper"),b(i,"name",s[46].abbr),b(i,"id",s[46].abbr+"-input"),b(i,"min","0"),b(i,"max","30"),b(i,"type","number"),i.disabled=s[16],ve(i,"max-width","4em")},m(u,c){g(u,e,c),m(e,r),g(u,n,c),g(u,i,c),ge(i,s[10][s[46].abbr]),l||(a=de(i,"input",o),l=!0)},p(u,c){s=u,c[0]&65536&&(i.disabled=s[16]),c[0]&1024&&Ze(i.value)!==s[10][s[46].abbr]&&ge(i,s[10][s[46].abbr])},d(u){u&&f(e),u&&f(n),u&&f(i),l=!1,a()}}}function Gu(s){let e,t=Ft,r=[];for(let n=0;n<t.length;n+=1)r[n]=Ln(Cn(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=re()},l(n){for(let i=0;i<r.length;i+=1)r[i].l(n);e=re()},m(n,i){for(let l=0;l<r.length;l+=1)r[l].m(n,i);g(n,e,i)},p(n,i){if(i[0]&66560){t=Ft;let l;for(l=0;l<t.length;l+=1){const a=Cn(n,t,l);r[l]?r[l].p(a,i):(r[l]=Ln(a),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(n){Oe(r,n),n&&f(e)}}}function Un(s){let e,t=s[53].name+"",r,n;return{c(){e=y("option"),r=D(t),this.h()},l(i){e=E(i,"OPTION",{});var l=S(e);r=R(l,t),l.forEach(f),this.h()},h(){e.__value=n=s[53].id,e.value=e.__value},m(i,l){g(i,e,l),m(e,r)},p(i,l){l[0]&1&&t!==(t=i[53].name+"")&&le(r,t),l[0]&1&&n!==(n=i[53].id)&&(e.__value=n,e.value=e.__value)},d(i){i&&f(e)}}}function qu(s){let e,t,r,n,i,l,a=s[0].abilities,o=[];for(let u=0;u<a.length;u+=1)o[u]=Un(Nn(s,a,u));return{c(){e=y("label"),t=D("Ability"),r=C(),n=y("select");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=E(u,"LABEL",{for:!0});var c=S(e);t=R(c,"Ability"),c.forEach(f),r=L(u),n=E(u,"SELECT",{id:!0});var h=S(n);for(let d=0;d<o.length;d+=1)o[d].l(h);h.forEach(f),this.h()},h(){b(e,"for","ability-input"),b(n,"id","ability-input"),s[11]===void 0&&ar(()=>s[36].call(n))},m(u,c){g(u,e,c),m(e,t),g(u,r,c),g(u,n,c);for(let h=0;h<o.length;h+=1)o[h].m(n,null);wt(n,s[11]),i||(l=de(n,"change",s[36]),i=!0)},p(u,c){if(c[0]&1){a=u[0].abilities;let h;for(h=0;h<a.length;h+=1){const d=Nn(u,a,h);o[h]?o[h].p(d,c):(o[h]=Un(d),o[h].c(),o[h].m(n,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=a.length}c[0]&2049&&wt(n,u[11])},d(u){u&&f(e),u&&f(r),u&&f(n),Oe(o,u),i=!1,l()}}}function Bn(s){let e,t,r,n=s[49].name+"",i,l,a;return{c(){e=y("input"),t=C(),r=y("label"),i=D(n),this.h()},l(o){e=E(o,"INPUT",{type:!0,id:!0,name:!0}),t=L(o),r=E(o,"LABEL",{for:!0,class:!0});var u=S(r);i=R(u,n),u.forEach(f),this.h()},h(){e.__value=s[49].name,e.value=e.__value,b(e,"type","checkbox"),b(e,"id","proficiencies-input-"+s[50]),b(e,"name","proficiencies"),e.disabled=s[16],s[31][1].push(e),b(r,"for","proficiencies-input-"+s[50]),b(r,"class","cap")},m(o,u){g(o,e,u),e.checked=~s[12].indexOf(e.__value),g(o,t,u),g(o,r,u),m(r,i),l||(a=de(e,"change",s[37]),l=!0)},p(o,u){u[0]&65536&&(e.disabled=o[16]),u[0]&4096&&(e.checked=~o[12].indexOf(e.__value))},d(o){o&&f(e),s[31][1].splice(s[31][1].indexOf(e),1),o&&f(t),o&&f(r),l=!1,a()}}}function Vu(s){let e,t=nr,r=[];for(let n=0;n<t.length;n+=1)r[n]=Bn(jn(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=re()},l(n){for(let i=0;i<r.length;i+=1)r[i].l(n);e=re()},m(n,i){for(let l=0;l<r.length;l+=1)r[l].m(n,i);g(n,e,i)},p(n,i){if(i[0]&200704){t=nr;let l;for(l=0;l<t.length;l+=1){const a=jn(n,t,l);r[l]?r[l].p(a,i):(r[l]=Bn(a),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(n){Oe(r,n),n&&f(e)}}}function Fn(s){let e,t,r,n=s[46].name+"",i,l,a;return{c(){e=y("input"),t=C(),r=y("label"),i=D(n),this.h()},l(o){e=E(o,"INPUT",{type:!0,id:!0,name:!0}),t=L(o),r=E(o,"LABEL",{for:!0,class:!0});var u=S(r);i=R(u,n),u.forEach(f),this.h()},h(){e.__value=s[46].abbr,e.value=e.__value,b(e,"type","checkbox"),b(e,"id","saves-input-"+s[46].abbr),b(e,"name","saves"),e.disabled=s[16],s[31][0].push(e),b(r,"for","saves-input-"+s[46].abbr),b(r,"class","cap")},m(o,u){g(o,e,u),e.checked=~s[13].indexOf(e.__value),g(o,t,u),g(o,r,u),m(r,i),l||(a=de(e,"change",s[38]),l=!0)},p(o,u){u[0]&65536&&(e.disabled=o[16]),u[0]&8192&&(e.checked=~o[13].indexOf(e.__value))},d(o){o&&f(e),s[31][0].splice(s[31][0].indexOf(e),1),o&&f(t),o&&f(r),l=!1,a()}}}function Ju(s){let e,t=Ft,r=[];for(let n=0;n<t.length;n+=1)r[n]=Fn(Rn(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=re()},l(n){for(let i=0;i<r.length;i+=1)r[i].l(n);e=re()},m(n,i){for(let l=0;l<r.length;l+=1)r[l].m(n,i);g(n,e,i)},p(n,i){if(i[0]&73728){t=Ft;let l;for(l=0;l<t.length;l+=1){const a=Rn(n,t,l);r[l]?r[l].p(a,i):(r[l]=Fn(a),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(n){Oe(r,n),n&&f(e)}}}function Mn(s,e){let t,r,n;return r=new Ku({props:{move:e[43],disabled:e[16]}}),r.$on("remove",function(){or(e[19](e[43].id))&&e[19](e[43].id).apply(this,arguments)}),{key:s,first:null,c(){t=re(),B(r.$$.fragment),this.h()},l(i){t=re(),F(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,l){g(i,t,l),M(r,i,l),n=!0},p(i,l){e=i;const a={};l[0]&32768&&(a.move=e[43]),l[0]&65536&&(a.disabled=e[16]),r.$set(a)},i(i){n||(T(r.$$.fragment,i),n=!0)},o(i){P(r.$$.fragment,i),n=!1},d(i){i&&f(t),K(r,i)}}}function Yu(s){let e;return{c(){e=D("Add Move")},l(t){e=R(t,"Add Move")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Wu(s){let e=[],t=new Map,r,n,i,l,a,o=s[15];const u=c=>c[43].id;for(let c=0;c<o.length;c+=1){let h=Dn(s,o,c),d=u(h);t.set(d,e[c]=Mn(d,h))}return l=new be({props:{$$slots:{default:[Yu]},$$scope:{ctx:s}}}),l.$on("click",s[20]),{c(){for(let c=0;c<e.length;c+=1)e[c].c();r=C(),n=y("span"),i=C(),B(l.$$.fragment)},l(c){for(let h=0;h<e.length;h+=1)e[h].l(c);r=L(c),n=E(c,"SPAN",{}),S(n).forEach(f),i=L(c),F(l.$$.fragment,c)},m(c,h){for(let d=0;d<e.length;d+=1)e[d].m(c,h);g(c,r,h),g(c,n,h),g(c,i,h),M(l,c,h),a=!0},p(c,h){h[0]&622592&&(o=c[15],_e(),e=xn(e,h,u,1,c,o,t,r.parentNode,ei,Mn,r,Dn),me());const d={};h[1]&134217728&&(d.$$scope={dirty:h,ctx:c}),l.$set(d)},i(c){if(!a){for(let h=0;h<o.length;h+=1)T(e[h]);T(l.$$.fragment,c),a=!0}},o(c){for(let h=0;h<e.length;h+=1)P(e[h]);P(l.$$.fragment,c),a=!1},d(c){for(let h=0;h<e.length;h+=1)e[h].d(c);c&&f(r),c&&f(n),c&&f(i),K(l,c)}}}function Xu(s){let e,t,r,n,i,l,a;return{c(){e=y("div"),t=y("label"),r=D("Notes"),n=C(),i=y("textarea"),this.h()},l(o){e=E(o,"DIV",{class:!0});var u=S(e);t=E(u,"LABEL",{for:!0});var c=S(t);r=R(c,"Notes"),c.forEach(f),n=L(u),i=E(u,"TEXTAREA",{name:!0,id:!0,rows:!0,class:!0,placeholder:!0}),S(i).forEach(f),u.forEach(f),this.h()},h(){b(t,"for","notes-input"),b(i,"name","notes"),b(i,"id","notes-input"),b(i,"rows","6"),b(i,"class","font-sm svelte-216lzz"),b(i,"placeholder","Use this for any general notes not covered by the above fields..."),b(e,"class","stacked svelte-216lzz")},m(o,u){g(o,e,u),m(e,t),m(t,r),m(e,n),m(e,i),ge(i,s[14]),l||(a=de(i,"input",s[39]),l=!0)},p(o,u){u[0]&16384&&ge(i,o[14])},d(o){o&&f(e),l=!1,a()}}}function Zu(s){let e;return{c(){e=D("Cancel")},l(t){e=R(t,"Cancel")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Qu(s){let e;return{c(){e=D("Finish!")},l(t){e=R(t,"Finish!")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function xu(s){let e,t,r,n;return e=new be({props:{variant:"ghost",disabled:s[16],$$slots:{default:[Zu]},$$scope:{ctx:s}}}),e.$on("click",s[21]),r=new be({props:{type:"submit",disabled:s[16],$$slots:{default:[Qu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,l){const a={};l[0]&65536&&(a.disabled=i[16]),l[1]&134217728&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l[0]&65536&&(o.disabled=i[16]),l[1]&134217728&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function ec(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$,v,w,A,I,H,V;return t=new Ke({props:{title:"Basic Info",$$slots:{default:[Hu]},$$scope:{ctx:s}}}),n=new Ke({props:{title:"Gender",columns:4,$$slots:{default:[zu]},$$scope:{ctx:s}}}),l=new Ke({props:{title:"Attributes",columns:3,$$slots:{default:[Gu]},$$scope:{ctx:s}}}),o=new Ke({props:{title:"Feats",$$slots:{default:[qu]},$$scope:{ctx:s}}}),c=new Ke({props:{title:"Proficiencies",columns:2,$$slots:{default:[Vu]},$$scope:{ctx:s}}}),d=new Ke({props:{title:"Saving Throws",columns:2,$$slots:{default:[Ju]},$$scope:{ctx:s}}}),p=new Ke({props:{title:"Moves",$$slots:{default:[Wu]},$$scope:{ctx:s}}}),v=new Ke({props:{title:"General",$$slots:{default:[Xu]},$$scope:{ctx:s}}}),A=new De({props:{$$slots:{default:[xu]},$$scope:{ctx:s}}}),{c(){e=y("form"),B(t.$$.fragment),r=C(),B(n.$$.fragment),i=C(),B(l.$$.fragment),a=C(),B(o.$$.fragment),u=C(),B(c.$$.fragment),h=C(),B(d.$$.fragment),_=C(),B(p.$$.fragment),$=C(),B(v.$$.fragment),w=C(),B(A.$$.fragment)},l(O){e=E(O,"FORM",{});var U=S(e);F(t.$$.fragment,U),r=L(U),F(n.$$.fragment,U),i=L(U),F(l.$$.fragment,U),a=L(U),F(o.$$.fragment,U),u=L(U),F(c.$$.fragment,U),h=L(U),F(d.$$.fragment,U),_=L(U),F(p.$$.fragment,U),$=L(U),F(v.$$.fragment,U),w=L(U),F(A.$$.fragment,U),U.forEach(f)},m(O,U){g(O,e,U),M(t,e,null),m(e,r),M(n,e,null),m(e,i),M(l,e,null),m(e,a),M(o,e,null),m(e,u),M(c,e,null),m(e,h),M(d,e,null),m(e,_),M(p,e,null),m(e,$),M(v,e,null),m(e,w),M(A,e,null),I=!0,H||(V=de(e,"submit",Tt(s[22])),H=!0)},p(O,U){const Q={};U[0]&66044|U[1]&134217728&&(Q.$$scope={dirty:U,ctx:O}),t.$set(Q);const ee={};U[0]&66048|U[1]&134217728&&(ee.$$scope={dirty:U,ctx:O}),n.$set(ee);const ne={};U[0]&66560|U[1]&134217728&&(ne.$$scope={dirty:U,ctx:O}),l.$set(ne);const W={};U[0]&2049|U[1]&134217728&&(W.$$scope={dirty:U,ctx:O}),o.$set(W);const J={};U[0]&69632|U[1]&134217728&&(J.$$scope={dirty:U,ctx:O}),c.$set(J);const G={};U[0]&73728|U[1]&134217728&&(G.$$scope={dirty:U,ctx:O}),d.$set(G);const k={};U[0]&98304|U[1]&134217728&&(k.$$scope={dirty:U,ctx:O}),p.$set(k);const j={};U[0]&16384|U[1]&134217728&&(j.$$scope={dirty:U,ctx:O}),v.$set(j);const Y={};U[0]&65536|U[1]&134217728&&(Y.$$scope={dirty:U,ctx:O}),A.$set(Y)},i(O){I||(T(t.$$.fragment,O),T(n.$$.fragment,O),T(l.$$.fragment,O),T(o.$$.fragment,O),T(c.$$.fragment,O),T(d.$$.fragment,O),T(p.$$.fragment,O),T(v.$$.fragment,O),T(A.$$.fragment,O),I=!0)},o(O){P(t.$$.fragment,O),P(n.$$.fragment,O),P(l.$$.fragment,O),P(o.$$.fragment,O),P(c.$$.fragment,O),P(d.$$.fragment,O),P(p.$$.fragment,O),P(v.$$.fragment,O),P(A.$$.fragment,O),I=!1},d(O){O&&f(e),K(t),K(n),K(l),K(o),K(c),K(d),K(p),K(v),K(A),H=!1,V()}}}function tc(s){let e,t;return e=new ct({props:{saving:s[1],$$slots:{default:[ec]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n[0]&2&&(i.saving=r[1]),n[0]&131069|n[1]&134217728&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function rc(s,e,t){let r;const n=$e=>$e.replace(/\s/g,""),i=rt();let{pokemon:l}=e,{species:a}=e,{saving:o=!1}=e,u=l.nickname,c=l.nature,h=l.nature,d=l.level,_=l.ac,p=l.hp.max,$=l.hitDice.max,v=l.gender,w={...l.attributes},A=l.ability,I=l.proficiencies,H=l.savingThrows,V=l.notes;const O=$e=>{const Re=$e.target;d===$&&t(8,$=parseInt(Re.value)),t(5,d=parseInt(Re.value))};let U=-1001;const Q=()=>(--U).toString();let ee=structuredClone(l.moves);const ne=$e=>()=>{t(15,ee=ee.filter(Re=>Re.id!==$e))},W=()=>{t(15,ee=[...ee,{id:Q(),moveId:"tackle",pp:{current:20,max:20},notes:""}])},J=()=>{i("cancel")},G=()=>{i("update",{...l,nickname:u.length>0?u:a.name,nature:c==="other"?h:c,level:d,ac:_,hp:{current:l.hp.current,max:p},hitDice:{current:l.hitDice.current,max:$},gender:v,attributes:w,ability:A,proficiencies:I,savingThrows:H,moves:ee,notes:V})},k=[[],[],[]];function j(){u=this.value,t(2,u)}function Y($e){c=$e,t(3,c)}function Z($e){h=$e,t(4,h)}function z(){_=Ze(this.value),t(6,_)}function N(){p=Ze(this.value),t(7,p)}function X(){$=Ze(this.value),t(8,$)}function x(){v=this.__value,t(9,v)}function se(){v=this.__value,t(9,v)}function q(){v=this.__value,t(9,v)}function ie(){v=this.__value,t(9,v)}function he($e){w[$e.abbr]=Ze(this.value),t(10,w)}function Te(){A=ur(this),t(11,A),t(0,a)}function oe(){I=wr(k[1],this.__value,this.checked),t(12,I)}function fe(){H=wr(k[0],this.__value,this.checked),t(13,H)}function Ae(){V=this.value,t(14,V)}return s.$$set=$e=>{"pokemon"in $e&&t(23,l=$e.pokemon),"species"in $e&&t(0,a=$e.species),"saving"in $e&&t(1,o=$e.saving)},s.$$.update=()=>{s.$$.dirty[0]&2&&t(16,r=o)},[a,o,u,c,h,d,_,p,$,v,w,A,I,H,V,ee,r,n,O,ne,W,J,G,l,j,Y,Z,z,N,X,x,k,se,q,ie,he,Te,oe,fe,Ae]}let nc=class extends ae{constructor(e){super(),ue(this,e,rc,tc,ce,{pokemon:23,species:0,saving:1},null,[-1,-1])}};function ic(s){let e,t;return e=new nt({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function sc(s){let e,t;return e=new qe({props:{title:"Edit "+s[2].nickname,$$slots:{default:[cc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.title="Edit "+r[2].nickname),n&1150&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function lc(s){let e,t,r,n,i,l;return i=new De({props:{$$slots:{default:[uc]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=D("You do not have permission to edit this pokemon."),n=C(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=S(e);t=E(o,"P",{});var u=S(t);r=R(u,"You do not have permission to edit this pokemon."),u.forEach(f),n=L(o),F(i.$$.fragment,o),o.forEach(f)},m(a,o){g(a,e,o),m(e,t),m(t,r),m(e,n),M(i,e,null),l=!0},p(a,o){const u={};o&1034&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){P(i.$$.fragment,a),l=!1},d(a){a&&f(e),K(i)}}}function oc(s){let e,t;return e=new nc({props:{pokemon:s[2],species:s[5],saving:s[4]}}),e.$on("cancel",s[8]),e.$on("update",s[7]),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.pokemon=r[2]),n&32&&(i.species=r[5]),n&16&&(i.saving=r[4]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ac(s){let e;return{c(){e=D("Go Back")},l(t){e=R(t,"Go Back")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function uc(s){let e,t;return e=new be({props:{href:pe.trainers(s[3].info.readKey,s[1]),$$slots:{default:[ac]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&10&&(i.href=pe.trainers(r[3].info.readKey,r[1])),n&1024&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function cc(s){let e,t,r,n;const i=[oc,lc],l=[];function a(o,u){return o[6]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function fc(s){let e,t,r,n;const i=[sc,ic],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function hc(s){let e,t;return e=new qt({props:{trainer:s[3],id:s[1],titlePrefix:"Edit",$$slots:{default:[fc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,[n]){const i={};n&8&&(i.trainer=r[3]),n&2&&(i.id=r[1]),n&1150&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function dc(s,e,t){let r,n,i,l,a=te,o=()=>(a(),a=ze(c,$=>t(3,l=$)),c),u;Ne(s,mt,$=>t(9,u=$)),s.$$.on_destroy.push(()=>a());let{trainer:c}=e;o();let{id:h}=e,d=!1;const _=$=>{var v;t(4,d=!0),(v=l.update)==null||v.pokemon($.detail).then(()=>{var w;return(w=l.update)==null?void 0:w.moveset($.detail)}).then(()=>{t(4,d=!1),Me(pe.trainers(l.info.readKey,h))}).catch(()=>{t(4,d=!1)})},p=()=>{Me(pe.trainers(l.info.readKey,h))};return s.$$set=$=>{"trainer"in $&&o(t(0,c=$.trainer)),"id"in $&&t(1,h=$.id)},s.$$.update=()=>{s.$$.dirty&8&&t(6,r=l.update!=null),s.$$.dirty&10&&t(2,n=l.pokemon.find($=>$.id===h)),s.$$.dirty&516&&t(5,i=u==null?void 0:u.find($=>$.id===(n==null?void 0:n.pokemonId)))},[c,h,n,l,d,i,r,_,p,u]}class pc extends ae{constructor(e){super(),ue(this,e,dc,hc,ce,{trainer:0,id:1})}}const Kn=s=>e=>s.filter(t=>!e.includes(t));function Hn(s,e,t){var i,l;const r=s.slice();r[22]=e[t];const n=((l=(i=r[5])==null?void 0:i.find(function(...o){return s[20](r[22],...o)}))==null?void 0:l.name)??"";return r[23]=n,r}function zn(s){let e,t,r,n,i,l,a,o,u;t=new Ke({props:{title:"Choose one",columns:2,$$slots:{default:[_c]},$$scope:{ctx:s}}});let c=s[11]&&qn(s);return l=new De({props:{$$slots:{default:[vc]},$$scope:{ctx:s}}}),{c(){e=y("form"),B(t.$$.fragment),r=C(),n=y("section"),c&&c.c(),i=C(),B(l.$$.fragment),this.h()},l(h){e=E(h,"FORM",{});var d=S(e);F(t.$$.fragment,d),r=L(d),n=E(d,"SECTION",{class:!0});var _=S(n);c&&c.l(_),_.forEach(f),i=L(d),F(l.$$.fragment,d),d.forEach(f),this.h()},h(){b(n,"class","svelte-17q95yj"),ve(n,"min-height","12em")},m(h,d){g(h,e,d),M(t,e,null),m(e,r),m(e,n),c&&c.m(n,null),m(e,i),M(l,e,null),a=!0,o||(u=de(e,"submit",Tt(s[15])),o=!0)},p(h,d){const _={};d&67113002&&(_.$$scope={dirty:d,ctx:h}),t.$set(_),h[11]?c?c.p(h,d):(c=qn(h),c.c(),c.m(n,null)):c&&(c.d(1),c=null);const p={};d&67112960&&(p.$$scope={dirty:d,ctx:h}),l.$set(p)},i(h){a||(T(t.$$.fragment,h),T(l.$$.fragment,h),a=!0)},o(h){P(t.$$.fragment,h),P(l.$$.fragment,h),a=!1},d(h){h&&f(e),K(t),c&&c.d(),K(l),o=!1,u()}}}function Gn(s){let e,t,r,n,i,l=s[23]+"",a,o,u,c;return{c(){e=y("input"),n=C(),i=y("label"),a=D(l),this.h()},l(h){e=E(h,"INPUT",{id:!0,name:!0,type:!0}),n=L(h),i=E(h,"LABEL",{for:!0});var d=S(i);a=R(d,l),d.forEach(f),this.h()},h(){b(e,"id",t="evolve-to-"+s[22].id),b(e,"name","evolve-to"),b(e,"type","radio"),e.__value=r=s[22].id,e.value=e.__value,e.disabled=s[12],e.required=!0,s[19][0].push(e),b(i,"for",o="evolve-to-"+s[22].id)},m(h,d){g(h,e,d),e.checked=e.__value===s[3],g(h,n,d),g(h,i,d),m(i,a),u||(c=de(e,"change",s[18]),u=!0)},p(h,d){d&2&&t!==(t="evolve-to-"+h[22].id)&&b(e,"id",t),d&2&&r!==(r=h[22].id)&&(e.__value=r,e.value=e.__value),d&4096&&(e.disabled=h[12]),d&8&&(e.checked=e.__value===h[3]),d&34&&l!==(l=h[23]+"")&&le(a,l),d&2&&o!==(o="evolve-to-"+h[22].id)&&b(i,"for",o)},d(h){h&&f(e),s[19][0].splice(s[19][0].indexOf(e),1),h&&f(n),h&&f(i),u=!1,c()}}}function _c(s){let e,t=s[1].evolution.to,r=[];for(let n=0;n<t.length;n+=1)r[n]=Gn(Hn(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=re()},l(n){for(let i=0;i<r.length;i+=1)r[i].l(n);e=re()},m(n,i){for(let l=0;l<r.length;l+=1)r[l].m(n,i);g(n,e,i)},p(n,i){if(i&4138){t=n[1].evolution.to;let l;for(l=0;l<t.length;l+=1){const a=Hn(n,t,l);r[l]?r[l].p(a,i):(r[l]=Gn(a),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(n){Oe(r,n),n&&f(e)}}}function qn(s){let e,t=yr(s[1].name,s[11],Pr(Pe,s[5],s[13]))+"",r,n,i,l,a,o,u,c,h,d,_,p,$=s[9]>0&&Vn(s),v=s[8].length>0&&Jn(s),w=s[7].length>0&&Yn(s),A=s[6]&&s[0].ability!==s[6].id&&Wn(s);return{c(){e=y("p"),r=C(),n=y("p"),i=D("Evolving this pokemon will have these effects:"),l=C(),a=y("ul"),o=y("li"),u=D("Max HP will increase by "),c=D(s[10]),h=C(),$&&$.c(),d=C(),v&&v.c(),_=C(),w&&w.c(),p=C(),A&&A.c()},l(I){e=E(I,"P",{});var H=S(e);H.forEach(f),r=L(I),n=E(I,"P",{});var V=S(n);i=R(V,"Evolving this pokemon will have these effects:"),V.forEach(f),l=L(I),a=E(I,"UL",{});var O=S(a);o=E(O,"LI",{});var U=S(o);u=R(U,"Max HP will increase by "),c=R(U,s[10]),U.forEach(f),h=L(O),$&&$.l(O),d=L(O),v&&v.l(O),_=L(O),w&&w.l(O),p=L(O),A&&A.l(O),O.forEach(f)},m(I,H){g(I,e,H),e.innerHTML=t,g(I,r,H),g(I,n,H),m(n,i),g(I,l,H),g(I,a,H),m(a,o),m(o,u),m(o,c),m(a,h),$&&$.m(a,null),m(a,d),v&&v.m(a,null),m(a,_),w&&w.m(a,null),m(a,p),A&&A.m(a,null)},p(I,H){H&10274&&t!==(t=yr(I[1].name,I[11],Pr(Pe,I[5],I[13]))+"")&&(e.innerHTML=t),H&1024&&le(c,I[10]),I[9]>0?$?$.p(I,H):($=Vn(I),$.c(),$.m(a,d)):$&&($.d(1),$=null),I[8].length>0?v?v.p(I,H):(v=Jn(I),v.c(),v.m(a,_)):v&&(v.d(1),v=null),I[7].length>0?w?w.p(I,H):(w=Yn(I),w.c(),w.m(a,p)):w&&(w.d(1),w=null),I[6]&&I[0].ability!==I[6].id?A?A.p(I,H):(A=Wn(I),A.c(),A.m(a,null)):A&&(A.d(1),A=null)},d(I){I&&f(e),I&&f(r),I&&f(n),I&&f(l),I&&f(a),$&&$.d(),v&&v.d(),w&&w.d(),A&&A.d()}}}function Vn(s){let e,t,r;return{c(){e=y("li"),t=D("AC will increase by "),r=D(s[9])},l(n){e=E(n,"LI",{});var i=S(e);t=R(i,"AC will increase by "),r=R(i,s[9]),i.forEach(f)},m(n,i){g(n,e,i),m(e,t),m(e,r)},p(n,i){i&512&&le(r,n[9])},d(n){n&&f(e)}}}function Jn(s){let e,t,r,n=s[8].join(", ")+"",i;return{c(){e=y("li"),t=D("Proficiency in "),r=y("span"),i=D(n),this.h()},l(l){e=E(l,"LI",{});var a=S(e);t=R(a,"Proficiency in "),r=E(a,"SPAN",{class:!0});var o=S(r);i=R(o,n),o.forEach(f),a.forEach(f),this.h()},h(){b(r,"class","cap")},m(l,a){g(l,e,a),m(e,t),m(e,r),m(r,i)},p(l,a){a&256&&n!==(n=l[8].join(", ")+"")&&le(i,n)},d(l){l&&f(e)}}}function Yn(s){let e,t,r,n=s[7].join(", ")+"",i,l;return{c(){e=y("li"),t=D("Proficiency in "),r=y("span"),i=D(n),l=D(" saving throws"),this.h()},l(a){e=E(a,"LI",{});var o=S(e);t=R(o,"Proficiency in "),r=E(o,"SPAN",{class:!0});var u=S(r);i=R(u,n),u.forEach(f),l=R(o," saving throws"),o.forEach(f),this.h()},h(){b(r,"class","upper")},m(a,o){g(a,e,o),m(e,t),m(e,r),m(r,i),m(e,l)},p(a,o){o&128&&n!==(n=a[7].join(", ")+"")&&le(i,n)},d(a){a&&f(e)}}}function Wn(s){let e,t,r=s[4].name+"",n,i,l=s[6].name+"",a;return{c(){e=y("li"),t=D("Ability will change from "),n=D(r),i=D(" to "),a=D(l)},l(o){e=E(o,"LI",{});var u=S(e);t=R(u,"Ability will change from "),n=R(u,r),i=R(u," to "),a=R(u,l),u.forEach(f)},m(o,u){g(o,e,u),m(e,t),m(e,n),m(e,i),m(e,a)},p(o,u){u&16&&r!==(r=o[4].name+"")&&le(n,r),u&64&&l!==(l=o[6].name+"")&&le(a,l)},d(o){o&&f(e)}}}function mc(s){let e;return{c(){e=D("Cancel")},l(t){e=R(t,"Cancel")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function $c(s){let e;return{c(){e=D("Evolve!")},l(t){e=R(t,"Evolve!")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function vc(s){let e,t,r,n;return e=new be({props:{variant:"ghost",disabled:s[12],$$slots:{default:[mc]},$$scope:{ctx:s}}}),e.$on("click",s[14]),r=new be({props:{type:"submit",disabled:s[12],$$slots:{default:[$c]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,l){const a={};l&4096&&(a.disabled=i[12]),l&67108864&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l&4096&&(o.disabled=i[12]),l&67108864&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function gc(s){var n,i;let e,t,r=((i=(n=s[1].evolution)==null?void 0:n.to)==null?void 0:i.length)>0&&zn(s);return{c(){r&&r.c(),e=re()},l(l){r&&r.l(l),e=re()},m(l,a){r&&r.m(l,a),g(l,e,a),t=!0},p(l,a){var o,u;((u=(o=l[1].evolution)==null?void 0:o.to)==null?void 0:u.length)>0?r?(r.p(l,a),a&2&&T(r,1)):(r=zn(l),r.c(),T(r,1),r.m(e.parentNode,e)):r&&(_e(),P(r,1,1,()=>{r=null}),me())},i(l){t||(T(r),t=!0)},o(l){P(r),t=!1},d(l){r&&r.d(l),l&&f(e)}}}function bc(s){let e,t;return e=new ct({props:{saving:s[2],$$slots:{default:[gc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,[n]){const i={};n&4&&(i.saving=r[2]),n&67125243&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function kc(s,e,t){var ee,ne;let r,n,i,l,a,o,u,c,h,d,_,p;Ne(s,mt,W=>t(5,_=W)),Ne(s,fr,W=>t(13,p=W));const $=rt();let{pokemon:v}=e,{species:w}=e,{saving:A=!1}=e,I=((ne=(ee=w.evolution)==null?void 0:ee.to)==null?void 0:ne.length)===1?w.evolution.to[0].id:void 0;const H=()=>{$("cancel")},V=()=>{const W={...v,pokemonId:I,nickname:v.nickname===w.name?a.name:v.nickname,hp:{current:v.hp.max+o,max:v.hp.max+o},ac:v.ac+u,proficiencies:v.proficiencies.concat(c),savingThrows:v.savingThrows.concat(h),ability:(d==null?void 0:d.id)??v.ability};$("submit",W)},O=[[]];function U(){I=this.__value,t(3,I)}const Q=(W,J)=>J.id===W.id;return s.$$set=W=>{"pokemon"in W&&t(0,v=W.pokemon),"species"in W&&t(1,w=W.species),"saving"in W&&t(2,A=W.saving)},s.$$.update=()=>{var W,J;s.$$.dirty&4&&t(12,r=A),s.$$.dirty&3&&t(4,n=w.abilities.find(G=>G.id===v.ability)),s.$$.dirty&18&&t(17,i=w.abilities.indexOf(n)),s.$$.dirty&10&&t(11,l=(J=(W=w.evolution)==null?void 0:W.to)==null?void 0:J.find(G=>G.id===I)),s.$$.dirty&40&&t(16,a=_==null?void 0:_.find(G=>G.id===I)),s.$$.dirty&1&&t(10,o=v.level*2),s.$$.dirty&65537&&t(9,u=Math.max(0,((a==null?void 0:a.ac)??0)-v.ac)),s.$$.dirty&65537&&t(8,c=Kn((a==null?void 0:a.skills)??[])(v.proficiencies)),s.$$.dirty&65537&&t(7,h=Kn((a==null?void 0:a.savingThrows)??[])(v.savingThrows)),s.$$.dirty&196608&&t(6,d=a==null?void 0:a.abilities[Math.min((a==null?void 0:a.abilities.length)-1,i)])},[v,w,A,I,n,_,d,h,c,u,o,l,r,p,H,V,a,i,U,O,Q]}class wc extends ae{constructor(e){super(),ue(this,e,kc,bc,ce,{pokemon:0,species:1,saving:2})}}function yc(s){let e,t;return e=new nt({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Ec(s){let e,t;return e=new qe({props:{title:"Evolve "+s[2].nickname,$$slots:{default:[Ac]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.title="Evolve "+r[2].nickname),n&1150&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Tc(s){let e,t,r,n,i,l;return i=new De({props:{$$slots:{default:[Ic]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=D("You do not have permission to evolve this pokemon."),n=C(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=S(e);t=E(o,"P",{});var u=S(t);r=R(u,"You do not have permission to evolve this pokemon."),u.forEach(f),n=L(o),F(i.$$.fragment,o),o.forEach(f)},m(a,o){g(a,e,o),m(e,t),m(t,r),m(e,n),M(i,e,null),l=!0},p(a,o){const u={};o&1034&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){P(i.$$.fragment,a),l=!1},d(a){a&&f(e),K(i)}}}function Pc(s){let e,t;return e=new wc({props:{pokemon:s[2],species:s[5],saving:s[4]}}),e.$on("cancel",s[8]),e.$on("submit",s[7]),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.pokemon=r[2]),n&32&&(i.species=r[5]),n&16&&(i.saving=r[4]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Sc(s){let e;return{c(){e=D("Go Back")},l(t){e=R(t,"Go Back")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Ic(s){let e,t;return e=new be({props:{href:pe.trainers(s[3].info.readKey,s[1]),$$slots:{default:[Sc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&10&&(i.href=pe.trainers(r[3].info.readKey,r[1])),n&1024&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Ac(s){let e,t,r,n;const i=[Pc,Tc],l=[];function a(o,u){return o[6]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Oc(s){let e,t,r,n;const i=[Ec,yc],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Dc(s){let e,t;return e=new qt({props:{trainer:s[3],id:s[1],titlePrefix:"Evolve",$$slots:{default:[Oc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,[n]){const i={};n&8&&(i.trainer=r[3]),n&2&&(i.id=r[1]),n&1150&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Rc(s,e,t){let r,n,i,l,a=te,o=()=>(a(),a=ze(c,$=>t(3,l=$)),c),u;Ne(s,mt,$=>t(9,u=$)),s.$$.on_destroy.push(()=>a());let{trainer:c}=e;o();let{id:h}=e,d=!1;const _=$=>{var v;t(4,d=!0),(v=l.update)==null||v.pokemon($.detail).then(()=>{t(4,d=!1),Me(pe.trainers(l.info.readKey,h))}).catch(()=>{t(4,d=!1)})},p=()=>{Me(pe.trainers(l.info.readKey,h))};return s.$$set=$=>{"trainer"in $&&o(t(0,c=$.trainer)),"id"in $&&t(1,h=$.id)},s.$$.update=()=>{s.$$.dirty&8&&t(6,r=l.update!=null),s.$$.dirty&10&&t(2,n=l.pokemon.find($=>$.id===h)),s.$$.dirty&516&&t(5,i=u==null?void 0:u.find($=>$.id===(n==null?void 0:n.pokemonId)))},[c,h,n,l,d,i,r,_,p,u]}class jc extends ae{constructor(e){super(),ue(this,e,Rc,Dc,ce,{trainer:0,id:1})}}function Nc(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p;return{c(){e=y("h1"),t=D("Cannot find trainer"),r=C(),n=y("p"),i=D("No trainer with id "),l=y("strong"),a=D(s[0]),o=D(" seems to be registered."),u=C(),c=y("p"),h=D("You can view a "),d=y("a"),_=D("list of your trainers"),p=D(" or search by trainer id."),this.h()},l($){e=E($,"H1",{class:!0});var v=S(e);t=R(v,"Cannot find trainer"),v.forEach(f),r=L($),n=E($,"P",{class:!0});var w=S(n);i=R(w,"No trainer with id "),l=E(w,"STRONG",{});var A=S(l);a=R(A,s[0]),A.forEach(f),o=R(w," seems to be registered."),w.forEach(f),u=L($),c=E($,"P",{class:!0});var I=S(c);h=R(I,"You can view a "),d=E(I,"A",{href:!0});var H=S(d);_=R(H,"list of your trainers"),H.forEach(f),p=R(I," or search by trainer id."),I.forEach(f),this.h()},h(){b(e,"class","large-font space-bottom bubble-padded svelte-1ptcnqz"),b(n,"class","bubble-padded svelte-1ptcnqz"),b(d,"href",pe.trainers()),b(c,"class","bubble svelte-1ptcnqz")},m($,v){g($,e,v),m(e,t),g($,r,v),g($,n,v),m(n,i),m(n,l),m(l,a),m(n,o),g($,u,v),g($,c,v),m(c,h),m(c,d),m(d,_),m(c,p)},p($,[v]){v&1&&le(a,$[0])},i:te,o:te,d($){$&&f(e),$&&f(r),$&&f(n),$&&f(u),$&&f(c)}}}function Cc(s,e,t){let{trainerKey:r}=e;return s.$$set=n=>{"trainerKey"in n&&t(0,r=n.trainerKey)},[r]}class Lc extends ae{constructor(e){super(),ue(this,e,Cc,Nc,ce,{trainerKey:0})}}const Uc=""+new URL("../../../assets/find-trainer-id-0c61577a.png",import.meta.url).href;function Bc(s){let e;return{c(){e=D("Search")},l(t){e=R(t,"Search")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Xn(s){let e,t;return{c(){e=y("p"),t=D("No trainer is registered with this id"),this.h()},l(r){e=E(r,"P",{class:!0});var n=S(e);t=R(n,"No trainer is registered with this id"),n.forEach(f),this.h()},h(){b(e,"class","font-sm error svelte-73vvyj")},m(r,n){g(r,e,n),m(e,t)},d(r){r&&f(e)}}}function Fc(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$,v,w,A,I,H,V,O,U,Q,ee,ne,W,J,G,k,j,Y;d=new be({props:{type:"submit",disabled:s[2],$$slots:{default:[Bc]},$$scope:{ctx:s}}});let Z=s[1].length>0&&s[1]===s[0]&&Xn();return{c(){e=y("section"),t=y("p"),r=D(`Enter the trainer's unique ID below and click "Search".`),n=C(),i=y("form"),l=y("label"),a=D("Trainer ID"),o=C(),u=y("div"),c=y("input"),h=C(),B(d.$$.fragment),_=C(),Z&&Z.c(),p=C(),$=y("hr"),v=C(),w=y("section"),A=y("p"),I=D("Each trainer has a unique 12-character ID. You can find it on their page, pictured below."),H=C(),V=y("figure"),O=y("img"),Q=C(),ee=y("figcaption"),ne=D("Use this ID for searching"),W=C(),J=y("p"),G=D("Searching by a trainer's ID can allow you to view a friend's pokemon or view your own trainer's pokemon on different devices."),this.h()},l(z){e=E(z,"SECTION",{});var N=S(e);t=E(N,"P",{});var X=S(t);r=R(X,`Enter the trainer's unique ID below and click "Search".`),X.forEach(f),n=L(N),i=E(N,"FORM",{class:!0,disabled:!0});var x=S(i);l=E(x,"LABEL",{for:!0,class:!0});var se=S(l);a=R(se,"Trainer ID"),se.forEach(f),o=L(x),u=E(x,"DIV",{class:!0});var q=S(u);c=E(q,"INPUT",{id:!0,type:!0,class:!0,maxlength:!0,placeholder:!0}),h=L(q),F(d.$$.fragment,q),q.forEach(f),_=L(x),Z&&Z.l(x),x.forEach(f),N.forEach(f),p=L(z),$=E(z,"HR",{}),v=L(z),w=E(z,"SECTION",{});var ie=S(w);A=E(ie,"P",{});var he=S(A);I=R(he,"Each trainer has a unique 12-character ID. You can find it on their page, pictured below."),he.forEach(f),H=L(ie),V=E(ie,"FIGURE",{class:!0});var Te=S(V);O=E(Te,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),Q=L(Te),ee=E(Te,"FIGCAPTION",{});var oe=S(ee);ne=R(oe,"Use this ID for searching"),oe.forEach(f),Te.forEach(f),W=L(ie),J=E(ie,"P",{});var fe=S(J);G=R(fe,"Searching by a trainer's ID can allow you to view a friend's pokemon or view your own trainer's pokemon on different devices."),fe.forEach(f),ie.forEach(f),this.h()},h(){b(l,"for","id-input"),b(l,"class","font-sm spaced-sm svelte-73vvyj"),b(c,"id","id-input"),b(c,"type","text"),b(c,"class","font-lg svelte-73vvyj"),b(c,"maxlength","12"),b(c,"placeholder","e.g. H4PF8E2GZA0A"),c.disabled=s[2],c.required=!0,ve(c,"flex","1"),b(u,"class","horizontal spaced-sm svelte-73vvyj"),b(i,"class","vertical spaced-lg svelte-73vvyj"),b(i,"disabled",s[2]),Lt(O.src,U=Uc)||b(O,"src",U),b(O,"alt","The label 'Trainer ID' denotes the trainer's id."),b(O,"width","800"),b(O,"height","256"),b(O,"class","svelte-73vvyj"),b(V,"class","spaced-lg svelte-73vvyj")},m(z,N){g(z,e,N),m(e,t),m(t,r),m(e,n),m(e,i),m(i,l),m(l,a),m(i,o),m(i,u),m(u,c),ge(c,s[0]),m(u,h),M(d,u,null),m(i,_),Z&&Z.m(i,null),g(z,p,N),g(z,$,N),g(z,v,N),g(z,w,N),m(w,A),m(A,I),m(w,H),m(w,V),m(V,O),m(V,Q),m(V,ee),m(ee,ne),m(w,W),m(w,J),m(J,G),k=!0,j||(Y=[de(c,"input",s[4]),de(i,"submit",Tt(s[3]))],j=!0)},p(z,N){(!k||N&4)&&(c.disabled=z[2]),N&1&&c.value!==z[0]&&ge(c,z[0]);const X={};N&4&&(X.disabled=z[2]),N&32&&(X.$$scope={dirty:N,ctx:z}),d.$set(X),z[1].length>0&&z[1]===z[0]?Z||(Z=Xn(),Z.c(),Z.m(i,null)):Z&&(Z.d(1),Z=null),(!k||N&4)&&b(i,"disabled",z[2])},i(z){k||(T(d.$$.fragment,z),k=!0)},o(z){P(d.$$.fragment,z),k=!1},d(z){z&&f(e),K(d),Z&&Z.d(),z&&f(p),z&&f($),z&&f(v),z&&f(w),j=!1,at(Y)}}}function Mc(s){let e,t;return e=new ct({props:{saving:s[2],caption:"Searching...",$$slots:{default:[Fc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.saving=r[2]),n&39&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Kc(s){let e,t,r,n;return e=new Ge({props:{value:"Find Trainer by ID"}}),r=new qe({props:{title:"Find Trainer by ID",$$slots:{default:[Mc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,[l]){const a={};l&39&&(a.$$scope={dirty:l,ctx:i}),r.$set(a)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function Hc(s,e,t){let r="",n="",i=!1;const l=()=>{t(2,i=!0),Ht.get(r).then(o=>{o?Me(pe.trainers(r)):(t(2,i=!1),t(1,n=r))})};function a(){r=this.value,t(0,r)}return s.$$.update=()=>{s.$$.dirty&1&&t(0,r=r.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,""))},[r,n,i,l,a]}class zc extends ae{constructor(e){super(),ue(this,e,Hc,Kc,ce,{})}}function Gc(s){let e,t,r,n,i,l,a,o,u,c,h;return{c(){e=y("label"),t=D("Name"),r=C(),n=y("input"),i=C(),l=y("label"),a=D("Description"),o=C(),u=y("textarea"),this.h()},l(d){e=E(d,"LABEL",{for:!0});var _=S(e);t=R(_,"Name"),_.forEach(f),r=L(d),n=E(d,"INPUT",{name:!0,id:!0,type:!0}),i=L(d),l=E(d,"LABEL",{for:!0});var p=S(l);a=R(p,"Description"),p.forEach(f),o=L(d),u=E(d,"TEXTAREA",{name:!0,id:!0,rows:!0}),S(u).forEach(f),this.h()},h(){b(e,"for","name-input"),b(n,"name","name"),b(n,"id","name-input"),b(n,"type","text"),n.disabled=s[3],b(l,"for","description-input"),ve(l,"place-self","start"),b(u,"name","description"),b(u,"id","description-input"),b(u,"rows","6"),u.disabled=s[3]},m(d,_){g(d,e,_),m(e,t),g(d,r,_),g(d,n,_),ge(n,s[1]),g(d,i,_),g(d,l,_),m(l,a),g(d,o,_),g(d,u,_),ge(u,s[2]),c||(h=[de(n,"input",s[7]),de(u,"input",s[8])],c=!0)},p(d,_){_&8&&(n.disabled=d[3]),_&2&&n.value!==d[1]&&ge(n,d[1]),_&8&&(u.disabled=d[3]),_&4&&ge(u,d[2])},d(d){d&&f(e),d&&f(r),d&&f(n),d&&f(i),d&&f(l),d&&f(o),d&&f(u),c=!1,at(h)}}}function qc(s){let e;return{c(){e=D("Cancel")},l(t){e=R(t,"Cancel")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Vc(s){let e;return{c(){e=D("Finish!")},l(t){e=R(t,"Finish!")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Jc(s){let e,t,r,n;return e=new be({props:{variant:"ghost",disabled:s[3],$$slots:{default:[qc]},$$scope:{ctx:s}}}),e.$on("click",s[4]),r=new be({props:{type:"submit",disabled:s[3],$$slots:{default:[Vc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,l){const a={};l&8&&(a.disabled=i[3]),l&1024&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l&8&&(o.disabled=i[3]),l&1024&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function Yc(s){let e,t,r,n,i,l,a;return t=new Ke({props:{title:"Basic Info",$$slots:{default:[Gc]},$$scope:{ctx:s}}}),n=new De({props:{$$slots:{default:[Jc]},$$scope:{ctx:s}}}),{c(){e=y("form"),B(t.$$.fragment),r=C(),B(n.$$.fragment)},l(o){e=E(o,"FORM",{});var u=S(e);F(t.$$.fragment,u),r=L(u),F(n.$$.fragment,u),u.forEach(f)},m(o,u){g(o,e,u),M(t,e,null),m(e,r),M(n,e,null),i=!0,l||(a=de(e,"submit",Tt(s[5])),l=!0)},p(o,u){const c={};u&1038&&(c.$$scope={dirty:u,ctx:o}),t.$set(c);const h={};u&1032&&(h.$$scope={dirty:u,ctx:o}),n.$set(h)},i(o){i||(T(t.$$.fragment,o),T(n.$$.fragment,o),i=!0)},o(o){P(t.$$.fragment,o),P(n.$$.fragment,o),i=!1},d(o){o&&f(e),K(t),K(n),l=!1,a()}}}function Wc(s){let e,t;return e=new ct({props:{saving:s[0],$$slots:{default:[Yc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,[n]){const i={};n&1&&(i.saving=r[0]),n&1038&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Xc(s,e,t){let r;const n=rt();let{trainer:i}=e,{saving:l=!1}=e,a=i.name,o=i.description;const u=()=>{n("cancel")},c=()=>{n("update",{name:a,description:o})};function h(){a=this.value,t(1,a)}function d(){o=this.value,t(2,o)}return s.$$set=_=>{"trainer"in _&&t(6,i=_.trainer),"saving"in _&&t(0,l=_.saving)},s.$$.update=()=>{s.$$.dirty&1&&t(3,r=l)},[l,a,o,r,u,c,i,h,d]}class Zc extends ae{constructor(e){super(),ue(this,e,Xc,Wc,ce,{trainer:6,saving:0})}}function Qc(s){let e,t,r,n,i,l;return i=new De({props:{$$slots:{default:[tf]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=D("You do not have permission to edit this trainer."),n=C(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=S(e);t=E(o,"P",{});var u=S(t);r=R(u,"You do not have permission to edit this trainer."),u.forEach(f),n=L(o),F(i.$$.fragment,o),o.forEach(f)},m(a,o){g(a,e,o),m(e,t),m(t,r),m(e,n),M(i,e,null),l=!0},p(a,o){const u={};o&66&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){P(i.$$.fragment,a),l=!1},d(a){a&&f(e),K(i)}}}function xc(s){let e,t;return e=new Zc({props:{trainer:s[1].info,saving:s[2]}}),e.$on("update",s[5]),e.$on("cancel",s[4]),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&2&&(i.trainer=r[1].info),n&4&&(i.saving=r[2]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ef(s){let e;return{c(){e=D("Go Back")},l(t){e=R(t,"Go Back")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function tf(s){let e,t;return e=new be({props:{href:pe.trainers(s[1].info.readKey),$$slots:{default:[ef]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&2&&(i.href=pe.trainers(r[1].info.readKey)),n&64&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function rf(s){let e,t,r,n;const i=[xc,Qc],l=[];function a(o,u){return o[3]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function nf(s){let e,t,r,n;return e=new Ge({props:{value:"Edit "+s[1].info.name}}),r=new qe({props:{title:s[1].info.name,$$slots:{default:[rf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,[l]){const a={};l&2&&(a.value="Edit "+i[1].info.name),e.$set(a);const o={};l&2&&(o.title=i[1].info.name),l&78&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function sf(s,e,t){let r,n,i=te,l=()=>(i(),i=ze(a,h=>t(1,n=h)),a);s.$$.on_destroy.push(()=>i());let{trainer:a}=e;l();let o=!1;const u=()=>{Me(pe.trainers(n.info.readKey))},c=h=>{var d;t(2,o=!0),(d=n.update)==null||d.info(h.detail).then(()=>{t(2,o=!1),Me(pe.trainers(n.info.readKey))}).catch(()=>{t(2,o=!1)})};return s.$$set=h=>{"trainer"in h&&l(t(0,a=h.trainer))},s.$$.update=()=>{s.$$.dirty&2&&t(3,r=n.update!=null)},[a,n,o,r,u,c]}class lf extends ae{constructor(e){super(),ue(this,e,sf,nf,ce,{trainer:0})}}function of(s){let e,t,r,n,i,l;return i=new De({props:{$$slots:{default:[cf]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=D("You do not have permission to retire this trainer."),n=C(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=S(e);t=E(o,"P",{});var u=S(t);r=R(u,"You do not have permission to retire this trainer."),u.forEach(f),n=L(o),F(i.$$.fragment,o),o.forEach(f)},m(a,o){g(a,e,o),m(e,t),m(t,r),m(e,n),M(i,e,null),l=!0},p(a,o){const u={};o&66&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){P(i.$$.fragment,a),l=!1},d(a){a&&f(e),K(i)}}}function af(s){let e,t;return e=new ct({props:{saving:s[2],$$slots:{default:[pf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.saving=r[2]),n&82&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function uf(s){let e;return{c(){e=D("Go Back")},l(t){e=R(t,"Go Back")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function cf(s){var r;let e,t;return e=new be({props:{href:pe.trainers((r=s[1])==null?void 0:r.info.readKey),$$slots:{default:[uf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p(n,i){var a;const l={};i&2&&(l.href=pe.trainers((a=n[1])==null?void 0:a.info.readKey)),i&64&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ff(s){let e;return{c(){e=D("Cancel")},l(t){e=R(t,"Cancel")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function hf(s){let e;return{c(){e=D("Delete")},l(t){e=R(t,"Delete")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function df(s){var i;let e,t,r,n;return e=new be({props:{href:pe.trainers((i=s[1])==null?void 0:i.info.readKey),variant:"ghost",$$slots:{default:[ff]},$$scope:{ctx:s}}}),r=new be({props:{variant:"danger",$$slots:{default:[hf]},$$scope:{ctx:s}}}),r.$on("click",s[5]),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(l){F(e.$$.fragment,l),t=L(l),F(r.$$.fragment,l)},m(l,a){M(e,l,a),g(l,t,a),M(r,l,a),n=!0},p(l,a){var c;const o={};a&2&&(o.href=pe.trainers((c=l[1])==null?void 0:c.info.readKey)),a&64&&(o.$$scope={dirty:a,ctx:l}),e.$set(o);const u={};a&64&&(u.$$scope={dirty:a,ctx:l}),r.$set(u)},i(l){n||(T(e.$$.fragment,l),T(r.$$.fragment,l),n=!0)},o(l){P(e.$$.fragment,l),P(r.$$.fragment,l),n=!1},d(l){K(e,l),l&&f(t),K(r,l)}}}function pf(s){let e,t,r,n,i,l,a,o,u,c,h,d;return h=new De({props:{$$slots:{default:[df]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=D("Are you sure you want to retire "),n=D(s[4]),i=D("? This will delete all of their data, including all of their pokemon, from our records."),l=C(),a=y("p"),o=y("strong"),u=D("This is permanent and cannot be undone!"),c=C(),B(h.$$.fragment)},l(_){e=E(_,"SECTION",{});var p=S(e);t=E(p,"P",{});var $=S(t);r=R($,"Are you sure you want to retire "),n=R($,s[4]),i=R($,"? This will delete all of their data, including all of their pokemon, from our records."),$.forEach(f),l=L(p),a=E(p,"P",{});var v=S(a);o=E(v,"STRONG",{});var w=S(o);u=R(w,"This is permanent and cannot be undone!"),w.forEach(f),v.forEach(f),c=L(p),F(h.$$.fragment,p),p.forEach(f)},m(_,p){g(_,e,p),m(e,t),m(t,r),m(t,n),m(t,i),m(e,l),m(e,a),m(a,o),m(o,u),m(e,c),M(h,e,null),d=!0},p(_,p){(!d||p&16)&&le(n,_[4]);const $={};p&66&&($.$$scope={dirty:p,ctx:_}),h.$set($)},i(_){d||(T(h.$$.fragment,_),d=!0)},o(_){P(h.$$.fragment,_),d=!1},d(_){_&&f(e),K(h)}}}function _f(s){let e,t,r,n;const i=[af,of],l=[];function a(o,u){return o[3]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function mf(s){let e,t,r,n;return e=new Ge({props:{value:"Retire "+s[4]+"?"}}),r=new qe({props:{title:"Retire "+s[4]+"?",$$slots:{default:[_f]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,[l]){const a={};l&16&&(a.value="Retire "+i[4]+"?"),e.$set(a);const o={};l&16&&(o.title="Retire "+i[4]+"?"),l&94&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function $f(s,e,t){let r,n,i,l=te,a=()=>(l(),l=ze(o,h=>t(1,i=h)),o);s.$$.on_destroy.push(()=>l());let{trainer:o}=e;a();let u=!1;const c=()=>{var h;t(2,u=!0),(h=i.update)==null||h.retire().then(()=>{Me(pe.trainers())}).catch(()=>{t(2,u=!1)})};return s.$$set=h=>{"trainer"in h&&a(t(0,o=h.trainer))},s.$$.update=()=>{s.$$.dirty&2&&t(4,r=(i==null?void 0:i.info.name)??""),s.$$.dirty&2&&t(3,n=i.update!=null)},[o,i,u,n,r,c]}class vf extends ae{constructor(e){super(),ue(this,e,$f,mf,ce,{trainer:0})}}const gf=""+new URL("../../../assets/find-access-key-26676dc0.png",import.meta.url).href;function bf(s){let e,t,r,n,i,l,a,o,u,c,h,d;const _=[yf,wf],p=[];function $(v,w){return v[6]?0:1}return o=$(s),u=p[o]=_[o](s),h=new De({props:{$$slots:{default:[If]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=D("A trainer's "),n=y("dfn"),i=D("Access Key"),l=D(" is a special code that allows you to manage a trainer's info and their pokemon. Each trainer has a unique key, and the key must be saved to each device from which you want to manage the trainer."),a=C(),u.c(),c=C(),B(h.$$.fragment)},l(v){e=E(v,"SECTION",{});var w=S(e);t=E(w,"P",{});var A=S(t);r=R(A,"A trainer's "),n=E(A,"DFN",{});var I=S(n);i=R(I,"Access Key"),I.forEach(f),l=R(A," is a special code that allows you to manage a trainer's info and their pokemon. Each trainer has a unique key, and the key must be saved to each device from which you want to manage the trainer."),A.forEach(f),w.forEach(f),a=L(v),u.l(v),c=L(v),F(h.$$.fragment,v)},m(v,w){g(v,e,w),m(e,t),m(t,r),m(t,n),m(n,i),m(t,l),g(v,a,w),p[o].m(v,w),g(v,c,w),M(h,v,w),d=!0},p(v,w){let A=o;o=$(v),o===A?p[o].p(v,w):(_e(),P(p[A],1,1,()=>{p[A]=null}),me(),u=p[o],u?u.p(v,w):(u=p[o]=_[o](v),u.c()),T(u,1),u.m(c.parentNode,c));const I={};w&16388&&(I.$$scope={dirty:w,ctx:v}),h.$set(I)},i(v){d||(T(u),T(h.$$.fragment,v),d=!0)},o(v){P(u),P(h.$$.fragment,v),d=!1},d(v){v&&f(e),v&&f(a),p[o].d(v),v&&f(c),K(h,v)}}}function kf(s){let e,t,r,n,i,l,a,o,u,c,h,d;return h=new De({props:{$$slots:{default:[Of]},$$scope:{ctx:s}}}),{c(){e=y("section"),t=y("p"),r=y("strong"),n=D("Success!"),i=C(),l=y("p"),a=D("You can now manage "),o=D(s[7]),u=D(" and their pokemon."),c=C(),B(h.$$.fragment)},l(_){e=E(_,"SECTION",{});var p=S(e);t=E(p,"P",{});var $=S(t);r=E($,"STRONG",{});var v=S(r);n=R(v,"Success!"),v.forEach(f),$.forEach(f),i=L(p),l=E(p,"P",{});var w=S(l);a=R(w,"You can now manage "),o=R(w,s[7]),u=R(w," and their pokemon."),w.forEach(f),c=L(p),F(h.$$.fragment,p),p.forEach(f)},m(_,p){g(_,e,p),m(e,t),m(t,r),m(r,n),m(e,i),m(e,l),m(l,a),m(l,o),m(l,u),m(e,c),M(h,e,null),d=!0},p(_,p){(!d||p&128)&&le(o,_[7]);const $={};p&16388&&($.$$scope={dirty:p,ctx:_}),h.$set($)},i(_){d||(T(h.$$.fragment,_),d=!0)},o(_){P(h.$$.fragment,_),d=!1},d(_){_&&f(e),K(h)}}}function wf(s){let e,t;return e=new ct({props:{saving:s[3],caption:"Searching...",$$slots:{default:[Tf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&8&&(i.saving=r[3]),n&16538&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function yf(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$,v;return $=new be({props:{$$slots:{default:[Pf]},$$scope:{ctx:s}}}),$.$on("click",s[10]),{c(){e=y("section"),t=y("p"),r=D("You currently have "),n=D(s[7]),i=D("'s access key saved to this device. To share this key, press Reveal below."),l=C(),a=y("div"),o=y("label"),u=D("Access Key"),c=C(),h=y("div"),d=y("input"),p=C(),B($.$$.fragment),this.h()},l(w){e=E(w,"SECTION",{});var A=S(e);t=E(A,"P",{});var I=S(t);r=R(I,"You currently have "),n=R(I,s[7]),i=R(I,"'s access key saved to this device. To share this key, press Reveal below."),I.forEach(f),l=L(A),a=E(A,"DIV",{class:!0});var H=S(a);o=E(H,"LABEL",{for:!0,class:!0});var V=S(o);u=R(V,"Access Key"),V.forEach(f),c=L(H),h=E(H,"DIV",{class:!0});var O=S(h);d=E(O,"INPUT",{id:!0,type:!0,class:!0}),p=L(O),F($.$$.fragment,O),O.forEach(f),H.forEach(f),A.forEach(f),this.h()},h(){b(o,"for","key-input"),b(o,"class","font-sm spaced-sm svelte-73vvyj"),b(d,"id","key-input"),d.value=_=s[2].writeKey,b(d,"type",s[9]),b(d,"class","font-lg svelte-73vvyj"),d.disabled=!0,ve(d,"flex","1"),b(h,"class","horizontal spaced-sm svelte-73vvyj"),b(a,"class","vertical spaced-lg svelte-73vvyj")},m(w,A){g(w,e,A),m(e,t),m(t,r),m(t,n),m(t,i),m(e,l),m(e,a),m(a,o),m(o,u),m(a,c),m(a,h),m(h,d),m(h,p),M($,h,null),v=!0},p(w,A){(!v||A&128)&&le(n,w[7]),(!v||A&4&&_!==(_=w[2].writeKey)&&d.value!==_)&&(d.value=_),(!v||A&512)&&b(d,"type",w[9]);const I={};A&16640&&(I.$$scope={dirty:A,ctx:w}),$.$set(I)},i(w){v||(T($.$$.fragment,w),v=!0)},o(w){P($.$$.fragment,w),v=!1},d(w){w&&f(e),K($)}}}function Ef(s){let e;return{c(){e=D("Submit")},l(t){e=R(t,"Submit")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Zn(s){let e,t;return{c(){e=y("p"),t=D("The provided access key does match this trainer's key"),this.h()},l(r){e=E(r,"P",{class:!0});var n=S(e);t=R(n,"The provided access key does match this trainer's key"),n.forEach(f),this.h()},h(){b(e,"class","font-sm error svelte-73vvyj")},m(r,n){g(r,e,n),m(e,t)},d(r){r&&f(e)}}}function Tf(s){let e,t,r,n,i,l,a,o,u,c,h,d,_,p,$,v,w,A,I,H,V,O,U,Q,ee,ne,W,J,G,k,j,Y,Z,z,N;v=new be({props:{type:"submit",$$slots:{default:[Ef]},$$scope:{ctx:s}}});let X=s[4].length>0&&s[4]===s[1]&&Zn();return{c(){e=y("section"),t=y("p"),r=D("You currently do not have permission to manage "),n=D(s[7]),i=D(". To obtain permission, put "),l=D(s[7]),a=D("'s access key into the field below and press Submit."),o=C(),u=y("form"),c=y("label"),h=D("Access Key"),d=C(),_=y("div"),p=y("input"),$=C(),B(v.$$.fragment),w=C(),X&&X.c(),A=C(),I=y("hr"),H=C(),V=y("section"),O=y("p"),U=D("If you are managing "),Q=D(s[7]),ee=D(" from another device, you can find their access code from the trainer's page."),ne=C(),W=y("figure"),J=y("img"),k=C(),j=y("figcaption"),Y=D("Click this button to get the access key"),this.h()},l(x){e=E(x,"SECTION",{});var se=S(e);t=E(se,"P",{});var q=S(t);r=R(q,"You currently do not have permission to manage "),n=R(q,s[7]),i=R(q,". To obtain permission, put "),l=R(q,s[7]),a=R(q,"'s access key into the field below and press Submit."),q.forEach(f),o=L(se),u=E(se,"FORM",{class:!0});var ie=S(u);c=E(ie,"LABEL",{for:!0,class:!0});var he=S(c);h=R(he,"Access Key"),he.forEach(f),d=L(ie),_=E(ie,"DIV",{class:!0});var Te=S(_);p=E(Te,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),$=L(Te),F(v.$$.fragment,Te),Te.forEach(f),w=L(ie),X&&X.l(ie),ie.forEach(f),se.forEach(f),A=L(x),I=E(x,"HR",{}),H=L(x),V=E(x,"SECTION",{});var oe=S(V);O=E(oe,"P",{});var fe=S(O);U=R(fe,"If you are managing "),Q=R(fe,s[7]),ee=R(fe," from another device, you can find their access code from the trainer's page."),fe.forEach(f),ne=L(oe),W=E(oe,"FIGURE",{class:!0});var Ae=S(W);J=E(Ae,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),k=L(Ae),j=E(Ae,"FIGCAPTION",{});var $e=S(j);Y=R($e,"Click this button to get the access key"),$e.forEach(f),Ae.forEach(f),oe.forEach(f),this.h()},h(){b(c,"for","key-input"),b(c,"class","font-sm spaced-sm svelte-73vvyj"),b(p,"id","key-input"),b(p,"type","text"),b(p,"placeholder","e.g. JM7WEZ0YKW3WGC8I"),b(p,"class","font-lg svelte-73vvyj"),p.disabled=s[3],p.required=!0,ve(p,"flex","1"),b(_,"class","horizontal spaced-sm svelte-73vvyj"),b(u,"class","vertical spaced-lg svelte-73vvyj"),Lt(J.src,G=gf)||b(J,"src",G),b(J,"alt","'Access Key' is a button at the bottom of the trainer's page."),b(J,"width","800"),b(J,"height","250"),b(J,"class","svelte-73vvyj"),b(W,"class","spaced-lg svelte-73vvyj")},m(x,se){g(x,e,se),m(e,t),m(t,r),m(t,n),m(t,i),m(t,l),m(t,a),m(e,o),m(e,u),m(u,c),m(c,h),m(u,d),m(u,_),m(_,p),ge(p,s[1]),m(_,$),M(v,_,null),m(u,w),X&&X.m(u,null),g(x,A,se),g(x,I,se),g(x,H,se),g(x,V,se),m(V,O),m(O,U),m(O,Q),m(O,ee),m(V,ne),m(V,W),m(W,J),m(W,k),m(W,j),m(j,Y),Z=!0,z||(N=[de(p,"input",s[13]),de(u,"submit",Tt(s[11]))],z=!0)},p(x,se){(!Z||se&128)&&le(n,x[7]),(!Z||se&128)&&le(l,x[7]),(!Z||se&8)&&(p.disabled=x[3]),se&2&&p.value!==x[1]&&ge(p,x[1]);const q={};se&16384&&(q.$$scope={dirty:se,ctx:x}),v.$set(q),x[4].length>0&&x[4]===x[1]?X||(X=Zn(),X.c(),X.m(u,null)):X&&(X.d(1),X=null),(!Z||se&128)&&le(Q,x[7])},i(x){Z||(T(v.$$.fragment,x),Z=!0)},o(x){P(v.$$.fragment,x),Z=!1},d(x){x&&f(e),K(v),X&&X.d(),x&&f(A),x&&f(I),x&&f(H),x&&f(V),z=!1,at(N)}}}function Pf(s){let e;return{c(){e=D(s[8])},l(t){e=R(t,s[8])},m(t,r){g(t,e,r)},p(t,r){r&256&&le(e,t[8])},d(t){t&&f(e)}}}function Sf(s){let e;return{c(){e=D("Go Back")},l(t){e=R(t,"Go Back")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function If(s){var r;let e,t;return e=new be({props:{href:pe.trainers((r=s[2])==null?void 0:r.info.readKey),variant:"ghost",$$slots:{default:[Sf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p(n,i){var a;const l={};i&4&&(l.href=pe.trainers((a=n[2])==null?void 0:a.info.readKey)),i&16384&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Af(s){let e;return{c(){e=D("Go to Trainer's Page")},l(t){e=R(t,"Go to Trainer's Page")},m(t,r){g(t,e,r)},d(t){t&&f(e)}}}function Of(s){var r;let e,t;return e=new be({props:{href:pe.trainers((r=s[2])==null?void 0:r.info.readKey),$$slots:{default:[Af]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,i){M(e,n,i),t=!0},p(n,i){var a;const l={};i&4&&(l.href=pe.trainers((a=n[2])==null?void 0:a.info.readKey)),i&16384&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Df(s){let e,t,r,n;const i=[kf,bf],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Rf(s){let e,t,r,n;return e=new Ge({props:{value:s[7]+"'s Access Key"}}),r=new qe({props:{title:s[7]+"'s Access Key",$$slots:{default:[Df]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,[l]){const a={};l&128&&(a.value=i[7]+"'s Access Key"),e.$set(a);const o={};l&128&&(o.title=i[7]+"'s Access Key"),l&17406&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function jf(s,e,t){let r,n,i,l,a,o=te,u=()=>(o(),o=ze(c,I=>t(2,a=I)),c);s.$$.on_destroy.push(()=>o());let{trainer:c}=e;u();let h=!1;const d=()=>t(12,h=!h);let _="",p=!1,$="",v=!1;const w=()=>{t(3,p=!0),c.verifyAccess(_).then(I=>{I?t(5,v=!0):t(4,$=_)}).finally(()=>{t(3,p=!1)})};function A(){_=this.value,t(1,_)}return s.$$set=I=>{"trainer"in I&&u(t(0,c=I.trainer))},s.$$.update=()=>{s.$$.dirty&4096&&t(9,r=h?"text":"password"),s.$$.dirty&4096&&t(8,n=h?"Hide":"Reveal"),s.$$.dirty&2&&t(1,_=_.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,"")),s.$$.dirty&4&&t(7,i=(a==null?void 0:a.info.name)??""),s.$$.dirty&4&&t(6,l=a.update!=null)},[c,_,a,p,$,v,l,i,n,r,d,w,h,A]}class Nf extends ae{constructor(e){super(),ue(this,e,jf,Rf,ce,{trainer:0})}}function Cf(s){let e,t;return e=new Ge({props:{value:"Trainers"}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Lf(s){let e,t;return e=new zc({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Uf(s){let e,t;return e=new gu({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Bf(s){let e,t,r,n={ctx:s,current:null,token:null,hasCatch:!1,pending:Zf,then:Mf,catch:Ff,value:4,blocks:[,,,]};return yt(t=s[4],n),{c(){e=re(),n.block.c()},l(i){e=re(),n.block.l(i)},m(i,l){g(i,e,l),n.block.m(i,n.anchor=l),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(i,l){s=i,n.ctx=s,l&16&&t!==(t=s[4])&&yt(t,n)||cr(n,s,l)},i(i){r||(T(n.block),r=!0)},o(i){for(let l=0;l<3;l+=1){const a=n.blocks[l];P(a)}r=!1},d(i){i&&f(e),n.block.d(i),n.token=null,n=null}}}function Ff(s){return{c:te,l:te,m:te,p:te,i:te,o:te,d:te}}function Mf(s){let e,t,r,n;const i=[Xf,Wf,Yf,Jf,Vf,qf,Gf,zf,Hf,Kf],l=[];function a(o,u){return o[4]?o[1]===Ie.addPokemon?1:o[1]===Ie.editPokemon?2:o[1]===Ie.evolvePokemon?3:o[1]===Ie.removePokemon?4:o[2]?5:o[1]===Ie.editTrainer?6:o[1]===Ie.retireTrainer?7:o[1]===Ie.accessKey?8:9:0}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function Kf(s){let e,t;return e=new Zi({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Hf(s){let e,t;return e=new Nf({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function zf(s){let e,t;return e=new vf({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Gf(s){let e,t;return e=new lf({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function qf(s){let e,t;return e=new cl({props:{trainer:s[4],id:s[2]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),n&4&&(i.id=r[2]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Vf(s){let e,t;return e=new Nu({props:{trainer:s[4],id:s[2]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),n&4&&(i.id=r[2]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Jf(s){let e,t;return e=new jc({props:{trainer:s[4],id:s[2]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),n&4&&(i.id=r[2]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Yf(s){let e,t;return e=new pc({props:{trainer:s[4],id:s[2]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),n&4&&(i.id=r[2]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Wf(s){let e,t;return e=new Xa({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Xf(s){let e;return{c(){e=y("br")},l(t){e=E(t,"BR",{})},m(t,r){g(t,e,r)},p:te,i:te,o:te,d(t){t&&f(e)}}}function Zf(s){let e,t;return e=new nt({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Qf(s){let e,t,r,n;const i=[Bf,Uf,Lf,Cf],l=[];function a(o,u){return o[0]?0:o[1]===Ie.newTrainer?1:o[1]===Ie.findTrainer?2:3}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function xf(s){let e,t;return e=new yi({props:{slot:"icon"}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function eh(s){let e,t,r,n={ctx:s,current:null,token:null,hasCatch:!1,pending:ih,then:nh,catch:rh,value:3,blocks:[,,,]};return yt(t=s[3],n),{c(){e=re(),n.block.c()},l(i){e=re(),n.block.l(i)},m(i,l){g(i,e,l),n.block.m(i,n.anchor=l),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(i,l){s=i,n.ctx=s,l&8&&t!==(t=s[3])&&yt(t,n)||cr(n,s,l)},i(i){r||(T(n.block),r=!0)},o(i){for(let l=0;l<3;l+=1){const a=n.blocks[l];P(a)}r=!1},d(i){i&&f(e),n.block.d(i),n.token=null,n=null}}}function th(s){let e,t,r,n={ctx:s,current:null,token:null,hasCatch:!1,pending:uh,then:lh,catch:sh,value:4,blocks:[,,,]};return yt(t=s[4],n),{c(){e=re(),n.block.c()},l(i){e=re(),n.block.l(i)},m(i,l){g(i,e,l),n.block.m(i,n.anchor=l),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(i,l){s=i,n.ctx=s,l&16&&t!==(t=s[4])&&yt(t,n)||cr(n,s,l)},i(i){r||(T(n.block),r=!0)},o(i){for(let l=0;l<3;l+=1){const a=n.blocks[l];P(a)}r=!1},d(i){i&&f(e),n.block.d(i),n.token=null,n=null}}}function rh(s){return{c:te,l:te,m:te,p:te,i:te,o:te,d:te}}function nh(s){let e,t,r=s[3]&&Qn(s);return{c(){r&&r.c(),e=re()},l(n){r&&r.l(n),e=re()},m(n,i){r&&r.m(n,i),g(n,e,i),t=!0},p(n,i){n[3]?r?(r.p(n,i),i&8&&T(r,1)):(r=Qn(n),r.c(),T(r,1),r.m(e.parentNode,e)):r&&(_e(),P(r,1,1,()=>{r=null}),me())},i(n){t||(T(r),t=!0)},o(n){P(r),t=!1},d(n){r&&r.d(n),n&&f(e)}}}function Qn(s){let e,t;return e=new lu({props:{trainers:s[3]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&8&&(i.trainers=r[3]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ih(s){let e,t;return e=new nt({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function sh(s){return{c:te,l:te,m:te,p:te,i:te,o:te,d:te}}function lh(s){let e,t,r,n;const i=[ah,oh],l=[];function a(o,u){return o[4]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),r=re()},l(o){t.l(o),r=re()},m(o,u){l[e].m(o,u),g(o,r,u),n=!0},p(o,u){let c=e;e=a(o),e===c?l[e].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(r.parentNode,r))},i(o){n||(T(t),n=!0)},o(o){P(t),n=!1},d(o){l[e].d(o),o&&f(r)}}}function oh(s){let e,t;return e=new Lc({props:{trainerKey:s[0]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&1&&(i.trainerKey=r[0]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ah(s){let e,t;return e=new Il({props:{trainer:s[4],currentPokemon:s[2]}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p(r,n){const i={};n&16&&(i.trainer=r[4]),n&4&&(i.currentPokemon=r[2]),e.$set(i)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function uh(s){let e,t;return e=new nt({}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,n){M(e,r,n),t=!0},p:te,i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ch(s){let e,t,r,n;const i=[th,eh],l=[];function a(o,u){return o[0]?0:1}return t=a(s),r=l[t]=i[t](s),{c(){e=y("nav"),r.c(),this.h()},l(o){e=E(o,"NAV",{slot:!0,class:!0,"aria-label":!0});var u=S(e);r.l(u),u.forEach(f),this.h()},h(){b(e,"slot","side"),b(e,"class","table svelte-ztn25k"),b(e,"aria-label","Pokemon List")},m(o,u){g(o,e,u),l[t].m(e,null),n=!0},p(o,u){let c=t;t=a(o),t===c?l[t].p(o,u):(_e(),P(l[c],1,1,()=>{l[c]=null}),me(),r=l[t],r?r.p(o,u):(r=l[t]=i[t](o),r.c()),T(r,1),r.m(e,null))},i(o){n||(T(r),n=!0)},o(o){P(r),n=!1},d(o){o&&f(e),l[t].d()}}}function fh(s){let e,t,r,n;return e=new Ge({props:{value:"Trainers"}}),r=new wi({props:{theme:"green",$$slots:{side:[ch],icon:[xf],default:[Qf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=C(),B(r.$$.fragment)},l(i){F(e.$$.fragment,i),t=L(i),F(r.$$.fragment,i)},m(i,l){M(e,i,l),g(i,t,l),M(r,i,l),n=!0},p(i,[l]){const a={};l&95&&(a.$$scope={dirty:l,ctx:i}),r.$set(a)},i(i){n||(T(e.$$.fragment,i),T(r.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){K(e,i),i&&f(t),K(r,i)}}}function hh(s,e,t){let r,n,i,l;Ne(s,bi,u=>t(5,l=u));let a,o;return s.$$.update=()=>{s.$$.dirty&32&&t(0,r=l.url.searchParams.get("id")),s.$$.dirty&32&&t(2,n=l.url.searchParams.get("pokemon")),s.$$.dirty&32&&t(1,i=l.url.searchParams.get("action")),s.$$.dirty&1&&(r&&Or?(t(3,a=void 0),t(4,o=Ht.get(r))):!r&&Or?(t(3,a=Ht.all()),t(4,o=void 0)):(t(4,o=void 0),t(3,a=void 0)))},[r,i,n,a,o,l]}class Rh extends ae{constructor(e){super(),ue(this,e,hh,fh,ce,{})}}export{Rh as default};
