var Pi=Object.defineProperty;var Si=(s,e,t)=>e in s?Pi(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Le=(s,e,t)=>(Si(s,typeof e!="symbol"?e+"":e,t),t);import{S as ae,i as ue,s as fe,e as re,b,B as ne,V as De,h as c,k as w,q as D,l as E,m as P,r as N,G as m,u as le,w as B,a as j,x as F,c as C,n as k,y as M,f as T,t as I,z as K,g as _e,d as me,a1 as wn,C as rt,H as he,D as it,E as st,F as lt,J as wt,a2 as qe,p as ve,_ as En,K as ot,a3 as at,I as Ce,L as hn,M as Ft,Q as Et,R as Tt,T as Pt,U as oi,a4 as ai,X as $e,a5 as At,a6 as jt,a7 as Ze,a8 as Ct,a9 as Qe,aa as Tn,$ as St,a0 as dn}from"../../../chunks/index-53b314aa.js";import{M as Ii,p as Ai}from"../../../chunks/MissingNo-e81f214e.js";import{V as Mt,L as ut,S as ui,a as Oi,B as fi,P as Di}from"../../../chunks/Loader-7fc95bba.js";import{I as Ni}from"../../../chunks/IdBadge-30ccda99.js";import{T as Ve}from"../../../chunks/Title-4044ced1.js";import{F as Vt,C as Je,T as Ri}from"../../../chunks/TypeTag-f2f08b10.js";import{c as Pe,b as ji}from"../../../chunks/shared-23917130.js";import{p as $t}from"../../../chunks/store-c9daa844.js";import{m as Kt,A as Ci,P as ci,T as Li,a as Ht,e as Pn}from"../../../chunks/PokemonArt-307b1bf3.js";import{a as Sn,b as In,m as Ui,e as An}from"../../../chunks/filter-f04b55bd.js";import{m as pn}from"../../../chunks/store-4e7e7259.js";import{f as On,e as tt,t as Dn,a as Nn}from"../../../chunks/store-aedfb092.js";import{w as Bi}from"../../../chunks/index-829391e1.js";import{_ as Jt}from"../../../chunks/preload-helper-41c905a7.js";import{e as ft}from"../../../chunks/singletons-c32e22f2.js";function Fi(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in s)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}const Mi=!0,Rn=Mi;function jn(s,e,t){const n=s.slice();return n[2]=e[t],n}function Cn(s){let e,t=s[2]+"",n;return{c(){e=w("p"),n=D(t)},l(r){e=E(r,"P",{});var i=P(e);n=N(i,t),i.forEach(c)},m(r,i){b(r,e,i),m(e,n)},p(r,i){i&1&&t!==(t=r[2]+"")&&le(n,t)},d(r){r&&c(e)}}}function Ki(s){let e,t=s[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=Cn(jn(s,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let i=0;i<n.length;i+=1)n[i].l(r);e=re()},m(r,i){for(let l=0;l<n.length;l+=1)n[l].m(r,i);b(r,e,i)},p(r,[i]){if(i&1){t=r[0];let l;for(l=0;l<t.length;l+=1){const a=jn(r,t,l);n[l]?n[l].p(a,i):(n[l]=Cn(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:ne,o:ne,d(r){De(n,r),r&&c(e)}}}function Hi(s,e,t){let n,{value:r=""}=e;return s.$$set=i=>{"value"in i&&t(1,r=i.value)},s.$$.update=()=>{s.$$.dirty&2&&t(0,n=r.split(/\n+/))},[n,r]}class zi extends ae{constructor(e){super(),ue(this,e,Hi,Ki,fe,{value:1})}}function Gi(s){let e,t,n,r,i=s[0].readKey+"",l;return{c(){e=w("dt"),t=D("Trainer Id"),n=j(),r=w("dd"),l=D(i)},l(a){e=E(a,"DT",{});var o=P(e);t=N(o,"Trainer Id"),o.forEach(c),n=C(a),r=E(a,"DD",{});var u=P(r);l=N(u,i),u.forEach(c)},m(a,o){b(a,e,o),m(e,t),b(a,n,o),b(a,r,o),m(r,l)},p(a,o){o&1&&i!==(i=a[0].readKey+"")&&le(l,i)},d(a){a&&c(e),a&&c(n),a&&c(r)}}}function qi(s){let e,t,n,r,i;return t=new Vt({props:{columns:2,$$slots:{default:[Gi]},$$scope:{ctx:s}}}),r=new zi({props:{value:s[0].description}}),{c(){e=w("section"),B(t.$$.fragment),n=j(),B(r.$$.fragment),this.h()},l(l){e=E(l,"SECTION",{class:!0});var a=P(e);F(t.$$.fragment,a),n=C(a),F(r.$$.fragment,a),a.forEach(c),this.h()},h(){k(e,"class","info")},m(l,a){b(l,e,a),M(t,e,null),m(e,n),M(r,e,null),i=!0},p(l,[a]){const o={};a&3&&(o.$$scope={dirty:a,ctx:l}),t.$set(o);const u={};a&1&&(u.value=l[0].description),r.$set(u)},i(l){i||(T(t.$$.fragment,l),T(r.$$.fragment,l),i=!0)},o(l){I(t.$$.fragment,l),I(r.$$.fragment,l),i=!1},d(l){l&&c(e),K(t),K(r)}}}function Vi(s,e,t){let{trainer:n}=e;return s.$$set=r=>{"trainer"in r&&t(0,n=r.trainer)},[n]}let Ji=class extends ae{constructor(e){super(),ue(this,e,Vi,qi,fe,{trainer:0})}};function Yi(s){let e,t,n,r,i;const l=s[7].default,a=rt(l,s,s[6],null);return{c(){e=w("button"),a&&a.c(),this.h()},l(o){e=E(o,"BUTTON",{type:!0,class:!0});var u=P(e);a&&a.l(u),u.forEach(c),this.h()},h(){k(e,"type",s[1]),k(e,"class",t="button "+s[0]+" "+s[2]+" "+s[3]+" svelte-f4dxt"),e.disabled=s[4]},m(o,u){b(o,e,u),a&&a.m(e,null),n=!0,r||(i=he(e,"click",s[9]),r=!0)},p(o,u){a&&a.p&&(!n||u&64)&&it(a,l,o,o[6],n?lt(l,o[6],u,null):st(o[6]),null),(!n||u&2)&&k(e,"type",o[1]),(!n||u&13&&t!==(t="button "+o[0]+" "+o[2]+" "+o[3]+" svelte-f4dxt"))&&k(e,"class",t),(!n||u&16)&&(e.disabled=o[4])},i(o){n||(T(a,o),n=!0)},o(o){I(a,o),n=!1},d(o){o&&c(e),a&&a.d(o),r=!1,i()}}}function Wi(s){let e,t,n,r,i;const l=s[7].default,a=rt(l,s,s[6],null);return{c(){e=w("a"),a&&a.c(),this.h()},l(o){e=E(o,"A",{href:!0,class:!0});var u=P(e);a&&a.l(u),u.forEach(c),this.h()},h(){k(e,"href",s[5]),k(e,"class",t="button "+s[0]+" "+s[2]+" "+s[3]+" svelte-f4dxt"),wt(e,"disabled",s[4])},m(o,u){b(o,e,u),a&&a.m(e,null),n=!0,r||(i=he(e,"click",s[8]),r=!0)},p(o,u){a&&a.p&&(!n||u&64)&&it(a,l,o,o[6],n?lt(l,o[6],u,null):st(o[6]),null),(!n||u&32)&&k(e,"href",o[5]),(!n||u&13&&t!==(t="button "+o[0]+" "+o[2]+" "+o[3]+" svelte-f4dxt"))&&k(e,"class",t),(!n||u&29)&&wt(e,"disabled",o[4])},i(o){n||(T(a,o),n=!0)},o(o){I(a,o),n=!1},d(o){o&&c(e),a&&a.d(o),r=!1,i()}}}function Xi(s){let e,t,n,r;const i=[Wi,Yi],l=[];function a(o,u){return o[5]!=null?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,[u]){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Zi(s,e,t){let{$$slots:n={},$$scope:r}=e,{variant:i="solid"}=e,{type:l="button"}=e,{align:a="center"}=e,{width:o="auto"}=e,{disabled:u=!1}=e,{href:f=void 0}=e;function h(_){wn.call(this,s,_)}function d(_){wn.call(this,s,_)}return s.$$set=_=>{"variant"in _&&t(0,i=_.variant),"type"in _&&t(1,l=_.type),"align"in _&&t(2,a=_.align),"width"in _&&t(3,o=_.width),"disabled"in _&&t(4,u=_.disabled),"href"in _&&t(5,f=_.href),"$$scope"in _&&t(6,r=_.$$scope)},[i,l,a,o,u,f,r,n,h,d]}class ge extends ae{constructor(e){super(),ue(this,e,Zi,Xi,fe,{variant:0,type:1,align:2,width:3,disabled:4,href:5})}}function Qi(s){let e,t;const n=s[1].default,r=rt(n,s,s[0],null);return{c(){e=w("div"),r&&r.c(),this.h()},l(i){e=E(i,"DIV",{class:!0});var l=P(e);r&&r.l(l),l.forEach(c),this.h()},h(){k(e,"class","gap-between-items to-right padding-preventing-overflow svelte-1wao9zu")},m(i,l){b(i,e,l),r&&r.m(e,null),t=!0},p(i,[l]){r&&r.p&&(!t||l&1)&&it(r,n,i,i[0],t?lt(n,i[0],l,null):st(i[0]),null)},i(i){t||(T(r,i),t=!0)},o(i){I(r,i),t=!1},d(i){i&&c(e),r&&r.d(i)}}}function xi(s,e,t){let{$$slots:n={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&t(0,r=i.$$scope)},[r,n]}class Re extends ae{constructor(e){super(),ue(this,e,xi,Qi,fe,{})}}const pe={home:()=>`${Pe}`,pokemon:s=>`${Pe}/pokemon${s?`/${s}`:""}`,moves:s=>`${Pe}/moves${s?`/${s}`:""}`,tms:s=>`${Pe}/tms${s?`/${s}`:""}`,trainers:(s,e,t)=>{const n=new URLSearchParams;return s&&n.append("id",s),e&&n.append("pokemon",e),t&&n.append("action",t),`${Pe}/trainers?${n.toString()}`}},Ie={addPokemon:"add-pokemon",editPokemon:"edit-pokemon",evolvePokemon:"evolve-pokemon",removePokemon:"remove-pokemon",newTrainer:"new-trainer",findTrainer:"find-trainer",editTrainer:"edit-trainer",retireTrainer:"retire-trainer",accessKey:"access-key"};function es(s){let e;return{c(){e=D("Access Key")},l(t){e=N(t,"Access Key")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Ln(s){let e,t;return e=new ge({props:{href:pe.trainers(s[1].info.readKey,void 0,Ie.editTrainer),$$slots:{default:[ts]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.href=pe.trainers(n[1].info.readKey,void 0,Ie.editTrainer)),r&4&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ts(s){let e;return{c(){e=D("Edit")},l(t){e=N(t,"Edit")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function ns(s){let e,t,n,r;e=new ge({props:{href:pe.trainers(s[1].info.readKey,void 0,Ie.accessKey),variant:"ghost",$$slots:{default:[es]},$$scope:{ctx:s}}});let i=s[1].update&&Ln(s);return{c(){B(e.$$.fragment),t=j(),i&&i.c(),n=re()},l(l){F(e.$$.fragment,l),t=C(l),i&&i.l(l),n=re()},m(l,a){M(e,l,a),b(l,t,a),i&&i.m(l,a),b(l,n,a),r=!0},p(l,a){const o={};a&2&&(o.href=pe.trainers(l[1].info.readKey,void 0,Ie.accessKey)),a&4&&(o.$$scope={dirty:a,ctx:l}),e.$set(o),l[1].update?i?(i.p(l,a),a&2&&T(i,1)):(i=Ln(l),i.c(),T(i,1),i.m(n.parentNode,n)):i&&(_e(),I(i,1,1,()=>{i=null}),me())},i(l){r||(T(e.$$.fragment,l),T(i),r=!0)},o(l){I(e.$$.fragment,l),I(i),r=!1},d(l){K(e,l),l&&c(t),i&&i.d(l),l&&c(n)}}}function rs(s){let e,t,n,r;return e=new Ji({props:{trainer:s[1].info}}),n=new Re({props:{$$slots:{default:[ns]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,l){const a={};l&2&&(a.trainer=i[1].info),e.$set(a);const o={};l&6&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function is(s){let e,t,n,r;return e=new Ve({props:{value:s[1].info.name}}),n=new Je({props:{title:s[1].info.name,$$slots:{default:[rs]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,[l]){const a={};l&2&&(a.value=i[1].info.name),e.$set(a);const o={};l&2&&(o.title=i[1].info.name),l&6&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function ss(s,e,t){let n,r=ne,i=()=>(r(),r=qe(l,a=>t(1,n=a)),l);s.$$.on_destroy.push(()=>r());let{trainer:l}=e;return i(),s.$$set=a=>{"trainer"in a&&i(t(0,l=a.trainer))},[l,n]}let ls=class extends ae{constructor(e){super(),ue(this,e,ss,is,fe,{trainer:0})}};function os(s){let e,t;return{c(){e=w("span"),this.h()},l(n){e=E(n,"SPAN",{class:!0,title:!0,"aria-label":!0}),P(e).forEach(c),this.h()},h(){k(e,"class",t="gender "+s[0]+" svelte-l7rte3"),k(e,"title",s[0]),k(e,"aria-label",s[0])},m(n,r){b(n,e,r)},p(n,[r]){r&1&&t!==(t="gender "+n[0]+" svelte-l7rte3")&&k(e,"class",t),r&1&&k(e,"title",n[0]),r&1&&k(e,"aria-label",n[0])},i:ne,o:ne,d(n){n&&c(e)}}}function as(s,e,t){let{gender:n}=e;return s.$$set=r=>{"gender"in r&&t(0,n=r.gender)},[n]}class hi extends ae{constructor(e){super(),ue(this,e,as,os,fe,{gender:0})}}function us(s){let e,t,n,r=s[1].name+"",i,l,a,o,u,f,h,d,_,p,$=s[0].level+"",g,y;return o=new hi({props:{gender:s[0].gender}}),{c(){e=w("div"),t=w("span"),n=w("span"),i=D(r),l=j(),a=w("span"),B(o.$$.fragment),u=j(),f=w("span"),h=w("span"),d=D("Lv."),_=j(),p=w("span"),g=D($),this.h()},l(S){e=E(S,"DIV",{class:!0});var A=P(e);t=E(A,"SPAN",{class:!0});var U=P(t);n=E(U,"SPAN",{});var Y=P(n);i=N(Y,r),Y.forEach(c),l=C(U),a=E(U,"SPAN",{class:!0});var L=P(a);F(o.$$.fragment,L),L.forEach(c),U.forEach(c),u=C(A),f=E(A,"SPAN",{class:!0});var X=P(f);h=E(X,"SPAN",{class:!0});var q=P(h);d=N(q,"Lv."),q.forEach(c),_=C(X),p=E(X,"SPAN",{class:!0});var z=P(p);g=N(z,$),z.forEach(c),X.forEach(c),A.forEach(c),this.h()},h(){k(a,"class","gender svelte-1elr9xg"),k(t,"class","name svelte-1elr9xg"),k(h,"class","level-text svelte-1elr9xg"),k(p,"class","level-number svelte-1elr9xg"),k(f,"class","level svelte-1elr9xg"),k(e,"class","grid svelte-1elr9xg")},m(S,A){b(S,e,A),m(e,t),m(t,n),m(n,i),m(t,l),m(t,a),M(o,a,null),m(e,u),m(e,f),m(f,h),m(h,d),m(f,_),m(f,p),m(p,g),y=!0},p(S,[A]){(!y||A&2)&&r!==(r=S[1].name+"")&&le(i,r);const U={};A&1&&(U.gender=S[0].gender),o.$set(U),(!y||A&1)&&$!==($=S[0].level+"")&&le(g,$)},i(S){y||(T(o.$$.fragment,S),y=!0)},o(S){I(o.$$.fragment,S),y=!1},d(S){S&&c(e),K(o)}}}function fs(s,e,t){let{pokemon:n}=e,{species:r}=e;return s.$$set=i=>{"pokemon"in i&&t(0,n=i.pokemon),"species"in i&&t(1,r=i.species)},[n,r]}class cs extends ae{constructor(e){super(),ue(this,e,fs,us,fe,{pokemon:0,species:1})}}function hs(s){let e,t,n;return{c(){e=D(s[0]),t=D(" / "),n=D(s[1])},l(r){e=N(r,s[0]),t=N(r," / "),n=N(r,s[1])},m(r,i){b(r,e,i),b(r,t,i),b(r,n,i)},p(r,i){i&1&&le(e,r[0]),i&2&&le(n,r[1])},d(r){r&&c(e),r&&c(t),r&&c(n)}}}function ds(s){let e,t,n=`${s[3]}%`,r,i,l,a;return i=new Mt({props:{$$slots:{default:[hs]},$$scope:{ctx:s}}}),{c(){e=w("meter"),t=w("div"),r=j(),B(i.$$.fragment),this.h()},l(o){e=E(o,"METER",{class:!0,max:!0});var u=P(e);t=E(u,"DIV",{class:!0}),P(t).forEach(c),r=C(u),F(i.$$.fragment,u),u.forEach(c),this.h()},h(){k(t,"class","fill svelte-1aotyy5"),ve(t,"width",n),k(e,"class",l=En(s[4])+" svelte-1aotyy5"),k(e,"max",s[1]),e.value=s[0],wt(e,"secondary",s[2])},m(o,u){b(o,e,u),m(e,t),m(e,r),M(i,e,null),a=!0},p(o,[u]){u&8&&n!==(n=`${o[3]}%`)&&ve(t,"width",n);const f={};u&35&&(f.$$scope={dirty:u,ctx:o}),i.$set(f),(!a||u&16&&l!==(l=En(o[4])+" svelte-1aotyy5"))&&k(e,"class",l),(!a||u&2)&&k(e,"max",o[1]),(!a||u&1)&&(e.value=o[0]),(!a||u&20)&&wt(e,"secondary",o[2])},i(o){a||(T(i.$$.fragment,o),a=!0)},o(o){I(i.$$.fragment,o),a=!1},d(o){o&&c(e),K(i)}}}function ps(s,e,t){let n,r,{current:i}=e,{max:l}=e,{secondary:a=!1}=e;return s.$$set=o=>{"current"in o&&t(0,i=o.current),"max"in o&&t(1,l=o.max),"secondary"in o&&t(2,a=o.secondary)},s.$$.update=()=>{s.$$.dirty&3&&t(3,n=Math.max(100*i/l,0)),s.$$.dirty&8&&t(4,r=n>=50?"healthy":n>=20?"warning":"danger")},[i,l,a,n,r]}class ln extends ae{constructor(e){super(),ue(this,e,ps,ds,fe,{current:0,max:1,secondary:2})}}function _s(s){let e,t=`${s[2]+1}ch`,n,r;return{c(){e=w("input"),this.h()},l(i){e=E(i,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){k(e,"id",s[1]),k(e,"type","text"),e.value=s[0],k(e,"class","svelte-gmkrdx"),ve(e,"width",t)},m(i,l){b(i,e,l),n||(r=[he(e,"change",s[3]),he(e,"input",s[4])],n=!0)},p(i,[l]){l&2&&k(e,"id",i[1]),l&1&&e.value!==i[0]&&(e.value=i[0]),l&4&&t!==(t=`${i[2]+1}ch`)&&ve(e,"width",t)},i:ne,o:ne,d(i){i&&c(e),n=!1,ot(r)}}}function ms(s,e,t){var u;const n=at();let{id:r}=e,{value:i}=e,l=((u=i==null?void 0:i.toString())==null?void 0:u.length)??0;const a=f=>{var p;const h=f.target,d=/(\d+)\s*(\+|\-)\s*(\d+)/,_=h.value.match(d);if(_!=null)t(0,i=parseFloat(_[1])+parseFloat(_[2]+_[3]));else{const $=parseFloat(h.value);t(0,i=isNaN($)?0:$)}t(2,l=((p=i==null?void 0:i.toString())==null?void 0:p.length)??0),n("change",{value:i})},o=f=>{const h=f.target;t(2,l=h.value.length)};return s.$$set=f=>{"id"in f&&t(1,r=f.id),"value"in f&&t(0,i=f.value)},[i,r,l,a,o]}class di extends ae{constructor(e){super(),ue(this,e,ms,_s,fe,{id:1,value:0})}}function vs(s){let e,t;return{c(){e=w("label"),t=D("HP"),this.h()},l(n){e=E(n,"LABEL",{for:!0});var r=P(e);t=N(r,"HP"),r.forEach(c),this.h()},h(){k(e,"for","current-hp")},m(n,r){b(n,e,r),m(e,t)},p:ne,d(n){n&&c(e)}}}function $s(s){let e=s[0].hp.current+"",t;return{c(){t=D(e)},l(n){t=N(n,e)},m(n,r){b(n,t,r)},p(n,r){r&1&&e!==(e=n[0].hp.current+"")&&le(t,e)},i:ne,o:ne,d(n){n&&c(t)}}}function gs(s){let e,t;return e=new di({props:{id:"current-hp",value:s[3]}}),e.$on("change",s[5]),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.value=n[3]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function bs(s){let e,t;return{c(){e=w("label"),t=D("Hit Dice"),this.h()},l(n){e=E(n,"LABEL",{for:!0});var r=P(e);t=N(r,"Hit Dice"),r.forEach(c),this.h()},h(){k(e,"for","current-hit-dice")},m(n,r){b(n,e,r),m(e,t)},p:ne,d(n){n&&c(e)}}}function ks(s){let e=s[0].hitDice.current+"",t;return{c(){t=D(e)},l(n){t=N(n,e)},m(n,r){b(n,t,r)},p(n,r){r&1&&e!==(e=n[0].hitDice.current+"")&&le(t,e)},i:ne,o:ne,d(n){n&&c(t)}}}function ys(s){let e,t;return e=new di({props:{id:"current-hit-dice",value:s[4]}}),e.$on("change",s[6]),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.value=n[4]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ws(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p=s[0].hp.max+"",$,g,y,S,A,U,Y,L,X,q,z,te,W,Z,G,v=s[0].hitDice.max+"",O,H,Q=s[1].hitDice+"",V,R,x;n=new ln({props:{current:s[3],max:s[0].hp.max}}),l=new Mt({props:{$$slots:{default:[vs]},$$scope:{ctx:s}}});const ee=[gs,$s],ie=[];function J(oe,ce){return oe[2]?0:1}u=J(s),f=ie[u]=ee[u](s),A=new ln({props:{secondary:!0,current:s[4],max:s[0].hitDice.max}}),L=new Mt({props:{$$slots:{default:[bs]},$$scope:{ctx:s}}});const se=[ys,ks],de=[];function Te(oe,ce){return oe[2]?0:1}return z=Te(s),te=de[z]=se[z](s),{c(){e=w("div"),t=w("span"),B(n.$$.fragment),r=j(),i=w("span"),B(l.$$.fragment),a=j(),o=w("span"),f.c(),h=j(),d=w("span"),_=D("/ "),$=D(p),g=j(),y=w("span"),S=w("span"),B(A.$$.fragment),U=j(),Y=w("span"),B(L.$$.fragment),X=j(),q=w("span"),te.c(),W=j(),Z=w("span"),G=D("/ "),O=D(v),H=D(" ("),V=D(Q),R=D(")"),this.h()},l(oe){e=E(oe,"DIV",{class:!0});var ce=P(e);t=E(ce,"SPAN",{class:!0});var Ae=P(t);F(n.$$.fragment,Ae),Ae.forEach(c),r=C(ce),i=E(ce,"SPAN",{class:!0});var Oe=P(i);F(l.$$.fragment,Oe),a=C(Oe),o=E(Oe,"SPAN",{class:!0});var ze=P(o);f.l(ze),ze.forEach(c),h=C(Oe),d=E(Oe,"SPAN",{class:!0});var be=P(d);_=N(be,"/ "),$=N(be,p),be.forEach(c),Oe.forEach(c),g=C(ce),y=E(ce,"SPAN",{class:!0});var Ne=P(y);S=E(Ne,"SPAN",{class:!0});var et=P(S);F(A.$$.fragment,et),et.forEach(c),U=C(Ne),Y=E(Ne,"SPAN",{class:!0});var Ye=P(Y);F(L.$$.fragment,Ye),X=C(Ye),q=E(Ye,"SPAN",{class:!0});var yn=P(q);te.l(yn),yn.forEach(c),W=C(Ye),Z=E(Ye,"SPAN",{class:!0});var gt=P(Z);G=N(gt,"/ "),O=N(gt,v),H=N(gt," ("),V=N(gt,Q),R=N(gt,")"),gt.forEach(c),Ye.forEach(c),Ne.forEach(c),ce.forEach(c),this.h()},h(){k(t,"class","bar svelte-bxmegr"),k(o,"class","current-hp svelte-bxmegr"),k(d,"class","max-hp"),k(i,"class","hp svelte-bxmegr"),k(S,"class","hit-dice-bar svelte-bxmegr"),k(q,"class","current-hit-dice svelte-bxmegr"),k(Z,"class","max-hit-dice"),k(Y,"class","hit-dice-text svelte-bxmegr"),k(y,"class","hit-dice svelte-bxmegr"),k(e,"class","grid svelte-bxmegr")},m(oe,ce){b(oe,e,ce),m(e,t),M(n,t,null),m(e,r),m(e,i),M(l,i,null),m(i,a),m(i,o),ie[u].m(o,null),m(i,h),m(i,d),m(d,_),m(d,$),m(e,g),m(e,y),m(y,S),M(A,S,null),m(y,U),m(y,Y),M(L,Y,null),m(Y,X),m(Y,q),de[z].m(q,null),m(Y,W),m(Y,Z),m(Z,G),m(Z,O),m(Z,H),m(Z,V),m(Z,R),x=!0},p(oe,[ce]){const Ae={};ce&8&&(Ae.current=oe[3]),ce&1&&(Ae.max=oe[0].hp.max),n.$set(Ae);const Oe={};ce&256&&(Oe.$$scope={dirty:ce,ctx:oe}),l.$set(Oe);let ze=u;u=J(oe),u===ze?ie[u].p(oe,ce):(_e(),I(ie[ze],1,1,()=>{ie[ze]=null}),me(),f=ie[u],f?f.p(oe,ce):(f=ie[u]=ee[u](oe),f.c()),T(f,1),f.m(o,null)),(!x||ce&1)&&p!==(p=oe[0].hp.max+"")&&le($,p);const be={};ce&16&&(be.current=oe[4]),ce&1&&(be.max=oe[0].hitDice.max),A.$set(be);const Ne={};ce&256&&(Ne.$$scope={dirty:ce,ctx:oe}),L.$set(Ne);let et=z;z=Te(oe),z===et?de[z].p(oe,ce):(_e(),I(de[et],1,1,()=>{de[et]=null}),me(),te=de[z],te?te.p(oe,ce):(te=de[z]=se[z](oe),te.c()),T(te,1),te.m(q,null)),(!x||ce&1)&&v!==(v=oe[0].hitDice.max+"")&&le(O,v),(!x||ce&2)&&Q!==(Q=oe[1].hitDice+"")&&le(V,Q)},i(oe){x||(T(n.$$.fragment,oe),T(l.$$.fragment,oe),T(f),T(A.$$.fragment,oe),T(L.$$.fragment,oe),T(te),x=!0)},o(oe){I(n.$$.fragment,oe),I(l.$$.fragment,oe),I(f),I(A.$$.fragment,oe),I(L.$$.fragment,oe),I(te),x=!1},d(oe){oe&&c(e),K(n),K(l),ie[u].d(),K(A),K(L),de[z].d()}}}function Es(s,e,t){let n,r;const i=at();let{pokemon:l}=e,{species:a}=e,{editable:o}=e;const u=h=>{i("update",{currentHp:h.detail.value,currentHitDice:r})},f=h=>{i("update",{currentHp:n,currentHitDice:h.detail.value})};return s.$$set=h=>{"pokemon"in h&&t(0,l=h.pokemon),"species"in h&&t(1,a=h.species),"editable"in h&&t(2,o=h.editable)},s.$$.update=()=>{s.$$.dirty&1&&t(3,n=l.hp.current),s.$$.dirty&1&&t(4,r=l.hitDice.current)},[l,a,o,n,r,u,f]}class Ts extends ae{constructor(e){super(),ue(this,e,Es,ws,fe,{pokemon:0,species:1,editable:2})}}const on=[{name:"athletics",attribute:"str"},{name:"acrobatics",attribute:"dex"},{name:"sleight of hand",attribute:"dex"},{name:"stealth",attribute:"dex"},{name:"arcana",attribute:"int"},{name:"history",attribute:"int"},{name:"investigation",attribute:"int"},{name:"nature",attribute:"int"},{name:"religion",attribute:"int"},{name:"animal handling",attribute:"wis"},{name:"insight",attribute:"wis"},{name:"medicine",attribute:"wis"},{name:"perception",attribute:"wis"},{name:"survival",attribute:"wis"},{name:"deception",attribute:"cha"},{name:"intimidation",attribute:"cha"},{name:"performance",attribute:"cha"},{name:"persuasion",attribute:"cha"}],_n=s=>2+Math.floor((s-1)/4),Un=(s,e,t)=>{const n=on.find(r=>r.name===s).attribute;return Kt(e[n])+t};function Bn(s,e,t){const n=s.slice();return n[3]=e[t],n}function Fn(s,e,t){const n=s.slice();return n[6]=e[t],n}function Mn(s){let e,t=Sn(s[6])+"",n;return{c(){e=w("dd"),n=D(t)},l(r){e=E(r,"DD",{});var i=P(e);n=N(i,t),i.forEach(c)},m(r,i){b(r,e,i),m(e,n)},p(r,i){i&2&&t!==(t=Sn(r[6])+"")&&le(n,t)},d(r){r&&c(e)}}}function Kn(s){let e,t,n,r,i=s[1].senses,l=[];for(let a=0;a<i.length;a+=1)l[a]=Hn(Bn(s,i,a));return{c(){e=w("dt"),t=D("Senses"),n=j(),r=w("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=E(a,"DT",{});var o=P(e);t=N(o,"Senses"),o.forEach(c),n=C(a),r=E(a,"DIV",{class:!0});var u=P(r);for(let f=0;f<l.length;f+=1)l[f].l(u);u.forEach(c),this.h()},h(){k(r,"class","cap")},m(a,o){b(a,e,o),m(e,t),b(a,n,o),b(a,r,o);for(let u=0;u<l.length;u+=1)l[u].m(r,null)},p(a,o){if(o&2){i=a[1].senses;let u;for(u=0;u<i.length;u+=1){const f=Bn(a,i,u);l[u]?l[u].p(f,o):(l[u]=Hn(f),l[u].c(),l[u].m(r,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length}},d(a){a&&c(e),a&&c(n),a&&c(r),De(l,a)}}}function Hn(s){let e,t=In(s[3])+"",n;return{c(){e=w("dd"),n=D(t)},l(r){e=E(r,"DD",{});var i=P(e);n=N(i,t),i.forEach(c)},m(r,i){b(r,e,i),m(e,n)},p(r,i){i&2&&t!==(t=In(r[3])+"")&&le(n,t)},d(r){r&&c(e)}}}function Ps(s){let e,t,n,r,i,l=s[0].ac+"",a,o,u,f,h,d,_=s[0].nature+"",p,$,g,y,S,A,U,Y,L,X,q,z,te,W=s[1].size+"",Z,G,v,O,H,Q,V,R,x=s[1].speed,ee=[];for(let J=0;J<x.length;J+=1)ee[J]=Mn(Fn(s,x,J));let ie=s[1].senses.length>0&&Kn(s);return{c(){e=w("dt"),t=w("abbr"),n=D("AC"),r=j(),i=w("dd"),a=D(l),o=j(),u=w("dt"),f=D("Nature"),h=j(),d=w("dd"),p=D(_),$=j(),g=w("dt"),y=D("Bonus"),S=j(),A=w("dd"),U=D("+"),Y=D(s[2]),L=j(),X=w("dt"),q=D("Size"),z=j(),te=w("dd"),Z=D(W),G=j(),v=w("dt"),O=D("Speed"),H=j(),Q=w("div");for(let J=0;J<ee.length;J+=1)ee[J].c();V=j(),ie&&ie.c(),R=re(),this.h()},l(J){e=E(J,"DT",{});var se=P(e);t=E(se,"ABBR",{title:!0});var de=P(t);n=N(de,"AC"),de.forEach(c),se.forEach(c),r=C(J),i=E(J,"DD",{});var Te=P(i);a=N(Te,l),Te.forEach(c),o=C(J),u=E(J,"DT",{});var oe=P(u);f=N(oe,"Nature"),oe.forEach(c),h=C(J),d=E(J,"DD",{class:!0});var ce=P(d);p=N(ce,_),ce.forEach(c),$=C(J),g=E(J,"DT",{});var Ae=P(g);y=N(Ae,"Bonus"),Ae.forEach(c),S=C(J),A=E(J,"DD",{});var Oe=P(A);U=N(Oe,"+"),Y=N(Oe,s[2]),Oe.forEach(c),L=C(J),X=E(J,"DT",{});var ze=P(X);q=N(ze,"Size"),ze.forEach(c),z=C(J),te=E(J,"DD",{class:!0});var be=P(te);Z=N(be,W),be.forEach(c),G=C(J),v=E(J,"DT",{});var Ne=P(v);O=N(Ne,"Speed"),Ne.forEach(c),H=C(J),Q=E(J,"DIV",{});var et=P(Q);for(let Ye=0;Ye<ee.length;Ye+=1)ee[Ye].l(et);et.forEach(c),V=C(J),ie&&ie.l(J),R=re(),this.h()},h(){k(t,"title","Armor Class"),k(d,"class","cap"),k(te,"class","cap")},m(J,se){b(J,e,se),m(e,t),m(t,n),b(J,r,se),b(J,i,se),m(i,a),b(J,o,se),b(J,u,se),m(u,f),b(J,h,se),b(J,d,se),m(d,p),b(J,$,se),b(J,g,se),m(g,y),b(J,S,se),b(J,A,se),m(A,U),m(A,Y),b(J,L,se),b(J,X,se),m(X,q),b(J,z,se),b(J,te,se),m(te,Z),b(J,G,se),b(J,v,se),m(v,O),b(J,H,se),b(J,Q,se);for(let de=0;de<ee.length;de+=1)ee[de].m(Q,null);b(J,V,se),ie&&ie.m(J,se),b(J,R,se)},p(J,se){if(se&1&&l!==(l=J[0].ac+"")&&le(a,l),se&1&&_!==(_=J[0].nature+"")&&le(p,_),se&4&&le(Y,J[2]),se&2&&W!==(W=J[1].size+"")&&le(Z,W),se&2){x=J[1].speed;let de;for(de=0;de<x.length;de+=1){const Te=Fn(J,x,de);ee[de]?ee[de].p(Te,se):(ee[de]=Mn(Te),ee[de].c(),ee[de].m(Q,null))}for(;de<ee.length;de+=1)ee[de].d(1);ee.length=x.length}J[1].senses.length>0?ie?ie.p(J,se):(ie=Kn(J),ie.c(),ie.m(R.parentNode,R)):ie&&(ie.d(1),ie=null)},d(J){J&&c(e),J&&c(r),J&&c(i),J&&c(o),J&&c(u),J&&c(h),J&&c(d),J&&c($),J&&c(g),J&&c(S),J&&c(A),J&&c(L),J&&c(X),J&&c(z),J&&c(te),J&&c(G),J&&c(v),J&&c(H),J&&c(Q),De(ee,J),J&&c(V),ie&&ie.d(J),J&&c(R)}}}function Ss(s){let e,t;return e=new Vt({props:{columns:2,$$slots:{default:[Ps]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&519&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Is(s,e,t){let n,{pokemon:r}=e,{species:i}=e;return s.$$set=l=>{"pokemon"in l&&t(0,r=l.pokemon),"species"in l&&t(1,i=l.species)},s.$$.update=()=>{s.$$.dirty&1&&t(2,n=_n(r.level))},[r,i,n]}class As extends ae{constructor(e){super(),ue(this,e,Is,Ss,fe,{pokemon:0,species:1})}}function zn(s,e,t){const n=s.slice();return n[2]=e[t],n}function Gn(s,e,t){const n=s.slice();return n[5]=e[t],n}function qn(s){let e,t=s[5]+"",n,r,i=Kt(s[0].attributes[s[5]])+s[1]+"",l;return{c(){e=w("dd"),n=D(t),r=D(" +"),l=D(i)},l(a){e=E(a,"DD",{});var o=P(e);n=N(o,t),r=N(o," +"),l=N(o,i),o.forEach(c)},m(a,o){b(a,e,o),m(e,n),m(e,r),m(e,l)},p(a,o){o&1&&t!==(t=a[5]+"")&&le(n,t),o&3&&i!==(i=Kt(a[0].attributes[a[5]])+a[1]+"")&&le(l,i)},d(a){a&&c(e)}}}function Vn(s){let e,t=s[2]+"",n,r,i=Un(s[2],s[0].attributes,s[1])+"",l;return{c(){e=w("dd"),n=D(t),r=D(" +"),l=D(i)},l(a){e=E(a,"DD",{});var o=P(e);n=N(o,t),r=N(o," +"),l=N(o,i),o.forEach(c)},m(a,o){b(a,e,o),m(e,n),m(e,r),m(e,l)},p(a,o){o&1&&t!==(t=a[2]+"")&&le(n,t),o&3&&i!==(i=Un(a[2],a[0].attributes,a[1])+"")&&le(l,i)},d(a){a&&c(e)}}}function Os(s){let e,t,n,r,i,l,a,o,u,f=s[0].savingThrows,h=[];for(let p=0;p<f.length;p+=1)h[p]=qn(Gn(s,f,p));let d=s[0].proficiencies,_=[];for(let p=0;p<d.length;p+=1)_[p]=Vn(zn(s,d,p));return{c(){e=w("dt"),t=D("Saves"),n=j(),r=w("div");for(let p=0;p<h.length;p+=1)h[p].c();i=j(),l=w("dt"),a=D("Proficiencies"),o=j(),u=w("div");for(let p=0;p<_.length;p+=1)_[p].c();this.h()},l(p){e=E(p,"DT",{});var $=P(e);t=N($,"Saves"),$.forEach(c),n=C(p),r=E(p,"DIV",{class:!0});var g=P(r);for(let A=0;A<h.length;A+=1)h[A].l(g);g.forEach(c),i=C(p),l=E(p,"DT",{});var y=P(l);a=N(y,"Proficiencies"),y.forEach(c),o=C(p),u=E(p,"DIV",{class:!0});var S=P(u);for(let A=0;A<_.length;A+=1)_[A].l(S);S.forEach(c),this.h()},h(){k(r,"class","upper"),k(u,"class","cap")},m(p,$){b(p,e,$),m(e,t),b(p,n,$),b(p,r,$);for(let g=0;g<h.length;g+=1)h[g].m(r,null);b(p,i,$),b(p,l,$),m(l,a),b(p,o,$),b(p,u,$);for(let g=0;g<_.length;g+=1)_[g].m(u,null)},p(p,$){if($&3){f=p[0].savingThrows;let g;for(g=0;g<f.length;g+=1){const y=Gn(p,f,g);h[g]?h[g].p(y,$):(h[g]=qn(y),h[g].c(),h[g].m(r,null))}for(;g<h.length;g+=1)h[g].d(1);h.length=f.length}if($&3){d=p[0].proficiencies;let g;for(g=0;g<d.length;g+=1){const y=zn(p,d,g);_[g]?_[g].p(y,$):(_[g]=Vn(y),_[g].c(),_[g].m(u,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=d.length}},d(p){p&&c(e),p&&c(n),p&&c(r),De(h,p),p&&c(i),p&&c(l),p&&c(o),p&&c(u),De(_,p)}}}function Ds(s){let e,t;return e=new Vt({props:{columns:2,$$slots:{default:[Os]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&259&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ns(s,e,t){let n,{pokemon:r}=e;return s.$$set=i=>{"pokemon"in i&&t(0,r=i.pokemon)},s.$$.update=()=>{s.$$.dirty&1&&t(1,n=_n(r.level))},[r,n]}class Rs extends ae{constructor(e){super(),ue(this,e,Ns,Ds,fe,{pokemon:0})}}function js(s){let e,t=s[1].name+"",n,r;return{c(){e=w("label"),n=D(t),r=D(" PP"),this.h()},l(i){e=E(i,"LABEL",{for:!0});var l=P(e);n=N(l,t),r=N(l," PP"),l.forEach(c),this.h()},h(){k(e,"for","current-hp")},m(i,l){b(i,e,l),m(e,n),m(e,r)},p(i,l){l&2&&t!==(t=i[1].name+"")&&le(n,t)},d(i){i&&c(e)}}}function Cs(s){let e;return{c(){e=D(s[6])},l(t){e=N(t,s[6])},m(t,n){b(t,e,n)},p(t,n){n&64&&le(e,t[6])},d(t){t&&c(e)}}}function Ls(s){let e,t,n,r;return{c(){e=w("input"),this.h()},l(i){e=E(i,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){k(e,"id",t="current-pp-"+s[0].moveId),k(e,"type","number"),e.value=s[6],k(e,"class","svelte-1kxv9x5")},m(i,l){b(i,e,l),n||(r=he(e,"change",s[7]),n=!0)},p(i,l){l&1&&t!==(t="current-pp-"+i[0].moveId)&&k(e,"id",t),l&64&&e.value!==i[6]&&(e.value=i[6])},d(i){i&&c(e),n=!1,r()}}}function Jn(s){let e,t,n,r,i,l;return{c(){e=D("To Hit: +"),t=D(s[5]),n=D(", DC: "),r=D(s[4]),i=D(", Dmg: +"),l=D(s[3])},l(a){e=N(a,"To Hit: +"),t=N(a,s[5]),n=N(a,", DC: "),r=N(a,s[4]),i=N(a,", Dmg: +"),l=N(a,s[3])},m(a,o){b(a,e,o),b(a,t,o),b(a,n,o),b(a,r,o),b(a,i,o),b(a,l,o)},p(a,o){o&32&&le(t,a[5]),o&16&&le(r,a[4]),o&8&&le(l,a[3])},d(a){a&&c(e),a&&c(t),a&&c(n),a&&c(r),a&&c(i),a&&c(l)}}}function Yn(s){let e,t=s[0].notes+"",n;return{c(){e=w("div"),n=D(t),this.h()},l(r){e=E(r,"DIV",{class:!0});var i=P(e);n=N(i,t),i.forEach(c),this.h()},h(){k(e,"class","space-inner smaller-font svelte-1kxv9x5")},m(r,i){b(r,e,i),m(e,n)},p(r,i){i&1&&t!==(t=r[0].notes+"")&&le(n,t)},d(r){r&&c(e)}}}function Us(s){let e,t,n,r,i,l=s[1].name+"",a,o,u,f,h,d,_,p,$,g,y=s[0].pp.max+"",S,A,U,Y,L=s[1].type+"",X,q,z,te=`var(--skin-${s[1].type}-bg)`,W,Z;h=new Mt({props:{$$slots:{default:[js]},$$scope:{ctx:s}}});function G(V,R){return V[2]?Ls:Cs}let v=G(s),O=v(s),H=s[1].power!=="none"&&s[1].power!=="varies"&&Jn(s),Q=s[0].notes!==void 0&&s[0].notes.length>0&&Yn(s);return{c(){e=w("div"),t=w("div"),n=w("div"),r=w("span"),i=w("a"),a=D(l),u=j(),f=w("span"),B(h.$$.fragment),d=j(),_=w("span"),O.c(),p=j(),$=w("span"),g=D("/ "),S=D(y),A=j(),U=w("div"),Y=w("span"),X=D(L),q=j(),z=w("span"),H&&H.c(),W=j(),Q&&Q.c(),this.h()},l(V){e=E(V,"DIV",{class:!0});var R=P(e);t=E(R,"DIV",{class:!0});var x=P(t);n=E(x,"DIV",{class:!0});var ee=P(n);r=E(ee,"SPAN",{class:!0});var ie=P(r);i=E(ie,"A",{href:!0,class:!0});var J=P(i);a=N(J,l),J.forEach(c),ie.forEach(c),u=C(ee),f=E(ee,"SPAN",{});var se=P(f);F(h.$$.fragment,se),d=C(se),_=E(se,"SPAN",{class:!0});var de=P(_);O.l(de),de.forEach(c),p=C(se),$=E(se,"SPAN",{class:!0});var Te=P($);g=N(Te,"/ "),S=N(Te,y),Te.forEach(c),se.forEach(c),ee.forEach(c),A=C(x),U=E(x,"DIV",{class:!0});var oe=P(U);Y=E(oe,"SPAN",{class:!0});var ce=P(Y);X=N(ce,L),ce.forEach(c),q=C(oe),z=E(oe,"SPAN",{});var Ae=P(z);H&&H.l(Ae),Ae.forEach(c),oe.forEach(c),x.forEach(c),W=C(R),Q&&Q.l(R),R.forEach(c),this.h()},h(){k(i,"href",o=Pe+"/moves/"+s[0].moveId),k(i,"class","svelte-1kxv9x5"),k(r,"class","flex-span svelte-1kxv9x5"),k(_,"class","current svelte-1kxv9x5"),k($,"class","max"),k(n,"class","hrow space-after-tiny svelte-1kxv9x5"),k(Y,"class","capitalize flex-span svelte-1kxv9x5"),k(U,"class","hrow tiny-font svelte-1kxv9x5"),k(t,"class","vstack bg-by-type rounded space-inner svelte-1kxv9x5"),ve(t,"--bg",te),k(e,"class","vstack space-after svelte-1kxv9x5")},m(V,R){b(V,e,R),m(e,t),m(t,n),m(n,r),m(r,i),m(i,a),m(n,u),m(n,f),M(h,f,null),m(f,d),m(f,_),O.m(_,null),m(f,p),m(f,$),m($,g),m($,S),m(t,A),m(t,U),m(U,Y),m(Y,X),m(U,q),m(U,z),H&&H.m(z,null),m(e,W),Q&&Q.m(e,null),Z=!0},p(V,[R]){(!Z||R&2)&&l!==(l=V[1].name+"")&&le(a,l),(!Z||R&1&&o!==(o=Pe+"/moves/"+V[0].moveId))&&k(i,"href",o);const x={};R&32770&&(x.$$scope={dirty:R,ctx:V}),h.$set(x),v===(v=G(V))&&O?O.p(V,R):(O.d(1),O=v(V),O&&(O.c(),O.m(_,null))),(!Z||R&1)&&y!==(y=V[0].pp.max+"")&&le(S,y),(!Z||R&2)&&L!==(L=V[1].type+"")&&le(X,L),V[1].power!=="none"&&V[1].power!=="varies"?H?H.p(V,R):(H=Jn(V),H.c(),H.m(z,null)):H&&(H.d(1),H=null),R&2&&te!==(te=`var(--skin-${V[1].type}-bg)`)&&ve(t,"--bg",te),V[0].notes!==void 0&&V[0].notes.length>0?Q?Q.p(V,R):(Q=Yn(V),Q.c(),Q.m(e,null)):Q&&(Q.d(1),Q=null)},i(V){Z||(T(h.$$.fragment,V),Z=!0)},o(V){I(h.$$.fragment,V),Z=!1},d(V){V&&c(e),K(h),O.d(),H&&H.d(),Q&&Q.d()}}}function Bs(s,e,t){let n,r,i,l,a;const o=at(),u=S=>(A,U)=>S(U)>S(A)?U:A;let{move:f}=e,{moveData:h}=e,{proficiencyBonus:d}=e,{pokemonType:_}=e,{attributes:p}=e,{editable:$}=e,g=0;const y=S=>{o("update",{value:parseInt(S.target.value??"0")})};return s.$$set=S=>{"move"in S&&t(0,f=S.move),"moveData"in S&&t(1,h=S.moveData),"proficiencyBonus"in S&&t(8,d=S.proficiencyBonus),"pokemonType"in S&&t(9,_=S.pokemonType),"attributes"in S&&t(10,p=S.attributes),"editable"in S&&t(2,$=S.editable)},s.$$.update=()=>{if(s.$$.dirty&1&&t(6,n=f.pp.current),s.$$.dirty&1026&&h.power!=="none"&&h.power!=="varies"){const A=(h.power==="any"?["str","dex","con","int","wis","cha"]:h.power).reduce(u(U=>p[U]));t(11,g=Kt(p[A]))}s.$$.dirty&514&&t(12,r=_.includes(h.type)),s.$$.dirty&2304&&t(5,i=d+g),s.$$.dirty&2304&&t(4,l=8+d+g),s.$$.dirty&6144&&t(3,a=g+(r?g:0))},[f,h,$,a,l,i,n,y,d,_,p,g,r]}class Fs extends ae{constructor(e){super(),ue(this,e,Bs,Us,fe,{move:0,moveData:1,proficiencyBonus:8,pokemonType:9,attributes:10,editable:2})}}function Wn(s,e,t){const n=s.slice();n[7]=e[t];const r=n[3].find(function(...l){return s[5](n[7],...l)});return n[8]=r,n}function Xn(s){let e,t,n,r;const i=[Ks,Ms],l=[];function a(o,u){return o[3]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Ms(s){let e,t;return e=new ut({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ks(s){let e,t,n,r,i,l=s[0].moves,a=[];for(let u=0;u<l.length;u+=1)a[u]=Zn(Wn(s,l,u));const o=u=>I(a[u],1,1,()=>{a[u]=null});return{c(){e=w("h2"),t=D("Moves"),n=j(),r=w("ul");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=E(u,"H2",{});var f=P(e);t=N(f,"Moves"),f.forEach(c),n=C(u),r=E(u,"UL",{});var h=P(r);for(let d=0;d<a.length;d+=1)a[d].l(h);h.forEach(c),this.h()},h(){ve(r,"list-style","none"),ve(r,"padding","0")},m(u,f){b(u,e,f),m(e,t),b(u,n,f),b(u,r,f);for(let h=0;h<a.length;h+=1)a[h].m(r,null);i=!0},p(u,f){if(f&31){l=u[0].moves;let h;for(h=0;h<l.length;h+=1){const d=Wn(u,l,h);a[h]?(a[h].p(d,f),T(a[h],1)):(a[h]=Zn(d),a[h].c(),T(a[h],1),a[h].m(r,null))}for(_e(),h=l.length;h<a.length;h+=1)o(h);me()}},i(u){if(!i){for(let f=0;f<l.length;f+=1)T(a[f]);i=!0}},o(u){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)I(a[f]);i=!1},d(u){u&&c(e),u&&c(n),u&&c(r),De(a,u)}}}function Zn(s){let e,t,n,r;return t=new Fs({props:{move:s[7],moveData:s[8],editable:s[1],proficiencyBonus:s[2],attributes:s[0].attributes,pokemonType:s[0].type}}),t.$on("update",function(){hn(s[4](s[7]))&&s[4](s[7]).apply(this,arguments)}),{c(){e=w("li"),B(t.$$.fragment),n=j()},l(i){e=E(i,"LI",{});var l=P(e);F(t.$$.fragment,l),n=C(l),l.forEach(c)},m(i,l){b(i,e,l),M(t,e,null),m(e,n),r=!0},p(i,l){s=i;const a={};l&1&&(a.move=s[7]),l&9&&(a.moveData=s[8]),l&2&&(a.editable=s[1]),l&4&&(a.proficiencyBonus=s[2]),l&1&&(a.attributes=s[0].attributes),l&1&&(a.pokemonType=s[0].type),t.$set(a)},i(i){r||(T(t.$$.fragment,i),r=!0)},o(i){I(t.$$.fragment,i),r=!1},d(i){i&&c(e),K(t)}}}function Hs(s){let e,t,n=s[0].moves.length>0&&Xn(s);return{c(){n&&n.c(),e=re()},l(r){n&&n.l(r),e=re()},m(r,i){n&&n.m(r,i),b(r,e,i),t=!0},p(r,[i]){r[0].moves.length>0?n?(n.p(r,i),i&1&&T(n,1)):(n=Xn(r),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(_e(),I(n,1,1,()=>{n=null}),me())},i(r){t||(T(n),t=!0)},o(r){I(n),t=!1},d(r){n&&n.d(r),r&&c(e)}}}function zs(s,e,t){let n,r;Ce(s,pn,f=>t(3,r=f));const i=at();let{pokemon:l}=e,{editable:a=!1}=e;const o=f=>h=>{i("update",{...f,pp:{current:h.detail.value,max:f.pp.max}})},u=(f,h)=>h.id===f.moveId;return s.$$set=f=>{"pokemon"in f&&t(0,l=f.pokemon),"editable"in f&&t(1,a=f.editable)},s.$$.update=()=>{s.$$.dirty&1&&t(2,n=_n(l.level))},[l,a,n,r,o,u]}class Gs extends ae{constructor(e){super(),ue(this,e,zs,Hs,fe,{pokemon:0,editable:1})}}function Qn(s){let e,t,n=s[0].name+"",r,i,l=s[0].description+"",a;return{c(){e=w("p"),t=w("strong"),r=D(n),i=D(": "),a=D(l),this.h()},l(o){e=E(o,"P",{class:!0});var u=P(e);t=E(u,"STRONG",{});var f=P(t);r=N(f,n),f.forEach(c),i=N(u,": "),a=N(u,l),u.forEach(c),this.h()},h(){k(e,"class","svelte-kxv90g")},m(o,u){b(o,e,u),m(e,t),m(t,r),m(e,i),m(e,a)},p(o,u){u&1&&n!==(n=o[0].name+"")&&le(r,n),u&1&&l!==(l=o[0].description+"")&&le(a,l)},d(o){o&&c(e)}}}function qs(s){let e,t=s[0]&&Qn(s);return{c(){t&&t.c(),e=re()},l(n){t&&t.l(n),e=re()},m(n,r){t&&t.m(n,r),b(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=Qn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(n){t&&t.d(n),n&&c(e)}}}function Vs(s,e,t){let n,{pokemon:r}=e,{species:i}=e;return s.$$set=l=>{"pokemon"in l&&t(1,r=l.pokemon),"species"in l&&t(2,i=l.species)},s.$$.update=()=>{s.$$.dirty&6&&t(0,n=i.abilities.find(l=>l.id===r.ability))},[n,r,i]}class Js extends ae{constructor(e){super(),ue(this,e,Vs,qs,fe,{pokemon:1,species:2})}}function xn(s,e,t){const n=s.slice();return n[1]=e[t],n}function er(s){let e,t=s[1]+"",n;return{c(){e=w("p"),n=D(t),this.h()},l(r){e=E(r,"P",{class:!0});var i=P(e);n=N(i,t),i.forEach(c),this.h()},h(){k(e,"class","no-space-last svelte-hsmlpp")},m(r,i){b(r,e,i),m(e,n)},p(r,i){i&1&&t!==(t=r[1]+"")&&le(n,t)},d(r){r&&c(e)}}}function tr(s){let e,t=s[1].length>0&&er(s);return{c(){t&&t.c(),e=re()},l(n){t&&t.l(n),e=re()},m(n,r){t&&t.m(n,r),b(n,e,r)},p(n,r){n[1].length>0?t?t.p(n,r):(t=er(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&c(e)}}}function Ys(s){let e,t,n,r,i=s[0].notes.split(`
`),l=[];for(let a=0;a<i.length;a+=1)l[a]=tr(xn(s,i,a));return{c(){e=w("h2"),t=D("General Notes"),n=j(),r=w("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=E(a,"H2",{});var o=P(e);t=N(o,"General Notes"),o.forEach(c),n=C(a),r=E(a,"DIV",{class:!0});var u=P(r);for(let f=0;f<l.length;f+=1)l[f].l(u);u.forEach(c),this.h()},h(){k(r,"class","font-sm svelte-hsmlpp")},m(a,o){b(a,e,o),m(e,t),b(a,n,o),b(a,r,o);for(let u=0;u<l.length;u+=1)l[u].m(r,null)},p(a,[o]){if(o&1){i=a[0].notes.split(`
`);let u;for(u=0;u<i.length;u+=1){const f=xn(a,i,u);l[u]?l[u].p(f,o):(l[u]=tr(f),l[u].c(),l[u].m(r,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length}},i:ne,o:ne,d(a){a&&c(e),a&&c(n),a&&c(r),De(l,a)}}}function Ws(s,e,t){let{pokemon:n}=e;return s.$$set=r=>{"pokemon"in r&&t(0,n=r.pokemon)},[n]}class Xs extends ae{constructor(e){super(),ue(this,e,Ws,Ys,fe,{pokemon:0})}}function nr(s){let e,t,n;return t=new ci({props:{media:s[1].media,alt:""}}),{c(){e=w("div"),B(t.$$.fragment),this.h()},l(r){e=E(r,"DIV",{class:!0});var i=P(e);F(t.$$.fragment,i),i.forEach(c),this.h()},h(){k(e,"class","square-image svelte-16h5b9"),ve(e,"--size","clamp(8rem, 12.66vw, 9.5rem)")},m(r,i){b(r,e,i),M(t,e,null),n=!0},p(r,i){const l={};i&2&&(l.media=r[1].media),t.$set(l)},i(r){n||(T(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){r&&c(e),K(t)}}}function Zs(s){let e,t;return e=new Li({props:{type:s[0].type}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.type=n[0].type),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function rr(s){let e,t,n,r,i;return r=new Xs({props:{pokemon:s[0]}}),{c(){e=w("hr"),t=j(),n=w("section"),B(r.$$.fragment),this.h()},l(l){e=E(l,"HR",{}),t=C(l),n=E(l,"SECTION",{class:!0});var a=P(n);F(r.$$.fragment,a),a.forEach(c),this.h()},h(){k(n,"class","svelte-16h5b9")},m(l,a){b(l,e,a),b(l,t,a),b(l,n,a),M(r,n,null),i=!0},p(l,a){const o={};a&1&&(o.pokemon=l[0]),r.$set(o)},i(l){i||(T(r.$$.fragment,l),i=!0)},o(l){I(r.$$.fragment,l),i=!1},d(l){l&&c(e),l&&c(t),l&&c(n),K(r)}}}function Qs(s){var G;let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y,L,X,q,z,te;r=new cs({props:{pokemon:s[0],species:s[1]}}),l=new Ts({props:{pokemon:s[0],species:s[1],editable:s[2]}}),l.$on("update",s[4]),o=new As({props:{pokemon:s[0],species:s[1]}});let W=s[3]&&nr(s);d=new Ci({props:{attributes:s[0].attributes}}),p=new Rs({props:{pokemon:s[0]}}),g=new Vt({props:{$$slots:{default:[Zs]},$$scope:{ctx:s}}}),S=new Js({props:{pokemon:s[0],species:s[1]}}),X=new Gs({props:{pokemon:s[0],editable:s[2]}}),X.$on("update",s[5]);let Z=((G=s[0].notes)==null?void 0:G.length)>0&&rr(s);return{c(){e=w("section"),t=w("div"),n=w("div"),B(r.$$.fragment),i=j(),B(l.$$.fragment),a=j(),B(o.$$.fragment),u=j(),W&&W.c(),f=j(),h=w("section"),B(d.$$.fragment),_=j(),B(p.$$.fragment),$=j(),B(g.$$.fragment),y=j(),B(S.$$.fragment),A=j(),U=w("hr"),Y=j(),L=w("section"),B(X.$$.fragment),q=j(),Z&&Z.c(),z=re(),this.h()},l(v){e=E(v,"SECTION",{class:!0});var O=P(e);t=E(O,"DIV",{});var H=P(t);n=E(H,"DIV",{});var Q=P(n);F(r.$$.fragment,Q),i=C(Q),F(l.$$.fragment,Q),Q.forEach(c),a=C(H),F(o.$$.fragment,H),H.forEach(c),u=C(O),W&&W.l(O),O.forEach(c),f=C(v),h=E(v,"SECTION",{class:!0});var V=P(h);F(d.$$.fragment,V),_=C(V),F(p.$$.fragment,V),$=C(V),F(g.$$.fragment,V),y=C(V),F(S.$$.fragment,V),V.forEach(c),A=C(v),U=E(v,"HR",{}),Y=C(v),L=E(v,"SECTION",{class:!0});var R=P(L);F(X.$$.fragment,R),R.forEach(c),q=C(v),Z&&Z.l(v),z=re(),this.h()},h(){ve(n,"margin-bottom","0.5em"),ve(t,"flex","1"),ve(t,"width","100%"),k(e,"class","info column lg:row svelte-16h5b9"),k(h,"class","stats svelte-16h5b9"),k(L,"class","svelte-16h5b9")},m(v,O){b(v,e,O),m(e,t),m(t,n),M(r,n,null),m(n,i),M(l,n,null),m(t,a),M(o,t,null),m(e,u),W&&W.m(e,null),b(v,f,O),b(v,h,O),M(d,h,null),m(h,_),M(p,h,null),m(h,$),M(g,h,null),m(h,y),M(S,h,null),b(v,A,O),b(v,U,O),b(v,Y,O),b(v,L,O),M(X,L,null),b(v,q,O),Z&&Z.m(v,O),b(v,z,O),te=!0},p(v,[O]){var se;const H={};O&1&&(H.pokemon=v[0]),O&2&&(H.species=v[1]),r.$set(H);const Q={};O&1&&(Q.pokemon=v[0]),O&2&&(Q.species=v[1]),O&4&&(Q.editable=v[2]),l.$set(Q);const V={};O&1&&(V.pokemon=v[0]),O&2&&(V.species=v[1]),o.$set(V),v[3]?W?(W.p(v,O),O&8&&T(W,1)):(W=nr(v),W.c(),T(W,1),W.m(e,null)):W&&(_e(),I(W,1,1,()=>{W=null}),me());const R={};O&1&&(R.attributes=v[0].attributes),d.$set(R);const x={};O&1&&(x.pokemon=v[0]),p.$set(x);const ee={};O&129&&(ee.$$scope={dirty:O,ctx:v}),g.$set(ee);const ie={};O&1&&(ie.pokemon=v[0]),O&2&&(ie.species=v[1]),S.$set(ie);const J={};O&1&&(J.pokemon=v[0]),O&4&&(J.editable=v[2]),X.$set(J),((se=v[0].notes)==null?void 0:se.length)>0?Z?(Z.p(v,O),O&1&&T(Z,1)):(Z=rr(v),Z.c(),T(Z,1),Z.m(z.parentNode,z)):Z&&(_e(),I(Z,1,1,()=>{Z=null}),me())},i(v){te||(T(r.$$.fragment,v),T(l.$$.fragment,v),T(o.$$.fragment,v),T(W),T(d.$$.fragment,v),T(p.$$.fragment,v),T(g.$$.fragment,v),T(S.$$.fragment,v),T(X.$$.fragment,v),T(Z),te=!0)},o(v){I(r.$$.fragment,v),I(l.$$.fragment,v),I(o.$$.fragment,v),I(W),I(d.$$.fragment,v),I(p.$$.fragment,v),I(g.$$.fragment,v),I(S.$$.fragment,v),I(X.$$.fragment,v),I(Z),te=!1},d(v){v&&c(e),K(r),K(l),K(o),W&&W.d(),v&&c(f),v&&c(h),K(d),K(p),K(g),K(S),v&&c(A),v&&c(U),v&&c(Y),v&&c(L),K(X),v&&c(q),Z&&Z.d(v),v&&c(z)}}}function xs(s,e,t){let n;const r=at();let{pokemon:i}=e,{species:l}=e,{editable:a}=e;const o=f=>{r("update-health",{...i,hp:{current:f.detail.currentHp,max:i.hp.max},hitDice:{current:f.detail.currentHitDice,max:i.hitDice.max}})},u=f=>{r("update-pp",f.detail)};return s.$$set=f=>{"pokemon"in f&&t(0,i=f.pokemon),"species"in f&&t(1,l=f.species),"editable"in f&&t(2,a=f.editable)},s.$$.update=()=>{s.$$.dirty&2&&t(3,n=l.media!=null)},[i,l,a,n,o,u]}class el extends ae{constructor(e){super(),ue(this,e,xs,Qs,fe,{pokemon:0,species:1,editable:2})}}function tl(s){let e,t,n,r,i,l,a,o,u,f=s[0].name+"",h,d,_,p,$,g,y,S,A=s[0].name+"",U,Y,L;return $=new Ii({}),{c(){e=w("div"),t=w("h1"),n=D("Cannot find pokemon"),r=j(),i=w("p"),l=D("No pokemon with id "),a=w("strong"),o=D(s[1]),u=D(" belongs to "),h=D(f),d=D("."),_=j(),p=w("p"),B($.$$.fragment),g=j(),y=w("p"),S=D("Select one of "),U=D(A),Y=D("'s pokemon to view its details."),this.h()},l(X){e=E(X,"DIV",{class:!0});var q=P(e);t=E(q,"H1",{class:!0});var z=P(t);n=N(z,"Cannot find pokemon"),z.forEach(c),r=C(q),i=E(q,"P",{});var te=P(i);l=N(te,"No pokemon with id "),a=E(te,"STRONG",{});var W=P(a);o=N(W,s[1]),W.forEach(c),u=N(te," belongs to "),h=N(te,f),d=N(te,"."),te.forEach(c),_=C(q),p=E(q,"P",{class:!0});var Z=P(p);F($.$$.fragment,Z),Z.forEach(c),g=C(q),y=E(q,"P",{});var G=P(y);S=N(G,"Select one of "),U=N(G,A),Y=N(G,"'s pokemon to view its details."),G.forEach(c),q.forEach(c),this.h()},h(){k(t,"class","large-font space-bottom svelte-lz8alb"),k(p,"class","missingno svelte-lz8alb"),k(e,"class","centered padded svelte-lz8alb")},m(X,q){b(X,e,q),m(e,t),m(t,n),m(e,r),m(e,i),m(i,l),m(i,a),m(a,o),m(i,u),m(i,h),m(i,d),m(e,_),m(e,p),M($,p,null),m(e,g),m(e,y),m(y,S),m(y,U),m(y,Y),L=!0},p(X,[q]){(!L||q&2)&&le(o,X[1]),(!L||q&1)&&f!==(f=X[0].name+"")&&le(h,f),(!L||q&1)&&A!==(A=X[0].name+"")&&le(U,A)},i(X){L||(T($.$$.fragment,X),L=!0)},o(X){I($.$$.fragment,X),L=!1},d(X){X&&c(e),K($)}}}function nl(s,e,t){let{trainer:n}=e,{pokemonId:r}=e;return s.$$set=i=>{"trainer"in i&&t(0,n=i.trainer),"pokemonId"in i&&t(1,r=i.pokemonId)},[n,r]}class rl extends ae{constructor(e){super(),ue(this,e,nl,tl,fe,{trainer:0,pokemonId:1})}}function il(s){let e,t,n,r;return e=new Ve({props:{value:"Cannot find pokemon"}}),n=new rl({props:{trainer:s[0].info,pokemonId:s[1]}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,l){const a={};l&1&&(a.trainer=i[0].info),l&2&&(a.pokemonId=i[1]),n.$set(a)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function sl(s){let e,t,n;e=new Ve({props:{value:(s[2]?`${s[2]} `:"")+s[3].nickname}});const r=s[5].default,i=rt(r,s,s[4],null);return{c(){B(e.$$.fragment),t=j(),i&&i.c()},l(l){F(e.$$.fragment,l),t=C(l),i&&i.l(l)},m(l,a){M(e,l,a),b(l,t,a),i&&i.m(l,a),n=!0},p(l,a){const o={};a&12&&(o.value=(l[2]?`${l[2]} `:"")+l[3].nickname),e.$set(o),i&&i.p&&(!n||a&16)&&it(i,r,l,l[4],n?lt(r,l[4],a,null):st(l[4]),null)},i(l){n||(T(e.$$.fragment,l),T(i,l),n=!0)},o(l){I(e.$$.fragment,l),I(i,l),n=!1},d(l){K(e,l),l&&c(t),i&&i.d(l)}}}function ll(s){let e,t,n,r;const i=[sl,il],l=[];function a(o,u){return o[3]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,[u]){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function ol(s,e,t){let n,{$$slots:r={},$$scope:i}=e,{trainer:l}=e,{id:a}=e,{titlePrefix:o=void 0}=e;return s.$$set=u=>{"trainer"in u&&t(0,l=u.trainer),"id"in u&&t(1,a=u.id),"titlePrefix"in u&&t(2,o=u.titlePrefix),"$$scope"in u&&t(4,i=u.$$scope)},s.$$.update=()=>{s.$$.dirty&3&&t(3,n=l.pokemon.find(u=>u.id===a))},[l,a,o,n,i,r]}class Yt extends ae{constructor(e){super(),ue(this,e,ol,ll,fe,{trainer:0,id:1,titlePrefix:2})}}function al(s){let e,t;return e=new ut({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ul(s){let e,t;return e=new Je({props:{title:s[2].nickname,$$slots:{"header-extra":[_l],default:[pl]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.title=n[2].nickname),r&572&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ir(s){let e,t;return e=new Re({props:{$$slots:{default:[dl]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&540&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function fl(s){let e;return{c(){e=D("Remove")},l(t){e=N(t,"Remove")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function sr(s){let e,t;return e=new ge({props:{href:pe.trainers(s[3].info.readKey,s[2].id,Ie.evolvePokemon),variant:"ghost",$$slots:{default:[cl]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&12&&(i.href=pe.trainers(n[3].info.readKey,n[2].id,Ie.evolvePokemon)),r&512&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function cl(s){let e;return{c(){e=D("Evolve")},l(t){e=N(t,"Evolve")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function hl(s){let e;return{c(){e=D("Edit")},l(t){e=N(t,"Edit")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function dl(s){var a,o;let e,t,n,r,i;e=new ge({props:{href:pe.trainers(s[3].info.readKey,s[2].id,Ie.removePokemon),variant:"ghost",$$slots:{default:[fl]},$$scope:{ctx:s}}});let l=((o=(a=s[4].evolution)==null?void 0:a.to)==null?void 0:o.length)>0&&sr(s);return r=new ge({props:{href:pe.trainers(s[3].info.readKey,s[2].id,Ie.editPokemon),$$slots:{default:[hl]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),l&&l.c(),n=j(),B(r.$$.fragment)},l(u){F(e.$$.fragment,u),t=C(u),l&&l.l(u),n=C(u),F(r.$$.fragment,u)},m(u,f){M(e,u,f),b(u,t,f),l&&l.m(u,f),b(u,n,f),M(r,u,f),i=!0},p(u,f){var _,p;const h={};f&12&&(h.href=pe.trainers(u[3].info.readKey,u[2].id,Ie.removePokemon)),f&512&&(h.$$scope={dirty:f,ctx:u}),e.$set(h),((p=(_=u[4].evolution)==null?void 0:_.to)==null?void 0:p.length)>0?l?(l.p(u,f),f&16&&T(l,1)):(l=sr(u),l.c(),T(l,1),l.m(n.parentNode,n)):l&&(_e(),I(l,1,1,()=>{l=null}),me());const d={};f&12&&(d.href=pe.trainers(u[3].info.readKey,u[2].id,Ie.editPokemon)),f&512&&(d.$$scope={dirty:f,ctx:u}),r.$set(d)},i(u){i||(T(e.$$.fragment,u),T(l),T(r.$$.fragment,u),i=!0)},o(u){I(e.$$.fragment,u),I(l),I(r.$$.fragment,u),i=!1},d(u){K(e,u),u&&c(t),l&&l.d(u),u&&c(n),K(r,u)}}}function pl(s){let e,t,n,r;e=new el({props:{pokemon:s[2],species:s[4],editable:s[5]}}),e.$on("update-health",s[6]),e.$on("update-pp",s[7]);let i=s[5]&&ir(s);return{c(){B(e.$$.fragment),t=j(),i&&i.c(),n=re()},l(l){F(e.$$.fragment,l),t=C(l),i&&i.l(l),n=re()},m(l,a){M(e,l,a),b(l,t,a),i&&i.m(l,a),b(l,n,a),r=!0},p(l,a){const o={};a&4&&(o.pokemon=l[2]),a&16&&(o.species=l[4]),a&32&&(o.editable=l[5]),e.$set(o),l[5]?i?(i.p(l,a),a&32&&T(i,1)):(i=ir(l),i.c(),T(i,1),i.m(n.parentNode,n)):i&&(_e(),I(i,1,1,()=>{i=null}),me())},i(l){r||(T(e.$$.fragment,l),T(i),r=!0)},o(l){I(e.$$.fragment,l),I(i),r=!1},d(l){K(e,l),l&&c(t),i&&i.d(l),l&&c(n)}}}function _l(s){let e,t;return e=new Ri({props:{slot:"header-extra",type:s[2].type}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.type=n[2].type),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ml(s){let e,t,n,r;const i=[ul,al],l=[];function a(o,u){return o[4]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function vl(s){let e,t;return e=new Yt({props:{trainer:s[3],id:s[1],$$slots:{default:[ml]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&8&&(i.trainer=n[3]),r&2&&(i.id=n[1]),r&572&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function $l(s,e,t){let n,r,i,l,a=ne,o=()=>(a(),a=qe(f,p=>t(3,l=p)),f),u;Ce(s,$t,p=>t(8,u=p)),s.$$.on_destroy.push(()=>a());let{trainer:f}=e;o();let{id:h}=e;const d=p=>{var $;($=l.update)==null||$.pokemon(p.detail,{optimistic:!0})},_=p=>{var $;($=l.update)==null||$.move(p.detail,{optimistic:!0})};return s.$$set=p=>{"trainer"in p&&o(t(0,f=p.trainer)),"id"in p&&t(1,h=p.id)},s.$$.update=()=>{s.$$.dirty&8&&t(5,n=l.update!=null),s.$$.dirty&10&&t(2,r=l.pokemon.find(p=>p.id===h)),s.$$.dirty&260&&t(4,i=u==null?void 0:u.find(p=>p.id===(r==null?void 0:r.pokemonId)))},[f,h,r,l,i,n,d,_,u]}class gl extends ae{constructor(e){super(),ue(this,e,$l,vl,fe,{trainer:0,id:1})}}function lr(s){let e,t;return{c(){e=w("img"),this.h()},l(n){e=E(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ft(e.src,t=s[2])||k(e,"src",t),k(e,"alt",s[1]),k(e,"class","svelte-15kmae1")},m(n,r){b(n,e,r)},p(n,r){r&4&&!Ft(e.src,t=n[2])&&k(e,"src",t),r&2&&k(e,"alt",n[1])},d(n){n&&c(e)}}}function bl(s){var n;let e,t=((n=s[0])==null?void 0:n.sprite)&&lr(s);return{c(){t&&t.c(),e=re()},l(r){t&&t.l(r),e=re()},m(r,i){t&&t.m(r,i),b(r,e,i)},p(r,[i]){var l;(l=r[0])!=null&&l.sprite?t?t.p(r,i):(t=lr(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(r){t&&t.d(r),r&&c(e)}}}function kl(s,e,t){let n,r,{media:i}=e,{alt:l}=e;return s.$$set=a=>{"media"in a&&t(0,i=a.media),"alt"in a&&t(1,l=a.alt)},s.$$.update=()=>{s.$$.dirty&1&&t(3,n=/^http/.test(i==null?void 0:i.sprite)),s.$$.dirty&9&&t(2,r=n?i==null?void 0:i.sprite:`${ji}${i==null?void 0:i.sprite}`)},[i,l,r,n]}class yl extends ae{constructor(e){super(),ue(this,e,kl,bl,fe,{media:0,alt:1})}}function wl(s){var Z,G;let e,t,n,r,i,l=s[1].nickname+"",a,o,u,f,h,d,_,p,$,g=s[1].hp.current+"",y,S,A=s[1].hp.max+"",U,Y,L,X,q=s[1].level+"",z,te,W;return n=new yl({props:{media:(Z=s[2])==null?void 0:Z.media,alt:(G=s[2])==null?void 0:G.name}}),f=new hi({props:{gender:s[1].gender}}),_=new ln({props:{current:s[1].hp.current,max:s[1].hp.max}}),{c(){e=w("a"),t=w("span"),B(n.$$.fragment),r=j(),i=w("span"),a=D(l),o=j(),u=w("span"),B(f.$$.fragment),h=j(),d=w("span"),B(_.$$.fragment),p=j(),$=w("span"),y=D(g),S=D("/"),U=D(A),Y=j(),L=w("span"),X=D("Lv. "),z=D(q),this.h()},l(v){e=E(v,"A",{href:!0,class:!0});var O=P(e);t=E(O,"SPAN",{class:!0});var H=P(t);F(n.$$.fragment,H),H.forEach(c),r=C(O),i=E(O,"SPAN",{});var Q=P(i);a=N(Q,l),Q.forEach(c),o=C(O),u=E(O,"SPAN",{class:!0});var V=P(u);F(f.$$.fragment,V),V.forEach(c),h=C(O),d=E(O,"SPAN",{class:!0});var R=P(d);F(_.$$.fragment,R),R.forEach(c),p=C(O),$=E(O,"SPAN",{});var x=P($);y=N(x,g),S=N(x,"/"),U=N(x,A),x.forEach(c),Y=C(O),L=E(O,"SPAN",{class:!0});var ee=P(L);X=N(ee,"Lv. "),z=N(ee,q),ee.forEach(c),O.forEach(c),this.h()},h(){k(t,"class","max-height svelte-19sye7i"),ve(t,"grid-area","sprite"),ve(i,"grid-area","name"),k(u,"class","right away-from-edge flex svelte-19sye7i"),ve(u,"grid-area","gender"),k(d,"class","away-from-edge svelte-19sye7i"),ve(d,"grid-area","hpbar"),ve($,"grid-area","hp"),k(L,"class","right svelte-19sye7i"),ve(L,"grid-area","lv"),k(e,"href",te=pe.trainers(s[0],s[1].id)),k(e,"class","selectable-bubble gridded svelte-19sye7i")},m(v,O){b(v,e,O),m(e,t),M(n,t,null),m(e,r),m(e,i),m(i,a),m(e,o),m(e,u),M(f,u,null),m(e,h),m(e,d),M(_,d,null),m(e,p),m(e,$),m($,y),m($,S),m($,U),m(e,Y),m(e,L),m(L,X),m(L,z),W=!0},p(v,[O]){var R,x;const H={};O&4&&(H.media=(R=v[2])==null?void 0:R.media),O&4&&(H.alt=(x=v[2])==null?void 0:x.name),n.$set(H),(!W||O&2)&&l!==(l=v[1].nickname+"")&&le(a,l);const Q={};O&2&&(Q.gender=v[1].gender),f.$set(Q);const V={};O&2&&(V.current=v[1].hp.current),O&2&&(V.max=v[1].hp.max),_.$set(V),(!W||O&2)&&g!==(g=v[1].hp.current+"")&&le(y,g),(!W||O&2)&&A!==(A=v[1].hp.max+"")&&le(U,A),(!W||O&2)&&q!==(q=v[1].level+"")&&le(z,q),(!W||O&3&&te!==(te=pe.trainers(v[0],v[1].id)))&&k(e,"href",te)},i(v){W||(T(n.$$.fragment,v),T(f.$$.fragment,v),T(_.$$.fragment,v),W=!0)},o(v){I(n.$$.fragment,v),I(f.$$.fragment,v),I(_.$$.fragment,v),W=!1},d(v){v&&c(e),K(n),K(f),K(_)}}}function El(s,e,t){let n,r;Ce(s,$t,a=>t(3,r=a));let{trainer:i}=e,{pokemon:l}=e;return s.$$set=a=>{"trainer"in a&&t(0,i=a.trainer),"pokemon"in a&&t(1,l=a.pokemon)},s.$$.update=()=>{s.$$.dirty&10&&t(2,n=r==null?void 0:r.find(a=>a.id===l.pokemonId))},[i,l,n,r]}class Tl extends ae{constructor(e){super(),ue(this,e,El,wl,fe,{trainer:0,pokemon:1})}}const Pl=s=>({}),or=s=>({}),Sl=s=>({}),ar=s=>({});function Il(s){let e,t,n,r,i,l,a,o;const u=s[2].link,f=rt(u,s,s[1],ar),h=s[2].action,d=rt(h,s,s[1],or);return{c(){e=w("div"),t=w("p"),n=D(s[0]),r=j(),i=w("div"),l=w("p"),f&&f.c(),a=j(),d&&d.c(),this.h()},l(_){e=E(_,"DIV",{class:!0});var p=P(e);t=E(p,"P",{class:!0});var $=P(t);n=N($,s[0]),$.forEach(c),r=C(p),i=E(p,"DIV",{class:!0});var g=P(i);l=E(g,"P",{class:!0});var y=P(l);f&&f.l(y),y.forEach(c),a=C(g),d&&d.l(g),g.forEach(c),p.forEach(c),this.h()},h(){k(t,"class","large-font space-bottom svelte-7ukp8r"),k(l,"class","indent small-font no-space svelte-7ukp8r"),k(i,"class","flex-row space-between svelte-7ukp8r"),k(e,"class","flex-column space-bottom svelte-7ukp8r")},m(_,p){b(_,e,p),m(e,t),m(t,n),m(e,r),m(e,i),m(i,l),f&&f.m(l,null),m(i,a),d&&d.m(i,null),o=!0},p(_,[p]){(!o||p&1)&&le(n,_[0]),f&&f.p&&(!o||p&2)&&it(f,u,_,_[1],o?lt(u,_[1],p,Sl):st(_[1]),ar),d&&d.p&&(!o||p&2)&&it(d,h,_,_[1],o?lt(h,_[1],p,Pl):st(_[1]),or)},i(_){o||(T(f,_),T(d,_),o=!0)},o(_){I(f,_),I(d,_),o=!1},d(_){_&&c(e),f&&f.d(_),d&&d.d(_)}}}function Al(s,e,t){let{$$slots:n={},$$scope:r}=e,{title:i}=e;return s.$$set=l=>{"title"in l&&t(0,i=l.title),"$$scope"in l&&t(1,r=l.$$scope)},[i,r,n]}class pi extends ae{constructor(e){super(),ue(this,e,Al,Il,fe,{title:0})}}function ur(s,e,t){const n=s.slice();return n[10]=e[t],n}function Ol(s){let e,t;return{c(){e=w("a"),t=D("See Trainer List >"),this.h()},l(n){e=E(n,"A",{href:!0,class:!0});var r=P(e);t=N(r,"See Trainer List >"),r.forEach(c),this.h()},h(){k(e,"href",Pe+"/trainers"),k(e,"class","dark-font svelte-em5nzm")},m(n,r){b(n,e,r),m(e,t)},p:ne,d(n){n&&c(e)}}}function Dl(s){let e,t;return{c(){e=w("a"),t=D("View trainer profile >"),this.h()},l(n){e=E(n,"A",{href:!0,class:!0});var r=P(e);t=N(r,"View trainer profile >"),r.forEach(c),this.h()},h(){k(e,"href",s[4]),k(e,"class","dark-font svelte-em5nzm")},m(n,r){b(n,e,r),m(e,t)},p(n,r){r&16&&k(e,"href",n[4])},d(n){n&&c(e)}}}function Nl(s){let e;function t(i,l){return i[1]?Dl:Ol}let n=t(s),r=n(s);return{c(){e=w("span"),r.c(),this.h()},l(i){e=E(i,"SPAN",{slot:!0});var l=P(e);r.l(l),l.forEach(c),this.h()},h(){k(e,"slot","link")},m(i,l){b(i,e,l),r.m(e,null)},p(i,l){n===(n=t(i))&&r?r.p(i,l):(r.d(1),r=n(i),r&&(r.c(),r.m(e,null)))},d(i){i&&c(e),r.d()}}}function Rl(s){let e;return{c(){e=D("+ Add Pokemon")},l(t){e=N(t,"+ Add Pokemon")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function jl(s){let e,t,n;return t=new ge({props:{href:s[4]+"&action=add-pokemon",$$slots:{default:[Rl]},$$scope:{ctx:s}}}),{c(){e=w("span"),B(t.$$.fragment),this.h()},l(r){e=E(r,"SPAN",{slot:!0});var i=P(e);F(t.$$.fragment,i),i.forEach(c),this.h()},h(){k(e,"slot","action"),ve(e,"visibility",s[6]?"visible":"hidden"),ve(e,"display","flex")},m(r,i){b(r,e,i),M(t,e,null),n=!0},p(r,i){const l={};i&16&&(l.href=r[4]+"&action=add-pokemon"),i&8192&&(l.$$scope={dirty:i,ctx:r}),t.$set(l),i&64&&ve(e,"visibility",r[6]?"visible":"hidden")},i(r){n||(T(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){r&&c(e),K(t)}}}function fr(s,e){let t,n,r,i;return n=new Tl({props:{trainer:e[2].info.readKey,pokemon:e[10]}}),{key:s,first:null,c(){t=w("li"),B(n.$$.fragment),r=j(),this.h()},l(l){t=E(l,"LI",{class:!0});var a=P(t);F(n.$$.fragment,a),r=C(a),a.forEach(c),this.h()},h(){k(t,"class","space-after svelte-em5nzm"),this.first=t},m(l,a){b(l,t,a),M(n,t,null),m(t,r),i=!0},p(l,a){e=l;const o={};a&4&&(o.trainer=e[2].info.readKey),a&32&&(o.pokemon=e[10]),n.$set(o)},i(l){i||(T(n.$$.fragment,l),i=!0)},o(l){I(n.$$.fragment,l),i=!1},d(l){l&&c(t),K(n)}}}function Cl(s){let e,t,n,r,i,l,a,o,u,f=[],h=new Map,d;e=new pi({props:{title:s[2].info.name+"'s Pokemon",$$slots:{action:[jl],link:[Nl]},$$scope:{ctx:s}}});function _(y){s[7](y)}let p={id:"filter-pokemon",label:"Search",matched:s[5].length,max:s[2].pokemon.length};s[3]!==void 0&&(p.value=s[3]),r=new ui({props:p}),Et.push(()=>Tt(r,"value",_));let $=s[5];const g=y=>y[10].id;for(let y=0;y<$.length;y+=1){let S=ur(s,$,y),A=g(S);h.set(A,f[y]=fr(A,S))}return{c(){B(e.$$.fragment),t=j(),n=w("div"),B(r.$$.fragment),l=j(),a=w("div"),o=w("div"),u=w("ul");for(let y=0;y<f.length;y+=1)f[y].c();this.h()},l(y){F(e.$$.fragment,y),t=C(y),n=E(y,"DIV",{class:!0});var S=P(n);F(r.$$.fragment,S),S.forEach(c),l=C(y),a=E(y,"DIV",{class:!0});var A=P(a);o=E(A,"DIV",{class:!0});var U=P(o);u=E(U,"UL",{class:!0});var Y=P(u);for(let L=0;L<f.length;L+=1)f[L].l(Y);Y.forEach(c),U.forEach(c),A.forEach(c),this.h()},h(){k(n,"class","space-bottom svelte-em5nzm"),k(u,"class","nolist no-space partial-width svelte-em5nzm"),k(o,"class","scrollable svelte-em5nzm"),k(a,"class","relative svelte-em5nzm")},m(y,S){M(e,y,S),b(y,t,S),b(y,n,S),M(r,n,null),b(y,l,S),b(y,a,S),m(a,o),m(o,u);for(let A=0;A<f.length;A+=1)f[A].m(u,null);d=!0},p(y,[S]){const A={};S&4&&(A.title=y[2].info.name+"'s Pokemon"),S&8274&&(A.$$scope={dirty:S,ctx:y}),e.$set(A);const U={};S&32&&(U.matched=y[5].length),S&4&&(U.max=y[2].pokemon.length),!i&&S&8&&(i=!0,U.value=y[3],Pt(()=>i=!1)),r.$set(U),S&36&&($=y[5],_e(),f=oi(f,S,g,1,y,$,h,u,ai,fr,null,ur),me())},i(y){if(!d){T(e.$$.fragment,y),T(r.$$.fragment,y);for(let S=0;S<$.length;S+=1)T(f[S]);d=!0}},o(y){I(e.$$.fragment,y),I(r.$$.fragment,y);for(let S=0;S<f.length;S+=1)I(f[S]);d=!1},d(y){K(e,y),y&&c(t),y&&c(n),K(r),y&&c(l),y&&c(a);for(let S=0;S<f.length;S+=1)f[S].d()}}}function Ll(s,e,t){let n,r,i,l,a=ne,o=()=>(a(),a=qe(f,$=>t(2,l=$)),f),u;Ce(s,On,$=>t(3,u=$)),s.$$.on_destroy.push(()=>a());let{trainer:f}=e;o();let{currentPokemon:h}=e;const d=$=>(g,y)=>$(g).localeCompare($(y)),_=$=>g=>g.nickname.toLocaleLowerCase().includes($)||g.pokemonId.replace("-"," ").includes($);function p($){u=$,On.set(u)}return s.$$set=$=>{"trainer"in $&&o(t(0,f=$.trainer)),"currentPokemon"in $&&t(1,h=$.currentPokemon)},s.$$.update=()=>{s.$$.dirty&4&&t(6,n=l.update!=null),s.$$.dirty&12&&t(5,r=l.pokemon.filter(_(u.toLocaleLowerCase())).sort(d($=>$.nickname))),s.$$.dirty&4&&t(4,i=`${Pe}/trainers?id=${l.info.readKey}`)},[f,h,l,u,i,r,n,p]}class Ul extends ae{constructor(e){super(),ue(this,e,Ll,Cl,fe,{trainer:0,currentPokemon:1})}}var xe=(s=>(s.Male="male",s.Female="female",s.None="none",s.Other="other",s))(xe||{});const zt=["reckless","rash","brave","arrogant","skittish","hasty","energetic","clumsy","apathetic","stubborn","grumpy","relaxed","careful","curious","naughty","cheerful","sassy","innocent","hardy","nimble"],ht=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"],_i=s=>ht.includes(s);class Bl{constructor(e){Le(this,"allTrainers",async()=>Promise.all(mn().map(e=>this.supabase.rpc("get_trainer",{_read_key:e}).maybeSingle().then(({data:t,error:n})=>{if(n)throw new Se("Could not get trainer.",n);if(t)return dr(t)}))).then(e=>e.filter(t=>t!=null)));Le(this,"getTrainer",async e=>{const t=await this.supabase.rpc("get_trainer",{_read_key:e}).maybeSingle().then(({data:i,error:l})=>{if(l)throw new Se("Could not get trainer.",l);if(i)return dr(i)});if(!t)return;cr(e);const n=await this.supabase.rpc("get_pokemon",{_trainer_id:t.id}).select().then(({data:i,error:l})=>{if(l)throw new Se("Could not trainer's pokemon.",l);return i.map(a=>Hl(a))}).then(i=>Promise.all(i.map(l=>this.getMoveset(l.id).then(a=>({...l,moves:a}))))),r=Ml(e);return{info:t,pokemon:n,writeKey:r}});Le(this,"newTrainer",async e=>{const{data:t,error:n}=await this.supabase.rpc("new_trainer",{_name:e.name,_description:e.description}).single();if(n)throw new Se("Could not create trainer.",n);return cr(t.ret_read_key),hr(t.ret_read_key,t.ret_write_key),{info:{...e,id:t.ret_id,readKey:t.ret_read_key},pokemon:[],writeKey:t.ret_write_key}});Le(this,"updateTrainerInfo",async(e,t)=>{const{data:n,error:r}=await this.supabase.rpc("update_trainer",{_write_key:e,_name:t.name,_description:t.description}).single();if(r)throw new Se("Could not update trainer.",r);if(n<=0)throw new Se("Either this trainer does not exist or you do not have permission to edit them.");return n>0});Le(this,"removeTrainer",async(e,t,n)=>{const{data:r,error:i}=await this.supabase.rpc("delete_trainer",{_write_key:e,_id:t}).single();if(i)throw new Se("Could not delete trainer.",i);if(r<=0)throw new Se("Either this trainer does not exist or you do not have permission to edit them.");return Kl(n),Fl(n),r>0});Le(this,"updatePokemon",async(e,t)=>{const{data:n,error:r}=await this.supabase.rpc("update_pokemon",{_write_key:e,_id:parseInt(t.id),_species:t.pokemonId,_nickname:t.nickname,_type:t.type,_nature:t.nature,_level:t.level,_gender:t.gender,_strength:t.attributes.str,_dexterity:t.attributes.dex,_constitution:t.attributes.con,_intelligence:t.attributes.int,_wisdom:t.attributes.wis,_charisma:t.attributes.cha,_ac:t.ac,_hp_cur:t.hp.current,_hp_max:t.hp.max,_hit_dice_cur:t.hitDice.current,_hit_dice_max:t.hitDice.max,_prof_athletics:t.proficiencies.includes("athletics"),_prof_acrobatics:t.proficiencies.includes("acrobatics"),_prof_sleight_of_hand:t.proficiencies.includes("sleight of hand"),_prof_stealth:t.proficiencies.includes("stealth"),_prof_arcana:t.proficiencies.includes("arcana"),_prof_history:t.proficiencies.includes("history"),_prof_investigation:t.proficiencies.includes("investigation"),_prof_nature:t.proficiencies.includes("nature"),_prof_religion:t.proficiencies.includes("religion"),_prof_animal_handling:t.proficiencies.includes("animal handling"),_prof_insight:t.proficiencies.includes("insight"),_prof_medicine:t.proficiencies.includes("medicine"),_prof_perception:t.proficiencies.includes("perception"),_prof_survival:t.proficiencies.includes("survival"),_prof_deception:t.proficiencies.includes("deception"),_prof_intimidation:t.proficiencies.includes("intimidation"),_prof_performance:t.proficiencies.includes("performance"),_prof_persuasion:t.proficiencies.includes("persuasion"),_save_str:t.savingThrows.includes("str"),_save_dex:t.savingThrows.includes("dex"),_save_con:t.savingThrows.includes("con"),_save_int:t.savingThrows.includes("int"),_save_wis:t.savingThrows.includes("wis"),_save_cha:t.savingThrows.includes("cha"),_ability:t.ability,_notes:t.notes}).single();if(r)throw new Se("Could not update pokemon.",r);if(n<=0)throw new Se("Either this pokemon does not exist or you do not have permission to edit them.");return n>0});Le(this,"addPokemonToTeam",async(e,t,n)=>{var a,o;const r={trainerId:t,pokemonId:n.id,nickname:n.name,type:n.type,nature:zt[0],level:n.minLevel,gender:xe.None,attributes:n.attributes,ac:n.ac,ability:(a=n.abilities[0])==null?void 0:a.id,hp:{current:n.hp,max:n.hp},hitDice:{current:n.minLevel,max:n.minLevel},proficiencies:n.skills,savingThrows:n.savingThrows,moves:[],notes:""},{data:i,error:l}=await this.supabase.rpc("add_pokemon",{_write_key:e,_nickname:n.name,_species:n.id,_nature:zt[0],_type:n.type,_level:n.minLevel,_gender:xe.None,_strength:n.attributes.str,_dexterity:n.attributes.dex,_constitution:n.attributes.con,_intelligence:n.attributes.int,_wisdom:n.attributes.wis,_charisma:n.attributes.cha,_ac:n.ac,_hp_cur:n.hp,_hp_max:n.hp,_hit_dice_cur:n.minLevel,_hit_dice_max:n.minLevel,_prof_athletics:n.skills.includes("athletics"),_prof_acrobatics:n.skills.includes("acrobatics"),_prof_sleight_of_hand:n.skills.includes("sleight of hand"),_prof_stealth:n.skills.includes("stealth"),_prof_arcana:n.skills.includes("arcana"),_prof_history:n.skills.includes("history"),_prof_investigation:n.skills.includes("investigation"),_prof_nature:n.skills.includes("nature"),_prof_religion:n.skills.includes("religion"),_prof_animal_handling:n.skills.includes("animal handling"),_prof_insight:n.skills.includes("insight"),_prof_medicine:n.skills.includes("medicine"),_prof_perception:n.skills.includes("perception"),_prof_survival:n.skills.includes("survival"),_prof_deception:n.skills.includes("deception"),_prof_intimidation:n.skills.includes("intimidation"),_prof_performance:n.skills.includes("performance"),_prof_persuasion:n.skills.includes("persuasion"),_save_str:n.savingThrows.includes("str"),_save_dex:n.savingThrows.includes("dex"),_save_con:n.savingThrows.includes("con"),_save_int:n.savingThrows.includes("int"),_save_wis:n.savingThrows.includes("wis"),_save_cha:n.savingThrows.includes("cha"),_ability:(o=n.abilities[0])==null?void 0:o.id,_notes:""}).single();if(l)throw new Se("Could not add pokemon.",l);return{...r,id:i.toString()}});Le(this,"removePokemon",async(e,t)=>{const{data:n,error:r}=await this.supabase.rpc("remove_pokemon",{_write_key:e,_id:t}).single();if(r)throw new Se("Could not remove pokemon.",r);return n>0});Le(this,"updateMoveset",async(e,t,n)=>{const r=await this.getMoveset(t),i=n.map(o=>o.id),l=r.map(o=>o.id),a=l.filter(o=>!i.includes(o));return await Promise.all(a.map(o=>this.supabase.rpc("remove_move",{_write_key:e,_id:o}).single().then(({data:u,error:f})=>{if(f)throw new Se("Could not delete move.",f);if(u<=0)throw new Se("Either this pokemon does not exist or you do not have permission to edit them.");return u>0}))),await Promise.all(n.map(o=>l.includes(o.id)?this.supabase.rpc("update_move",{_write_key:e,_id:o.id,_move_id:o.moveId,_pp_cur:o.pp.current,_pp_max:o.pp.max,_notes:o.notes}).single().then(({data:u,error:f})=>{if(f)throw new Se("Could not update move.",f);if(u<=0)throw new Se("Either this pokemon does not exist or you do not have permission to edit them.");return{...o}}):this.supabase.rpc("add_move",{_write_key:e,_pokemon_id:t,_move_id:o.moveId,_pp_cur:o.pp.current,_pp_max:o.pp.max,_notes:o.notes}).single().then(({data:u,error:f})=>{if(f)throw new Se("Could not add move.",f);return{...o,id:u}})))});Le(this,"updateOneMove",async(e,t)=>{const{data:n,error:r}=await this.supabase.rpc("update_move",{_write_key:e,_id:t.id,_move_id:t.moveId,_pp_cur:t.pp.current,_pp_max:t.pp.max,_notes:t.notes}).single();if(r)throw new Se("Could not update pokemon.",r);if(n<=0)throw new Se("Either this pokemon does not exist or you do not have permission to edit them.");return n>0});Le(this,"verifyWriteKey",async(e,t)=>{const{data:n,error:r}=await this.supabase.rpc("verify_write_key",{_id:e.id,_write_key:t}).single();if(r)throw new Se("Could not verify trainer.",r);return n>0&&hr(e.readKey,t),n>0});Le(this,"getMoveset",async e=>{const{data:t,error:n}=await this.supabase.rpc("get_moveset",{_pokemon_id:e}).select();if(n)throw new Se("Could not get moveset.",n);return(t==null?void 0:t.map(r=>zl(r)))??[]});this.supabase=e}}const mn=()=>(localStorage.getItem("trainers")??"").split(","),cr=s=>{const e=mn(),t=[...new Set(e.concat(s))];localStorage.setItem("trainers",t.join(","))},Fl=s=>{const t=mn().filter(n=>n!==s);localStorage.setItem("trainers",t.join(","))},Ml=s=>localStorage.getItem(`write:${s}`),hr=(s,e)=>{localStorage.setItem(`write:${s}`,e)},Kl=s=>{localStorage.removeItem(`write:${s}`)},dr=s=>({id:s.id,readKey:s.read_key,name:s.name,description:s.description}),pr=s=>Object.entries(s).filter(([,e])=>e).map(([e])=>e),Hl=s=>({id:s.id.toString(),trainerId:s.trainer_id,pokemonId:s.species,nickname:s.nickname,type:s.type.filter(_i),nature:s.nature,level:s.level,gender:s.gender,attributes:{str:s.strength,dex:s.dexterity,con:s.constitution,int:s.intelligence,wis:s.wisdom,cha:s.charisma},ac:s.ac,hp:{current:s.hp_cur,max:s.hp_max},hitDice:{current:s.hit_dice_cur,max:s.hit_dice_max},ability:s.ability,proficiencies:pr({athletics:s.prof_athletics,acrobatics:s.prof_acrobatics,"sleight of hand":s.prof_sleight_of_hand,stealth:s.prof_stealth,arcana:s.prof_arcana,history:s.prof_history,investigation:s.prof_investigation,nature:s.prof_nature,religion:s.prof_religion,"animal handling":s.prof_animal_handling,insight:s.prof_insight,medicine:s.prof_medicine,perception:s.prof_perception,survival:s.prof_survival,deception:s.prof_deception,intimidation:s.prof_intimidation,performance:s.prof_performance,persuasion:s.prof_persuasion}),savingThrows:pr({str:s.save_str,dex:s.save_dex,con:s.save_con,int:s.save_int,wis:s.save_wis,cha:s.save_cha}),moves:[],notes:s.notes}),zl=s=>({id:s.id.toString(),moveId:s.move_id,pp:{current:s.pp_cur,max:s.pp_max},notes:s.notes}),Gl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvZ25jYmpqZm1udmJmcmpkeG1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Njk1ODY2MzEsImV4cCI6MTk4NTE2MjYzMX0.RXw9pfN-4qOR2AbqPoM6GMzjDGRwYnClF9LEiI2VE5k",ql="https://logncbjjfmnvbfrjdxmg.supabase.co";var Vl=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};const Jl=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Vl(void 0,void 0,void 0,function*(){return yield(yield Jt(()=>Promise.resolve().then(()=>Wt),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)};class vn extends Error{constructor(e,t="FunctionsError",n){super(e),super.name=t,this.context=n}}class Yl extends vn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wl extends vn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xl extends vn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zl=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};class Ql{constructor(e,{headers:t={},customFetch:n}={}){this.url=e,this.headers=t,this.fetch=Jl(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Zl(this,void 0,void 0,function*(){try{const{headers:r,body:i}=t;let l={},a;i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",a=i):typeof i=="string"?(l["Content-Type"]="text/plain",a=i):typeof FormData<"u"&&i instanceof FormData?a=i:(l["Content-Type"]="application/json",a=JSON.stringify(i)));const o=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:a}).catch(d=>{throw new Yl(d)}),u=o.headers.get("x-relay-error");if(u&&u==="true")throw new Wl(o);if(!o.ok)throw new Xl(o);let f=((n=o.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield o.json():f==="application/octet-stream"?h=yield o.blob():f==="multipart/form-data"?h=yield o.formData():h=yield o.text(),{data:h,error:null}}catch(r){return{data:null,error:r}}})}}var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eo(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var It={},to={get exports(){return It},set exports(s){It=s}};(function(s,e){var t=typeof self<"u"?self:xl,n=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(l){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function o(v){return v&&DataView.prototype.isPrototypeOf(v)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function h(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function d(v){return typeof v!="string"&&(v=String(v)),v}function _(v){var O={next:function(){var H=v.shift();return{done:H===void 0,value:H}}};return a.iterable&&(O[Symbol.iterator]=function(){return O}),O}function p(v){this.map={},v instanceof p?v.forEach(function(O,H){this.append(H,O)},this):Array.isArray(v)?v.forEach(function(O){this.append(O[0],O[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(O){this.append(O,v[O])},this)}p.prototype.append=function(v,O){v=h(v),O=d(O);var H=this.map[v];this.map[v]=H?H+", "+O:O},p.prototype.delete=function(v){delete this.map[h(v)]},p.prototype.get=function(v){return v=h(v),this.has(v)?this.map[v]:null},p.prototype.has=function(v){return this.map.hasOwnProperty(h(v))},p.prototype.set=function(v,O){this.map[h(v)]=d(O)},p.prototype.forEach=function(v,O){for(var H in this.map)this.map.hasOwnProperty(H)&&v.call(O,this.map[H],H,this)},p.prototype.keys=function(){var v=[];return this.forEach(function(O,H){v.push(H)}),_(v)},p.prototype.values=function(){var v=[];return this.forEach(function(O){v.push(O)}),_(v)},p.prototype.entries=function(){var v=[];return this.forEach(function(O,H){v.push([H,O])}),_(v)},a.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function $(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function g(v){return new Promise(function(O,H){v.onload=function(){O(v.result)},v.onerror=function(){H(v.error)}})}function y(v){var O=new FileReader,H=g(O);return O.readAsArrayBuffer(v),H}function S(v){var O=new FileReader,H=g(O);return O.readAsText(v),H}function A(v){for(var O=new Uint8Array(v),H=new Array(O.length),Q=0;Q<O.length;Q++)H[Q]=String.fromCharCode(O[Q]);return H.join("")}function U(v){if(v.slice)return v.slice(0);var O=new Uint8Array(v.byteLength);return O.set(new Uint8Array(v)),O.buffer}function Y(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:a.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:a.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():a.arrayBuffer&&a.blob&&o(v)?(this._bodyArrayBuffer=U(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||f(v))?this._bodyArrayBuffer=U(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var v=$(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?$(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var v=$(this);if(v)return v;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var L=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function X(v){var O=v.toUpperCase();return L.indexOf(O)>-1?O:v}function q(v,O){O=O||{};var H=O.body;if(v instanceof q){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,O.headers||(this.headers=new p(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!H&&v._bodyInit!=null&&(H=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new p(O.headers)),this.method=X(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function z(v){var O=new FormData;return v.trim().split("&").forEach(function(H){if(H){var Q=H.split("="),V=Q.shift().replace(/\+/g," "),R=Q.join("=").replace(/\+/g," ");O.append(decodeURIComponent(V),decodeURIComponent(R))}}),O}function te(v){var O=new p,H=v.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(Q){var V=Q.split(":"),R=V.shift().trim();if(R){var x=V.join(":").trim();O.append(R,x)}}),O}Y.call(q.prototype);function W(v,O){O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in O?O.statusText:"OK",this.headers=new p(O.headers),this.url=O.url||"",this._initBody(v)}Y.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},W.error=function(){var v=new W(null,{status:0,statusText:""});return v.type="error",v};var Z=[301,302,303,307,308];W.redirect=function(v,O){if(Z.indexOf(O)===-1)throw new RangeError("Invalid status code");return new W(null,{status:O,headers:{location:v}})},l.DOMException=i.DOMException;try{new l.DOMException}catch{l.DOMException=function(O,H){this.message=O,this.name=H;var Q=Error(O);this.stack=Q.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function G(v,O){return new Promise(function(H,Q){var V=new q(v,O);if(V.signal&&V.signal.aborted)return Q(new l.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function x(){R.abort()}R.onload=function(){var ee={status:R.status,statusText:R.statusText,headers:te(R.getAllResponseHeaders()||"")};ee.url="responseURL"in R?R.responseURL:ee.headers.get("X-Request-URL");var ie="response"in R?R.response:R.responseText;H(new W(ie,ee))},R.onerror=function(){Q(new TypeError("Network request failed"))},R.ontimeout=function(){Q(new TypeError("Network request failed"))},R.onabort=function(){Q(new l.DOMException("Aborted","AbortError"))},R.open(V.method,V.url,!0),V.credentials==="include"?R.withCredentials=!0:V.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&a.blob&&(R.responseType="blob"),V.headers.forEach(function(ee,ie){R.setRequestHeader(ie,ee)}),V.signal&&(V.signal.addEventListener("abort",x),R.onreadystatechange=function(){R.readyState===4&&V.signal.removeEventListener("abort",x)}),R.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return G.polyfill=!0,i.fetch||(i.fetch=G,i.Headers=p,i.Request=q,i.Response=W),l.Headers=p,l.Request=q,l.Response=W,l.fetch=G,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=n;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,s.exports=e})(to,It);const $n=eo(It),Wt=Fi({__proto__:null,default:$n},[It]);var no=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};class ro{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$n:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>no(this,void 0,void 0,function*(){var l,a,o;let u=null,f=null,h=null,d=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=yield i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const $=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");$&&g&&g.length>1&&(h=parseInt(g[1]))}else{const $=yield i.text();try{u=JSON.parse($)}catch{u={message:$}}if(u&&this.allowEmpty&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("Results contain 0 rows"))&&(u=null,d=200,_="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:f,count:h,status:d,statusText:_}}));return this.shouldThrowOnError||(r=r.catch(i=>({error:{message:`FetchError: ${i.message}`,details:"",hint:"",code:i.code||""},data:null,count:null,status:0,statusText:""}))),r.then(e,t)}}class io extends ro{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r}={}){const i=r?`${r}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:n}={}){const r=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:l="text"}={}){const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${o}"; options=${a};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class yt extends io{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=t.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}class so{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new yt({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t}={}){const n="POST",r=[],i=e;if(t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),Array.isArray(e)){const l=e.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(l.length>0){const a=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new yt({method:n,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];t!==void 0&&this.url.searchParams.set("on_conflict",t);const a=e;return r&&l.push(`count=${r}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new yt({method:i,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",r=[],i=e;return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new yt({method:n,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new yt({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const lo="1.1.0",oo={"X-Client-Info":`postgrest-js/${lo}`};class ao{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},oo),t),this.schema=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new so(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:n=!1,count:r}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let a;n?(i="HEAD",Object.entries(t).forEach(([u,f])=>{l.searchParams.append(u,`${f}`)})):(i="POST",a=t);const o=Object.assign({},this.headers);return r&&(o.Prefer=`count=${r}`),new yt({method:i,url:l,headers:o,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var en,_r;function uo(){if(_r)return en;_r=1;var s=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return en=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return s()}try{return __global__||s()}finally{delete Object.prototype.__global__}}(),en}const fo="websocket",co="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",ho=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],po="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",_o=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],mo="1.0.34",vo={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},$o="https://github.com/theturtle32/WebSocket-Node",go={node:">=4.0.0"},bo={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},ko={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},yo={verbose:!1},wo={test:"tape test/unit/*.js",gulp:"gulp"},Eo="index",To={lib:"./lib"},Po="lib/browser.js",So="Apache-2.0",Io={name:fo,description:co,keywords:ho,author:po,contributors:_o,version:mo,repository:vo,homepage:$o,engines:go,dependencies:bo,devDependencies:ko,config:yo,scripts:wo,main:Eo,directories:To,browser:Po,license:So};var Ao=Io.version,dt;if(typeof globalThis=="object")dt=globalThis;else try{dt=uo()}catch{}finally{if(!dt&&typeof window<"u"&&(dt=window),!dt)throw new Error("Could not determine global this")}var Lt=dt.WebSocket||dt.MozWebSocket,Oo=Ao;function mi(s,e){var t;return e?t=new Lt(s,e):t=new Lt(s),t}Lt&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(s){Object.defineProperty(mi,s,{get:function(){return Lt[s]}})});var Do={w3cwebsocket:Lt?mi:null,version:Oo};const No="2.1.0",Ro={"X-Client-Info":`realtime-js/${No}`},jo="1.0.0",vi=1e4,Co=1e3;var Nt;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Nt||(Nt={}));var Fe;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Fe||(Fe={}));var Ge;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Ge||(Ge={}));var an;(function(s){s.websocket="websocket"})(an||(an={}));var pt;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(pt||(pt={}));class $i{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Lo{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let l=this.HEADER_LENGTH+2;const a=n.decode(e.slice(l,l+r));l=l+r;const o=n.decode(e.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:a,event:o,payload:u}}}class tn{constructor(e,t,n={},r=vi){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mr;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(mr||(mr={}));class Rt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:l,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rt.syncState(this.state,r,i,l),this.pendingDiffs.forEach(o=>{this.state=Rt.syncDiff(this.state,o,i,l)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:l,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Rt.syncDiff(this.state,r,i,l),a())}),this.onJoin((r,i,l)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:l})}),this.onLeave((r,i,l)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const i=this.cloneDeep(e),l=this.transformState(t),a={},o={};return this.map(i,(u,f)=>{l[u]||(o[u]=f)}),this.map(l,(u,f)=>{const h=i[u];if(h){const d=f.map(g=>g.presence_ref),_=h.map(g=>g.presence_ref),p=f.filter(g=>_.indexOf(g.presence_ref)<0),$=h.filter(g=>d.indexOf(g.presence_ref)<0);p.length>0&&(a[u]=p),$.length>0&&(o[u]=$)}else a[u]=f}),this.syncDiff(i,{joins:a,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,o)=>{var u;const f=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(o),f.length>0){const h=e[a].map(_=>_.presence_ref),d=f.filter(_=>h.indexOf(_.presence_ref)<0);e[a].unshift(...d)}n(a,f,o)}),this.map(l,(a,o)=>{let u=e[a];if(!u)return;const f=o.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[a]=u,r(a,u,o),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return"metas"in r?t[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ye;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ye||(ye={}));const vr=(s,e,t={})=>{var n;const r=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,l)=>(i[l]=Uo(l,s,e,r),i),{})},Uo=(s,e,t,n)=>{const r=e.find(a=>a.name===s),i=r==null?void 0:r.type,l=t[s];return i&&!n.includes(i)?gi(i,l):un(l)},gi=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return Ko(e,t)}switch(s){case ye.bool:return Bo(e);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return Fo(e);case ye.json:case ye.jsonb:return Mo(e);case ye.timestamp:return Ho(e);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return un(e);default:return un(e)}},un=s=>s,Bo=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Fo=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},Mo=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},Ko=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,n=s[t];if(s[0]==="{"&&n==="}"){let i;const l=s.slice(1,t);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(a=>gi(e,a))}return s},Ho=s=>typeof s=="string"?s.replace(" ","T"):s;var $r=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})},gr;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(gr||(gr={}));var br;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes"})(br||(br={}));var kr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class gn{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new tn(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new $i(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Rt(this)}subscribe(e,t=this.timeout){var n,r;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const a={},o={broadcast:i,presence:l,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:o},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,d=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,_=[];for(let p=0;p<d;p++){const $=h[p],{filter:{event:g,schema:y,table:S,filter:A}}=$,U=u&&u[p];if(U&&U.event===g&&U.schema===y&&U.table===S&&U.filter===A)_.push(Object.assign(Object.assign({},$),{id:U.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return $r(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return $r(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,n){return this._on(e,t,n)}send(e,t={}){return new Promise(n=>{var r,i,l;const a=this._push(e.type,e,t.timeout||this.timeout);a.rateLimited&&n("rate limited"),e.type==="broadcast"&&!(!((l=(i=(r=this.params)===null||r===void 0?void 0:r.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),a.receive("ok",()=>n("ok")),a.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fe.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new tn(this,Ge.leave,{},e);r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new tn(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const l=e.toLocaleLowerCase(),{close:a,error:o,leave:u,join:f}=Ge;if(n&&[a,o,u,f].indexOf(l)>=0&&n!==this._joinRef())return;let d=this._onMessage(l,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(_=>{var p,$,g;return((p=_.filter)===null||p===void 0?void 0:p.event)==="*"||((g=($=_.filter)===null||$===void 0?void 0:$.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===l}).map(_=>_.callback(d,n)):(i=this.bindings[l])===null||i===void 0||i.filter(_=>{var p,$,g,y,S,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const U=_.id,Y=(p=_.filter)===null||p===void 0?void 0:p.event;return U&&(($=t.ids)===null||$===void 0?void 0:$.includes(U))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((g=t.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const U=(S=(y=_==null?void 0:_.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return U==="*"||U===((A=t==null?void 0:t.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:$,table:g,commit_timestamp:y,type:S,errors:A}=p;d=Object.assign(Object.assign({},{schema:$,table:g,commit_timestamp:y,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(p))}_.callback(d,n)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&gn.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=vr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=vr(e.columns,e.old_record)),t}}var zo=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};const Go=()=>{};class qo{constructor(e,t){var n;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Ro,this.params={},this.timeout=vi,this.transport=Do.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Go,this.conn=null,this.sendBuffer=[],this.serializer=new Lo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${an.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.eventsPerSecond;r&&(this.eventsPerSecondLimitMs=Math.floor(1e3/r)),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,l)=>l(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $i(()=>zo(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return e.unsubscribe().then(t=>(this.channels.length===0&&this.disconnect(),t))}removeAllChannels(){return Promise.all(this.channels.map(e=>e.unsubscribe())).then(e=>(this.disconnect(),e))}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nt.connecting:return pt.Connecting;case Nt.open:return pt.Open;case Nt.closing:return pt.Closing;default:return pt.Closed}}isConnected(){return this.connectionState()===pt.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const n=new gn(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:r,ref:i}=e;let l=()=>{this.encode(e,a=>{var o;(o=this.conn)===null||o===void 0||o.send(a)})};if(this.log("push",`${t} ${n} (${i})`,r),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(n)){if(this._throttle(l)())return"rate limited"}else l();else this.sendBuffer.push(l)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Ge.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jo}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:r,payload:i,ref:l}=t;(l&&l===this.pendingHeartbeatRef||r===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${l&&"("+l+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,l)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Co,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t),!1)}}class bi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Vo extends bi{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jo extends bi{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ki=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};const yi=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>ki(void 0,void 0,void 0,function*(){return yield(yield Jt(()=>Promise.resolve().then(()=>Wt),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)},Yo=()=>ki(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jt(()=>Promise.resolve().then(()=>Wt),void 0,import.meta.url)).Response:Response});var Ot=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};const yr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Wo=(s,e)=>Ot(void 0,void 0,void 0,function*(){const t=yield Yo();s instanceof t?s.json().then(n=>{e(new Vo(yr(n),s.status||500))}):e(new Jo(yr(s),s))}),Xo=(s,e,t,n)=>{const r={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),t))};function Xt(s,e,t,n,r,i){return Ot(this,void 0,void 0,function*(){return new Promise((l,a)=>{s(t,Xo(e,n,r,i)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>Wo(o,a))})})}function fn(s,e,t,n){return Ot(this,void 0,void 0,function*(){return Xt(s,"GET",e,t,n)})}function _t(s,e,t,n,r){return Ot(this,void 0,void 0,function*(){return Xt(s,"POST",e,n,r,t)})}function Zo(s,e,t,n,r){return Ot(this,void 0,void 0,function*(){return Xt(s,"PUT",e,n,r,t)})}function wi(s,e,t,n,r){return Ot(this,void 0,void 0,function*(){return Xt(s,"DELETE",e,n,r,t)})}var We=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};const Qo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ea{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=yi(r)}uploadOrUpdate(e,t,n,r){return We(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},xo),r),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl)):(i=n,a["cache-control"]=`max-age=${l.cacheControl}`,a["content-type"]=l.contentType);const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),f=yield this.fetch(`${this.url}/object/${u}`,{method:e,body:i,headers:a});return f.ok?{data:{path:o},error:null}:{data:null,error:yield f.json()}}catch(i){if(je(i))return{data:null,error:i};throw i}})}upload(e,t,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}update(e,t,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t){return We(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}copy(e,t){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield _t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,n){return We(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);let i=yield _t(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return We(this,void 0,void 0,function*(){try{const r=yield _t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}download(e){return We(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield fn(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=t!=null&&t.download?`?download=${t.download===!0?"":t.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${n}${r}`)}}}remove(e){return We(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}list(e,t,n){return We(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Qo),t),{prefix:e||""});return{data:yield _t(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const ta="2.0.0",na={"X-Client-Info":`storage-js/${ta}`};var bt=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};class ra{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},na),t),this.fetch=yi(n)}listBuckets(){return bt(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return bt(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return bt(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}emptyBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}}class ia extends ra{constructor(e,t={},n){super(e,t,n)}from(e){return new ea(this.url,this.headers,e,this.fetch)}}const sa="2.1.1",la={"X-Client-Info":`supabase-js/${sa}`};var oa=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};const aa=s=>{let e;return s?e=s:typeof fetch>"u"?e=$n:e=fetch,(...t)=>e(...t)},ua=()=>typeof Headers>"u"?It.Headers:Headers,fa=(s,e,t)=>{const n=aa(t),r=ua();return(i,l)=>oa(void 0,void 0,void 0,function*(){var a;const o=(a=yield e())!==null&&a!==void 0?a:s;let u=new r(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",s),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};function ca(s){return s.replace(/\/$/,"")}function ha(s,e){const{db:t,auth:n,realtime:r,global:i}=s,{db:l,auth:a,realtime:o,global:u}=e;return{db:Object.assign(Object.assign({},l),t),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},o),r),global:Object.assign(Object.assign({},u),i)}}var Zt=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};function da(s){return Math.round(Date.now()/1e3)+s}function pa(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const vt=()=>typeof window<"u";function Me(s,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),s=s.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+s+"(=([^&#]*)|&|#|$)"),r=n.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}const Ei=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>Zt(void 0,void 0,void 0,function*(){return yield(yield Jt(()=>Promise.resolve().then(()=>Wt),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)},_a=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ma=(s,e,t)=>Zt(void 0,void 0,void 0,function*(){yield s.setItem(e,JSON.stringify(t))}),wr=(s,e)=>Zt(void 0,void 0,void 0,function*(){const t=yield s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),va=(s,e)=>Zt(void 0,void 0,void 0,function*(){yield s.removeItem(e)}),$a=s=>{try{return decodeURIComponent(atob(s.replace(/[-]/g,"+").replace(/[_]/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(e){if(e instanceof ReferenceError)return Buffer.from(s,"base64").toString("utf-8");throw e}};class Qt{constructor(){this.promise=new Qt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Qt.promiseConstructor=Promise;function ga(s){const e=s.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");const t=e[1];return JSON.parse($a(t))}class bn extends Error{constructor(e){super(e),this.__isAuthError=!0,this.name="AuthError"}}function Ee(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class ba extends bn{constructor(e,t){super(e),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function ka(s){return Ee(s)&&s.name==="AuthApiError"}class Ti extends bn{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class xt extends bn{constructor(e,t,n){super(e),this.name=t,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dt extends xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class nn extends xt{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class nt extends xt{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gt extends xt{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var kn=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})},ya=globalThis&&globalThis.__rest||function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};const Ut=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),wa=(s,e)=>kn(void 0,void 0,void 0,function*(){const t=[502,503,504];_a(s)?t.includes(s.status)?e(new Gt(Ut(s),s.status)):s.json().then(n=>{e(new ba(Ut(n),s.status||500))}).catch(n=>{e(new Ti(Ut(n),n))}):e(new Gt(Ut(s),0))}),Ea=(s,e,t,n)=>{const r={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),t))};function we(s,e,t,n){var r;return kn(this,void 0,void 0,function*(){const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const a=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=yield Ta(s,e,t+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}})}function Ta(s,e,t,n,r,i){return kn(this,void 0,void 0,function*(){return new Promise((l,a)=>{s(t,Ea(e,n,r,i)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>wa(o,a))})})}function kt(s){var e;let t=null;Ia(s)&&(t=Object.assign({},s),t.expires_at=da(s.expires_in));const n=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:n},error:null}}function mt(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function Pa(s){return{data:s,error:null}}function Sa(s){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:r,verification_type:i}=s,l=ya(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:n,redirect_to:r,verification_type:i},o=Object.assign({},l);return{data:{properties:a,user:o},error:null}}function Ia(s){return s.access_token&&s.refresh_token&&s.expires_in}var Xe=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})},Aa=globalThis&&globalThis.__rest||function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};class Oa{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Ei(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return Xe(this,void 0,void 0,function*(){try{return yield we(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}inviteUserByEmail(e,t={}){return Xe(this,void 0,void 0,function*(){try{return yield we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:mt})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return Xe(this,void 0,void 0,function*(){try{const{options:t}=e,n=Aa(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),yield we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Sa,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ee(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return Xe(this,void 0,void 0,function*(){try{return yield we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mt})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}listUsers(){return Xe(this,void 0,void 0,function*(){try{const{data:e,error:t}=yield we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(t)throw t;return{data:Object.assign({},e),error:null}}catch(e){if(Ee(e))return{data:{users:[]},error:e};throw e}})}getUserById(e){return Xe(this,void 0,void 0,function*(){try{return yield we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mt})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return Xe(this,void 0,void 0,function*(){try{return yield we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:mt})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}})}deleteUser(e){return Xe(this,void 0,void 0,function*(){try{return yield we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mt})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}_listFactors(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}}const Da="2.3.1",Na="http://localhost:9999",Ra="supabase.auth.token",ja={"X-Client-Info":`gotrue-js/${Da}`},rn=10,Bt={MAX_RETRIES:10,RETRY_INTERVAL:2},Ca={getItem:s=>vt()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{vt()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{vt()&&globalThis.localStorage.removeItem(s)}};function La(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ke=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};La();const Ua={url:Na,storageKey:Ra,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ja};class Ba{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const t=Object.assign(Object.assign({},Ua),e);this.inMemorySession=null,this.storageKey=t.storageKey,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.storage=t.storage||Ca,this.admin=new Oa({url:t.url,headers:t.headers,fetch:t.fetch}),this.url=t.url,this.headers=t.headers,this.fetch=Ei(t.fetch),this.detectSessionInUrl=t.detectSessionInUrl,this.initialize(),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)}}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return ke(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:t}=yield this._getSessionFromUrl();if(t)return yield this._removeSession(),{error:t};const{session:n,redirectType:r}=e;return yield this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN",n),r==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",n),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return Ee(e)?{error:e}:{error:new Ti("Unexpected error during initialization",e)}}finally{this._handleVisibilityChange()}})}signUp(e){var t,n;return ke(this,void 0,void 0,function*(){try{yield this._removeSession();let r;if("email"in e){const{email:u,password:f,options:h}=e;r=yield we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kt})}else if("phone"in e){const{phone:u,password:f,options:h}=e;r=yield we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kt})}else throw new nn("You must provide either an email or phone number and a password");const{data:i,error:l}=r;if(l||!i)return{data:{user:null,session:null},error:l};const a=i.session,o=i.user;return i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:o,session:a},error:null}}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithPassword(e){var t,n;return ke(this,void 0,void 0,function*(){try{yield this._removeSession();let r;if("email"in e){const{email:a,password:o,options:u}=e;r=yield we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:kt})}else if("phone"in e){const{phone:a,password:o,options:u}=e;r=yield we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:kt})}else throw new nn("You must provide either an email or phone number and a password");const{data:i,error:l}=r;return l||!i?{data:{user:null,session:null},error:l}:(i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:l})}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){var t,n,r;return ke(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams})})}signInWithOtp(e){var t,n,r,i;return ke(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:l,options:a}=e,{error:o}=yield we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=a==null?void 0:a.data)!==null&&t!==void 0?t:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:l,options:a}=e,{error:o}=yield we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null},error:o}}throw new nn("You must provide either an email or phone number.")}catch(l){if(Ee(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){var t,n;return ke(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:r,error:i}=yield we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:(t=e.options)===null||t===void 0?void 0:t.captchaToken}}),redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,xform:kt});if(i)throw i;if(!r)throw"An error occurred on token verification.";const l=r.session,a=r.user;return l!=null&&l.access_token&&(yield this._saveSession(l),this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:a,session:l},error:null}}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithSSO(e){var t,n,r;return ke(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:Pa})}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}getSession(){return ke(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const i=yield wr(this.storage,this.storageKey);i!==null&&(this._isValidSession(i)?e=i:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:n,error:r}=yield this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:n},error:null}})}getUser(e){var t,n;return ke(this,void 0,void 0,function*(){try{if(!e){const{data:r,error:i}=yield this.getSession();if(i)throw i;e=(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:void 0}return yield we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mt})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}})}updateUser(e){return ke(this,void 0,void 0,function*(){try{const{data:t,error:n}=yield this.getSession();if(n)throw n;if(!t.session)throw new Dt;const r=t.session,{data:i,error:l}=yield we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:e,jwt:r.access_token,xform:mt});if(l)throw l;return r.user=i.user,yield this._saveSession(r),this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}})}_decodeJWT(e){return ga(e)}setSession(e){return ke(this,void 0,void 0,function*(){try{const t=Date.now()/1e3;let n=t,r=!0,i=null;if(e.access_token&&e.access_token.split(".")[1]){const l=this._decodeJWT(e.access_token);l.exp&&(n=l.exp,r=n<=t)}if(r){if(!e.refresh_token)throw new Dt;const{data:l,error:a}=yield this._refreshAccessToken(e.refresh_token);if(a)return{data:{session:null,user:null},error:a};if(!l.session)return{data:{session:null,user:null},error:null};i=l.session}else{const{data:l,error:a}=yield this.getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n}}return yield this._saveSession(i),this._notifyAllSubscribers("TOKEN_REFRESHED",i),{data:{session:i,user:i.user},error:null}}catch(t){if(Ee(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){var t;return ke(this,void 0,void 0,function*(){try{if(!e){const{data:i,error:l}=yield this.getSession();if(l)throw l;e=(t=i.session)!==null&&t!==void 0?t:void 0}if(!(e!=null&&e.refresh_token))throw new Dt;const{session:n,error:r}=yield this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}})}_getSessionFromUrl(){return ke(this,void 0,void 0,function*(){try{if(!vt())throw new nt("No browser detected.");if(!this._isImplicitGrantFlow())throw new nt("Not a valid implicit grant flow url.");const e=Me("error_description");if(e){const $=Me("error_code");if(!$)throw new nt("No error_code detected.");const g=Me("error");throw g?new nt(e,{error:g,code:$}):new nt("No error detected.")}const t=Me("provider_token"),n=Me("provider_refresh_token"),r=Me("access_token");if(!r)throw new nt("No access_token detected.");const i=Me("expires_in");if(!i)throw new nt("No expires_in detected.");const l=Me("refresh_token");if(!l)throw new nt("No refresh_token detected.");const a=Me("token_type");if(!a)throw new nt("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(i),{data:f,error:h}=yield this.getUser(r);if(h)throw h;const d=f.user,_={provider_token:t,provider_refresh_token:n,access_token:r,expires_in:parseInt(i),expires_at:u,refresh_token:l,token_type:a,user:d},p=Me("type");return window.location.hash="",{data:{session:_,redirectType:p},error:null}}catch(e){if(Ee(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return vt()&&(Boolean(Me("access_token"))||Boolean(Me("error_description")))}signOut(){var e;return ke(this,void 0,void 0,function*(){const{data:t,error:n}=yield this.getSession();if(n)return{error:n};const r=(e=t.session)===null||e===void 0?void 0:e.access_token;if(r){const{error:i}=yield this.admin.signOut(r);if(i&&!(ka(i)&&(i.status===404||i.status===401)))return{error:i}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const t=pa(),n={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,n),{data:{subscription:n}}}resetPasswordForEmail(e,t={}){return ke(this,void 0,void 0,function*(){try{return yield we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}_refreshAccessToken(e){return ke(this,void 0,void 0,function*(){try{return yield we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:kt})}catch(t){if(Ee(t))return{data:{session:null,user:null},error:t};throw t}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t={}){const n=this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return vt()&&(window.location.href=n),{data:{provider:e,url:n},error:null}}_recoverAndRefresh(){var e;return ke(this,void 0,void 0,function*(){try{const t=yield wr(this.storage,this.storageKey);if(!this._isValidSession(t)){t!==null&&(yield this._removeSession());return}const n=Math.round(Date.now()/1e3);if(((e=t.expires_at)!==null&&e!==void 0?e:1/0)<n+rn)if(this.autoRefreshToken&&t.refresh_token){this.networkRetries++;const{error:r}=yield this._callRefreshToken(t.refresh_token);if(r){if(console.log(r.message),r instanceof Gt&&this.networkRetries<Bt.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(Bt.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){console.error(t);return}})}_callRefreshToken(e){var t,n;return ke(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Qt,!e)throw new Dt;const{data:r,error:i}=yield this._refreshAccessToken(e);if(i)throw i;if(!r.session)throw new Dt;yield this._saveSession(r.session),this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const l={session:r.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(r){if(Ee(r)){const i={session:null,error:r};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t){this.stateChangeEmitters.forEach(n=>n.callback(e,t))}_saveSession(e){return ke(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e);const t=e.expires_at;if(t){const n=Math.round(Date.now()/1e3),r=t-n,i=r>rn?rn:.5;this._startAutoRefreshToken((r-i)*1e3)}this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return ma(this.storage,this.storageKey,e)}_removeSession(){return ke(this,void 0,void 0,function*(){this.persistSession?yield va(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>ke(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:t},error:n}=yield this.getSession();if(!n&&t){const{error:r}=yield this._callRefreshToken(t.refresh_token);r||(this.networkRetries=0),r instanceof Gt&&this.networkRetries<Bt.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(Bt.RETRY_INTERVAL,this.networkRetries)*100)}}),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!vt()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>ke(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(e){console.error("_handleVisibilityChange",e)}}_getUrlForProvider(e,t){const n=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&n.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&n.push(`scopes=${encodeURIComponent(t.scopes)}`),t!=null&&t.queryParams){const r=new URLSearchParams(t.queryParams);n.push(r.toString())}return`${this.url}/authorize?${n.join("&")}`}_unenroll(e){var t;return ke(this,void 0,void 0,function*(){const{data:n,error:r}=yield this.getSession();return r?{data:null,error:r}:yield we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(t=n==null?void 0:n.session)===null||t===void 0?void 0:t.access_token})})}_enroll(e){var t,n;return ke(this,void 0,void 0,function*(){const{data:r,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:l,error:a}=yield we(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token});return a?{data:null,error:a}:(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}_verify(e){var t;return ke(this,void 0,void 0,function*(){const{data:n,error:r}=yield this.getSession();if(r)return{data:null,error:r};const{data:i,error:l}=yield we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(t=n==null?void 0:n.session)===null||t===void 0?void 0:t.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}_challenge(e){var t;return ke(this,void 0,void 0,function*(){const{data:n,error:r}=yield this.getSession();return r?{data:null,error:r}:yield we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(t=n==null?void 0:n.session)===null||t===void 0?void 0:t.access_token})})}_challengeAndVerify(e){return ke(this,void 0,void 0,function*(){const{data:t,error:n}=yield this._challenge({factorId:e.factorId});return n?{data:null,error:n}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return ke(this,void 0,void 0,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],r=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:r},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return ke(this,void 0,void 0,function*(){const{data:{session:n},error:r}=yield this.getSession();if(r)return{data:null,error:r};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(n.access_token);let l=null;i.aal&&(l=i.aal);let a=l;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:u},error:null}})}}class Fa extends Ba{constructor(e){super(e)}}var Ma=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function a(f){try{u(n.next(f))}catch(h){l(h)}}function o(f){try{u(n.throw(f))}catch(h){l(h)}}function u(f){f.done?i(f.value):r(f.value).then(a,o)}u((n=n.apply(s,e||[])).next())})};const Ka={headers:la},Ha={schema:"public"},za={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Ga={};class qa{constructor(e,t,n){var r,i,l,a,o,u,f,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=ca(e);if(this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,d.match(/(supabase\.co)|(supabase\.in)/)){const y=d.split(".");this.functionsUrl=`${y[0]}.functions.${y[1]}.${y[2]}`}else this.functionsUrl=`${d}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,$={db:Ha,realtime:Ga,auth:Object.assign(Object.assign({},za),{storageKey:p}),global:Ka},g=ha(n??{},$);this.storageKey=(i=(r=g.auth)===null||r===void 0?void 0:r.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(l=g.global)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((o=g.auth)!==null&&o!==void 0?o:{},this.headers,(u=g.global)===null||u===void 0?void 0:u.fetch),this.fetch=fa(t,this._getAccessToken.bind(this),(f=g.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new ao(`${d}/rest/v1`,{headers:this.headers,schema:(h=g.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Ql(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ia(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},n){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ma(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:i},l,a){const o={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fa({url:this.authUrl,headers:Object.assign(Object.assign({},o),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,fetch:a})}_initRealtimeClient(e){return new qo(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,n==null?void 0:n.access_token,"CLIENT")})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut())}}const Va=(s,e,t)=>new qa(s,e,t),Ja=Va(ql,Gl);let Ya=1;const sn=()=>(++Ya).toString();let Wa=1;const Ue=()=>(++Wa).toString();sn(),xe.Male,Ue(),Ue(),Ue(),Ue(),Ue(),sn(),xe.Female,Ue(),Ue(),Ue(),Ue(),sn(),xe.Male,Ue(),Ue(),Ue(),Ue();class Se extends Error{constructor(e,t){super(e+(t!=null&&t.code?` Code: ${t.code}`:"")),this.diagnostics=t}}const Be=new Bl(Ja),Xa=()=>{const{subscribe:s,update:e}=Bi({}),t={};let n;const r=(i,l)=>{e(a=>({...a,[i]:{...a[i],...l(a[i])}}))};return{get:i=>(t[i]==null&&(t[i]=Be.getTrainer(i).then(l=>{var f;if(l==null)return;const a=h=>({info:d=>Be.updateTrainerInfo(h.writeKey,d).then(()=>{r(i,_=>({..._,info:{..._.info,...d}}))}).catch(_=>{throw tt.show(_.message),_}),retire:()=>Be.removeTrainer(h.writeKey,h.info.id,h.info.readKey).then(()=>{e(d=>{const{[h.info.readKey]:_,...p}=d;return p})}).catch(d=>{throw tt.show(d.message),d}),pokemon:(d,_={})=>{let p;const $=g=>r(i,y=>{const S=[...y.pokemon],A=S.findIndex(U=>U.id===g.id);return p=S[A],S[A]={...y.pokemon[A],...g},{...y,pokemon:S}});return _.optimistic?($(d),Be.updatePokemon(h.writeKey,d).then(()=>{}).catch(g=>{throw $(p),tt.show(g.message),g})):Be.updatePokemon(h.writeKey,d).then(()=>{$(d)}).catch(g=>{throw tt.show(g.message),g})},moveset:d=>Be.updateMoveset(h.writeKey,d.id,d.moves).then(_=>{r(i,p=>{const $=[...p.pokemon],g=$.findIndex(y=>y.id===d.id);return $[g]={...p.pokemon[g],moves:_},{...p,pokemon:$}})}).catch(_=>{throw tt.show(_.message),_}),move:(d,_={})=>{let p;const $=g=>{r(i,y=>{const S=y.pokemon.find(U=>U.moves.map(Y=>Y.id).includes(g.id));if(!S)return y;const A=S.moves.findIndex(U=>U.id===g.id);return p=S.moves[A],S.moves[A]=g,{...y}})};return _.optimistic?($(d),Be.updateOneMove(h.writeKey,d).then(()=>{}).catch(g=>{throw $(p),tt.show(g.message),g})):Be.updateOneMove(h.writeKey,d).then(()=>{$(d)}).catch(g=>{throw tt.show(g.message),g})},addToTeam:d=>Be.addPokemonToTeam(h.writeKey,h.info.id,d).then(_=>(r(i,p=>{const $=[...p.pokemon,_];return{...p,pokemon:$}}),_)).catch(_=>{throw tt.show(_.message),_}),removeFromTeam:d=>Be.removePokemon(h.writeKey,d).then(()=>{r(i,_=>{const p=_.pokemon.filter($=>$.id!==d);return{..._,pokemon:p}})}).catch(_=>{throw tt.show(_.message),_})});let o;((f=l.writeKey)==null?void 0:f.length)>0&&(o=a(l));let u=!1;return{subscribe:h=>s(d=>{h(d[i]??{...l,update:o}),u||(u=!0,e(_=>({..._,[i]:{...l,update:o}})))}),verifyAccess:h=>Be.verifyWriteKey(l.info,h).then(d=>(d&&r(i,_=>({..._,writeKey:h,update:a({..._,writeKey:h})})),d))}})),t[i]),all:()=>(n==null&&(n=Be.allTrainers().then(i=>{let l=!1;return{subscribe:a=>s(o=>{a(Object.values(o).map(u=>u.info)),l||(l=!0,e(u=>i.reduce((f,h)=>({[h.readKey]:{info:h,pokemon:[]},...f}),u)))})}})),n),new:i=>Be.newTrainer(i).then(l=>(r(l.info.readKey,()=>l),l))}},qt=Xa();ft.disable_scroll_handling;const He=ft.goto;ft.invalidate;ft.invalidateAll;ft.preload_data;ft.preload_code;ft.before_navigate;ft.after_navigate;function Er(s,e,t){const n=s.slice();return n[10]=e[t],n}function Za(s){let e,t,n;return{c(){e=w("section"),t=w("p"),n=D("You do not have permission to add pokemon to this trainer.")},l(r){e=E(r,"SECTION",{});var i=P(e);t=E(i,"P",{});var l=P(t);n=N(l,"You do not have permission to add pokemon to this trainer."),l.forEach(c),i.forEach(c)},m(r,i){b(r,e,i),m(e,t),m(t,n)},p:ne,i:ne,o:ne,d(r){r&&c(e)}}}function Qa(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$;const g=[eu,xa],y=[];function S(A,U){return A[4].length===0&&A[1].length>0?0:1}return h=S(s),d=y[h]=g[h](s),{c(){e=w("section"),t=w("p"),n=D("Start typing the pokemon's species, then select from the provided list."),r=j(),i=w("div"),l=w("label"),a=D("Species"),o=j(),u=w("input"),f=j(),d.c(),this.h()},l(A){e=E(A,"SECTION",{});var U=P(e);t=E(U,"P",{});var Y=P(t);n=N(Y,"Start typing the pokemon's species, then select from the provided list."),Y.forEach(c),r=C(U),i=E(U,"DIV",{class:!0});var L=P(i);l=E(L,"LABEL",{for:!0,class:!0});var X=P(l);a=N(X,"Species"),X.forEach(c),o=C(L),u=E(L,"INPUT",{id:!0,type:!0,class:!0}),L.forEach(c),f=C(U),d.l(U),U.forEach(c),this.h()},h(){k(l,"for","species-input"),k(l,"class","font-sm spaced-sm svelte-1oz3zih"),k(u,"id","species-input"),k(u,"type","text"),k(u,"class","font-lg svelte-1oz3zih"),u.disabled=s[3],k(i,"class","vertical spaced-lg svelte-1oz3zih")},m(A,U){b(A,e,U),m(e,t),m(t,n),m(e,r),m(e,i),m(i,l),m(l,a),m(i,o),m(i,u),$e(u,s[1]),m(e,f),y[h].m(e,null),_=!0,p||($=he(u,"input",s[8]),p=!0)},p(A,U){(!_||U&8)&&(u.disabled=A[3]),U&2&&u.value!==A[1]&&$e(u,A[1]);let Y=h;h=S(A),h===Y?y[h].p(A,U):(_e(),I(y[Y],1,1,()=>{y[Y]=null}),me(),d=y[h],d?d.p(A,U):(d=y[h]=g[h](A),d.c()),T(d,1),d.m(e,null))},i(A){_||(T(d),_=!0)},o(A){I(d),_=!1},d(A){A&&c(e),y[h].d(),p=!1,$()}}}function xa(s){let e,t,n=s[4],r=[];for(let l=0;l<n.length;l+=1)r[l]=Tr(Er(s,n,l));const i=l=>I(r[l],1,1,()=>{r[l]=null});return{c(){e=w("ul");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=E(l,"UL",{class:!0});var a=P(e);for(let o=0;o<r.length;o+=1)r[o].l(a);a.forEach(c),this.h()},h(){k(e,"class","no-list columnated svelte-1oz3zih")},m(l,a){b(l,e,a);for(let o=0;o<r.length;o+=1)r[o].m(e,null);t=!0},p(l,a){if(a&88){n=l[4];let o;for(o=0;o<n.length;o+=1){const u=Er(l,n,o);r[o]?(r[o].p(u,a),T(r[o],1)):(r[o]=Tr(u),r[o].c(),T(r[o],1),r[o].m(e,null))}for(_e(),o=n.length;o<r.length;o+=1)i(o);me()}},i(l){if(!t){for(let a=0;a<n.length;a+=1)T(r[a]);t=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)I(r[a]);t=!1},d(l){l&&c(e),De(r,l)}}}function eu(s){let e,t;return{c(){e=w("p"),t=D("No matched pokemon"),this.h()},l(n){e=E(n,"P",{class:!0});var r=P(e);t=N(r,"No matched pokemon"),r.forEach(c),this.h()},h(){k(e,"class","muted center svelte-1oz3zih")},m(n,r){b(n,e,r),m(e,t)},p:ne,i:ne,o:ne,d(n){n&&c(e)}}}function tu(s){let e=s[10].name+"",t;return{c(){t=D(e)},l(n){t=N(n,e)},m(n,r){b(n,t,r)},p(n,r){r&16&&e!==(e=n[10].name+"")&&le(t,e)},d(n){n&&c(t)}}}function Tr(s){let e,t,n,r;return t=new ge({props:{align:"left",width:"full",disabled:s[3],$$slots:{default:[tu]},$$scope:{ctx:s}}}),t.$on("click",function(){hn(s[6](s[10]))&&s[6](s[10]).apply(this,arguments)}),{c(){e=w("li"),B(t.$$.fragment),n=j(),this.h()},l(i){e=E(i,"LI",{class:!0});var l=P(e);F(t.$$.fragment,l),n=C(l),l.forEach(c),this.h()},h(){k(e,"class","spaced-sm svelte-1oz3zih")},m(i,l){b(i,e,l),M(t,e,null),m(e,n),r=!0},p(i,l){s=i;const a={};l&8&&(a.disabled=s[3]),l&8208&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(i){r||(T(t.$$.fragment,i),r=!0)},o(i){I(t.$$.fragment,i),r=!1},d(i){i&&c(e),K(t)}}}function nu(s){let e,t,n,r;const i=[Qa,Za],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function ru(s){let e,t,n,r;return e=new Ve({props:{value:"Add Pokemon"}}),n=new Je({props:{title:"Add to "+s[2].info.name+"'s team",$$slots:{default:[nu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,[l]){const a={};l&4&&(a.title="Add to "+i[2].info.name+"'s team"),l&8250&&(a.$$scope={dirty:l,ctx:i}),n.$set(a)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function iu(s,e,t){let n,r,i,l,a=ne,o=()=>(a(),a=qe(f,$=>t(2,l=$)),f),u;Ce(s,$t,$=>t(7,u=$)),s.$$.on_destroy.push(()=>a());let{trainer:f}=e;o();let h="",d=!1;const _=$=>()=>{var g;t(3,d=!0),(g=l.update)==null||g.addToTeam($).then(({id:y})=>{He(`${Pe}/trainers?id=${r}&pokemon=${y}`)}).catch(()=>{t(3,d=!1)})};function p(){h=this.value,t(1,h)}return s.$$set=$=>{"trainer"in $&&o(t(0,f=$.trainer))},s.$$.update=()=>{s.$$.dirty&4&&t(5,n=l.update!=null),s.$$.dirty&4&&(r=l.info.readKey),s.$$.dirty&130&&t(4,i=h.length>0?(u==null?void 0:u.filter(Ui(h)))??[]:[])},[f,h,l,d,i,n,_,u,p]}class su extends ae{constructor(e){super(),ue(this,e,iu,ru,fe,{trainer:0})}}function lu(s){let e,t;return{c(){e=w("a"),t=D("Find by trainer ID >"),this.h()},l(n){e=E(n,"A",{slot:!0,href:!0,class:!0});var r=P(e);t=N(r,"Find by trainer ID >"),r.forEach(c),this.h()},h(){k(e,"slot","link"),k(e,"href",pe.trainers(void 0,void 0,Ie.findTrainer)),k(e,"class","dark-font svelte-7p6g56")},m(n,r){b(n,e,r),m(e,t)},p:ne,d(n){n&&c(e)}}}function ou(s){let e;return{c(){e=D("+ New Trainer")},l(t){e=N(t,"+ New Trainer")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function au(s){let e,t;return e=new ge({props:{slot:"action",href:Pe+"/trainers?action=new-trainer",$$slots:{default:[ou]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&512&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function uu(s){let e,t=s[8].name+"",n,r;return{c(){e=w("a"),n=D(t),this.h()},l(i){e=E(i,"A",{href:!0});var l=P(e);n=N(l,t),l.forEach(c),this.h()},h(){k(e,"href",r=Pe+"/trainers?id="+s[8].readKey)},m(i,l){b(i,e,l),m(e,n)},p(i,l){l&256&&t!==(t=i[8].name+"")&&le(n,t),l&256&&r!==(r=Pe+"/trainers?id="+i[8].readKey)&&k(e,"href",r)},d(i){i&&c(e)}}}function fu(s){let e,t;return e=new fi.Cell({props:{primary:!0,$$slots:{default:[uu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&768&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function cu(s){let e,t;return e=new fi.Row({props:{interactive:!0,mainBg:"var(--skin-bg-dark)",$$slots:{default:[fu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&768&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function hu(s){let e,t,n,r,i,l,a,o,u;e=new pi({props:{title:"Trainer List",$$slots:{action:[au],link:[lu]},$$scope:{ctx:s}}});function f(p){s[6](p)}let h={id:"filter-pokemon",label:"Search",matched:s[3].length,max:s[2].length};s[1]!==void 0&&(h.value=s[1]),r=new ui({props:h}),Et.push(()=>Tt(r,"value",f));function d(p){s[7](p)}let _={items:s[3],headers:[{key:"name",name:"Name",ratio:1,sort:s[5](du)}],$$slots:{default:[cu,({item:p})=>({8:p}),({item:p})=>p?256:0]},$$scope:{ctx:s}};return s[4]!==void 0&&(_.currentSorter=s[4]),a=new Oi({props:_}),Et.push(()=>Tt(a,"currentSorter",d)),{c(){B(e.$$.fragment),t=j(),n=w("div"),B(r.$$.fragment),l=j(),B(a.$$.fragment),this.h()},l(p){F(e.$$.fragment,p),t=C(p),n=E(p,"DIV",{class:!0});var $=P(n);F(r.$$.fragment,$),$.forEach(c),l=C(p),F(a.$$.fragment,p),this.h()},h(){k(n,"class","space-bottom svelte-7p6g56")},m(p,$){M(e,p,$),b(p,t,$),b(p,n,$),M(r,n,null),b(p,l,$),M(a,p,$),u=!0},p(p,[$]){const g={};$&512&&(g.$$scope={dirty:$,ctx:p}),e.$set(g);const y={};$&8&&(y.matched=p[3].length),$&4&&(y.max=p[2].length),!i&&$&2&&(i=!0,y.value=p[1],Pt(()=>i=!1)),r.$set(y);const S={};$&8&&(S.items=p[3]),$&768&&(S.$$scope={dirty:$,ctx:p}),!o&&$&16&&(o=!0,S.currentSorter=p[4],Pt(()=>o=!1)),a.$set(S)},i(p){u||(T(e.$$.fragment,p),T(r.$$.fragment,p),T(a.$$.fragment,p),u=!0)},o(p){I(e.$$.fragment,p),I(r.$$.fragment,p),I(a.$$.fragment,p),u=!1},d(p){K(e,p),p&&c(t),p&&c(n),K(r),p&&c(l),K(a,p)}}}const du=s=>s.name;function pu(s,e,t){let n,r,i,l=ne,a=()=>(l(),l=qe(u,_=>t(2,i=_)),u),o;Ce(s,Dn,_=>t(1,r=_)),Ce(s,Nn,_=>t(4,o=_)),s.$$.on_destroy.push(()=>l());let{trainers:u}=e;a();const f=_=>(p,$)=>_(p).localeCompare(_($));function h(_){r=_,Dn.set(r)}function d(_){o=_,Nn.set(o)}return s.$$set=_=>{"trainers"in _&&a(t(0,u=_.trainers))},s.$$.update=()=>{s.$$.dirty&6&&t(3,n=i.filter(_=>_.name.toLocaleLowerCase().includes(r.toLocaleLowerCase())))},[u,r,i,n,o,f,h,d]}class _u extends ae{constructor(e){super(),ue(this,e,pu,hu,fe,{trainers:0})}}function Pr(s){let e,t,n,r;return n=new ut({props:{caption:s[1]}}),{c(){e=w("div"),t=w("div"),B(n.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0,"aria-live":!0});var l=P(e);t=E(l,"DIV",{class:!0});var a=P(t);F(n.$$.fragment,a),a.forEach(c),l.forEach(c),this.h()},h(){k(t,"class","fixed svelte-4id0kp"),k(e,"class","center-overlay svelte-4id0kp"),k(e,"aria-live","assertive")},m(i,l){b(i,e,l),m(e,t),M(n,t,null),r=!0},p(i,l){const a={};l&2&&(a.caption=i[1]),n.$set(a)},i(i){r||(T(n.$$.fragment,i),r=!0)},o(i){I(n.$$.fragment,i),r=!1},d(i){i&&c(e),K(n)}}}function mu(s){let e,t,n,r;const i=s[3].default,l=rt(i,s,s[2],null);let a=s[0]&&Pr(s);return{c(){e=w("div"),t=w("div"),l&&l.c(),n=j(),a&&a.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var u=P(e);t=E(u,"DIV",{class:!0});var f=P(t);l&&l.l(f),f.forEach(c),n=C(u),a&&a.l(u),u.forEach(c),this.h()},h(){k(t,"class","svelte-4id0kp"),wt(t,"muted",s[0]),k(e,"class","relative svelte-4id0kp")},m(o,u){b(o,e,u),m(e,t),l&&l.m(t,null),m(e,n),a&&a.m(e,null),r=!0},p(o,[u]){l&&l.p&&(!r||u&4)&&it(l,i,o,o[2],r?lt(i,o[2],u,null):st(o[2]),null),(!r||u&1)&&wt(t,"muted",o[0]),o[0]?a?(a.p(o,u),u&1&&T(a,1)):(a=Pr(o),a.c(),T(a,1),a.m(e,null)):a&&(_e(),I(a,1,1,()=>{a=null}),me())},i(o){r||(T(l,o),T(a),r=!0)},o(o){I(l,o),I(a),r=!1},d(o){o&&c(e),l&&l.d(o),a&&a.d()}}}function vu(s,e,t){let{$$slots:n={},$$scope:r}=e,{saving:i}=e,{caption:l="Saving..."}=e;return s.$$set=a=>{"saving"in a&&t(0,i=a.saving),"caption"in a&&t(1,l=a.caption),"$$scope"in a&&t(2,r=a.$$scope)},[i,l,r,n]}class ct extends ae{constructor(e){super(),ue(this,e,vu,mu,fe,{saving:0,caption:1})}}function $u(s){let e,t,n,r,i,l,a;const o=s[3].default,u=rt(o,s,s[2],null);return{c(){e=w("fieldset"),t=w("legend"),n=w("span"),r=D(s[0]),i=j(),l=w("div"),u&&u.c(),this.h()},l(f){e=E(f,"FIELDSET",{class:!0});var h=P(e);t=E(h,"LEGEND",{class:!0});var d=P(t);n=E(d,"SPAN",{class:!0});var _=P(n);r=N(_,s[0]),_.forEach(c),d.forEach(c),i=C(h),l=E(h,"DIV",{class:!0});var p=P(l);u&&u.l(p),p.forEach(c),h.forEach(c),this.h()},h(){k(n,"class","unskew svelte-iawi82"),k(t,"class","svelte-iawi82"),k(l,"class","grid svelte-iawi82"),k(e,"class","svelte-iawi82"),ve(e,"--columns",s[1])},m(f,h){b(f,e,h),m(e,t),m(t,n),m(n,r),m(e,i),m(e,l),u&&u.m(l,null),a=!0},p(f,[h]){(!a||h&1)&&le(r,f[0]),u&&u.p&&(!a||h&4)&&it(u,o,f,f[2],a?lt(o,f[2],h,null):st(f[2]),null),h&2&&ve(e,"--columns",f[1])},i(f){a||(T(u,f),a=!0)},o(f){I(u,f),a=!1},d(f){f&&c(e),u&&u.d(f)}}}function gu(s,e,t){let{$$slots:n={},$$scope:r}=e,{title:i}=e,{columns:l=1}=e;return s.$$set=a=>{"title"in a&&t(0,i=a.title),"columns"in a&&t(1,l=a.columns),"$$scope"in a&&t(2,r=a.$$scope)},[i,l,r,n]}class Ke extends ae{constructor(e){super(),ue(this,e,gu,$u,fe,{title:0,columns:1})}}function bu(s){let e,t,n,r,i,l,a,o,u,f,h;return{c(){e=w("label"),t=D("Name"),n=j(),r=w("input"),i=j(),l=w("label"),a=D("Description"),o=j(),u=w("textarea"),this.h()},l(d){e=E(d,"LABEL",{for:!0});var _=P(e);t=N(_,"Name"),_.forEach(c),n=C(d),r=E(d,"INPUT",{name:!0,id:!0,type:!0}),i=C(d),l=E(d,"LABEL",{for:!0});var p=P(l);a=N(p,"Description"),p.forEach(c),o=C(d),u=E(d,"TEXTAREA",{name:!0,id:!0,rows:!0}),P(u).forEach(c),this.h()},h(){k(e,"for","name-input"),k(r,"name","name"),r.required=!0,k(r,"id","name-input"),k(r,"type","text"),r.disabled=s[3],k(l,"for","description-input"),ve(l,"place-self","start"),k(u,"name","description"),k(u,"id","description-input"),k(u,"rows","6"),u.disabled=s[3]},m(d,_){b(d,e,_),m(e,t),b(d,n,_),b(d,r,_),$e(r,s[1]),b(d,i,_),b(d,l,_),m(l,a),b(d,o,_),b(d,u,_),$e(u,s[2]),f||(h=[he(r,"input",s[6]),he(u,"input",s[7])],f=!0)},p(d,_){_&8&&(r.disabled=d[3]),_&2&&r.value!==d[1]&&$e(r,d[1]),_&8&&(u.disabled=d[3]),_&4&&$e(u,d[2])},d(d){d&&c(e),d&&c(n),d&&c(r),d&&c(i),d&&c(l),d&&c(o),d&&c(u),f=!1,ot(h)}}}function ku(s){let e;return{c(){e=D("Cancel")},l(t){e=N(t,"Cancel")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function yu(s){let e;return{c(){e=D("Finish!")},l(t){e=N(t,"Finish!")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function wu(s){let e,t,n,r;return e=new ge({props:{variant:"ghost",disabled:s[3],$$slots:{default:[ku]},$$scope:{ctx:s}}}),e.$on("click",s[5]),n=new ge({props:{type:"submit",disabled:s[3],$$slots:{default:[yu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,l){const a={};l&8&&(a.disabled=i[3]),l&256&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l&8&&(o.disabled=i[3]),l&256&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function Eu(s){let e,t,n,r,i,l,a;return t=new Ke({props:{title:"Basic Info",$$slots:{default:[bu]},$$scope:{ctx:s}}}),r=new Re({props:{$$slots:{default:[wu]},$$scope:{ctx:s}}}),{c(){e=w("form"),B(t.$$.fragment),n=j(),B(r.$$.fragment)},l(o){e=E(o,"FORM",{});var u=P(e);F(t.$$.fragment,u),n=C(u),F(r.$$.fragment,u),u.forEach(c)},m(o,u){b(o,e,u),M(t,e,null),m(e,n),M(r,e,null),i=!0,l||(a=he(e,"submit",At(s[4])),l=!0)},p(o,u){const f={};u&270&&(f.$$scope={dirty:u,ctx:o}),t.$set(f);const h={};u&264&&(h.$$scope={dirty:u,ctx:o}),r.$set(h)},i(o){i||(T(t.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),I(r.$$.fragment,o),i=!1},d(o){o&&c(e),K(t),K(r),l=!1,a()}}}function Tu(s){let e,t,n;return t=new ct({props:{saving:s[0],$$slots:{default:[Eu]},$$scope:{ctx:s}}}),{c(){e=w("section"),B(t.$$.fragment)},l(r){e=E(r,"SECTION",{});var i=P(e);F(t.$$.fragment,i),i.forEach(c)},m(r,i){b(r,e,i),M(t,e,null),n=!0},p(r,i){const l={};i&1&&(l.saving=r[0]),i&270&&(l.$$scope={dirty:i,ctx:r}),t.$set(l)},i(r){n||(T(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){r&&c(e),K(t)}}}function Pu(s){let e,t,n,r;return e=new Ve({props:{value:"Create Trainer"}}),n=new Je({props:{title:"Create a New Trainer",$$slots:{default:[Tu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,[l]){const a={};l&271&&(a.$$scope={dirty:l,ctx:i}),n.$set(a)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function Su(s,e,t){let n,r="",i="",l=!1;const a=()=>{t(0,l=!0),qt.new({name:r,description:i}).then(({info:h})=>{He(`${Pe}/trainers?id=${h.readKey}`)}).catch(()=>{t(0,l=!1)})},o=()=>{He(`${Pe}/trainers`)};function u(){r=this.value,t(1,r)}function f(){i=this.value,t(2,i)}return s.$$.update=()=>{s.$$.dirty&1&&t(3,n=l)},[l,r,i,n,a,o,u,f]}class Iu extends ae{constructor(e){super(),ue(this,e,Su,Pu,fe,{})}}function Au(s){let e,t;return e=new ut({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ou(s){let e,t;return e=new Je({props:{title:"Remove "+s[2].nickname+"?",$$slots:{default:[Fu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.title="Remove "+n[2].nickname+"?"),r&636&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Du(s){let e,t,n,r,i,l;return i=new Re({props:{$$slots:{default:[ju]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=D("You do not have permission to remove this pokemon."),r=j(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=P(e);t=E(o,"P",{});var u=P(t);n=N(u,"You do not have permission to remove this pokemon."),u.forEach(c),r=C(o),F(i.$$.fragment,o),o.forEach(c)},m(a,o){b(a,e,o),m(e,t),m(t,n),m(e,r),M(i,e,null),l=!0},p(a,o){const u={};o&524&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&c(e),K(i)}}}function Nu(s){let e,t;return e=new ct({props:{saving:s[4],$$slots:{default:[Bu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.saving=n[4]),r&556&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ru(s){let e;return{c(){e=D("Go Back")},l(t){e=N(t,"Go Back")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function ju(s){let e,t;return e=new ge({props:{href:Pe+"/trainers?id="+s[3].info.readKey+"&pokemon="+s[2].id,$$slots:{default:[Ru]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&12&&(i.href=Pe+"/trainers?id="+n[3].info.readKey+"&pokemon="+n[2].id),r&512&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Sr(s){let e,t,n;return t=new ci({props:{media:s[5].media,alt:s[5].name}}),{c(){e=w("p"),B(t.$$.fragment),this.h()},l(r){e=E(r,"P",{class:!0});var i=P(e);F(t.$$.fragment,i),i.forEach(c),this.h()},h(){k(e,"class","centered greyscale svelte-c82wq0")},m(r,i){b(r,e,i),M(t,e,null),n=!0},p(r,i){const l={};i&32&&(l.media=r[5].media),i&32&&(l.alt=r[5].name),t.$set(l)},i(r){n||(T(t.$$.fragment,r),n=!0)},o(r){I(t.$$.fragment,r),n=!1},d(r){r&&c(e),K(t)}}}function Cu(s){let e;return{c(){e=D("Cancel")},l(t){e=N(t,"Cancel")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Lu(s){let e;return{c(){e=D("Delete")},l(t){e=N(t,"Delete")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Uu(s){let e,t,n,r;return e=new ge({props:{href:Pe+"/trainers?id="+s[3].info.readKey+"&pokemon="+s[2].id,variant:"ghost",$$slots:{default:[Cu]},$$scope:{ctx:s}}}),n=new ge({props:{variant:"danger",$$slots:{default:[Lu]},$$scope:{ctx:s}}}),n.$on("click",s[7]),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,l){const a={};l&12&&(a.href=Pe+"/trainers?id="+i[3].info.readKey+"&pokemon="+i[2].id),l&512&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l&512&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function Bu(s){var S;let e,t,n,r=s[2].nickname+"",i,l,a=s[3].info.name+"",o,u,f,h,d,_,p,$,g,y=((S=s[5].media)==null?void 0:S.main)&&Sr(s);return $=new Re({props:{$$slots:{default:[Uu]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=D("Are you sure you want to remove "),i=D(r),l=D(" from "),o=D(a),u=D("'s team?"),f=j(),h=w("p"),d=D("Removal is permanent and cannot be undone!"),_=j(),y&&y.c(),p=j(),B($.$$.fragment)},l(A){e=E(A,"SECTION",{});var U=P(e);t=E(U,"P",{});var Y=P(t);n=N(Y,"Are you sure you want to remove "),i=N(Y,r),l=N(Y," from "),o=N(Y,a),u=N(Y,"'s team?"),Y.forEach(c),f=C(U),h=E(U,"P",{});var L=P(h);d=N(L,"Removal is permanent and cannot be undone!"),L.forEach(c),_=C(U),y&&y.l(U),p=C(U),F($.$$.fragment,U),U.forEach(c)},m(A,U){b(A,e,U),m(e,t),m(t,n),m(t,i),m(t,l),m(t,o),m(t,u),m(e,f),m(e,h),m(h,d),m(e,_),y&&y.m(e,null),m(e,p),M($,e,null),g=!0},p(A,U){var L;(!g||U&4)&&r!==(r=A[2].nickname+"")&&le(i,r),(!g||U&8)&&a!==(a=A[3].info.name+"")&&le(o,a),(L=A[5].media)!=null&&L.main?y?(y.p(A,U),U&32&&T(y,1)):(y=Sr(A),y.c(),T(y,1),y.m(e,p)):y&&(_e(),I(y,1,1,()=>{y=null}),me());const Y={};U&524&&(Y.$$scope={dirty:U,ctx:A}),$.$set(Y)},i(A){g||(T(y),T($.$$.fragment,A),g=!0)},o(A){I(y),I($.$$.fragment,A),g=!1},d(A){A&&c(e),y&&y.d(),K($)}}}function Fu(s){let e,t,n,r;const i=[Nu,Du],l=[];function a(o,u){return o[6]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Mu(s){let e,t,n,r;const i=[Ou,Au],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Ku(s){let e,t;return e=new Yt({props:{trainer:s[3],id:s[1],titlePrefix:"Remove",$$slots:{default:[Mu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&8&&(i.trainer=n[3]),r&2&&(i.id=n[1]),r&636&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Hu(s,e,t){let n,r,i,l,a=ne,o=()=>(a(),a=qe(f,p=>t(3,l=p)),f),u;Ce(s,$t,p=>t(8,u=p)),s.$$.on_destroy.push(()=>a());let{trainer:f}=e;o();let{id:h}=e,d=!1;const _=()=>{var p;t(4,d=!0),(p=l.update)==null||p.removeFromTeam(h).then(()=>{He(`${Pe}/trainers?id=${l.info.readKey}`)}).catch(()=>{t(4,d=!1)})};return s.$$set=p=>{"trainer"in p&&o(t(0,f=p.trainer)),"id"in p&&t(1,h=p.id)},s.$$.update=()=>{s.$$.dirty&8&&t(6,n=l.update!=null),s.$$.dirty&10&&t(2,r=l.pokemon.find(p=>p.id===h)),s.$$.dirty&260&&t(5,i=u==null?void 0:u.find(p=>p.id===(r==null?void 0:r.pokemonId)))},[f,h,r,l,d,i,n,_,u]}class zu extends ae{constructor(e){super(),ue(this,e,Hu,Ku,fe,{trainer:0,id:1})}}function Ir(s,e,t){const n=s.slice();return n[6]=e[t],n}function Ar(s){let e,t=s[6]+"",n;return{c(){e=w("option"),n=D(t),this.h()},l(r){e=E(r,"OPTION",{});var i=P(e);n=N(i,t),i.forEach(c),this.h()},h(){e.__value=s[6],e.value=e.__value},m(r,i){b(r,e,i),m(e,n)},p:ne,d(r){r&&c(e)}}}function Or(s){let e,t,n,r,i,l,a,o,u,f,h;return{c(){e=w("span"),t=j(),n=w("span"),r=w("label"),i=D("Specify:"),a=j(),o=w("input"),this.h()},l(d){e=E(d,"SPAN",{}),P(e).forEach(c),t=C(d),n=E(d,"SPAN",{class:!0});var _=P(n);r=E(_,"LABEL",{for:!0});var p=P(r);i=N(p,"Specify:"),p.forEach(c),a=C(_),o=E(_,"INPUT",{class:!0,id:!0,type:!0}),_.forEach(c),this.h()},h(){k(r,"for",l=s[2]+"-custom"),k(o,"class","full-width"),k(o,"id",u=s[2]+"-custom"),k(o,"type","text"),o.disabled=s[3],k(n,"class","hrow")},m(d,_){b(d,e,_),b(d,t,_),b(d,n,_),m(n,r),m(r,i),m(n,a),m(n,o),$e(o,s[1]),f||(h=he(o,"input",s[5]),f=!0)},p(d,_){_&4&&l!==(l=d[2]+"-custom")&&k(r,"for",l),_&4&&u!==(u=d[2]+"-custom")&&k(o,"id",u),_&8&&(o.disabled=d[3]),_&2&&o.value!==d[1]&&$e(o,d[1])},d(d){d&&c(e),d&&c(t),d&&c(n),f=!1,h()}}}function Gu(s){let e,t,n,r,i,l,a,o,u,f,h=zt,d=[];for(let p=0;p<h.length;p+=1)d[p]=Ar(Ir(s,h,p));let _=s[0]==="other"&&Or(s);return{c(){e=w("label"),t=D("Nature"),n=j(),r=w("select");for(let p=0;p<d.length;p+=1)d[p].c();i=w("option"),l=D("Other"),a=j(),_&&_.c(),o=re(),this.h()},l(p){e=E(p,"LABEL",{for:!0});var $=P(e);t=N($,"Nature"),$.forEach(c),n=C(p),r=E(p,"SELECT",{id:!0,class:!0});var g=P(r);for(let S=0;S<d.length;S+=1)d[S].l(g);i=E(g,"OPTION",{});var y=P(i);l=N(y,"Other"),y.forEach(c),g.forEach(c),a=C(p),_&&_.l(p),o=re(),this.h()},h(){k(e,"for",s[2]),i.__value="other",i.value=i.__value,k(r,"id",s[2]),k(r,"class","cap"),r.disabled=s[3],s[0]===void 0&&jt(()=>s[4].call(r))},m(p,$){b(p,e,$),m(e,t),b(p,n,$),b(p,r,$);for(let g=0;g<d.length;g+=1)d[g].m(r,null);m(r,i),m(i,l),Ze(r,s[0]),b(p,a,$),_&&_.m(p,$),b(p,o,$),u||(f=he(r,"change",s[4]),u=!0)},p(p,[$]){if($&4&&k(e,"for",p[2]),$&0){h=zt;let g;for(g=0;g<h.length;g+=1){const y=Ir(p,h,g);d[g]?d[g].p(y,$):(d[g]=Ar(y),d[g].c(),d[g].m(r,i))}for(;g<d.length;g+=1)d[g].d(1);d.length=h.length}$&4&&k(r,"id",p[2]),$&8&&(r.disabled=p[3]),$&1&&Ze(r,p[0]),p[0]==="other"?_?_.p(p,$):(_=Or(p),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},i:ne,o:ne,d(p){p&&c(e),p&&c(n),p&&c(r),De(d,p),p&&c(a),_&&_.d(p),p&&c(o),u=!1,f()}}}function qu(s,e,t){let{id:n}=e,{value:r}=e,{custom:i}=e,{disabled:l=!1}=e;function a(){r=Ct(this),t(0,r)}function o(){i=this.value,t(1,i)}return s.$$set=u=>{"id"in u&&t(2,n=u.id),"value"in u&&t(0,r=u.value),"custom"in u&&t(1,i=u.custom),"disabled"in u&&t(3,l=u.disabled)},[r,i,n,l,a,o]}class Vu extends ae{constructor(e){super(),ue(this,e,qu,Gu,fe,{id:2,value:0,custom:1,disabled:3})}}function Dr(s,e,t){const n=s.slice();return n[9]=e[t],n}function Nr(s){let e,t=s[9].name+"",n,r;return{c(){e=w("option"),n=D(t),this.h()},l(i){e=E(i,"OPTION",{});var l=P(e);n=N(l,t),l.forEach(c),this.h()},h(){e.__value=r=s[9].id,e.value=e.__value},m(i,l){b(i,e,l),m(e,n)},p(i,l){l&4&&t!==(t=i[9].name+"")&&le(n,t),l&4&&r!==(r=i[9].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&c(e)}}}function Ju(s){let e;return{c(){e=D("Remove")},l(t){e=N(t,"Remove")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Yu(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y,L,X,q,z,te,W=s[2]??[],Z=[];for(let G=0;G<W.length;G+=1)Z[G]=Nr(Dr(s,W,G));return u=new ge({props:{$$slots:{default:[Ju]},$$scope:{ctx:s}}}),u.$on("click",s[4]),{c(){e=w("label"),t=D("Move"),r=j(),i=w("div"),l=w("select");for(let G=0;G<Z.length;G+=1)Z[G].c();o=j(),B(u.$$.fragment),f=j(),h=w("label"),d=D("Max PP"),p=j(),$=w("input"),y=j(),S=w("label"),A=D("Notes"),Y=j(),L=w("textarea"),this.h()},l(G){e=E(G,"LABEL",{for:!0});var v=P(e);t=N(v,"Move"),v.forEach(c),r=C(G),i=E(G,"DIV",{class:!0});var O=P(i);l=E(O,"SELECT",{id:!0});var H=P(l);for(let R=0;R<Z.length;R+=1)Z[R].l(H);H.forEach(c),o=C(O),F(u.$$.fragment,O),O.forEach(c),f=C(G),h=E(G,"LABEL",{for:!0});var Q=P(h);d=N(Q,"Max PP"),Q.forEach(c),p=C(G),$=E(G,"INPUT",{id:!0,type:!0}),y=C(G),S=E(G,"LABEL",{for:!0});var V=P(S);A=N(V,"Notes"),V.forEach(c),Y=C(G),L=E(G,"TEXTAREA",{id:!0,rows:!0}),P(L).forEach(c),this.h()},h(){k(e,"for",n="move-name-input-"+s[0].id),k(l,"id",a="move-name-input-"+s[0].id),s[0].moveId===void 0&&jt(()=>s[5].call(l)),ve(l,"flex","1"),k(i,"class","flex-row svelte-m4o28r"),k(h,"for",_="move-pp-input-"+s[0].id),k($,"id",g="move-pp-input-"+s[0].id),k($,"type","number"),$.disabled=s[1],k(S,"for",U="move-notes-input-"+s[0].id),ve(S,"place-self","start"),k(L,"id",X="move-notes-input-"+s[0].id),k(L,"rows","5"),ve(L,"margin-block-end","1em")},m(G,v){b(G,e,v),m(e,t),b(G,r,v),b(G,i,v),m(i,l);for(let O=0;O<Z.length;O+=1)Z[O].m(l,null);Ze(l,s[0].moveId),m(i,o),M(u,i,null),b(G,f,v),b(G,h,v),m(h,d),b(G,p,v),b(G,$,v),$e($,s[0].pp.max),b(G,y,v),b(G,S,v),m(S,A),b(G,Y,v),b(G,L,v),$e(L,s[0].notes),q=!0,z||(te=[he(l,"change",s[5]),he(l,"change",s[3]),he($,"input",s[6]),he(L,"input",s[7])],z=!0)},p(G,[v]){if((!q||v&5&&n!==(n="move-name-input-"+G[0].id))&&k(e,"for",n),v&4){W=G[2]??[];let H;for(H=0;H<W.length;H+=1){const Q=Dr(G,W,H);Z[H]?Z[H].p(Q,v):(Z[H]=Nr(Q),Z[H].c(),Z[H].m(l,null))}for(;H<Z.length;H+=1)Z[H].d(1);Z.length=W.length}(!q||v&5&&a!==(a="move-name-input-"+G[0].id))&&k(l,"id",a),v&5&&Ze(l,G[0].moveId);const O={};v&4096&&(O.$$scope={dirty:v,ctx:G}),u.$set(O),(!q||v&5&&_!==(_="move-pp-input-"+G[0].id))&&k(h,"for",_),(!q||v&5&&g!==(g="move-pp-input-"+G[0].id))&&k($,"id",g),(!q||v&2)&&($.disabled=G[1]),v&5&&Qe($.value)!==G[0].pp.max&&$e($,G[0].pp.max),(!q||v&5&&U!==(U="move-notes-input-"+G[0].id))&&k(S,"for",U),(!q||v&5&&X!==(X="move-notes-input-"+G[0].id))&&k(L,"id",X),v&5&&$e(L,G[0].notes)},i(G){q||(T(u.$$.fragment,G),q=!0)},o(G){I(u.$$.fragment,G),q=!1},d(G){G&&c(e),G&&c(r),G&&c(i),De(Z,G),K(u),G&&c(f),G&&c(h),G&&c(p),G&&c($),G&&c(y),G&&c(S),G&&c(Y),G&&c(L),z=!1,ot(te)}}}function Wu(s,e,t){let n;Ce(s,pn,d=>t(2,n=d));const r=at();let{move:i}=e,{disabled:l=!1}=e;const a=()=>{var _;const d=((_=n.find(p=>p.id===i.moveId))==null?void 0:_.pp)??0;t(0,i.pp.current=d,i),t(0,i.pp.max=d,i)},o=()=>{r("remove")};function u(){i.moveId=Ct(this),t(0,i)}function f(){i.pp.max=Qe(this.value),t(0,i)}function h(){i.notes=this.value,t(0,i)}return s.$$set=d=>{"move"in d&&t(0,i=d.move),"disabled"in d&&t(1,l=d.disabled)},[i,l,n,a,o,u,f,h]}class Xu extends ae{constructor(e){super(),ue(this,e,Wu,Yu,fe,{move:0,disabled:1})}}function Rr(s,e,t){const n=s.slice();return n[8]=e[t],n}function jr(s,e,t){const n=s.slice();return n[8]=e[t],n}function Cr(s,e,t){const n=s.slice();return n[8]=e[t],n}function Lr(s){let e,t=s[8]+"",n;return{c(){e=w("option"),n=D(t),this.h()},l(r){e=E(r,"OPTION",{class:!0});var i=P(e);n=N(i,t),i.forEach(c),this.h()},h(){e.__value=s[8],e.value=e.__value,k(e,"class","svelte-tpuskh")},m(r,i){b(r,e,i),m(e,n)},p:ne,d(r){r&&c(e)}}}function Ur(s){let e,t=s[8]+"",n,r;return{c(){e=w("option"),n=D(t),this.h()},l(i){e=E(i,"OPTION",{class:!0});var l=P(e);n=N(l,t),l.forEach(c),this.h()},h(){e.__value=s[8],e.value=e.__value,e.disabled=r=s[8]===s[1],k(e,"class","svelte-tpuskh")},m(i,l){b(i,e,l),m(e,n)},p(i,l){l&2&&r!==(r=i[8]===i[1])&&(e.disabled=r)},d(i){i&&c(e)}}}function Br(s){let e,t,n,r,i,l,a=s[8]+"",o,u,f,h;return{c(){e=w("input"),i=j(),l=w("label"),o=D(a),this.h()},l(d){e=E(d,"INPUT",{id:!0,type:!0}),i=C(d),l=E(d,"LABEL",{for:!0,class:!0});var _=P(l);o=N(_,a),_.forEach(c),this.h()},h(){k(e,"id",t=s[0]+"-checkbox-"+s[8]),k(e,"type","checkbox"),e.value=s[8],e.disabled=n=s[8]===s[1]||s[8]===s[2],e.checked=r=s[3].includes(s[8])||s[8]===s[1]||s[8]===s[2],k(l,"for",u=s[0]+"-checkbox-"+s[8]),k(l,"class","cap")},m(d,_){b(d,e,_),b(d,i,_),b(d,l,_),m(l,o),f||(h=he(e,"change",s[4]),f=!0)},p(d,_){_&1&&t!==(t=d[0]+"-checkbox-"+d[8])&&k(e,"id",t),_&6&&n!==(n=d[8]===d[1]||d[8]===d[2])&&(e.disabled=n),_&14&&r!==(r=d[3].includes(d[8])||d[8]===d[1]||d[8]===d[2])&&(e.checked=r),_&1&&u!==(u=d[0]+"-checkbox-"+d[8])&&k(l,"for",u)},d(d){d&&c(e),d&&c(i),d&&c(l),f=!1,h()}}}function Zu(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y,L,X,q=ht,z=[];for(let v=0;v<q.length;v+=1)z[v]=Lr(Cr(s,q,v));let te=ht,W=[];for(let v=0;v<te.length;v+=1)W[v]=Ur(jr(s,te,v));let Z=ht,G=[];for(let v=0;v<Z.length;v+=1)G[v]=Br(Rr(s,Z,v));return{c(){e=w("label"),t=D("Primary"),r=j(),i=w("select");for(let v=0;v<z.length;v+=1)z[v].c();a=j(),o=w("label"),u=D("Secondary"),h=j(),d=w("select"),_=w("option"),p=D("- None -");for(let v=0;v<W.length;v+=1)W[v].c();g=j(),y=w("fieldset"),S=w("legend"),A=D("Additional Types"),U=j(),Y=w("div");for(let v=0;v<G.length;v+=1)G[v].c();this.h()},l(v){e=E(v,"LABEL",{for:!0});var O=P(e);t=N(O,"Primary"),O.forEach(c),r=C(v),i=E(v,"SELECT",{id:!0});var H=P(i);for(let J=0;J<z.length;J+=1)z[J].l(H);H.forEach(c),a=C(v),o=E(v,"LABEL",{for:!0});var Q=P(o);u=N(Q,"Secondary"),Q.forEach(c),h=C(v),d=E(v,"SELECT",{id:!0});var V=P(d);_=E(V,"OPTION",{class:!0});var R=P(_);p=N(R,"- None -"),R.forEach(c);for(let J=0;J<W.length;J+=1)W[J].l(V);V.forEach(c),g=C(v),y=E(v,"FIELDSET",{});var x=P(y);S=E(x,"LEGEND",{});var ee=P(S);A=N(ee,"Additional Types"),ee.forEach(c),U=C(x),Y=E(x,"DIV",{class:!0});var ie=P(Y);for(let J=0;J<G.length;J+=1)G[J].l(ie);ie.forEach(c),x.forEach(c),this.h()},h(){k(e,"for",n=s[0]+"-primary"),k(i,"id",l=s[0]+"-primary"),i.required=!0,s[1]===void 0&&jt(()=>s[6].call(i)),k(o,"for",f=s[0]+"-secondary"),_.__value=cn,_.value=_.__value,k(_,"class","svelte-tpuskh"),k(d,"id",$=s[0]+"-secondary"),s[2]===void 0&&jt(()=>s[7].call(d)),k(Y,"class","three-columns svelte-tpuskh"),ve(y,"grid-column","span 2")},m(v,O){b(v,e,O),m(e,t),b(v,r,O),b(v,i,O);for(let H=0;H<z.length;H+=1)z[H].m(i,null);Ze(i,s[1]),b(v,a,O),b(v,o,O),m(o,u),b(v,h,O),b(v,d,O),m(d,_),m(_,p);for(let H=0;H<W.length;H+=1)W[H].m(d,null);Ze(d,s[2]),b(v,g,O),b(v,y,O),m(y,S),m(S,A),m(y,U),m(y,Y);for(let H=0;H<G.length;H+=1)G[H].m(Y,null);L||(X=[he(i,"change",s[6]),he(d,"change",s[7])],L=!0)},p(v,O){if(O&1&&n!==(n=v[0]+"-primary")&&k(e,"for",n),O&0){q=ht;let H;for(H=0;H<q.length;H+=1){const Q=Cr(v,q,H);z[H]?z[H].p(Q,O):(z[H]=Lr(Q),z[H].c(),z[H].m(i,null))}for(;H<z.length;H+=1)z[H].d(1);z.length=q.length}if(O&1&&l!==(l=v[0]+"-primary")&&k(i,"id",l),O&2&&Ze(i,v[1]),O&1&&f!==(f=v[0]+"-secondary")&&k(o,"for",f),O&2){te=ht;let H;for(H=0;H<te.length;H+=1){const Q=jr(v,te,H);W[H]?W[H].p(Q,O):(W[H]=Ur(Q),W[H].c(),W[H].m(d,null))}for(;H<W.length;H+=1)W[H].d(1);W.length=te.length}if(O&1&&$!==($=v[0]+"-secondary")&&k(d,"id",$),O&4&&Ze(d,v[2]),O&31){Z=ht;let H;for(H=0;H<Z.length;H+=1){const Q=Rr(v,Z,H);G[H]?G[H].p(Q,O):(G[H]=Br(Q),G[H].c(),G[H].m(Y,null))}for(;H<G.length;H+=1)G[H].d(1);G.length=Z.length}},d(v){v&&c(e),v&&c(r),v&&c(i),De(z,v),v&&c(a),v&&c(o),v&&c(h),v&&c(d),De(W,v),v&&c(g),v&&c(y),De(G,v),L=!1,ot(X)}}}function Qu(s){let e,t;return e=new Ke({props:{title:"Type",$$slots:{default:[Zu]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&32783&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}const cn="";function xu(s,e,t){let{value:n}=e,{id:r="type-input"}=e,i=n[0],l=n[1]??cn,a=n.slice(2);const o=h=>{const d=h.target;d.checked?t(3,a=a.concat([d.value])):t(3,a=a.filter(_=>_!==d.value))};function u(){i=Ct(this),t(1,i)}function f(){l=Ct(this),t(2,l),t(1,i)}return s.$$set=h=>{"value"in h&&t(5,n=h.value),"id"in h&&t(0,r=h.id)},s.$$.update=()=>{s.$$.dirty&6&&t(2,l=i===l?cn:l),s.$$.dirty&14&&t(5,n=[...new Set([i,l].concat(a).filter(_i))])},[r,i,l,a,o,n,u,f]}class ef extends ae{constructor(e){super(),ue(this,e,xu,Qu,fe,{value:5,id:0})}}function tf(s){let e,t,n,r,i,l;const a=s[2].default,o=rt(a,s,s[1],null);return{c(){e=w("details"),t=w("summary"),n=w("h2"),r=D(s[0]),i=j(),o&&o.c(),this.h()},l(u){e=E(u,"DETAILS",{class:!0});var f=P(e);t=E(f,"SUMMARY",{class:!0});var h=P(t);n=E(h,"H2",{class:!0});var d=P(n);r=N(d,s[0]),d.forEach(c),h.forEach(c),i=C(f),o&&o.l(f),f.forEach(c),this.h()},h(){k(n,"class","svelte-gbgwgm"),k(t,"class","svelte-gbgwgm"),k(e,"class","svelte-gbgwgm")},m(u,f){b(u,e,f),m(e,t),m(t,n),m(n,r),m(e,i),o&&o.m(e,null),l=!0},p(u,[f]){(!l||f&1)&&le(r,u[0]),o&&o.p&&(!l||f&2)&&it(o,a,u,u[1],l?lt(a,u[1],f,null):st(u[1]),null)},i(u){l||(T(o,u),l=!0)},o(u){I(o,u),l=!1},d(u){u&&c(e),o&&o.d(u)}}}function nf(s,e,t){let{$$slots:n={},$$scope:r}=e,{title:i}=e;return s.$$set=l=>{"title"in l&&t(0,i=l.title),"$$scope"in l&&t(1,r=l.$$scope)},[i,r,n]}class rf extends ae{constructor(e){super(),ue(this,e,nf,tf,fe,{title:0})}}function Fr(s,e,t){const n=s.slice();return n[45]=e[t],n}function Mr(s,e,t){const n=s.slice();return n[48]=e[t],n}function Kr(s,e,t){const n=s.slice();n[51]=e[t];const r=n[18](n[51].name);return n[52]=r,n}function Hr(s,e,t){const n=s.slice();return n[55]=e[t],n}function zr(s,e,t){const n=s.slice();return n[48]=e[t],n[58]=e,n[59]=t,n}function sf(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y,L,X,q,z,te,W,Z,G,v,O;function H(R){s[26](R)}function Q(R){s[27](R)}let V={id:"nature-input",disabled:s[17]};return s[3]!==void 0&&(V.value=s[3]),s[4]!==void 0&&(V.custom=s[4]),l=new Vu({props:V}),Et.push(()=>Tt(l,"value",H)),Et.push(()=>Tt(l,"custom",Q)),{c(){e=w("label"),t=D("Nickname"),n=j(),r=w("input"),i=j(),B(l.$$.fragment),u=j(),f=w("label"),h=D("Level"),d=j(),_=w("input"),p=j(),$=w("label"),g=D("AC"),y=j(),S=w("input"),A=j(),U=w("label"),Y=D("Max HP"),L=j(),X=w("input"),q=j(),z=w("label"),te=D("Max Hit Dice"),W=j(),Z=w("input"),this.h()},l(R){e=E(R,"LABEL",{for:!0});var x=P(e);t=N(x,"Nickname"),x.forEach(c),n=C(R),r=E(R,"INPUT",{name:!0,id:!0,type:!0}),i=C(R),F(l.$$.fragment,R),u=C(R),f=E(R,"LABEL",{for:!0});var ee=P(f);h=N(ee,"Level"),ee.forEach(c),d=C(R),_=E(R,"INPUT",{name:!0,id:!0,type:!0,min:!0,max:!0}),p=C(R),$=E(R,"LABEL",{for:!0});var ie=P($);g=N(ie,"AC"),ie.forEach(c),y=C(R),S=E(R,"INPUT",{name:!0,id:!0,min:!0,max:!0,type:!0}),A=C(R),U=E(R,"LABEL",{for:!0});var J=P(U);Y=N(J,"Max HP"),J.forEach(c),L=C(R),X=E(R,"INPUT",{name:!0,id:!0,min:!0,type:!0}),q=C(R),z=E(R,"LABEL",{for:!0});var se=P(z);te=N(se,"Max Hit Dice"),se.forEach(c),W=C(R),Z=E(R,"INPUT",{name:!0,id:!0,min:!0,type:!0}),this.h()},h(){k(e,"for","nickname-input"),k(r,"name","name"),k(r,"id","nickname-input"),k(r,"type","text"),r.disabled=s[17],k(f,"for","level-input"),k(_,"name","level"),k(_,"id","level-input"),k(_,"type","number"),k(_,"min","1"),k(_,"max","20"),_.value=s[5],_.disabled=s[17],k($,"for","ac-input"),k(S,"name","ac"),k(S,"id","ac-input"),k(S,"min","0"),k(S,"max","30"),k(S,"type","number"),S.disabled=s[17],k(U,"for","max-hp-input"),k(X,"name","max-hp"),k(X,"id","max-hp-input"),k(X,"min","1"),k(X,"type","number"),X.disabled=s[17],k(z,"for","max-hit-dice-input"),k(Z,"name","max-hit-dice"),k(Z,"id","max-hit-dice-input"),k(Z,"min","1"),k(Z,"type","number"),Z.disabled=s[17]},m(R,x){b(R,e,x),m(e,t),b(R,n,x),b(R,r,x),$e(r,s[2]),b(R,i,x),M(l,R,x),b(R,u,x),b(R,f,x),m(f,h),b(R,d,x),b(R,_,x),b(R,p,x),b(R,$,x),m($,g),b(R,y,x),b(R,S,x),$e(S,s[6]),b(R,A,x),b(R,U,x),m(U,Y),b(R,L,x),b(R,X,x),$e(X,s[7]),b(R,q,x),b(R,z,x),m(z,te),b(R,W,x),b(R,Z,x),$e(Z,s[8]),G=!0,v||(O=[he(r,"input",s[25]),he(_,"change",s[19]),he(S,"input",s[28]),he(X,"input",s[29]),he(Z,"input",s[30])],v=!0)},p(R,x){(!G||x[0]&131072)&&(r.disabled=R[17]),x[0]&4&&r.value!==R[2]&&$e(r,R[2]);const ee={};x[0]&131072&&(ee.disabled=R[17]),!a&&x[0]&8&&(a=!0,ee.value=R[3],Pt(()=>a=!1)),!o&&x[0]&16&&(o=!0,ee.custom=R[4],Pt(()=>o=!1)),l.$set(ee),(!G||x[0]&32&&_.value!==R[5])&&(_.value=R[5]),(!G||x[0]&131072)&&(_.disabled=R[17]),(!G||x[0]&131072)&&(S.disabled=R[17]),x[0]&64&&Qe(S.value)!==R[6]&&$e(S,R[6]),(!G||x[0]&131072)&&(X.disabled=R[17]),x[0]&128&&Qe(X.value)!==R[7]&&$e(X,R[7]),(!G||x[0]&131072)&&(Z.disabled=R[17]),x[0]&256&&Qe(Z.value)!==R[8]&&$e(Z,R[8])},i(R){G||(T(l.$$.fragment,R),G=!0)},o(R){I(l.$$.fragment,R),G=!1},d(R){R&&c(e),R&&c(n),R&&c(r),R&&c(i),K(l,R),R&&c(u),R&&c(f),R&&c(d),R&&c(_),R&&c(p),R&&c($),R&&c(y),R&&c(S),R&&c(A),R&&c(U),R&&c(L),R&&c(X),R&&c(q),R&&c(z),R&&c(W),R&&c(Z),v=!1,ot(O)}}}function lf(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y;return{c(){e=w("input"),t=j(),n=w("label"),r=D("Male"),i=j(),l=w("input"),a=j(),o=w("label"),u=D("Female"),f=j(),h=w("input"),d=j(),_=w("label"),p=D("None"),$=j(),g=w("input"),y=j(),S=w("label"),A=D("Other"),this.h()},l(L){e=E(L,"INPUT",{type:!0,id:!0,name:!0}),t=C(L),n=E(L,"LABEL",{for:!0});var X=P(n);r=N(X,"Male"),X.forEach(c),i=C(L),l=E(L,"INPUT",{type:!0,id:!0,name:!0}),a=C(L),o=E(L,"LABEL",{for:!0});var q=P(o);u=N(q,"Female"),q.forEach(c),f=C(L),h=E(L,"INPUT",{type:!0,id:!0,name:!0}),d=C(L),_=E(L,"LABEL",{for:!0});var z=P(_);p=N(z,"None"),z.forEach(c),$=C(L),g=E(L,"INPUT",{type:!0,id:!0,name:!0}),y=C(L),S=E(L,"LABEL",{for:!0});var te=P(S);A=N(te,"Other"),te.forEach(c),this.h()},h(){e.__value=xe.Male,e.value=e.__value,k(e,"type","radio"),k(e,"id","gender-input-male"),k(e,"name","gender"),e.disabled=s[17],s[32][2].push(e),k(n,"for","gender-input-male"),l.__value=xe.Female,l.value=l.__value,k(l,"type","radio"),k(l,"id","gender-input-female"),k(l,"name","gender"),l.disabled=s[17],s[32][2].push(l),k(o,"for","gender-input-female"),h.__value=xe.None,h.value=h.__value,k(h,"type","radio"),k(h,"id","gender-input-none"),k(h,"name","gender"),h.disabled=s[17],s[32][2].push(h),k(_,"for","gender-input-none"),g.__value=xe.Other,g.value=g.__value,k(g,"type","radio"),k(g,"id","gender-input-other"),k(g,"name","gender"),g.disabled=s[17],s[32][2].push(g),k(S,"for","gender-input-other")},m(L,X){b(L,e,X),e.checked=e.__value===s[9],b(L,t,X),b(L,n,X),m(n,r),b(L,i,X),b(L,l,X),l.checked=l.__value===s[9],b(L,a,X),b(L,o,X),m(o,u),b(L,f,X),b(L,h,X),h.checked=h.__value===s[9],b(L,d,X),b(L,_,X),m(_,p),b(L,$,X),b(L,g,X),g.checked=g.__value===s[9],b(L,y,X),b(L,S,X),m(S,A),U||(Y=[he(e,"change",s[31]),he(l,"change",s[33]),he(h,"change",s[34]),he(g,"change",s[35])],U=!0)},p(L,X){X[0]&131072&&(e.disabled=L[17]),X[0]&512&&(e.checked=e.__value===L[9]),X[0]&131072&&(l.disabled=L[17]),X[0]&512&&(l.checked=l.__value===L[9]),X[0]&131072&&(h.disabled=L[17]),X[0]&512&&(h.checked=h.__value===L[9]),X[0]&131072&&(g.disabled=L[17]),X[0]&512&&(g.checked=g.__value===L[9])},d(L){L&&c(e),s[32][2].splice(s[32][2].indexOf(e),1),L&&c(t),L&&c(n),L&&c(i),L&&c(l),s[32][2].splice(s[32][2].indexOf(l),1),L&&c(a),L&&c(o),L&&c(f),L&&c(h),s[32][2].splice(s[32][2].indexOf(h),1),L&&c(d),L&&c(_),L&&c($),L&&c(g),s[32][2].splice(s[32][2].indexOf(g),1),L&&c(y),L&&c(S),U=!1,ot(Y)}}}function Gr(s){let e,t=s[48].abbr+"",n,r,i,l,a;function o(){s[36].call(i,s[48])}return{c(){e=w("label"),n=D(t),r=j(),i=w("input"),this.h()},l(u){e=E(u,"LABEL",{for:!0,class:!0});var f=P(e);n=N(f,t),f.forEach(c),r=C(u),i=E(u,"INPUT",{name:!0,id:!0,min:!0,max:!0,type:!0}),this.h()},h(){k(e,"for",s[48].abbr+"-input"),k(e,"class","upper"),k(i,"name",s[48].abbr),k(i,"id",s[48].abbr+"-input"),k(i,"min","0"),k(i,"max","30"),k(i,"type","number"),i.disabled=s[17],ve(i,"max-width","4em")},m(u,f){b(u,e,f),m(e,n),b(u,r,f),b(u,i,f),$e(i,s[10][s[48].abbr]),l||(a=he(i,"input",o),l=!0)},p(u,f){s=u,f[0]&131072&&(i.disabled=s[17]),f[0]&1024&&Qe(i.value)!==s[10][s[48].abbr]&&$e(i,s[10][s[48].abbr])},d(u){u&&c(e),u&&c(r),u&&c(i),l=!1,a()}}}function of(s){let e,t=Ht,n=[];for(let r=0;r<t.length;r+=1)n[r]=Gr(zr(s,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let i=0;i<n.length;i+=1)n[i].l(r);e=re()},m(r,i){for(let l=0;l<n.length;l+=1)n[l].m(r,i);b(r,e,i)},p(r,i){if(i[0]&132096){t=Ht;let l;for(l=0;l<t.length;l+=1){const a=zr(r,t,l);n[l]?n[l].p(a,i):(n[l]=Gr(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){De(n,r),r&&c(e)}}}function qr(s){let e,t=s[55].name+"",n,r;return{c(){e=w("option"),n=D(t),this.h()},l(i){e=E(i,"OPTION",{});var l=P(e);n=N(l,t),l.forEach(c),this.h()},h(){e.__value=r=s[55].id,e.value=e.__value},m(i,l){b(i,e,l),m(e,n)},p(i,l){l[0]&1&&t!==(t=i[55].name+"")&&le(n,t),l[0]&1&&r!==(r=i[55].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&c(e)}}}function af(s){let e,t,n,r,i,l,a=s[0].abilities,o=[];for(let u=0;u<a.length;u+=1)o[u]=qr(Hr(s,a,u));return{c(){e=w("label"),t=D("Ability"),n=j(),r=w("select");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=E(u,"LABEL",{for:!0});var f=P(e);t=N(f,"Ability"),f.forEach(c),n=C(u),r=E(u,"SELECT",{id:!0});var h=P(r);for(let d=0;d<o.length;d+=1)o[d].l(h);h.forEach(c),this.h()},h(){k(e,"for","ability-input"),k(r,"id","ability-input"),s[11]===void 0&&jt(()=>s[37].call(r))},m(u,f){b(u,e,f),m(e,t),b(u,n,f),b(u,r,f);for(let h=0;h<o.length;h+=1)o[h].m(r,null);Ze(r,s[11]),i||(l=he(r,"change",s[37]),i=!0)},p(u,f){if(f[0]&1){a=u[0].abilities;let h;for(h=0;h<a.length;h+=1){const d=Hr(u,a,h);o[h]?o[h].p(d,f):(o[h]=qr(d),o[h].c(),o[h].m(r,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=a.length}f[0]&2049&&Ze(r,u[11])},d(u){u&&c(e),u&&c(n),u&&c(r),De(o,u),i=!1,l()}}}function Vr(s){let e,t,n,r=s[51].name+"",i,l,a;return{c(){e=w("input"),t=j(),n=w("label"),i=D(r),this.h()},l(o){e=E(o,"INPUT",{type:!0,id:!0,name:!0}),t=C(o),n=E(o,"LABEL",{for:!0,class:!0});var u=P(n);i=N(u,r),u.forEach(c),this.h()},h(){e.__value=s[51].name,e.value=e.__value,k(e,"type","checkbox"),k(e,"id","proficiencies-input-"+s[52]),k(e,"name","proficiencies"),e.disabled=s[17],s[32][1].push(e),k(n,"for","proficiencies-input-"+s[52]),k(n,"class","cap")},m(o,u){b(o,e,u),e.checked=~s[12].indexOf(e.__value),b(o,t,u),b(o,n,u),m(n,i),l||(a=he(e,"change",s[38]),l=!0)},p(o,u){u[0]&131072&&(e.disabled=o[17]),u[0]&4096&&(e.checked=~o[12].indexOf(e.__value))},d(o){o&&c(e),s[32][1].splice(s[32][1].indexOf(e),1),o&&c(t),o&&c(n),l=!1,a()}}}function uf(s){let e,t=on,n=[];for(let r=0;r<t.length;r+=1)n[r]=Vr(Kr(s,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let i=0;i<n.length;i+=1)n[i].l(r);e=re()},m(r,i){for(let l=0;l<n.length;l+=1)n[l].m(r,i);b(r,e,i)},p(r,i){if(i[0]&397312){t=on;let l;for(l=0;l<t.length;l+=1){const a=Kr(r,t,l);n[l]?n[l].p(a,i):(n[l]=Vr(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){De(n,r),r&&c(e)}}}function Jr(s){let e,t,n,r=s[48].name+"",i,l,a;return{c(){e=w("input"),t=j(),n=w("label"),i=D(r),this.h()},l(o){e=E(o,"INPUT",{type:!0,id:!0,name:!0}),t=C(o),n=E(o,"LABEL",{for:!0,class:!0});var u=P(n);i=N(u,r),u.forEach(c),this.h()},h(){e.__value=s[48].abbr,e.value=e.__value,k(e,"type","checkbox"),k(e,"id","saves-input-"+s[48].abbr),k(e,"name","saves"),e.disabled=s[17],s[32][0].push(e),k(n,"for","saves-input-"+s[48].abbr),k(n,"class","cap")},m(o,u){b(o,e,u),e.checked=~s[13].indexOf(e.__value),b(o,t,u),b(o,n,u),m(n,i),l||(a=he(e,"change",s[39]),l=!0)},p(o,u){u[0]&131072&&(e.disabled=o[17]),u[0]&8192&&(e.checked=~o[13].indexOf(e.__value))},d(o){o&&c(e),s[32][0].splice(s[32][0].indexOf(e),1),o&&c(t),o&&c(n),l=!1,a()}}}function ff(s){let e,t=Ht,n=[];for(let r=0;r<t.length;r+=1)n[r]=Jr(Mr(s,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let i=0;i<n.length;i+=1)n[i].l(r);e=re()},m(r,i){for(let l=0;l<n.length;l+=1)n[l].m(r,i);b(r,e,i)},p(r,i){if(i[0]&139264){t=Ht;let l;for(l=0;l<t.length;l+=1){const a=Mr(r,t,l);n[l]?n[l].p(a,i):(n[l]=Jr(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){De(n,r),r&&c(e)}}}function Yr(s,e){let t,n,r;return n=new Xu({props:{move:e[45],disabled:e[17]}}),n.$on("remove",function(){hn(e[20](e[45].id))&&e[20](e[45].id).apply(this,arguments)}),{key:s,first:null,c(){t=re(),B(n.$$.fragment),this.h()},l(i){t=re(),F(n.$$.fragment,i),this.h()},h(){this.first=t},m(i,l){b(i,t,l),M(n,i,l),r=!0},p(i,l){e=i;const a={};l[0]&65536&&(a.move=e[45]),l[0]&131072&&(a.disabled=e[17]),n.$set(a)},i(i){r||(T(n.$$.fragment,i),r=!0)},o(i){I(n.$$.fragment,i),r=!1},d(i){i&&c(t),K(n,i)}}}function cf(s){let e;return{c(){e=D("Add Move")},l(t){e=N(t,"Add Move")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function hf(s){let e=[],t=new Map,n,r,i,l,a,o=s[16];const u=f=>f[45].id;for(let f=0;f<o.length;f+=1){let h=Fr(s,o,f),d=u(h);t.set(d,e[f]=Yr(d,h))}return l=new ge({props:{$$slots:{default:[cf]},$$scope:{ctx:s}}}),l.$on("click",s[21]),{c(){for(let f=0;f<e.length;f+=1)e[f].c();n=j(),r=w("span"),i=j(),B(l.$$.fragment)},l(f){for(let h=0;h<e.length;h+=1)e[h].l(f);n=C(f),r=E(f,"SPAN",{}),P(r).forEach(c),i=C(f),F(l.$$.fragment,f)},m(f,h){for(let d=0;d<e.length;d+=1)e[d].m(f,h);b(f,n,h),b(f,r,h),b(f,i,h),M(l,f,h),a=!0},p(f,h){h[0]&1245184&&(o=f[16],_e(),e=oi(e,h,u,1,f,o,t,n.parentNode,ai,Yr,n,Fr),me());const d={};h[1]&536870912&&(d.$$scope={dirty:h,ctx:f}),l.$set(d)},i(f){if(!a){for(let h=0;h<o.length;h+=1)T(e[h]);T(l.$$.fragment,f),a=!0}},o(f){for(let h=0;h<e.length;h+=1)I(e[h]);I(l.$$.fragment,f),a=!1},d(f){for(let h=0;h<e.length;h+=1)e[h].d(f);f&&c(n),f&&c(r),f&&c(i),K(l,f)}}}function df(s){let e,t,n,r,i,l,a;return{c(){e=w("div"),t=w("label"),n=D("Notes"),r=j(),i=w("textarea"),this.h()},l(o){e=E(o,"DIV",{class:!0});var u=P(e);t=E(u,"LABEL",{for:!0});var f=P(t);n=N(f,"Notes"),f.forEach(c),r=C(u),i=E(u,"TEXTAREA",{name:!0,id:!0,rows:!0,class:!0,placeholder:!0}),P(i).forEach(c),u.forEach(c),this.h()},h(){k(t,"for","notes-input"),k(i,"name","notes"),k(i,"id","notes-input"),k(i,"rows","6"),k(i,"class","font-sm svelte-216lzz"),k(i,"placeholder","Use this for any general notes not covered by the above fields..."),k(e,"class","stacked svelte-216lzz")},m(o,u){b(o,e,u),m(e,t),m(t,n),m(e,r),m(e,i),$e(i,s[14]),l||(a=he(i,"input",s[40]),l=!0)},p(o,u){u[0]&16384&&$e(i,o[14])},d(o){o&&c(e),l=!1,a()}}}function pf(s){let e,t,n;function r(l){s[41](l)}let i={id:"type-input"};return s[15]!==void 0&&(i.value=s[15]),e=new ef({props:i}),Et.push(()=>Tt(e,"value",r)),{c(){B(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){M(e,l,a),n=!0},p(l,a){const o={};!t&&a[0]&32768&&(t=!0,o.value=l[15],Pt(()=>t=!1)),e.$set(o)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){I(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function _f(s){let e;return{c(){e=D("Cancel")},l(t){e=N(t,"Cancel")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function mf(s){let e;return{c(){e=D("Finish!")},l(t){e=N(t,"Finish!")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function vf(s){let e,t,n,r;return e=new ge({props:{variant:"ghost",disabled:s[17],$$slots:{default:[_f]},$$scope:{ctx:s}}}),e.$on("click",s[22]),n=new ge({props:{type:"submit",disabled:s[17],$$slots:{default:[mf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,l){const a={};l[0]&131072&&(a.disabled=i[17]),l[1]&536870912&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l[0]&131072&&(o.disabled=i[17]),l[1]&536870912&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function $f(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y,L,X;return t=new Ke({props:{title:"Basic Info",$$slots:{default:[sf]},$$scope:{ctx:s}}}),r=new Ke({props:{title:"Gender",columns:4,$$slots:{default:[lf]},$$scope:{ctx:s}}}),l=new Ke({props:{title:"Attributes",columns:3,$$slots:{default:[of]},$$scope:{ctx:s}}}),o=new Ke({props:{title:"Feats",$$slots:{default:[af]},$$scope:{ctx:s}}}),f=new Ke({props:{title:"Proficiencies",columns:2,$$slots:{default:[uf]},$$scope:{ctx:s}}}),d=new Ke({props:{title:"Saving Throws",columns:2,$$slots:{default:[ff]},$$scope:{ctx:s}}}),p=new Ke({props:{title:"Moves",$$slots:{default:[hf]},$$scope:{ctx:s}}}),g=new Ke({props:{title:"General",$$slots:{default:[df]},$$scope:{ctx:s}}}),S=new rf({props:{title:"Advanced",$$slots:{default:[pf]},$$scope:{ctx:s}}}),U=new Re({props:{$$slots:{default:[vf]},$$scope:{ctx:s}}}),{c(){e=w("form"),B(t.$$.fragment),n=j(),B(r.$$.fragment),i=j(),B(l.$$.fragment),a=j(),B(o.$$.fragment),u=j(),B(f.$$.fragment),h=j(),B(d.$$.fragment),_=j(),B(p.$$.fragment),$=j(),B(g.$$.fragment),y=j(),B(S.$$.fragment),A=j(),B(U.$$.fragment)},l(q){e=E(q,"FORM",{});var z=P(e);F(t.$$.fragment,z),n=C(z),F(r.$$.fragment,z),i=C(z),F(l.$$.fragment,z),a=C(z),F(o.$$.fragment,z),u=C(z),F(f.$$.fragment,z),h=C(z),F(d.$$.fragment,z),_=C(z),F(p.$$.fragment,z),$=C(z),F(g.$$.fragment,z),y=C(z),F(S.$$.fragment,z),A=C(z),F(U.$$.fragment,z),z.forEach(c)},m(q,z){b(q,e,z),M(t,e,null),m(e,n),M(r,e,null),m(e,i),M(l,e,null),m(e,a),M(o,e,null),m(e,u),M(f,e,null),m(e,h),M(d,e,null),m(e,_),M(p,e,null),m(e,$),M(g,e,null),m(e,y),M(S,e,null),m(e,A),M(U,e,null),Y=!0,L||(X=he(e,"submit",At(s[23])),L=!0)},p(q,z){const te={};z[0]&131580|z[1]&536870912&&(te.$$scope={dirty:z,ctx:q}),t.$set(te);const W={};z[0]&131584|z[1]&536870912&&(W.$$scope={dirty:z,ctx:q}),r.$set(W);const Z={};z[0]&132096|z[1]&536870912&&(Z.$$scope={dirty:z,ctx:q}),l.$set(Z);const G={};z[0]&2049|z[1]&536870912&&(G.$$scope={dirty:z,ctx:q}),o.$set(G);const v={};z[0]&135168|z[1]&536870912&&(v.$$scope={dirty:z,ctx:q}),f.$set(v);const O={};z[0]&139264|z[1]&536870912&&(O.$$scope={dirty:z,ctx:q}),d.$set(O);const H={};z[0]&196608|z[1]&536870912&&(H.$$scope={dirty:z,ctx:q}),p.$set(H);const Q={};z[0]&16384|z[1]&536870912&&(Q.$$scope={dirty:z,ctx:q}),g.$set(Q);const V={};z[0]&32768|z[1]&536870912&&(V.$$scope={dirty:z,ctx:q}),S.$set(V);const R={};z[0]&131072|z[1]&536870912&&(R.$$scope={dirty:z,ctx:q}),U.$set(R)},i(q){Y||(T(t.$$.fragment,q),T(r.$$.fragment,q),T(l.$$.fragment,q),T(o.$$.fragment,q),T(f.$$.fragment,q),T(d.$$.fragment,q),T(p.$$.fragment,q),T(g.$$.fragment,q),T(S.$$.fragment,q),T(U.$$.fragment,q),Y=!0)},o(q){I(t.$$.fragment,q),I(r.$$.fragment,q),I(l.$$.fragment,q),I(o.$$.fragment,q),I(f.$$.fragment,q),I(d.$$.fragment,q),I(p.$$.fragment,q),I(g.$$.fragment,q),I(S.$$.fragment,q),I(U.$$.fragment,q),Y=!1},d(q){q&&c(e),K(t),K(r),K(l),K(o),K(f),K(d),K(p),K(g),K(S),K(U),L=!1,X()}}}function gf(s){let e,t;return e=new ct({props:{saving:s[1],$$slots:{default:[$f]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r[0]&2&&(i.saving=n[1]),r[0]&262141|r[1]&536870912&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function bf(s,e,t){let n;const r=be=>be.replace(/\s/g,""),i=at();let{pokemon:l}=e,{species:a}=e,{saving:o=!1}=e,u=l.nickname,f=l.nature,h=l.nature,d=l.level,_=l.ac,p=l.hp.max,$=l.hitDice.max,g=l.gender,y={...l.attributes},S=l.ability,A=l.proficiencies,U=l.savingThrows,Y=l.notes,L=l.type;const X=be=>{const Ne=be.target;d===$&&t(8,$=parseInt(Ne.value)),t(5,d=parseInt(Ne.value))};let q=-1001;const z=()=>(--q).toString();let te=structuredClone(l.moves);const W=be=>()=>{t(16,te=te.filter(Ne=>Ne.id!==be))},Z=()=>{t(16,te=[...te,{id:z(),moveId:"tackle",pp:{current:20,max:20},notes:""}])},G=()=>{i("cancel")},v=()=>{i("update",{...l,nickname:u.length>0?u:a.name,type:L,nature:f==="other"?h:f,level:d,ac:_,hp:{current:l.hp.current,max:p},hitDice:{current:l.hitDice.current,max:$},gender:g,attributes:y,ability:S,proficiencies:A,savingThrows:U,moves:te,notes:Y})},O=[[],[],[]];function H(){u=this.value,t(2,u)}function Q(be){f=be,t(3,f)}function V(be){h=be,t(4,h)}function R(){_=Qe(this.value),t(6,_)}function x(){p=Qe(this.value),t(7,p)}function ee(){$=Qe(this.value),t(8,$)}function ie(){g=this.__value,t(9,g)}function J(){g=this.__value,t(9,g)}function se(){g=this.__value,t(9,g)}function de(){g=this.__value,t(9,g)}function Te(be){y[be.abbr]=Qe(this.value),t(10,y)}function oe(){S=Ct(this),t(11,S),t(0,a)}function ce(){A=Tn(O[1],this.__value,this.checked),t(12,A)}function Ae(){U=Tn(O[0],this.__value,this.checked),t(13,U)}function Oe(){Y=this.value,t(14,Y)}function ze(be){L=be,t(15,L)}return s.$$set=be=>{"pokemon"in be&&t(24,l=be.pokemon),"species"in be&&t(0,a=be.species),"saving"in be&&t(1,o=be.saving)},s.$$.update=()=>{s.$$.dirty[0]&2&&t(17,n=o)},[a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y,L,te,n,r,X,W,Z,G,v,l,H,Q,V,R,x,ee,ie,O,J,se,de,Te,oe,ce,Ae,Oe,ze]}let kf=class extends ae{constructor(e){super(),ue(this,e,bf,gf,fe,{pokemon:24,species:0,saving:1},null,[-1,-1])}};function yf(s){let e,t;return e=new ut({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function wf(s){let e,t;return e=new Je({props:{title:"Edit "+s[2].nickname,$$slots:{default:[If]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.title="Edit "+n[2].nickname),r&1150&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ef(s){let e,t,n,r,i,l;return i=new Re({props:{$$slots:{default:[Sf]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=D("You do not have permission to edit this pokemon."),r=j(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=P(e);t=E(o,"P",{});var u=P(t);n=N(u,"You do not have permission to edit this pokemon."),u.forEach(c),r=C(o),F(i.$$.fragment,o),o.forEach(c)},m(a,o){b(a,e,o),m(e,t),m(t,n),m(e,r),M(i,e,null),l=!0},p(a,o){const u={};o&1034&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&c(e),K(i)}}}function Tf(s){let e,t;return e=new kf({props:{pokemon:s[2],species:s[5],saving:s[4]}}),e.$on("cancel",s[8]),e.$on("update",s[7]),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.pokemon=n[2]),r&32&&(i.species=n[5]),r&16&&(i.saving=n[4]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Pf(s){let e;return{c(){e=D("Go Back")},l(t){e=N(t,"Go Back")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Sf(s){let e,t;return e=new ge({props:{href:pe.trainers(s[3].info.readKey,s[1]),$$slots:{default:[Pf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&10&&(i.href=pe.trainers(n[3].info.readKey,n[1])),r&1024&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function If(s){let e,t,n,r;const i=[Tf,Ef],l=[];function a(o,u){return o[6]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Af(s){let e,t,n,r;const i=[wf,yf],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Of(s){let e,t;return e=new Yt({props:{trainer:s[3],id:s[1],titlePrefix:"Edit",$$slots:{default:[Af]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&8&&(i.trainer=n[3]),r&2&&(i.id=n[1]),r&1150&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Df(s,e,t){let n,r,i,l,a=ne,o=()=>(a(),a=qe(f,$=>t(3,l=$)),f),u;Ce(s,$t,$=>t(9,u=$)),s.$$.on_destroy.push(()=>a());let{trainer:f}=e;o();let{id:h}=e,d=!1;const _=$=>{var g;t(4,d=!0),(g=l.update)==null||g.pokemon($.detail).then(()=>{var y;return(y=l.update)==null?void 0:y.moveset($.detail)}).then(()=>{t(4,d=!1),He(pe.trainers(l.info.readKey,h))}).catch(()=>{t(4,d=!1)})},p=()=>{He(pe.trainers(l.info.readKey,h))};return s.$$set=$=>{"trainer"in $&&o(t(0,f=$.trainer)),"id"in $&&t(1,h=$.id)},s.$$.update=()=>{s.$$.dirty&8&&t(6,n=l.update!=null),s.$$.dirty&10&&t(2,r=l.pokemon.find($=>$.id===h)),s.$$.dirty&516&&t(5,i=u==null?void 0:u.find($=>$.id===(r==null?void 0:r.pokemonId)))},[f,h,r,l,d,i,n,_,p,u]}class Nf extends ae{constructor(e){super(),ue(this,e,Df,Of,fe,{trainer:0,id:1})}}const Wr=s=>e=>s.filter(t=>!e.includes(t));function Xr(s,e,t){var i,l;const n=s.slice();n[22]=e[t];const r=((l=(i=n[5])==null?void 0:i.find(function(...o){return s[20](n[22],...o)}))==null?void 0:l.name)??"";return n[23]=r,n}function Zr(s){let e,t,n,r,i,l,a,o,u;t=new Ke({props:{title:"Choose one",columns:2,$$slots:{default:[Rf]},$$scope:{ctx:s}}});let f=s[11]&&xr(s);return l=new Re({props:{$$slots:{default:[Lf]},$$scope:{ctx:s}}}),{c(){e=w("form"),B(t.$$.fragment),n=j(),r=w("section"),f&&f.c(),i=j(),B(l.$$.fragment),this.h()},l(h){e=E(h,"FORM",{});var d=P(e);F(t.$$.fragment,d),n=C(d),r=E(d,"SECTION",{class:!0});var _=P(r);f&&f.l(_),_.forEach(c),i=C(d),F(l.$$.fragment,d),d.forEach(c),this.h()},h(){k(r,"class","svelte-17q95yj"),ve(r,"min-height","12em")},m(h,d){b(h,e,d),M(t,e,null),m(e,n),m(e,r),f&&f.m(r,null),m(e,i),M(l,e,null),a=!0,o||(u=he(e,"submit",At(s[15])),o=!0)},p(h,d){const _={};d&67113002&&(_.$$scope={dirty:d,ctx:h}),t.$set(_),h[11]?f?f.p(h,d):(f=xr(h),f.c(),f.m(r,null)):f&&(f.d(1),f=null);const p={};d&67112960&&(p.$$scope={dirty:d,ctx:h}),l.$set(p)},i(h){a||(T(t.$$.fragment,h),T(l.$$.fragment,h),a=!0)},o(h){I(t.$$.fragment,h),I(l.$$.fragment,h),a=!1},d(h){h&&c(e),K(t),f&&f.d(),K(l),o=!1,u()}}}function Qr(s){let e,t,n,r,i,l=s[23]+"",a,o,u,f;return{c(){e=w("input"),r=j(),i=w("label"),a=D(l),this.h()},l(h){e=E(h,"INPUT",{id:!0,name:!0,type:!0}),r=C(h),i=E(h,"LABEL",{for:!0});var d=P(i);a=N(d,l),d.forEach(c),this.h()},h(){k(e,"id",t="evolve-to-"+s[22].id),k(e,"name","evolve-to"),k(e,"type","radio"),e.__value=n=s[22].id,e.value=e.__value,e.disabled=s[12],e.required=!0,s[19][0].push(e),k(i,"for",o="evolve-to-"+s[22].id)},m(h,d){b(h,e,d),e.checked=e.__value===s[3],b(h,r,d),b(h,i,d),m(i,a),u||(f=he(e,"change",s[18]),u=!0)},p(h,d){d&2&&t!==(t="evolve-to-"+h[22].id)&&k(e,"id",t),d&2&&n!==(n=h[22].id)&&(e.__value=n,e.value=e.__value),d&4096&&(e.disabled=h[12]),d&8&&(e.checked=e.__value===h[3]),d&34&&l!==(l=h[23]+"")&&le(a,l),d&2&&o!==(o="evolve-to-"+h[22].id)&&k(i,"for",o)},d(h){h&&c(e),s[19][0].splice(s[19][0].indexOf(e),1),h&&c(r),h&&c(i),u=!1,f()}}}function Rf(s){let e,t=s[1].evolution.to,n=[];for(let r=0;r<t.length;r+=1)n[r]=Qr(Xr(s,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let i=0;i<n.length;i+=1)n[i].l(r);e=re()},m(r,i){for(let l=0;l<n.length;l+=1)n[l].m(r,i);b(r,e,i)},p(r,i){if(i&4138){t=r[1].evolution.to;let l;for(l=0;l<t.length;l+=1){const a=Xr(r,t,l);n[l]?n[l].p(a,i):(n[l]=Qr(a),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){De(n,r),r&&c(e)}}}function xr(s){let e,t=Pn(s[1].name,s[11],An(Pe,s[5],s[13]))+"",n,r,i,l,a,o,u,f,h,d,_,p,$=s[9]>0&&ei(s),g=s[8].length>0&&ti(s),y=s[7].length>0&&ni(s),S=s[6]&&s[0].ability!==s[6].id&&ri(s);return{c(){e=w("p"),n=j(),r=w("p"),i=D("Evolving this pokemon will have these effects:"),l=j(),a=w("ul"),o=w("li"),u=D("Max HP will increase by "),f=D(s[10]),h=j(),$&&$.c(),d=j(),g&&g.c(),_=j(),y&&y.c(),p=j(),S&&S.c()},l(A){e=E(A,"P",{});var U=P(e);U.forEach(c),n=C(A),r=E(A,"P",{});var Y=P(r);i=N(Y,"Evolving this pokemon will have these effects:"),Y.forEach(c),l=C(A),a=E(A,"UL",{});var L=P(a);o=E(L,"LI",{});var X=P(o);u=N(X,"Max HP will increase by "),f=N(X,s[10]),X.forEach(c),h=C(L),$&&$.l(L),d=C(L),g&&g.l(L),_=C(L),y&&y.l(L),p=C(L),S&&S.l(L),L.forEach(c)},m(A,U){b(A,e,U),e.innerHTML=t,b(A,n,U),b(A,r,U),m(r,i),b(A,l,U),b(A,a,U),m(a,o),m(o,u),m(o,f),m(a,h),$&&$.m(a,null),m(a,d),g&&g.m(a,null),m(a,_),y&&y.m(a,null),m(a,p),S&&S.m(a,null)},p(A,U){U&10274&&t!==(t=Pn(A[1].name,A[11],An(Pe,A[5],A[13]))+"")&&(e.innerHTML=t),U&1024&&le(f,A[10]),A[9]>0?$?$.p(A,U):($=ei(A),$.c(),$.m(a,d)):$&&($.d(1),$=null),A[8].length>0?g?g.p(A,U):(g=ti(A),g.c(),g.m(a,_)):g&&(g.d(1),g=null),A[7].length>0?y?y.p(A,U):(y=ni(A),y.c(),y.m(a,p)):y&&(y.d(1),y=null),A[6]&&A[0].ability!==A[6].id?S?S.p(A,U):(S=ri(A),S.c(),S.m(a,null)):S&&(S.d(1),S=null)},d(A){A&&c(e),A&&c(n),A&&c(r),A&&c(l),A&&c(a),$&&$.d(),g&&g.d(),y&&y.d(),S&&S.d()}}}function ei(s){let e,t,n;return{c(){e=w("li"),t=D("AC will increase by "),n=D(s[9])},l(r){e=E(r,"LI",{});var i=P(e);t=N(i,"AC will increase by "),n=N(i,s[9]),i.forEach(c)},m(r,i){b(r,e,i),m(e,t),m(e,n)},p(r,i){i&512&&le(n,r[9])},d(r){r&&c(e)}}}function ti(s){let e,t,n,r=s[8].join(", ")+"",i;return{c(){e=w("li"),t=D("Proficiency in "),n=w("span"),i=D(r),this.h()},l(l){e=E(l,"LI",{});var a=P(e);t=N(a,"Proficiency in "),n=E(a,"SPAN",{class:!0});var o=P(n);i=N(o,r),o.forEach(c),a.forEach(c),this.h()},h(){k(n,"class","cap")},m(l,a){b(l,e,a),m(e,t),m(e,n),m(n,i)},p(l,a){a&256&&r!==(r=l[8].join(", ")+"")&&le(i,r)},d(l){l&&c(e)}}}function ni(s){let e,t,n,r=s[7].join(", ")+"",i,l;return{c(){e=w("li"),t=D("Proficiency in "),n=w("span"),i=D(r),l=D(" saving throws"),this.h()},l(a){e=E(a,"LI",{});var o=P(e);t=N(o,"Proficiency in "),n=E(o,"SPAN",{class:!0});var u=P(n);i=N(u,r),u.forEach(c),l=N(o," saving throws"),o.forEach(c),this.h()},h(){k(n,"class","upper")},m(a,o){b(a,e,o),m(e,t),m(e,n),m(n,i),m(e,l)},p(a,o){o&128&&r!==(r=a[7].join(", ")+"")&&le(i,r)},d(a){a&&c(e)}}}function ri(s){let e,t,n=s[4].name+"",r,i,l=s[6].name+"",a;return{c(){e=w("li"),t=D("Ability will change from "),r=D(n),i=D(" to "),a=D(l)},l(o){e=E(o,"LI",{});var u=P(e);t=N(u,"Ability will change from "),r=N(u,n),i=N(u," to "),a=N(u,l),u.forEach(c)},m(o,u){b(o,e,u),m(e,t),m(e,r),m(e,i),m(e,a)},p(o,u){u&16&&n!==(n=o[4].name+"")&&le(r,n),u&64&&l!==(l=o[6].name+"")&&le(a,l)},d(o){o&&c(e)}}}function jf(s){let e;return{c(){e=D("Cancel")},l(t){e=N(t,"Cancel")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Cf(s){let e;return{c(){e=D("Evolve!")},l(t){e=N(t,"Evolve!")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Lf(s){let e,t,n,r;return e=new ge({props:{variant:"ghost",disabled:s[12],$$slots:{default:[jf]},$$scope:{ctx:s}}}),e.$on("click",s[14]),n=new ge({props:{type:"submit",disabled:s[12],$$slots:{default:[Cf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,l){const a={};l&4096&&(a.disabled=i[12]),l&67108864&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l&4096&&(o.disabled=i[12]),l&67108864&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function Uf(s){var r,i;let e,t,n=((i=(r=s[1].evolution)==null?void 0:r.to)==null?void 0:i.length)>0&&Zr(s);return{c(){n&&n.c(),e=re()},l(l){n&&n.l(l),e=re()},m(l,a){n&&n.m(l,a),b(l,e,a),t=!0},p(l,a){var o,u;((u=(o=l[1].evolution)==null?void 0:o.to)==null?void 0:u.length)>0?n?(n.p(l,a),a&2&&T(n,1)):(n=Zr(l),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(_e(),I(n,1,1,()=>{n=null}),me())},i(l){t||(T(n),t=!0)},o(l){I(n),t=!1},d(l){n&&n.d(l),l&&c(e)}}}function Bf(s){let e,t;return e=new ct({props:{saving:s[2],$$slots:{default:[Uf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&4&&(i.saving=n[2]),r&67125243&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ff(s,e,t){var z,te;let n,r,i,l,a,o,u,f,h,d,_,p;Ce(s,$t,W=>t(5,_=W)),Ce(s,pn,W=>t(13,p=W));const $=at();let{pokemon:g}=e,{species:y}=e,{saving:S=!1}=e,A=((te=(z=y.evolution)==null?void 0:z.to)==null?void 0:te.length)===1?y.evolution.to[0].id:void 0;const U=()=>{$("cancel")},Y=()=>{const W={...g,pokemonId:A,nickname:g.nickname===y.name?a.name:g.nickname,hp:{current:g.hp.max+o,max:g.hp.max+o},ac:g.ac+u,proficiencies:g.proficiencies.concat(f),savingThrows:g.savingThrows.concat(h),ability:(d==null?void 0:d.id)??g.ability};$("submit",W)},L=[[]];function X(){A=this.__value,t(3,A)}const q=(W,Z)=>Z.id===W.id;return s.$$set=W=>{"pokemon"in W&&t(0,g=W.pokemon),"species"in W&&t(1,y=W.species),"saving"in W&&t(2,S=W.saving)},s.$$.update=()=>{var W,Z;s.$$.dirty&4&&t(12,n=S),s.$$.dirty&3&&t(4,r=y.abilities.find(G=>G.id===g.ability)),s.$$.dirty&18&&t(17,i=y.abilities.indexOf(r)),s.$$.dirty&10&&t(11,l=(Z=(W=y.evolution)==null?void 0:W.to)==null?void 0:Z.find(G=>G.id===A)),s.$$.dirty&40&&t(16,a=_==null?void 0:_.find(G=>G.id===A)),s.$$.dirty&1&&t(10,o=g.level*2),s.$$.dirty&65537&&t(9,u=Math.max(0,((a==null?void 0:a.ac)??0)-g.ac)),s.$$.dirty&65537&&t(8,f=Wr((a==null?void 0:a.skills)??[])(g.proficiencies)),s.$$.dirty&65537&&t(7,h=Wr((a==null?void 0:a.savingThrows)??[])(g.savingThrows)),s.$$.dirty&196608&&t(6,d=a==null?void 0:a.abilities[Math.min((a==null?void 0:a.abilities.length)-1,i)])},[g,y,S,A,r,_,d,h,f,u,o,l,n,p,U,Y,a,i,X,L,q]}class Mf extends ae{constructor(e){super(),ue(this,e,Ff,Bf,fe,{pokemon:0,species:1,saving:2})}}function Kf(s){let e,t;return e=new ut({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Hf(s){let e,t;return e=new Je({props:{title:"Evolve "+s[2].nickname,$$slots:{default:[Jf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.title="Evolve "+n[2].nickname),r&1150&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function zf(s){let e,t,n,r,i,l;return i=new Re({props:{$$slots:{default:[Vf]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=D("You do not have permission to evolve this pokemon."),r=j(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=P(e);t=E(o,"P",{});var u=P(t);n=N(u,"You do not have permission to evolve this pokemon."),u.forEach(c),r=C(o),F(i.$$.fragment,o),o.forEach(c)},m(a,o){b(a,e,o),m(e,t),m(t,n),m(e,r),M(i,e,null),l=!0},p(a,o){const u={};o&1034&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&c(e),K(i)}}}function Gf(s){let e,t;return e=new Mf({props:{pokemon:s[2],species:s[5],saving:s[4]}}),e.$on("cancel",s[8]),e.$on("submit",s[7]),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.pokemon=n[2]),r&32&&(i.species=n[5]),r&16&&(i.saving=n[4]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function qf(s){let e;return{c(){e=D("Go Back")},l(t){e=N(t,"Go Back")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Vf(s){let e,t;return e=new ge({props:{href:pe.trainers(s[3].info.readKey,s[1]),$$slots:{default:[qf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&10&&(i.href=pe.trainers(n[3].info.readKey,n[1])),r&1024&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Jf(s){let e,t,n,r;const i=[Gf,zf],l=[];function a(o,u){return o[6]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Yf(s){let e,t,n,r;const i=[Hf,Kf],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Wf(s){let e,t;return e=new Yt({props:{trainer:s[3],id:s[1],titlePrefix:"Evolve",$$slots:{default:[Yf]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&8&&(i.trainer=n[3]),r&2&&(i.id=n[1]),r&1150&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Xf(s,e,t){let n,r,i,l,a=ne,o=()=>(a(),a=qe(f,$=>t(3,l=$)),f),u;Ce(s,$t,$=>t(9,u=$)),s.$$.on_destroy.push(()=>a());let{trainer:f}=e;o();let{id:h}=e,d=!1;const _=$=>{var g;t(4,d=!0),(g=l.update)==null||g.pokemon($.detail).then(()=>{t(4,d=!1),He(pe.trainers(l.info.readKey,h))}).catch(()=>{t(4,d=!1)})},p=()=>{He(pe.trainers(l.info.readKey,h))};return s.$$set=$=>{"trainer"in $&&o(t(0,f=$.trainer)),"id"in $&&t(1,h=$.id)},s.$$.update=()=>{s.$$.dirty&8&&t(6,n=l.update!=null),s.$$.dirty&10&&t(2,r=l.pokemon.find($=>$.id===h)),s.$$.dirty&516&&t(5,i=u==null?void 0:u.find($=>$.id===(r==null?void 0:r.pokemonId)))},[f,h,r,l,d,i,n,_,p,u]}class Zf extends ae{constructor(e){super(),ue(this,e,Xf,Wf,fe,{trainer:0,id:1})}}function Qf(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p;return{c(){e=w("h1"),t=D("Cannot find trainer"),n=j(),r=w("p"),i=D("No trainer with id "),l=w("strong"),a=D(s[0]),o=D(" seems to be registered."),u=j(),f=w("p"),h=D("You can view a "),d=w("a"),_=D("list of your trainers"),p=D(" or search by trainer id."),this.h()},l($){e=E($,"H1",{class:!0});var g=P(e);t=N(g,"Cannot find trainer"),g.forEach(c),n=C($),r=E($,"P",{class:!0});var y=P(r);i=N(y,"No trainer with id "),l=E(y,"STRONG",{});var S=P(l);a=N(S,s[0]),S.forEach(c),o=N(y," seems to be registered."),y.forEach(c),u=C($),f=E($,"P",{class:!0});var A=P(f);h=N(A,"You can view a "),d=E(A,"A",{href:!0});var U=P(d);_=N(U,"list of your trainers"),U.forEach(c),p=N(A," or search by trainer id."),A.forEach(c),this.h()},h(){k(e,"class","large-font space-bottom bubble-padded svelte-1ptcnqz"),k(r,"class","bubble-padded svelte-1ptcnqz"),k(d,"href",pe.trainers()),k(f,"class","bubble svelte-1ptcnqz")},m($,g){b($,e,g),m(e,t),b($,n,g),b($,r,g),m(r,i),m(r,l),m(l,a),m(r,o),b($,u,g),b($,f,g),m(f,h),m(f,d),m(d,_),m(f,p)},p($,[g]){g&1&&le(a,$[0])},i:ne,o:ne,d($){$&&c(e),$&&c(n),$&&c(r),$&&c(u),$&&c(f)}}}function xf(s,e,t){let{trainerKey:n}=e;return s.$$set=r=>{"trainerKey"in r&&t(0,n=r.trainerKey)},[n]}class ec extends ae{constructor(e){super(),ue(this,e,xf,Qf,fe,{trainerKey:0})}}const tc=""+new URL("../../../assets/find-trainer-id-0c61577a.png",import.meta.url).href;function nc(s){let e;return{c(){e=D("Search")},l(t){e=N(t,"Search")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function ii(s){let e,t;return{c(){e=w("p"),t=D("No trainer is registered with this id"),this.h()},l(n){e=E(n,"P",{class:!0});var r=P(e);t=N(r,"No trainer is registered with this id"),r.forEach(c),this.h()},h(){k(e,"class","font-sm error svelte-73vvyj")},m(n,r){b(n,e,r),m(e,t)},d(n){n&&c(e)}}}function rc(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y,L,X,q,z,te,W,Z,G,v,O,H;d=new ge({props:{type:"submit",disabled:s[2],$$slots:{default:[nc]},$$scope:{ctx:s}}});let Q=s[1].length>0&&s[1]===s[0]&&ii();return{c(){e=w("section"),t=w("p"),n=D(`Enter the trainer's unique ID below and click "Search".`),r=j(),i=w("form"),l=w("label"),a=D("Trainer ID"),o=j(),u=w("div"),f=w("input"),h=j(),B(d.$$.fragment),_=j(),Q&&Q.c(),p=j(),$=w("hr"),g=j(),y=w("section"),S=w("p"),A=D("Each trainer has a unique 12-character ID. You can find it on their page, pictured below."),U=j(),Y=w("figure"),L=w("img"),q=j(),z=w("figcaption"),te=D("Use this ID for searching"),W=j(),Z=w("p"),G=D("Searching by a trainer's ID can allow you to view a friend's pokemon or view your own trainer's pokemon on different devices."),this.h()},l(V){e=E(V,"SECTION",{});var R=P(e);t=E(R,"P",{});var x=P(t);n=N(x,`Enter the trainer's unique ID below and click "Search".`),x.forEach(c),r=C(R),i=E(R,"FORM",{class:!0,disabled:!0});var ee=P(i);l=E(ee,"LABEL",{for:!0,class:!0});var ie=P(l);a=N(ie,"Trainer ID"),ie.forEach(c),o=C(ee),u=E(ee,"DIV",{class:!0});var J=P(u);f=E(J,"INPUT",{id:!0,type:!0,class:!0,maxlength:!0,placeholder:!0}),h=C(J),F(d.$$.fragment,J),J.forEach(c),_=C(ee),Q&&Q.l(ee),ee.forEach(c),R.forEach(c),p=C(V),$=E(V,"HR",{}),g=C(V),y=E(V,"SECTION",{});var se=P(y);S=E(se,"P",{});var de=P(S);A=N(de,"Each trainer has a unique 12-character ID. You can find it on their page, pictured below."),de.forEach(c),U=C(se),Y=E(se,"FIGURE",{class:!0});var Te=P(Y);L=E(Te,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),q=C(Te),z=E(Te,"FIGCAPTION",{});var oe=P(z);te=N(oe,"Use this ID for searching"),oe.forEach(c),Te.forEach(c),W=C(se),Z=E(se,"P",{});var ce=P(Z);G=N(ce,"Searching by a trainer's ID can allow you to view a friend's pokemon or view your own trainer's pokemon on different devices."),ce.forEach(c),se.forEach(c),this.h()},h(){k(l,"for","id-input"),k(l,"class","font-sm spaced-sm svelte-73vvyj"),k(f,"id","id-input"),k(f,"type","text"),k(f,"class","font-lg svelte-73vvyj"),k(f,"maxlength","12"),k(f,"placeholder","e.g. H4PF8E2GZA0A"),f.disabled=s[2],f.required=!0,ve(f,"flex","1"),k(u,"class","horizontal spaced-sm svelte-73vvyj"),k(i,"class","vertical spaced-lg svelte-73vvyj"),k(i,"disabled",s[2]),Ft(L.src,X=tc)||k(L,"src",X),k(L,"alt","The label 'Trainer ID' denotes the trainer's id."),k(L,"width","800"),k(L,"height","256"),k(L,"class","svelte-73vvyj"),k(Y,"class","spaced-lg svelte-73vvyj")},m(V,R){b(V,e,R),m(e,t),m(t,n),m(e,r),m(e,i),m(i,l),m(l,a),m(i,o),m(i,u),m(u,f),$e(f,s[0]),m(u,h),M(d,u,null),m(i,_),Q&&Q.m(i,null),b(V,p,R),b(V,$,R),b(V,g,R),b(V,y,R),m(y,S),m(S,A),m(y,U),m(y,Y),m(Y,L),m(Y,q),m(Y,z),m(z,te),m(y,W),m(y,Z),m(Z,G),v=!0,O||(H=[he(f,"input",s[4]),he(i,"submit",At(s[3]))],O=!0)},p(V,R){(!v||R&4)&&(f.disabled=V[2]),R&1&&f.value!==V[0]&&$e(f,V[0]);const x={};R&4&&(x.disabled=V[2]),R&32&&(x.$$scope={dirty:R,ctx:V}),d.$set(x),V[1].length>0&&V[1]===V[0]?Q||(Q=ii(),Q.c(),Q.m(i,null)):Q&&(Q.d(1),Q=null),(!v||R&4)&&k(i,"disabled",V[2])},i(V){v||(T(d.$$.fragment,V),v=!0)},o(V){I(d.$$.fragment,V),v=!1},d(V){V&&c(e),K(d),Q&&Q.d(),V&&c(p),V&&c($),V&&c(g),V&&c(y),O=!1,ot(H)}}}function ic(s){let e,t;return e=new ct({props:{saving:s[2],caption:"Searching...",$$slots:{default:[rc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.saving=n[2]),r&39&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function sc(s){let e,t,n,r;return e=new Ve({props:{value:"Find Trainer by ID"}}),n=new Je({props:{title:"Find Trainer by ID",$$slots:{default:[ic]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,[l]){const a={};l&39&&(a.$$scope={dirty:l,ctx:i}),n.$set(a)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function lc(s,e,t){let n="",r="",i=!1;const l=()=>{t(2,i=!0),qt.get(n).then(o=>{o?He(pe.trainers(n)):(t(2,i=!1),t(1,r=n))})};function a(){n=this.value,t(0,n)}return s.$$.update=()=>{s.$$.dirty&1&&t(0,n=n.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,""))},[n,r,i,l,a]}class oc extends ae{constructor(e){super(),ue(this,e,lc,sc,fe,{})}}function ac(s){let e,t,n,r,i,l,a,o,u,f,h;return{c(){e=w("label"),t=D("Name"),n=j(),r=w("input"),i=j(),l=w("label"),a=D("Description"),o=j(),u=w("textarea"),this.h()},l(d){e=E(d,"LABEL",{for:!0});var _=P(e);t=N(_,"Name"),_.forEach(c),n=C(d),r=E(d,"INPUT",{name:!0,id:!0,type:!0}),i=C(d),l=E(d,"LABEL",{for:!0});var p=P(l);a=N(p,"Description"),p.forEach(c),o=C(d),u=E(d,"TEXTAREA",{name:!0,id:!0,rows:!0}),P(u).forEach(c),this.h()},h(){k(e,"for","name-input"),k(r,"name","name"),k(r,"id","name-input"),k(r,"type","text"),r.disabled=s[3],k(l,"for","description-input"),ve(l,"place-self","start"),k(u,"name","description"),k(u,"id","description-input"),k(u,"rows","6"),u.disabled=s[3]},m(d,_){b(d,e,_),m(e,t),b(d,n,_),b(d,r,_),$e(r,s[1]),b(d,i,_),b(d,l,_),m(l,a),b(d,o,_),b(d,u,_),$e(u,s[2]),f||(h=[he(r,"input",s[7]),he(u,"input",s[8])],f=!0)},p(d,_){_&8&&(r.disabled=d[3]),_&2&&r.value!==d[1]&&$e(r,d[1]),_&8&&(u.disabled=d[3]),_&4&&$e(u,d[2])},d(d){d&&c(e),d&&c(n),d&&c(r),d&&c(i),d&&c(l),d&&c(o),d&&c(u),f=!1,ot(h)}}}function uc(s){let e;return{c(){e=D("Cancel")},l(t){e=N(t,"Cancel")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function fc(s){let e;return{c(){e=D("Finish!")},l(t){e=N(t,"Finish!")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function cc(s){let e,t,n,r;return e=new ge({props:{variant:"ghost",disabled:s[3],$$slots:{default:[uc]},$$scope:{ctx:s}}}),e.$on("click",s[4]),n=new ge({props:{type:"submit",disabled:s[3],$$slots:{default:[fc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,l){const a={};l&8&&(a.disabled=i[3]),l&1024&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const o={};l&8&&(o.disabled=i[3]),l&1024&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function hc(s){let e,t,n,r,i,l,a;return t=new Ke({props:{title:"Basic Info",$$slots:{default:[ac]},$$scope:{ctx:s}}}),r=new Re({props:{$$slots:{default:[cc]},$$scope:{ctx:s}}}),{c(){e=w("form"),B(t.$$.fragment),n=j(),B(r.$$.fragment)},l(o){e=E(o,"FORM",{});var u=P(e);F(t.$$.fragment,u),n=C(u),F(r.$$.fragment,u),u.forEach(c)},m(o,u){b(o,e,u),M(t,e,null),m(e,n),M(r,e,null),i=!0,l||(a=he(e,"submit",At(s[5])),l=!0)},p(o,u){const f={};u&1038&&(f.$$scope={dirty:u,ctx:o}),t.$set(f);const h={};u&1032&&(h.$$scope={dirty:u,ctx:o}),r.$set(h)},i(o){i||(T(t.$$.fragment,o),T(r.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),I(r.$$.fragment,o),i=!1},d(o){o&&c(e),K(t),K(r),l=!1,a()}}}function dc(s){let e,t;return e=new ct({props:{saving:s[0],$$slots:{default:[hc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,[r]){const i={};r&1&&(i.saving=n[0]),r&1038&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function pc(s,e,t){let n;const r=at();let{trainer:i}=e,{saving:l=!1}=e,a=i.name,o=i.description;const u=()=>{r("cancel")},f=()=>{r("update",{name:a,description:o})};function h(){a=this.value,t(1,a)}function d(){o=this.value,t(2,o)}return s.$$set=_=>{"trainer"in _&&t(6,i=_.trainer),"saving"in _&&t(0,l=_.saving)},s.$$.update=()=>{s.$$.dirty&1&&t(3,n=l)},[l,a,o,n,u,f,i,h,d]}class _c extends ae{constructor(e){super(),ue(this,e,pc,dc,fe,{trainer:6,saving:0})}}function mc(s){let e,t,n,r,i,l;return i=new Re({props:{$$slots:{default:[gc]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=D("You do not have permission to edit this trainer."),r=j(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=P(e);t=E(o,"P",{});var u=P(t);n=N(u,"You do not have permission to edit this trainer."),u.forEach(c),r=C(o),F(i.$$.fragment,o),o.forEach(c)},m(a,o){b(a,e,o),m(e,t),m(t,n),m(e,r),M(i,e,null),l=!0},p(a,o){const u={};o&66&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&c(e),K(i)}}}function vc(s){let e,t;return e=new _c({props:{trainer:s[1].info,saving:s[2]}}),e.$on("update",s[5]),e.$on("cancel",s[4]),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.trainer=n[1].info),r&4&&(i.saving=n[2]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function $c(s){let e;return{c(){e=D("Go Back")},l(t){e=N(t,"Go Back")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function gc(s){let e,t;return e=new ge({props:{href:pe.trainers(s[1].info.readKey),$$slots:{default:[$c]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&2&&(i.href=pe.trainers(n[1].info.readKey)),r&64&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function bc(s){let e,t,n,r;const i=[vc,mc],l=[];function a(o,u){return o[3]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function kc(s){let e,t,n,r;return e=new Ve({props:{value:"Edit "+s[1].info.name}}),n=new Je({props:{title:s[1].info.name,$$slots:{default:[bc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,[l]){const a={};l&2&&(a.value="Edit "+i[1].info.name),e.$set(a);const o={};l&2&&(o.title=i[1].info.name),l&78&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function yc(s,e,t){let n,r,i=ne,l=()=>(i(),i=qe(a,h=>t(1,r=h)),a);s.$$.on_destroy.push(()=>i());let{trainer:a}=e;l();let o=!1;const u=()=>{He(pe.trainers(r.info.readKey))},f=h=>{var d;t(2,o=!0),(d=r.update)==null||d.info(h.detail).then(()=>{t(2,o=!1),He(pe.trainers(r.info.readKey))}).catch(()=>{t(2,o=!1)})};return s.$$set=h=>{"trainer"in h&&l(t(0,a=h.trainer))},s.$$.update=()=>{s.$$.dirty&2&&t(3,n=r.update!=null)},[a,r,o,n,u,f]}class wc extends ae{constructor(e){super(),ue(this,e,yc,kc,fe,{trainer:0})}}function Ec(s){let e,t,n,r,i,l;return i=new Re({props:{$$slots:{default:[Sc]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=D("You do not have permission to retire this trainer."),r=j(),B(i.$$.fragment)},l(a){e=E(a,"SECTION",{});var o=P(e);t=E(o,"P",{});var u=P(t);n=N(u,"You do not have permission to retire this trainer."),u.forEach(c),r=C(o),F(i.$$.fragment,o),o.forEach(c)},m(a,o){b(a,e,o),m(e,t),m(t,n),m(e,r),M(i,e,null),l=!0},p(a,o){const u={};o&66&&(u.$$scope={dirty:o,ctx:a}),i.$set(u)},i(a){l||(T(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&c(e),K(i)}}}function Tc(s){let e,t;return e=new ct({props:{saving:s[2],$$slots:{default:[Dc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.saving=n[2]),r&82&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Pc(s){let e;return{c(){e=D("Go Back")},l(t){e=N(t,"Go Back")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Sc(s){var n;let e,t;return e=new ge({props:{href:pe.trainers((n=s[1])==null?void 0:n.info.readKey),$$slots:{default:[Pc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,i){M(e,r,i),t=!0},p(r,i){var a;const l={};i&2&&(l.href=pe.trainers((a=r[1])==null?void 0:a.info.readKey)),i&64&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Ic(s){let e;return{c(){e=D("Cancel")},l(t){e=N(t,"Cancel")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Ac(s){let e;return{c(){e=D("Delete")},l(t){e=N(t,"Delete")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Oc(s){var i;let e,t,n,r;return e=new ge({props:{href:pe.trainers((i=s[1])==null?void 0:i.info.readKey),variant:"ghost",$$slots:{default:[Ic]},$$scope:{ctx:s}}}),n=new ge({props:{variant:"danger",$$slots:{default:[Ac]},$$scope:{ctx:s}}}),n.$on("click",s[5]),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(l){F(e.$$.fragment,l),t=C(l),F(n.$$.fragment,l)},m(l,a){M(e,l,a),b(l,t,a),M(n,l,a),r=!0},p(l,a){var f;const o={};a&2&&(o.href=pe.trainers((f=l[1])==null?void 0:f.info.readKey)),a&64&&(o.$$scope={dirty:a,ctx:l}),e.$set(o);const u={};a&64&&(u.$$scope={dirty:a,ctx:l}),n.$set(u)},i(l){r||(T(e.$$.fragment,l),T(n.$$.fragment,l),r=!0)},o(l){I(e.$$.fragment,l),I(n.$$.fragment,l),r=!1},d(l){K(e,l),l&&c(t),K(n,l)}}}function Dc(s){let e,t,n,r,i,l,a,o,u,f,h,d;return h=new Re({props:{$$slots:{default:[Oc]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=D("Are you sure you want to retire "),r=D(s[4]),i=D("? This will delete all of their data, including all of their pokemon, from our records."),l=j(),a=w("p"),o=w("strong"),u=D("This is permanent and cannot be undone!"),f=j(),B(h.$$.fragment)},l(_){e=E(_,"SECTION",{});var p=P(e);t=E(p,"P",{});var $=P(t);n=N($,"Are you sure you want to retire "),r=N($,s[4]),i=N($,"? This will delete all of their data, including all of their pokemon, from our records."),$.forEach(c),l=C(p),a=E(p,"P",{});var g=P(a);o=E(g,"STRONG",{});var y=P(o);u=N(y,"This is permanent and cannot be undone!"),y.forEach(c),g.forEach(c),f=C(p),F(h.$$.fragment,p),p.forEach(c)},m(_,p){b(_,e,p),m(e,t),m(t,n),m(t,r),m(t,i),m(e,l),m(e,a),m(a,o),m(o,u),m(e,f),M(h,e,null),d=!0},p(_,p){(!d||p&16)&&le(r,_[4]);const $={};p&66&&($.$$scope={dirty:p,ctx:_}),h.$set($)},i(_){d||(T(h.$$.fragment,_),d=!0)},o(_){I(h.$$.fragment,_),d=!1},d(_){_&&c(e),K(h)}}}function Nc(s){let e,t,n,r;const i=[Tc,Ec],l=[];function a(o,u){return o[3]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Rc(s){let e,t,n,r;return e=new Ve({props:{value:"Retire "+s[4]+"?"}}),n=new Je({props:{title:"Retire "+s[4]+"?",$$slots:{default:[Nc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,[l]){const a={};l&16&&(a.value="Retire "+i[4]+"?"),e.$set(a);const o={};l&16&&(o.title="Retire "+i[4]+"?"),l&94&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function jc(s,e,t){let n,r,i,l=ne,a=()=>(l(),l=qe(o,h=>t(1,i=h)),o);s.$$.on_destroy.push(()=>l());let{trainer:o}=e;a();let u=!1;const f=()=>{var h;t(2,u=!0),(h=i.update)==null||h.retire().then(()=>{He(pe.trainers())}).catch(()=>{t(2,u=!1)})};return s.$$set=h=>{"trainer"in h&&a(t(0,o=h.trainer))},s.$$.update=()=>{s.$$.dirty&2&&t(4,n=(i==null?void 0:i.info.name)??""),s.$$.dirty&2&&t(3,r=i.update!=null)},[o,i,u,r,n,f]}class Cc extends ae{constructor(e){super(),ue(this,e,jc,Rc,fe,{trainer:0})}}const Lc=""+new URL("../../../assets/find-access-key-26676dc0.png",import.meta.url).href;function Uc(s){let e,t,n,r,i,l,a,o,u,f,h,d;const _=[Mc,Fc],p=[];function $(g,y){return g[6]?0:1}return o=$(s),u=p[o]=_[o](s),h=new Re({props:{$$slots:{default:[qc]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=D("A trainer's "),r=w("dfn"),i=D("Access Key"),l=D(" is a special code that allows you to manage a trainer's info and their pokemon. Each trainer has a unique key, and the key must be saved to each device from which you want to manage the trainer."),a=j(),u.c(),f=j(),B(h.$$.fragment)},l(g){e=E(g,"SECTION",{});var y=P(e);t=E(y,"P",{});var S=P(t);n=N(S,"A trainer's "),r=E(S,"DFN",{});var A=P(r);i=N(A,"Access Key"),A.forEach(c),l=N(S," is a special code that allows you to manage a trainer's info and their pokemon. Each trainer has a unique key, and the key must be saved to each device from which you want to manage the trainer."),S.forEach(c),y.forEach(c),a=C(g),u.l(g),f=C(g),F(h.$$.fragment,g)},m(g,y){b(g,e,y),m(e,t),m(t,n),m(t,r),m(r,i),m(t,l),b(g,a,y),p[o].m(g,y),b(g,f,y),M(h,g,y),d=!0},p(g,y){let S=o;o=$(g),o===S?p[o].p(g,y):(_e(),I(p[S],1,1,()=>{p[S]=null}),me(),u=p[o],u?u.p(g,y):(u=p[o]=_[o](g),u.c()),T(u,1),u.m(f.parentNode,f));const A={};y&16388&&(A.$$scope={dirty:y,ctx:g}),h.$set(A)},i(g){d||(T(u),T(h.$$.fragment,g),d=!0)},o(g){I(u),I(h.$$.fragment,g),d=!1},d(g){g&&c(e),g&&c(a),p[o].d(g),g&&c(f),K(h,g)}}}function Bc(s){let e,t,n,r,i,l,a,o,u,f,h,d;return h=new Re({props:{$$slots:{default:[Jc]},$$scope:{ctx:s}}}),{c(){e=w("section"),t=w("p"),n=w("strong"),r=D("Success!"),i=j(),l=w("p"),a=D("You can now manage "),o=D(s[7]),u=D(" and their pokemon."),f=j(),B(h.$$.fragment)},l(_){e=E(_,"SECTION",{});var p=P(e);t=E(p,"P",{});var $=P(t);n=E($,"STRONG",{});var g=P(n);r=N(g,"Success!"),g.forEach(c),$.forEach(c),i=C(p),l=E(p,"P",{});var y=P(l);a=N(y,"You can now manage "),o=N(y,s[7]),u=N(y," and their pokemon."),y.forEach(c),f=C(p),F(h.$$.fragment,p),p.forEach(c)},m(_,p){b(_,e,p),m(e,t),m(t,n),m(n,r),m(e,i),m(e,l),m(l,a),m(l,o),m(l,u),m(e,f),M(h,e,null),d=!0},p(_,p){(!d||p&128)&&le(o,_[7]);const $={};p&16388&&($.$$scope={dirty:p,ctx:_}),h.$set($)},i(_){d||(T(h.$$.fragment,_),d=!0)},o(_){I(h.$$.fragment,_),d=!1},d(_){_&&c(e),K(h)}}}function Fc(s){let e,t;return e=new ct({props:{saving:s[3],caption:"Searching...",$$slots:{default:[Hc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.saving=n[3]),r&16538&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Mc(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g;return $=new ge({props:{$$slots:{default:[zc]},$$scope:{ctx:s}}}),$.$on("click",s[10]),{c(){e=w("section"),t=w("p"),n=D("You currently have "),r=D(s[7]),i=D("'s access key saved to this device. To share this key, press Reveal below."),l=j(),a=w("div"),o=w("label"),u=D("Access Key"),f=j(),h=w("div"),d=w("input"),p=j(),B($.$$.fragment),this.h()},l(y){e=E(y,"SECTION",{});var S=P(e);t=E(S,"P",{});var A=P(t);n=N(A,"You currently have "),r=N(A,s[7]),i=N(A,"'s access key saved to this device. To share this key, press Reveal below."),A.forEach(c),l=C(S),a=E(S,"DIV",{class:!0});var U=P(a);o=E(U,"LABEL",{for:!0,class:!0});var Y=P(o);u=N(Y,"Access Key"),Y.forEach(c),f=C(U),h=E(U,"DIV",{class:!0});var L=P(h);d=E(L,"INPUT",{id:!0,type:!0,class:!0}),p=C(L),F($.$$.fragment,L),L.forEach(c),U.forEach(c),S.forEach(c),this.h()},h(){k(o,"for","key-input"),k(o,"class","font-sm spaced-sm svelte-73vvyj"),k(d,"id","key-input"),d.value=_=s[2].writeKey,k(d,"type",s[9]),k(d,"class","font-lg svelte-73vvyj"),d.disabled=!0,ve(d,"flex","1"),k(h,"class","horizontal spaced-sm svelte-73vvyj"),k(a,"class","vertical spaced-lg svelte-73vvyj")},m(y,S){b(y,e,S),m(e,t),m(t,n),m(t,r),m(t,i),m(e,l),m(e,a),m(a,o),m(o,u),m(a,f),m(a,h),m(h,d),m(h,p),M($,h,null),g=!0},p(y,S){(!g||S&128)&&le(r,y[7]),(!g||S&4&&_!==(_=y[2].writeKey)&&d.value!==_)&&(d.value=_),(!g||S&512)&&k(d,"type",y[9]);const A={};S&16640&&(A.$$scope={dirty:S,ctx:y}),$.$set(A)},i(y){g||(T($.$$.fragment,y),g=!0)},o(y){I($.$$.fragment,y),g=!1},d(y){y&&c(e),K($)}}}function Kc(s){let e;return{c(){e=D("Submit")},l(t){e=N(t,"Submit")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function si(s){let e,t;return{c(){e=w("p"),t=D("The provided access key does match this trainer's key"),this.h()},l(n){e=E(n,"P",{class:!0});var r=P(e);t=N(r,"The provided access key does match this trainer's key"),r.forEach(c),this.h()},h(){k(e,"class","font-sm error svelte-73vvyj")},m(n,r){b(n,e,r),m(e,t)},d(n){n&&c(e)}}}function Hc(s){let e,t,n,r,i,l,a,o,u,f,h,d,_,p,$,g,y,S,A,U,Y,L,X,q,z,te,W,Z,G,v,O,H,Q,V,R;g=new ge({props:{type:"submit",$$slots:{default:[Kc]},$$scope:{ctx:s}}});let x=s[4].length>0&&s[4]===s[1]&&si();return{c(){e=w("section"),t=w("p"),n=D("You currently do not have permission to manage "),r=D(s[7]),i=D(". To obtain permission, put "),l=D(s[7]),a=D("'s access key into the field below and press Submit."),o=j(),u=w("form"),f=w("label"),h=D("Access Key"),d=j(),_=w("div"),p=w("input"),$=j(),B(g.$$.fragment),y=j(),x&&x.c(),S=j(),A=w("hr"),U=j(),Y=w("section"),L=w("p"),X=D("If you are managing "),q=D(s[7]),z=D(" from another device, you can find their access code from the trainer's page."),te=j(),W=w("figure"),Z=w("img"),v=j(),O=w("figcaption"),H=D("Click this button to get the access key"),this.h()},l(ee){e=E(ee,"SECTION",{});var ie=P(e);t=E(ie,"P",{});var J=P(t);n=N(J,"You currently do not have permission to manage "),r=N(J,s[7]),i=N(J,". To obtain permission, put "),l=N(J,s[7]),a=N(J,"'s access key into the field below and press Submit."),J.forEach(c),o=C(ie),u=E(ie,"FORM",{class:!0});var se=P(u);f=E(se,"LABEL",{for:!0,class:!0});var de=P(f);h=N(de,"Access Key"),de.forEach(c),d=C(se),_=E(se,"DIV",{class:!0});var Te=P(_);p=E(Te,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),$=C(Te),F(g.$$.fragment,Te),Te.forEach(c),y=C(se),x&&x.l(se),se.forEach(c),ie.forEach(c),S=C(ee),A=E(ee,"HR",{}),U=C(ee),Y=E(ee,"SECTION",{});var oe=P(Y);L=E(oe,"P",{});var ce=P(L);X=N(ce,"If you are managing "),q=N(ce,s[7]),z=N(ce," from another device, you can find their access code from the trainer's page."),ce.forEach(c),te=C(oe),W=E(oe,"FIGURE",{class:!0});var Ae=P(W);Z=E(Ae,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),v=C(Ae),O=E(Ae,"FIGCAPTION",{});var Oe=P(O);H=N(Oe,"Click this button to get the access key"),Oe.forEach(c),Ae.forEach(c),oe.forEach(c),this.h()},h(){k(f,"for","key-input"),k(f,"class","font-sm spaced-sm svelte-73vvyj"),k(p,"id","key-input"),k(p,"type","text"),k(p,"placeholder","e.g. JM7WEZ0YKW3WGC8I"),k(p,"class","font-lg svelte-73vvyj"),p.disabled=s[3],p.required=!0,ve(p,"flex","1"),k(_,"class","horizontal spaced-sm svelte-73vvyj"),k(u,"class","vertical spaced-lg svelte-73vvyj"),Ft(Z.src,G=Lc)||k(Z,"src",G),k(Z,"alt","'Access Key' is a button at the bottom of the trainer's page."),k(Z,"width","800"),k(Z,"height","250"),k(Z,"class","svelte-73vvyj"),k(W,"class","spaced-lg svelte-73vvyj")},m(ee,ie){b(ee,e,ie),m(e,t),m(t,n),m(t,r),m(t,i),m(t,l),m(t,a),m(e,o),m(e,u),m(u,f),m(f,h),m(u,d),m(u,_),m(_,p),$e(p,s[1]),m(_,$),M(g,_,null),m(u,y),x&&x.m(u,null),b(ee,S,ie),b(ee,A,ie),b(ee,U,ie),b(ee,Y,ie),m(Y,L),m(L,X),m(L,q),m(L,z),m(Y,te),m(Y,W),m(W,Z),m(W,v),m(W,O),m(O,H),Q=!0,V||(R=[he(p,"input",s[13]),he(u,"submit",At(s[11]))],V=!0)},p(ee,ie){(!Q||ie&128)&&le(r,ee[7]),(!Q||ie&128)&&le(l,ee[7]),(!Q||ie&8)&&(p.disabled=ee[3]),ie&2&&p.value!==ee[1]&&$e(p,ee[1]);const J={};ie&16384&&(J.$$scope={dirty:ie,ctx:ee}),g.$set(J),ee[4].length>0&&ee[4]===ee[1]?x||(x=si(),x.c(),x.m(u,null)):x&&(x.d(1),x=null),(!Q||ie&128)&&le(q,ee[7])},i(ee){Q||(T(g.$$.fragment,ee),Q=!0)},o(ee){I(g.$$.fragment,ee),Q=!1},d(ee){ee&&c(e),K(g),x&&x.d(),ee&&c(S),ee&&c(A),ee&&c(U),ee&&c(Y),V=!1,ot(R)}}}function zc(s){let e;return{c(){e=D(s[8])},l(t){e=N(t,s[8])},m(t,n){b(t,e,n)},p(t,n){n&256&&le(e,t[8])},d(t){t&&c(e)}}}function Gc(s){let e;return{c(){e=D("Go Back")},l(t){e=N(t,"Go Back")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function qc(s){var n;let e,t;return e=new ge({props:{href:pe.trainers((n=s[2])==null?void 0:n.info.readKey),variant:"ghost",$$slots:{default:[Gc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,i){M(e,r,i),t=!0},p(r,i){var a;const l={};i&4&&(l.href=pe.trainers((a=r[2])==null?void 0:a.info.readKey)),i&16384&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Vc(s){let e;return{c(){e=D("Go to Trainer's Page")},l(t){e=N(t,"Go to Trainer's Page")},m(t,n){b(t,e,n)},d(t){t&&c(e)}}}function Jc(s){var n;let e,t;return e=new ge({props:{href:pe.trainers((n=s[2])==null?void 0:n.info.readKey),$$slots:{default:[Vc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,i){M(e,r,i),t=!0},p(r,i){var a;const l={};i&4&&(l.href=pe.trainers((a=r[2])==null?void 0:a.info.readKey)),i&16384&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function Yc(s){let e,t,n,r;const i=[Bc,Uc],l=[];function a(o,u){return o[5]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Wc(s){let e,t,n,r;return e=new Ve({props:{value:s[7]+"'s Access Key"}}),n=new Je({props:{title:s[7]+"'s Access Key",$$slots:{default:[Yc]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,[l]){const a={};l&128&&(a.value=i[7]+"'s Access Key"),e.$set(a);const o={};l&128&&(o.title=i[7]+"'s Access Key"),l&17406&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function Xc(s,e,t){let n,r,i,l,a,o=ne,u=()=>(o(),o=qe(f,A=>t(2,a=A)),f);s.$$.on_destroy.push(()=>o());let{trainer:f}=e;u();let h=!1;const d=()=>t(12,h=!h);let _="",p=!1,$="",g=!1;const y=()=>{t(3,p=!0),f.verifyAccess(_).then(A=>{A?t(5,g=!0):t(4,$=_)}).finally(()=>{t(3,p=!1)})};function S(){_=this.value,t(1,_)}return s.$$set=A=>{"trainer"in A&&u(t(0,f=A.trainer))},s.$$.update=()=>{s.$$.dirty&4096&&t(9,n=h?"text":"password"),s.$$.dirty&4096&&t(8,r=h?"Hide":"Reveal"),s.$$.dirty&2&&t(1,_=_.toLocaleUpperCase().replace(/[^a-zA-Z0-9]/g,"")),s.$$.dirty&4&&t(7,i=(a==null?void 0:a.info.name)??""),s.$$.dirty&4&&t(6,l=a.update!=null)},[f,_,a,p,$,g,l,i,r,n,d,y,h,S]}class Zc extends ae{constructor(e){super(),ue(this,e,Xc,Wc,fe,{trainer:0})}}function Qc(s){let e,t;return e=new Ve({props:{value:"Trainers"}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function xc(s){let e,t;return e=new oc({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function eh(s){let e,t;return e=new Iu({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function th(s){let e,t,n,r={ctx:s,current:null,token:null,hasCatch:!1,pending:ph,then:rh,catch:nh,value:4,blocks:[,,,]};return St(t=s[4],r),{c(){e=re(),r.block.c()},l(i){e=re(),r.block.l(i)},m(i,l){b(i,e,l),r.block.m(i,r.anchor=l),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(i,l){s=i,r.ctx=s,l&16&&t!==(t=s[4])&&St(t,r)||dn(r,s,l)},i(i){n||(T(r.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const a=r.blocks[l];I(a)}n=!1},d(i){i&&c(e),r.block.d(i),r.token=null,r=null}}}function nh(s){return{c:ne,l:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function rh(s){let e,t,n,r;const i=[dh,hh,ch,fh,uh,ah,oh,lh,sh,ih],l=[];function a(o,u){return o[4]?o[1]===Ie.addPokemon?1:o[1]===Ie.editPokemon?2:o[1]===Ie.evolvePokemon?3:o[1]===Ie.removePokemon?4:o[2]?5:o[1]===Ie.editTrainer?6:o[1]===Ie.retireTrainer?7:o[1]===Ie.accessKey?8:9:0}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function ih(s){let e,t;return e=new ls({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function sh(s){let e,t;return e=new Zc({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function lh(s){let e,t;return e=new Cc({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function oh(s){let e,t;return e=new wc({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ah(s){let e,t;return e=new gl({props:{trainer:s[4],id:s[2]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),r&4&&(i.id=n[2]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function uh(s){let e,t;return e=new zu({props:{trainer:s[4],id:s[2]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),r&4&&(i.id=n[2]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function fh(s){let e,t;return e=new Zf({props:{trainer:s[4],id:s[2]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),r&4&&(i.id=n[2]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ch(s){let e,t;return e=new Nf({props:{trainer:s[4],id:s[2]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),r&4&&(i.id=n[2]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function hh(s){let e,t;return e=new su({props:{trainer:s[4]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function dh(s){let e;return{c(){e=w("br")},l(t){e=E(t,"BR",{})},m(t,n){b(t,e,n)},p:ne,i:ne,o:ne,d(t){t&&c(e)}}}function ph(s){let e,t;return e=new ut({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function _h(s){let e,t,n,r;const i=[th,eh,xc,Qc],l=[];function a(o,u){return o[0]?0:o[1]===Ie.newTrainer?1:o[1]===Ie.findTrainer?2:3}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function mh(s){let e,t;return e=new Ni({props:{slot:"icon"}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function vh(s){let e,t,n,r={ctx:s,current:null,token:null,hasCatch:!1,pending:kh,then:bh,catch:gh,value:3,blocks:[,,,]};return St(t=s[3],r),{c(){e=re(),r.block.c()},l(i){e=re(),r.block.l(i)},m(i,l){b(i,e,l),r.block.m(i,r.anchor=l),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(i,l){s=i,r.ctx=s,l&8&&t!==(t=s[3])&&St(t,r)||dn(r,s,l)},i(i){n||(T(r.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const a=r.blocks[l];I(a)}n=!1},d(i){i&&c(e),r.block.d(i),r.token=null,r=null}}}function $h(s){let e,t,n,r={ctx:s,current:null,token:null,hasCatch:!1,pending:Ph,then:wh,catch:yh,value:4,blocks:[,,,]};return St(t=s[4],r),{c(){e=re(),r.block.c()},l(i){e=re(),r.block.l(i)},m(i,l){b(i,e,l),r.block.m(i,r.anchor=l),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(i,l){s=i,r.ctx=s,l&16&&t!==(t=s[4])&&St(t,r)||dn(r,s,l)},i(i){n||(T(r.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const a=r.blocks[l];I(a)}n=!1},d(i){i&&c(e),r.block.d(i),r.token=null,r=null}}}function gh(s){return{c:ne,l:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function bh(s){let e,t,n=s[3]&&li(s);return{c(){n&&n.c(),e=re()},l(r){n&&n.l(r),e=re()},m(r,i){n&&n.m(r,i),b(r,e,i),t=!0},p(r,i){r[3]?n?(n.p(r,i),i&8&&T(n,1)):(n=li(r),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(_e(),I(n,1,1,()=>{n=null}),me())},i(r){t||(T(n),t=!0)},o(r){I(n),t=!1},d(r){n&&n.d(r),r&&c(e)}}}function li(s){let e,t;return e=new _u({props:{trainers:s[3]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.trainers=n[3]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function kh(s){let e,t;return e=new ut({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function yh(s){return{c:ne,l:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function wh(s){let e,t,n,r;const i=[Th,Eh],l=[];function a(o,u){return o[4]?0:1}return e=a(s),t=l[e]=i[e](s),{c(){t.c(),n=re()},l(o){t.l(o),n=re()},m(o,u){l[e].m(o,u),b(o,n,u),r=!0},p(o,u){let f=e;e=a(o),e===f?l[e].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),t=l[e],t?t.p(o,u):(t=l[e]=i[e](o),t.c()),T(t,1),t.m(n.parentNode,n))},i(o){r||(T(t),r=!0)},o(o){I(t),r=!1},d(o){l[e].d(o),o&&c(n)}}}function Eh(s){let e,t;return e=new ec({props:{trainerKey:s[0]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.trainerKey=n[0]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Th(s){let e,t;return e=new Ul({props:{trainer:s[4],currentPokemon:s[2]}}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.trainer=n[4]),r&4&&(i.currentPokemon=n[2]),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Ph(s){let e,t;return e=new ut({}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){M(e,n,r),t=!0},p:ne,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function Sh(s){let e,t,n,r;const i=[$h,vh],l=[];function a(o,u){return o[0]?0:1}return t=a(s),n=l[t]=i[t](s),{c(){e=w("nav"),n.c(),this.h()},l(o){e=E(o,"NAV",{slot:!0,class:!0,"aria-label":!0});var u=P(e);n.l(u),u.forEach(c),this.h()},h(){k(e,"slot","side"),k(e,"class","table svelte-ztn25k"),k(e,"aria-label","Pokemon List")},m(o,u){b(o,e,u),l[t].m(e,null),r=!0},p(o,u){let f=t;t=a(o),t===f?l[t].p(o,u):(_e(),I(l[f],1,1,()=>{l[f]=null}),me(),n=l[t],n?n.p(o,u):(n=l[t]=i[t](o),n.c()),T(n,1),n.m(e,null))},i(o){r||(T(n),r=!0)},o(o){I(n),r=!1},d(o){o&&c(e),l[t].d()}}}function Ih(s){let e,t,n,r;return e=new Ve({props:{value:"Trainers"}}),n=new Di({props:{theme:"green",$$slots:{side:[Sh],icon:[mh],default:[_h]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment),t=j(),B(n.$$.fragment)},l(i){F(e.$$.fragment,i),t=C(i),F(n.$$.fragment,i)},m(i,l){M(e,i,l),b(i,t,l),M(n,i,l),r=!0},p(i,[l]){const a={};l&95&&(a.$$scope={dirty:l,ctx:i}),n.$set(a)},i(i){r||(T(e.$$.fragment,i),T(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){K(e,i),i&&c(t),K(n,i)}}}function Ah(s,e,t){let n,r,i,l;Ce(s,Ai,u=>t(5,l=u));let a,o;return s.$$.update=()=>{s.$$.dirty&32&&t(0,n=l.url.searchParams.get("id")),s.$$.dirty&32&&t(2,r=l.url.searchParams.get("pokemon")),s.$$.dirty&32&&t(1,i=l.url.searchParams.get("action")),s.$$.dirty&1&&(n&&Rn?(t(3,a=void 0),t(4,o=qt.get(n))):!n&&Rn?(t(3,a=qt.all()),t(4,o=void 0)):(t(4,o=void 0),t(3,a=void 0)))},[n,i,r,a,o,l]}class Wh extends ae{constructor(e){super(),ue(this,e,Ah,Ih,fe,{})}}export{Wh as default};
